2026-01-28 22:26:51,861 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=403 user_id=invalid_token time=3.47ms
2026-01-28 22:26:51,862 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=403 user_id=invalid_token time=0.64ms
2026-01-28 22:28:01,310 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=403 user_id=invalid_token time=0.79ms
2026-01-28 22:28:01,348 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=403 user_id=invalid_token time=1.57ms
2026-01-28 22:28:10,612 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-28 22:28:10,629 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.email = ?
2026-01-28 22:28:10,629 - sqlalchemy.engine.Engine - INFO - [generated in 0.00066s] ('test@qq.com',)
2026-01-28 22:28:10,846 - api_logger - INFO - rid=/api/auth/login method=POST status_code=200 user_id=anonymous time=240.67ms
2026-01-28 22:28:10,847 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-28 22:28:10,898 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-28 22:28:10,899 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-28 22:28:10,899 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:28:10,901 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-28 22:28:10,901 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:28:10,903 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.92ms
2026-01-28 22:28:10,903 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-28 22:28:10,905 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-28 22:28:10,905 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-28 22:28:10,905 - sqlalchemy.engine.Engine - INFO - [cached since 0.006123s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:28:10,905 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-28 22:28:10,906 - sqlalchemy.engine.Engine - INFO - [cached since 0.004638s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:28:10,906 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.06ms
2026-01-28 22:28:10,907 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-28 22:28:10,908 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-28 22:28:10,909 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-28 22:28:10,909 - sqlalchemy.engine.Engine - INFO - [cached since 0.009795s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:28:10,910 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-28 22:28:10,910 - sqlalchemy.engine.Engine - INFO - [cached since 0.009514s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:28:10,912 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.58ms
2026-01-28 22:28:10,912 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-28 22:28:10,913 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-28 22:28:10,913 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-28 22:28:10,913 - sqlalchemy.engine.Engine - INFO - [cached since 0.01453s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:28:10,914 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-28 22:28:10,914 - sqlalchemy.engine.Engine - INFO - [cached since 0.0132s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:28:10,915 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.89ms
2026-01-28 22:28:10,916 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-28 22:31:06,340 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-28 22:31:06,340 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-28 22:31:06,340 - sqlalchemy.engine.Engine - INFO - [cached since 175.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:31:06,341 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-28 22:31:06,341 - sqlalchemy.engine.Engine - INFO - [cached since 175.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:31:06,342 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.75ms
2026-01-28 22:31:06,342 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-28 22:31:06,354 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-28 22:31:06,354 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-28 22:31:06,354 - sqlalchemy.engine.Engine - INFO - [cached since 175.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:31:06,355 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-28 22:31:06,355 - sqlalchemy.engine.Engine - INFO - [cached since 175.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:31:06,359 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.44ms
2026-01-28 22:31:06,360 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-28 22:31:09,136 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-28 22:31:09,136 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-28 22:31:09,136 - sqlalchemy.engine.Engine - INFO - [cached since 178.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:31:09,137 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-28 22:31:09,137 - sqlalchemy.engine.Engine - INFO - [cached since 178.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:31:09,139 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.06ms
2026-01-28 22:31:09,139 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-28 22:31:09,140 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-28 22:31:09,140 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-28 22:31:09,140 - sqlalchemy.engine.Engine - INFO - [cached since 178.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:31:09,141 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-28 22:31:09,141 - sqlalchemy.engine.Engine - INFO - [cached since 178.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:31:09,144 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.82ms
2026-01-28 22:31:09,145 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-29 21:12:56,362 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-29 21:12:56,371 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.email = ?
2026-01-29 21:12:56,372 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('test@qq.com',)
2026-01-29 21:12:56,587 - api_logger - INFO - rid=/api/auth/login method=POST status_code=200 user_id=anonymous time=236.62ms
2026-01-29 21:12:56,588 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-29 21:12:56,647 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-29 21:12:56,647 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-29 21:12:56,647 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:56,649 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-29 21:12:56,649 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:56,651 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.85ms
2026-01-29 21:12:56,651 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-29 21:12:56,653 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-29 21:12:56,653 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-29 21:12:56,653 - sqlalchemy.engine.Engine - INFO - [cached since 0.005993s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:56,654 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-29 21:12:56,654 - sqlalchemy.engine.Engine - INFO - [cached since 0.004778s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:56,655 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.97ms
2026-01-29 21:12:56,655 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-29 21:12:56,656 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-29 21:12:56,656 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-29 21:12:56,656 - sqlalchemy.engine.Engine - INFO - [cached since 0.008943s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:56,656 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-29 21:12:56,657 - sqlalchemy.engine.Engine - INFO - [cached since 0.007692s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:56,657 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.11ms
2026-01-29 21:12:56,658 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-29 21:12:56,659 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-29 21:12:56,659 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-29 21:12:56,659 - sqlalchemy.engine.Engine - INFO - [cached since 0.0119s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:56,659 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-29 21:12:56,659 - sqlalchemy.engine.Engine - INFO - [cached since 0.01053s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:56,660 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.14ms
2026-01-29 21:12:56,661 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-29 21:12:58,476 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-29 21:12:58,477 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-29 21:12:58,477 - sqlalchemy.engine.Engine - INFO - [cached since 1.83s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:58,477 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-29 21:12:58,478 - sqlalchemy.engine.Engine - INFO - [cached since 1.829s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:58,481 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.79ms
2026-01-29 21:12:58,484 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-29 21:12:58,487 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-29 21:12:58,487 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-29 21:12:58,487 - sqlalchemy.engine.Engine - INFO - [cached since 1.84s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:58,489 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-29 21:12:58,489 - sqlalchemy.engine.Engine - INFO - [cached since 1.84s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:58,490 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.67ms
2026-01-29 21:12:58,491 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-30 11:07:48,006 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-30 11:07:48,008 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-30 11:07:48,008 - sqlalchemy.engine.Engine - INFO - [cached since 1.44e+04s ago] ('38ed9ac6-5b4a-4514-a40e-5ed0a6939c77',)
2026-01-30 11:07:48,017 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-30 11:07:48,018 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=404 user_id=38ed9ac6-5b4a-4514-a40e-5ed0a6939c77 time=52.17ms
2026-01-30 11:07:48,021 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-30 11:07:48,021 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-30 11:07:48,021 - sqlalchemy.engine.Engine - INFO - [cached since 1.44e+04s ago] ('38ed9ac6-5b4a-4514-a40e-5ed0a6939c77',)
2026-01-30 11:07:48,021 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-30 11:07:48,022 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=404 user_id=38ed9ac6-5b4a-4514-a40e-5ed0a6939c77 time=1.80ms
2026-01-30 11:07:49,591 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-30 11:07:49,591 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-30 11:07:49,591 - sqlalchemy.engine.Engine - INFO - [cached since 1.44e+04s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-30 11:07:49,595 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-30 11:07:49,595 - sqlalchemy.engine.Engine - INFO - [cached since 1.44e+04s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-30 11:07:49,601 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.15ms
2026-01-30 11:07:49,602 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-30 11:07:49,604 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-30 11:07:49,604 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-30 11:07:49,604 - sqlalchemy.engine.Engine - INFO - [cached since 1.44e+04s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-30 11:07:49,607 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-30 11:07:49,608 - sqlalchemy.engine.Engine - INFO - [cached since 1.44e+04s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-30 11:07:49,610 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.40ms
2026-01-30 11:07:49,612 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 22:13:52,916 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=403 user_id=invalid_token time=32.05ms
2026-02-03 22:14:02,491 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 22:14:02,507 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.email = ?
2026-02-03 22:14:02,508 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('test@qq.com',)
2026-02-03 22:14:02,718 - api_logger - INFO - rid=/api/auth/login method=POST status_code=200 user_id=anonymous time=251.70ms
2026-02-03 22:14:02,719 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 22:14:02,765 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 22:14:02,768 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 22:14:02,768 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 22:14:02,771 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 22:14:02,772 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 22:14:02,773 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.51ms
2026-02-03 22:14:02,774 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 22:14:02,775 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 22:14:02,775 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 22:14:02,775 - sqlalchemy.engine.Engine - INFO - [cached since 0.007401s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 22:14:02,775 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 22:14:02,775 - sqlalchemy.engine.Engine - INFO - [cached since 0.004226s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 22:14:02,776 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.97ms
2026-02-03 22:14:02,777 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 22:14:40,964 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 22:14:40,965 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 22:14:40,965 - sqlalchemy.engine.Engine - INFO - [cached since 38.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 22:14:40,968 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 22:14:40,969 - sqlalchemy.engine.Engine - INFO - [cached since 38.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 22:14:40,971 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.41ms
2026-02-03 22:14:40,972 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:33:45,297 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:33:45,298 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:33:45,298 - sqlalchemy.engine.Engine - INFO - [cached since 1495s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:33:45,307 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:33:45,307 - sqlalchemy.engine.Engine - INFO - [cached since 1495s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:33:45,315 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=23.11ms
2026-02-03 23:33:45,315 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:36:04,882 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:36:04,888 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:36:04,888 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:36:04,890 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:36:04,890 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:36:04,892 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=21.21ms
2026-02-03 23:36:04,892 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:36:05,095 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:36:05,096 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:36:05,096 - sqlalchemy.engine.Engine - INFO - [cached since 0.2074s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:36:05,097 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:36:05,097 - sqlalchemy.engine.Engine - INFO - [cached since 0.2068s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:36:05,103 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.06ms
2026-02-03 23:36:05,103 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:38:50,037 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:38:50,039 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:38:50,039 - sqlalchemy.engine.Engine - INFO - [cached since 165.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:38:50,041 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:38:50,041 - sqlalchemy.engine.Engine - INFO - [cached since 165.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:38:50,043 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=16.82ms
2026-02-03 23:38:50,043 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:38:54,286 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:38:54,287 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:38:54,287 - sqlalchemy.engine.Engine - INFO - [cached since 169.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:38:54,309 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:38:54,309 - sqlalchemy.engine.Engine - INFO - [generated in 0.00088s] ('AAPL',)
2026-02-03 23:38:57,084 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for AAPL: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:38:58,839 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for AAPL: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:39:00,386 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for AAPL: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:39:01,867 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for AAPL: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:39:03,093 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-03 23:39:03,094 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] ('AAPL',)
2026-02-03 23:39:03,098 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-03 23:39:03,098 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] (270.01, 4.0581, '2026-02-03 15:38:54.311898', 'AAPL')
2026-02-03 23:39:03,103 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-03 23:39:03,106 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:03,109 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:39:03,109 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('AAPL',)
2026-02-03 23:39:03,111 - api_logger - INFO - rid=/api/portfolio/AAPL/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8846.20ms
2026-02-03 23:39:03,113 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:03,124 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:03,124 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:39:03,124 - sqlalchemy.engine.Engine - INFO - [cached since 178.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:39:03,125 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:39:03,125 - sqlalchemy.engine.Engine - INFO - [cached since 178.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:39:03,127 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.67ms
2026-02-03 23:39:03,128 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:18,279 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:18,280 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:39:18,280 - sqlalchemy.engine.Engine - INFO - [cached since 193.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:39:18,282 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:39:18,282 - sqlalchemy.engine.Engine - INFO - [cached since 23.97s ago] ('SIDU',)
2026-02-03 23:39:19,765 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for SIDU: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:39:21,256 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for SIDU: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:39:22,722 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for SIDU: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:39:24,480 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for SIDU: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:39:25,826 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-03 23:39:25,826 - sqlalchemy.engine.Engine - INFO - [cached since 22.73s ago] ('SIDU',)
2026-02-03 23:39:25,828 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-03 23:39:25,829 - sqlalchemy.engine.Engine - INFO - [cached since 22.73s ago] (2.58, -7.8571, '2026-02-03 15:39:18.288163', 'SIDU')
2026-02-03 23:39:25,830 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-03 23:39:25,834 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:25,835 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:39:25,835 - sqlalchemy.engine.Engine - INFO - [cached since 22.73s ago] ('SIDU',)
2026-02-03 23:39:25,837 - api_logger - INFO - rid=/api/portfolio/SIDU/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7559.64ms
2026-02-03 23:39:25,837 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:25,851 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:25,851 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:39:25,851 - sqlalchemy.engine.Engine - INFO - [cached since 201s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:39:25,853 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:39:25,853 - sqlalchemy.engine.Engine - INFO - [cached since 201s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:39:25,856 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.95ms
2026-02-03 23:39:25,857 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:36,556 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:36,556 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:39:36,556 - sqlalchemy.engine.Engine - INFO - [cached since 211.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:39:36,557 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:39:36,557 - sqlalchemy.engine.Engine - INFO - [cached since 211.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:39:36,564 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.11ms
2026-02-03 23:39:36,573 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:55,467 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:55,472 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:39:55,473 - sqlalchemy.engine.Engine - INFO - [generated in 0.00112s] ('%S%', '%S%', 10, 0)
2026-02-03 23:39:55,477 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=17.91ms
2026-02-03 23:39:55,478 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:55,582 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:55,582 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:39:55,582 - sqlalchemy.engine.Engine - INFO - [cached since 0.1105s ago] ('%S N%', '%S N%', 10, 0)
2026-02-03 23:39:55,584 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.86ms
2026-02-03 23:39:55,584 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:58,229 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:58,230 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:39:58,230 - sqlalchemy.engine.Engine - INFO - [cached since 2.758s ago] ('%S%', '%S%', 10, 0)
2026-02-03 23:39:58,232 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.12ms
2026-02-03 23:39:58,233 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:58,703 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:58,704 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:39:58,704 - sqlalchemy.engine.Engine - INFO - [cached since 3.232s ago] ('%S N%', '%S N%', 10, 0)
2026-02-03 23:39:58,706 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.66ms
2026-02-03 23:39:58,707 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:58,954 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:58,955 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:39:58,955 - sqlalchemy.engine.Engine - INFO - [cached since 3.483s ago] ('%S N D%', '%S N D%', 10, 0)
2026-02-03 23:39:58,957 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.07ms
2026-02-03 23:39:58,958 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:59,081 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:59,082 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:39:59,082 - sqlalchemy.engine.Engine - INFO - [cached since 3.611s ago] ('%S N D K%', '%S N D K%', 10, 0)
2026-02-03 23:39:59,084 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.73ms
2026-02-03 23:39:59,085 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:59,376 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:59,377 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:39:59,377 - sqlalchemy.engine.Engine - INFO - [cached since 3.906s ago] ('%S N D K%', '%S N D K%', 10, 0)
2026-02-03 23:39:59,382 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.00ms
2026-02-03 23:39:59,384 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:59,385 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:59,385 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:39:59,385 - sqlalchemy.engine.Engine - INFO - [cached since 3.914s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-03 23:39:59,386 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.53ms
2026-02-03 23:39:59,387 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:00,687 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:00,688 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:40:00,688 - sqlalchemy.engine.Engine - INFO - [cached since 5.216s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-03 23:40:00,690 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.71ms
2026-02-03 23:40:00,691 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:02,221 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:02,221 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:40:02,222 - sqlalchemy.engine.Engine - INFO - [cached since 6.75s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-03 23:40:02,223 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.85ms
2026-02-03 23:40:02,224 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:03,991 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:03,992 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:40:03,993 - sqlalchemy.engine.Engine - INFO - [cached since 8.521s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-03 23:40:03,995 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.93ms
2026-02-03 23:40:03,996 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:04,603 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:04,604 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:40:04,605 - sqlalchemy.engine.Engine - INFO - [cached since 9.133s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-03 23:40:04,607 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.75ms
2026-02-03 23:40:04,608 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:13,493 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:13,494 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:40:13,494 - sqlalchemy.engine.Engine - INFO - [cached since 248.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:13,503 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:40:13,504 - sqlalchemy.engine.Engine - INFO - [cached since 79.2s ago] ('RKLB',)
2026-02-03 23:40:15,113 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for RKLB: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:40:16,631 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for RKLB: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:40:18,155 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for RKLB: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:40:19,626 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for RKLB: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:40:21,894 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-03 23:40:21,895 - sqlalchemy.engine.Engine - INFO - [cached since 78.81s ago] ('RKLB',)
2026-02-03 23:40:21,897 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-03 23:40:21,898 - sqlalchemy.engine.Engine - INFO - [cached since 78.8s ago] (74.15, -7.3935, '2026-02-03 15:40:13.505481', 'RKLB')
2026-02-03 23:40:21,899 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-03 23:40:21,901 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:21,902 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:40:21,902 - sqlalchemy.engine.Engine - INFO - [cached since 78.8s ago] ('RKLB',)
2026-02-03 23:40:21,904 - api_logger - INFO - rid=/api/portfolio/RKLB/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8412.14ms
2026-02-03 23:40:21,906 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:21,916 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:21,917 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:40:21,917 - sqlalchemy.engine.Engine - INFO - [cached since 257s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:21,918 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:40:21,918 - sqlalchemy.engine.Engine - INFO - [cached since 257s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:21,921 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.84ms
2026-02-03 23:40:21,922 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:25,535 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:25,535 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:40:25,535 - sqlalchemy.engine.Engine - INFO - [cached since 260.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:25,537 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:40:25,538 - sqlalchemy.engine.Engine - INFO - [cached since 260.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:25,540 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.72ms
2026-02-03 23:40:25,540 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:34,109 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:34,110 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:40:34,111 - sqlalchemy.engine.Engine - INFO - [cached since 269.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:34,114 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:40:34,116 - sqlalchemy.engine.Engine - INFO - [cached since 99.81s ago] ('AMD',)
2026-02-03 23:40:35,715 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for AMD: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:40:37,221 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for AMD: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:40:38,720 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for AMD: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:40:40,198 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for AMD: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:40:41,179 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-03 23:40:41,180 - sqlalchemy.engine.Engine - INFO - [cached since 98.09s ago] ('AMD',)
2026-02-03 23:40:41,182 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-03 23:40:41,182 - sqlalchemy.engine.Engine - INFO - [cached since 98.09s ago] (246.27, 4.0299, '2026-02-03 15:40:34.118323', 'AMD')
2026-02-03 23:40:41,183 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-03 23:40:41,185 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:41,186 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:40:41,186 - sqlalchemy.engine.Engine - INFO - [cached since 98.08s ago] ('AMD',)
2026-02-03 23:40:41,189 - api_logger - INFO - rid=/api/portfolio/AMD/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7081.30ms
2026-02-03 23:40:41,190 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:41,201 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:41,201 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:40:41,201 - sqlalchemy.engine.Engine - INFO - [cached since 276.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:41,203 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:40:41,203 - sqlalchemy.engine.Engine - INFO - [cached since 276.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:41,207 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.77ms
2026-02-03 23:40:41,207 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:47,824 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:47,824 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:40:47,824 - sqlalchemy.engine.Engine - INFO - [cached since 282.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:47,826 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:40:47,826 - sqlalchemy.engine.Engine - INFO - [cached since 282.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:47,828 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.37ms
2026-02-03 23:40:47,830 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:57,293 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:57,294 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:40:57,294 - sqlalchemy.engine.Engine - INFO - [cached since 292.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:57,297 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:40:57,301 - sqlalchemy.engine.Engine - INFO - [cached since 123s ago] ('FRO',)
2026-02-03 23:40:58,813 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for FRO: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:41:00,352 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for FRO: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:41:01,820 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for FRO: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:41:03,392 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for FRO: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:41:04,379 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-03 23:41:04,379 - sqlalchemy.engine.Engine - INFO - [cached since 121.3s ago] ('FRO',)
2026-02-03 23:41:04,381 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-03 23:41:04,382 - sqlalchemy.engine.Engine - INFO - [cached since 121.3s ago] (28.56, -0.07, '2026-02-03 15:40:57.323663', 'FRO')
2026-02-03 23:41:04,383 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-03 23:41:04,385 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:41:04,385 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:41:04,385 - sqlalchemy.engine.Engine - INFO - [cached since 121.3s ago] ('FRO',)
2026-02-03 23:41:04,387 - api_logger - INFO - rid=/api/portfolio/FRO/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7095.93ms
2026-02-03 23:41:04,388 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:41:04,397 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:41:04,398 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:41:04,398 - sqlalchemy.engine.Engine - INFO - [cached since 299.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:41:04,399 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:41:04,399 - sqlalchemy.engine.Engine - INFO - [cached since 299.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:41:04,402 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.54ms
2026-02-03 23:41:04,402 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:45:58,058 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:45:58,063 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:45:58,063 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:45:58,065 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:45:58,065 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:45:58,067 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=16.38ms
2026-02-03 23:45:58,067 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:46:06,126 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:46:06,127 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:46:06,127 - sqlalchemy.engine.Engine - INFO - [cached since 8.064s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:06,131 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:46:06,132 - sqlalchemy.engine.Engine - INFO - [generated in 0.00096s] ('ASTS',)
2026-02-03 23:46:06,136 - app.services.market_providers.yfinance - ERROR - yfinance get_full_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:06,170 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:06,170 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:06,170 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:06,170 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:06,171 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=49.96ms
2026-02-03 23:46:06,172 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:46:06,179 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:46:06,180 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:46:06,180 - sqlalchemy.engine.Engine - INFO - [cached since 8.117s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:06,213 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:46:06,217 - sqlalchemy.engine.Engine - INFO - [cached since 8.152s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:06,226 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=48.06ms
2026-02-03 23:46:06,226 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:46:09,801 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:46:09,802 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:46:09,802 - sqlalchemy.engine.Engine - INFO - [cached since 11.74s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:09,804 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:46:09,804 - sqlalchemy.engine.Engine - INFO - [cached since 3.673s ago] ('ASTS',)
2026-02-03 23:46:09,805 - app.services.market_providers.yfinance - ERROR - yfinance get_full_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:09,806 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:09,806 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:09,806 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:09,806 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:09,806 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.38ms
2026-02-03 23:46:09,807 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:46:09,816 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:46:09,816 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:46:09,816 - sqlalchemy.engine.Engine - INFO - [cached since 11.75s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:09,817 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:46:09,817 - sqlalchemy.engine.Engine - INFO - [cached since 11.75s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:09,819 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.20ms
2026-02-03 23:46:09,819 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:46:11,434 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:46:11,434 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:46:11,434 - sqlalchemy.engine.Engine - INFO - [cached since 13.37s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:11,435 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:46:11,435 - sqlalchemy.engine.Engine - INFO - [cached since 13.37s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:11,436 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.00ms
2026-02-03 23:46:11,437 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:46:14,585 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:46:14,586 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:46:14,586 - sqlalchemy.engine.Engine - INFO - [cached since 16.52s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:14,588 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:46:14,588 - sqlalchemy.engine.Engine - INFO - [cached since 8.457s ago] ('ASTS',)
2026-02-03 23:46:14,590 - app.services.market_providers.yfinance - ERROR - yfinance get_full_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:14,590 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:14,591 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:14,591 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:14,591 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:14,592 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.85ms
2026-02-03 23:46:14,593 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:46:14,601 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:46:14,602 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:46:14,602 - sqlalchemy.engine.Engine - INFO - [cached since 16.54s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:14,603 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:46:14,604 - sqlalchemy.engine.Engine - INFO - [cached since 16.54s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:14,606 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.32ms
2026-02-03 23:46:14,608 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:46:42,499 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:46:42,500 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:46:42,500 - sqlalchemy.engine.Engine - INFO - [cached since 44.44s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:42,500 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:46:42,500 - sqlalchemy.engine.Engine - INFO - [cached since 44.44s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:42,501 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.07ms
2026-02-03 23:46:42,502 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:46:46,683 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:46:46,683 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:46:46,684 - sqlalchemy.engine.Engine - INFO - [cached since 48.62s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:46,686 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:46:46,687 - sqlalchemy.engine.Engine - INFO - [cached since 40.56s ago] ('ASTS',)
2026-02-03 23:46:46,688 - app.services.market_providers.yfinance - ERROR - yfinance get_full_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:46,688 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:46,688 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:46,688 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:46,688 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:46,689 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.29ms
2026-02-03 23:46:46,690 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:46:46,700 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:46:46,701 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:46:46,701 - sqlalchemy.engine.Engine - INFO - [cached since 48.64s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:46,703 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:46:46,703 - sqlalchemy.engine.Engine - INFO - [cached since 48.64s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:46,707 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.14ms
2026-02-03 23:46:46,710 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:47:50,712 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:47:50,713 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:47:50,713 - sqlalchemy.engine.Engine - INFO - [cached since 112.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:47:50,714 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:47:50,714 - sqlalchemy.engine.Engine - INFO - [cached since 104.6s ago] ('ASTS',)
2026-02-03 23:47:50,714 - app.services.market_providers.yfinance - ERROR - yfinance get_full_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:47:50,714 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for ASTS: name 'asyncio' is not defined
2026-02-03 23:47:50,714 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:47:50,714 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:47:50,714 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for ASTS: name 'asyncio' is not defined
2026-02-03 23:47:50,715 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.27ms
2026-02-03 23:47:50,715 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:47:50,721 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:47:50,721 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:47:50,721 - sqlalchemy.engine.Engine - INFO - [cached since 112.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:47:50,722 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:47:50,722 - sqlalchemy.engine.Engine - INFO - [cached since 112.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:47:50,723 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.96ms
2026-02-03 23:47:50,723 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:47:56,419 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:47:56,420 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:47:56,421 - sqlalchemy.engine.Engine - INFO - [cached since 118.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:47:56,422 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:47:56,423 - sqlalchemy.engine.Engine - INFO - [cached since 110.3s ago] ('FRO',)
2026-02-03 23:47:56,424 - app.services.market_providers.yfinance - ERROR - yfinance get_full_data error for FRO: name 'asyncio' is not defined
2026-02-03 23:47:56,425 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for FRO: name 'asyncio' is not defined
2026-02-03 23:47:56,426 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for FRO: name 'asyncio' is not defined
2026-02-03 23:47:56,427 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for FRO: name 'asyncio' is not defined
2026-02-03 23:47:56,427 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for FRO: name 'asyncio' is not defined
2026-02-03 23:47:56,427 - api_logger - INFO - rid=/api/portfolio/FRO/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.08ms
2026-02-03 23:47:56,429 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:47:56,436 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:47:56,437 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:47:56,437 - sqlalchemy.engine.Engine - INFO - [cached since 118.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:47:56,439 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:47:56,440 - sqlalchemy.engine.Engine - INFO - [cached since 118.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:47:56,443 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.27ms
2026-02-03 23:47:56,443 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:54:55,135 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:54:55,141 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:54:55,141 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:54:55,143 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:54:55,143 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:54:55,144 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=16.20ms
2026-02-03 23:54:55,145 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:01:32,830 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:01:32,833 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:01:32,834 - sqlalchemy.engine.Engine - INFO - [cached since 397.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:01:32,837 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:01:32,837 - sqlalchemy.engine.Engine - INFO - [cached since 397.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:01:32,841 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=32.36ms
2026-02-04 00:01:32,842 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:01:33,277 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:01:33,277 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:01:33,277 - sqlalchemy.engine.Engine - INFO - [cached since 398.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:01:33,278 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:01:33,278 - sqlalchemy.engine.Engine - INFO - [cached since 398.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:01:33,279 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.46ms
2026-02-04 00:01:33,279 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:03:52,845 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:03:52,847 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:03:52,848 - sqlalchemy.engine.Engine - INFO - [cached since 537.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:03:52,856 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:03:52,856 - sqlalchemy.engine.Engine - INFO - [cached since 537.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:03:52,860 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=29.78ms
2026-02-04 00:03:52,861 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:03:53,862 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:03:53,863 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:03:53,863 - sqlalchemy.engine.Engine - INFO - [cached since 538.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:03:53,864 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:03:53,864 - sqlalchemy.engine.Engine - INFO - [cached since 538.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:03:53,869 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.69ms
2026-02-04 00:03:53,870 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:03:54,823 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:03:54,824 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:03:54,824 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:03:54,829 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:03:54,829 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('ASTS',)
2026-02-04 00:03:54,832 - app.services.market_providers.yfinance - ERROR - yfinance get_full_data error for ASTS: name 'asyncio' is not defined
2026-02-04 00:03:54,849 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for ASTS: name 'asyncio' is not defined
2026-02-04 00:03:54,849 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for ASTS: name 'asyncio' is not defined
2026-02-04 00:03:54,849 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for ASTS: name 'asyncio' is not defined
2026-02-04 00:03:54,850 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for ASTS: name 'asyncio' is not defined
2026-02-04 00:03:54,852 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:03:54,852 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (112.4847611636335, '2026-02-03 16:03:54.831024', 'ASTS')
2026-02-04 00:03:54,853 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:03:54,854 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=34.64ms
2026-02-04 00:03:54,860 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:03:54,861 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:03:54,861 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:03:54,862 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:03:54,862 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:03:54,863 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.00ms
2026-02-04 00:03:54,864 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:32,091 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:32,104 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:38:32,104 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('%S%', '%S%', 10, 0)
2026-02-04 00:38:32,108 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=49.33ms
2026-02-04 00:38:32,109 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:32,200 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:32,201 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:38:32,201 - sqlalchemy.engine.Engine - INFO - [cached since 0.09697s ago] ('%S N%', '%S N%', 10, 0)
2026-02-04 00:38:32,202 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.84ms
2026-02-04 00:38:32,203 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:33,520 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:33,521 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:38:33,521 - sqlalchemy.engine.Engine - INFO - [cached since 1.417s ago] ('%S N D%', '%S N D%', 10, 0)
2026-02-04 00:38:33,523 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.10ms
2026-02-04 00:38:33,525 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:33,604 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:33,605 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:38:33,605 - sqlalchemy.engine.Engine - INFO - [cached since 1.501s ago] ('%S N D K%', '%S N D K%', 10, 0)
2026-02-04 00:38:33,606 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.37ms
2026-02-04 00:38:33,607 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:33,964 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:33,965 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:38:33,965 - sqlalchemy.engine.Engine - INFO - [cached since 1.861s ago] ('%S N D K%', '%S N D K%', 10, 0)
2026-02-04 00:38:33,971 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for S N D K: Yahoo API requires curl_cffi session not <class 'requests.sessions.Session'>. Solution: stop setting session, let YF handle.
2026-02-04 00:38:33,973 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.97ms
2026-02-04 00:38:33,975 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:33,979 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:33,980 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:38:33,981 - sqlalchemy.engine.Engine - INFO - [cached since 1.877s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-04 00:38:33,982 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.54ms
2026-02-04 00:38:33,983 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:34,448 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:34,448 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:38:34,449 - sqlalchemy.engine.Engine - INFO - [cached since 2.345s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-04 00:38:34,450 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for SNDK: Yahoo API requires curl_cffi session not <class 'requests.sessions.Session'>. Solution: stop setting session, let YF handle.
2026-02-04 00:38:34,450 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.40ms
2026-02-04 00:38:34,452 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:36,034 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:36,035 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:38:36,035 - sqlalchemy.engine.Engine - INFO - [cached since 3.931s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-04 00:38:36,036 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for SNDK: Yahoo API requires curl_cffi session not <class 'requests.sessions.Session'>. Solution: stop setting session, let YF handle.
2026-02-04 00:38:36,037 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.11ms
2026-02-04 00:38:36,037 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:44,973 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:44,977 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:38:44,978 - sqlalchemy.engine.Engine - INFO - [generated in 0.00079s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:44,981 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:38:44,981 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('ASTS',)
2026-02-04 00:38:44,983 - app.services.market_providers.yfinance - ERROR - yfinance get_full_data error for ASTS: Yahoo API requires curl_cffi session not <class 'requests.sessions.Session'>. Solution: stop setting session, let YF handle.
2026-02-04 00:38:44,983 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for ASTS: Yahoo API requires curl_cffi session not <class 'requests.sessions.Session'>. Solution: stop setting session, let YF handle.
2026-02-04 00:38:44,983 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for ASTS: Yahoo API requires curl_cffi session not <class 'requests.sessions.Session'>. Solution: stop setting session, let YF handle.
2026-02-04 00:38:44,983 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for ASTS: Yahoo API requires curl_cffi session not <class 'requests.sessions.Session'>. Solution: stop setting session, let YF handle.
2026-02-04 00:38:44,983 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for ASTS: Yahoo API requires curl_cffi session not <class 'requests.sessions.Session'>. Solution: stop setting session, let YF handle.
2026-02-04 00:38:44,985 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:38:44,985 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (112.47293936068085, '2026-02-03 16:38:44.982937', 'ASTS')
2026-02-04 00:38:44,986 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:38:44,987 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=19.60ms
2026-02-04 00:38:44,999 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:45,000 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:38:45,000 - sqlalchemy.engine.Engine - INFO - [cached since 0.02289s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:45,003 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:38:45,003 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:45,005 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.15ms
2026-02-04 00:38:45,005 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:49,208 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:49,208 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:38:49,208 - sqlalchemy.engine.Engine - INFO - [cached since 4.231s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:49,209 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:38:49,209 - sqlalchemy.engine.Engine - INFO - [cached since 4.207s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:49,211 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.99ms
2026-02-04 00:38:49,211 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:50,330 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:50,330 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:38:50,330 - sqlalchemy.engine.Engine - INFO - [cached since 5.353s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:50,331 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:38:50,331 - sqlalchemy.engine.Engine - INFO - [cached since 5.328s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:50,332 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.10ms
2026-02-04 00:38:50,332 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:51,711 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:51,711 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:38:51,711 - sqlalchemy.engine.Engine - INFO - [cached since 6.734s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:51,712 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:38:51,713 - sqlalchemy.engine.Engine - INFO - [cached since 6.71s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:51,717 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.09ms
2026-02-04 00:38:51,719 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:52,432 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:52,433 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:38:52,433 - sqlalchemy.engine.Engine - INFO - [cached since 7.456s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:52,434 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:38:52,434 - sqlalchemy.engine.Engine - INFO - [cached since 7.431s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:52,435 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.42ms
2026-02-04 00:38:52,435 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:53,096 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:53,097 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:38:53,097 - sqlalchemy.engine.Engine - INFO - [cached since 8.12s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:53,098 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:38:53,098 - sqlalchemy.engine.Engine - INFO - [cached since 8.095s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:53,099 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.80ms
2026-02-04 00:38:53,100 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:53,849 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:53,849 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:38:53,849 - sqlalchemy.engine.Engine - INFO - [cached since 8.872s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:53,852 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:38:53,854 - sqlalchemy.engine.Engine - INFO - [cached since 8.851s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:53,859 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.81ms
2026-02-04 00:38:53,861 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:54,565 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:54,565 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:38:54,565 - sqlalchemy.engine.Engine - INFO - [cached since 9.588s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:54,567 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:38:54,568 - sqlalchemy.engine.Engine - INFO - [cached since 9.566s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:54,570 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.84ms
2026-02-04 00:38:54,571 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:44:58,805 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:44:58,816 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:44:58,816 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:44:58,818 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:44:58,818 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('ASTS',)
2026-02-04 00:44:59,953 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:44:59,954 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('ASTS',)
2026-02-04 00:44:59,955 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time) VALUES (?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-04 00:44:59,955 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('02c66b20-e713-32f3-b7fa-219efb715de4', 'ASTS', None, None, None, '1970-01-01 00:00:00.000000')
2026-02-04 00:44:59,957 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:44:59,960 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1168.85ms
2026-02-04 00:45:07,229 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:45:07,229 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:45:07,229 - sqlalchemy.engine.Engine - INFO - [cached since 8.413s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:45:07,234 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:45:07,234 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:45:07,239 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.23ms
2026-02-04 00:45:07,240 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:46:29,855 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:46:29,871 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:46:29,871 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:46:29,873 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:46:29,874 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('ASTS',)
2026-02-04 00:46:31,188 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:46:31,188 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('ASTS',)
2026-02-04 00:46:31,192 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-04 00:46:31,192 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (41986658304.0, -112.48041, 'ASTS')
2026-02-04 00:46:31,195 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:46:31,195 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (114.2801, 9.306643, 60.3296661923277, 105.50800476074218, 83.88880172729492, 57.32405026435852, 8.613135137573579, 9.27025714834744, -0.6571220107738611, 126.46382566158029, 105.50800476074218, 84.55218385990408, 49.355969050843576, 60.857759390658345, 26.352388371214033, 16916090.55, 0.37725684791868175, '2026-02-03 16:46:29.874649', 'ASTS')
2026-02-04 00:46:31,196 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:46:31,199 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:46:31,201 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:46:31,201 - sqlalchemy.engine.Engine - INFO - [generated in 0.00071s] ('ASTS',)
2026-02-04 00:46:31,203 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1370.53ms
2026-02-04 00:46:31,204 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:46:31,215 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:46:31,216 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:46:31,216 - sqlalchemy.engine.Engine - INFO - [cached since 1.345s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:46:31,219 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:46:31,220 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:46:31,224 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=13.57ms
2026-02-04 00:46:31,225 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:03,995 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:03,997 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:47:03,997 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('%S%', '%S%', 10, 0)
2026-02-04 00:47:04,000 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.59ms
2026-02-04 00:47:04,002 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:04,106 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:04,107 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:47:04,107 - sqlalchemy.engine.Engine - INFO - [cached since 0.1099s ago] ('%S N%', '%S N%', 10, 0)
2026-02-04 00:47:04,108 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.96ms
2026-02-04 00:47:04,108 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:05,144 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:05,145 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:47:05,145 - sqlalchemy.engine.Engine - INFO - [cached since 1.148s ago] ('%S%', '%S%', 10, 0)
2026-02-04 00:47:05,146 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.69ms
2026-02-04 00:47:05,147 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:08,740 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:08,741 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:47:08,741 - sqlalchemy.engine.Engine - INFO - [cached since 4.744s ago] ('%S N%', '%S N%', 10, 0)
2026-02-04 00:47:08,743 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.09ms
2026-02-04 00:47:08,744 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:10,069 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:10,069 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:47:10,069 - sqlalchemy.engine.Engine - INFO - [cached since 6.072s ago] ('%S N D%', '%S N D%', 10, 0)
2026-02-04 00:47:10,070 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.45ms
2026-02-04 00:47:10,070 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:10,175 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:10,176 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:47:10,176 - sqlalchemy.engine.Engine - INFO - [cached since 6.179s ago] ('%S N D K%', '%S N D K%', 10, 0)
2026-02-04 00:47:10,177 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.91ms
2026-02-04 00:47:10,178 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:10,523 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:10,524 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:47:10,524 - sqlalchemy.engine.Engine - INFO - [cached since 6.527s ago] ('%S N D K%', '%S N D K%', 10, 0)
2026-02-04 00:47:10,536 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:10,537 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:47:10,538 - sqlalchemy.engine.Engine - INFO - [cached since 6.541s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-04 00:47:10,540 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.92ms
2026-02-04 00:47:10,541 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:11,442 - yfinance - ERROR - HTTP Error 404: {"quoteSummary":{"result":null,"error":{"code":"Not Found","description":"Quote not found for symbol: S N D K"}}}
2026-02-04 00:47:11,911 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1389.73ms
2026-02-04 00:47:11,912 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:12,262 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:12,262 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:47:12,263 - sqlalchemy.engine.Engine - INFO - [cached since 8.266s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-04 00:47:12,777 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:12,778 - sqlalchemy.engine.Engine - INFO - [cached since 41.59s ago] ('SNDK',)
2026-02-04 00:47:12,781 - sqlalchemy.engine.Engine - INFO - INSERT INTO stocks (ticker, name, sector, industry, market_cap, pe_ratio, forward_pe, eps, dividend_yield, beta, fifty_two_week_high, fifty_two_week_low, exchange, currency) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-04 00:47:12,781 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('SNDK', 'Sandisk Corporation', None, None, None, None, None, None, None, None, None, None, None, 'USD')
2026-02-04 00:47:12,784 - sqlalchemy.engine.Engine - INFO - INSERT INTO market_data_cache (ticker, current_price, change_percent, rsi_14, ma_20, ma_50, ma_200, macd_val, macd_signal, macd_hist, bb_upper, bb_middle, bb_lower, atr_14, k_line, d_line, j_line, volume_ma_20, volume_ratio, market_status, last_updated) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-04 00:47:12,786 - sqlalchemy.engine.Engine - INFO - [generated in 0.00187s] ('SNDK', 671.0, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, 'CLOSED', '2026-02-03 16:47:12.784098')
2026-02-04 00:47:12,788 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:12,790 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:12,791 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:47:12,791 - sqlalchemy.engine.Engine - INFO - [cached since 8.794s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-04 00:47:12,792 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=532.52ms
2026-02-04 00:47:12,793 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:13,991 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:13,991 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:47:13,991 - sqlalchemy.engine.Engine - INFO - [cached since 44.12s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:47:13,992 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 00:47:13,992 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-04 00:47:13,994 - sqlalchemy.engine.Engine - INFO - INSERT INTO portfolios (id, user_id, ticker, quantity, avg_cost, target_price, stop_loss_price, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-04 00:47:13,994 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('57416cd4-f97b-4ac4-ab32-aaf9ad8218bd', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 0.0, 0.0, None, None, '2026-02-03 16:47:13.994114', '2026-02-03 16:47:13.994115')
2026-02-04 00:47:13,995 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:13,996 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:13,996 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:13,996 - sqlalchemy.engine.Engine - INFO - [cached since 44.12s ago] ('SNDK',)
2026-02-04 00:47:13,997 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:13,997 - sqlalchemy.engine.Engine - INFO - [cached since 44.12s ago] ('SNDK',)
2026-02-04 00:47:13,998 - api_logger - INFO - rid=/api/portfolio/ method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.12ms
2026-02-04 00:47:13,998 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:14,006 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:14,006 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:47:14,006 - sqlalchemy.engine.Engine - INFO - [cached since 44.14s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:47:14,007 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:47:14,007 - sqlalchemy.engine.Engine - INFO - [cached since 42.79s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:47:14,008 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:14,008 - sqlalchemy.engine.Engine - INFO - [cached since 44.13s ago] ('AAPL',)
2026-02-04 00:47:14,536 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:14,536 - sqlalchemy.engine.Engine - INFO - [cached since 43.35s ago] ('AAPL',)
2026-02-04 00:47:14,539 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=?, beta=? WHERE stocks.ticker = ?
2026-02-04 00:47:14,539 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] (3963442692096.0, 34.091026, 29.071033, 7.91, 0.39, 1.107, 'AAPL')
2026-02-04 00:47:14,541 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:14,542 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] (269.6301, -0.10927115, 60.17972822114091, 257.71949768066406, 268.3685986328125, 237.10162239074708, -1.1448765292005874, -3.450756442611816, 2.3058799134112284, 270.44320872562577, 257.71949768066406, 244.99578663570233, 6.375718252999442, 84.86595012102254, 71.60374426569476, 111.39036183167809, 52636626.35, 0.4252291332497224, '2026-02-03 16:47:14.009121', 'AAPL')
2026-02-04 00:47:14,543 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:14,545 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:14,545 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:14,546 - sqlalchemy.engine.Engine - INFO - [cached since 43.35s ago] ('AAPL',)
2026-02-04 00:47:15,549 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:15,549 - sqlalchemy.engine.Engine - INFO - [cached since 45.68s ago] ('AMD',)
2026-02-04 00:47:16,208 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:16,209 - sqlalchemy.engine.Engine - INFO - [cached since 45.02s ago] ('AMD',)
2026-02-04 00:47:16,211 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET name=?, market_cap=?, pe_ratio=?, forward_pe=?, eps=?, beta=? WHERE stocks.ticker = ?
2026-02-04 00:47:16,212 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('Advanced Micro Devices, Inc.', 398479458304.0, 127.479164, 37.041073, 1.92, 1.949, 'AMD')
2026-02-04 00:47:16,213 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:16,213 - sqlalchemy.engine.Engine - INFO - [cached since 1.672s ago] (244.76, -0.61315215, 65.74036401802141, 233.76899948120118, 221.99859954833985, 177.3397497177124, 8.12235553199315, 7.7945297582513415, 0.3278257737418091, 271.22769401979446, 233.76899948120118, 196.3103049426079, 12.523280552455358, 43.45007930757203, 55.72878281936019, 18.892672283995722, 37189581.3, 0.44033370174027747, '2026-02-03 16:47:15.551058', 'AMD')
2026-02-04 00:47:16,215 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:16,217 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:16,218 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:16,218 - sqlalchemy.engine.Engine - INFO - [cached since 45.02s ago] ('AMD',)
2026-02-04 00:47:17,222 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:17,223 - sqlalchemy.engine.Engine - INFO - [cached since 47.35s ago] ('AMZN',)
2026-02-04 00:47:17,755 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:17,755 - sqlalchemy.engine.Engine - INFO - [cached since 46.57s ago] ('AMZN',)
2026-02-04 00:47:17,757 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET name=?, market_cap=?, pe_ratio=?, forward_pe=?, eps=?, beta=? WHERE stocks.ticker = ?
2026-02-04 00:47:17,757 - sqlalchemy.engine.Engine - INFO - [cached since 1.546s ago] ('Amazon.com, Inc.', 2535184662528.0, 33.543137, 30.238348, 7.07, 1.385, 'AMZN')
2026-02-04 00:47:17,759 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:17,759 - sqlalchemy.engine.Engine - INFO - [cached since 3.218s ago] (237.15, -2.3913453, 44.12712007685422, 240.11099853515626, 233.23379974365236, 222.41550018310548, 1.8091410200263454, 2.0052105337731723, -0.1960695137468269, 249.33577582376634, 240.11099853515626, 230.88622124654617, 6.074287414550781, 58.680863567398625, 62.809222356670645, 50.424145988854576, 40066933.65, 0.5744430856889394, '2026-02-03 16:47:17.224464', 'AMZN')
2026-02-04 00:47:17,760 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:17,762 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:17,763 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:17,763 - sqlalchemy.engine.Engine - INFO - [cached since 46.56s ago] ('AMZN',)
2026-02-04 00:47:18,767 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:18,767 - sqlalchemy.engine.Engine - INFO - [cached since 48.89s ago] ('ASTS',)
2026-02-04 00:47:19,770 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:19,771 - sqlalchemy.engine.Engine - INFO - [cached since 49.9s ago] ('BRK.B',)
2026-02-04 00:47:20,882 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:20,883 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:47:20,884 - sqlalchemy.engine.Engine - INFO - [cached since 51.01s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:47:20,886 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 00:47:20,886 - sqlalchemy.engine.Engine - INFO - [cached since 6.894s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-04 00:47:20,888 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:20,889 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:20,890 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:20,890 - sqlalchemy.engine.Engine - INFO - [cached since 51.02s ago] ('SNDK',)
2026-02-04 00:47:20,891 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:20,892 - sqlalchemy.engine.Engine - INFO - [cached since 51.02s ago] ('SNDK',)
2026-02-04 00:47:20,893 - api_logger - INFO - rid=/api/portfolio/ method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=13.42ms
2026-02-04 00:47:20,894 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:21,176 - yfinance - ERROR - $BRK.B: possibly delisted; no price data found  (period=200d) (Yahoo error = "No data found, symbol may be delisted")
2026-02-04 00:47:22,503 - yfinance - ERROR - $BRK.B: possibly delisted; no price data found  (period=200d) (Yahoo error = "No data found, symbol may be delisted")
2026-02-04 00:47:22,506 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:22,506 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] (493.4536745968354, '2026-02-03 16:47:19.772229', 'BRK.B')
2026-02-04 00:47:22,508 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:23,511 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:23,511 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:23,511 - sqlalchemy.engine.Engine - INFO - [cached since 53.64s ago] ('FRO',)
2026-02-04 00:47:24,045 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:24,045 - sqlalchemy.engine.Engine - INFO - [cached since 52.86s ago] ('FRO',)
2026-02-04 00:47:24,046 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET name=?, sector=?, industry=?, market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=?, beta=?, fifty_two_week_high=?, fifty_two_week_low=? WHERE stocks.ticker = ?
2026-02-04 00:47:24,046 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('Frontline Plc', 'Energy', 'Oil & Gas Midstream', 6397068800.0, 29.321428, 9.7256775, 0.98, 3.26, 0.049, 28.9499, 12.4, 'FRO')
2026-02-04 00:47:24,047 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:24,047 - sqlalchemy.engine.Engine - INFO - [cached since 9.506s ago] (28.735, 0.5775321, 72.82698446984926, 26.19325017929077, 24.150100021362306, 21.146848573684693, 1.3881045283662665, 1.131395783794467, 0.2567087445717995, 29.76756811268828, 26.19325017929077, 22.618932245893262, 0.8992783682686942, 90.76427038057203, 85.79434581549535, 100.70411951072538, 3298987.3, 0.27118807035116504, '2026-02-03 16:47:23.512685', 'FRO')
2026-02-04 00:47:24,048 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:24,048 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:24,048 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:24,049 - sqlalchemy.engine.Engine - INFO - [cached since 52.85s ago] ('FRO',)
2026-02-04 00:47:25,051 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:25,052 - sqlalchemy.engine.Engine - INFO - [cached since 55.18s ago] ('GOOGL',)
2026-02-04 00:47:25,649 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:25,649 - sqlalchemy.engine.Engine - INFO - [cached since 54.46s ago] ('GOOGL',)
2026-02-04 00:47:25,651 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=?, fifty_two_week_high=? WHERE stocks.ticker = ?
2026-02-04 00:47:25,651 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (4160513900544.0, 33.87574, 30.500122, 10.14, 0.24, 349.0, 'GOOGL')
2026-02-04 00:47:25,652 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:25,652 - sqlalchemy.engine.Engine - INFO - [cached since 11.11s ago] (343.5, -0.05528309, 59.05700255548695, 331.6445007324219, 320.17595947265625, 236.10667701721192, 6.991855860099292, 6.421933380497529, 0.5699224796017637, 346.15127601451616, 331.6445007324219, 317.1377254503276, 8.242852347237724, 80.89146537465115, 77.05196867694886, 88.57045877005572, 30263498.35, 0.46309474330815426, '2026-02-03 16:47:25.052638', 'GOOGL')
2026-02-04 00:47:25,653 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:25,655 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:25,655 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:25,655 - sqlalchemy.engine.Engine - INFO - [cached since 54.46s ago] ('GOOGL',)
2026-02-04 00:47:26,658 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:26,659 - sqlalchemy.engine.Engine - INFO - [cached since 56.79s ago] ('IREN',)
2026-02-04 00:47:27,178 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:27,178 - sqlalchemy.engine.Engine - INFO - [cached since 55.99s ago] ('IREN',)
2026-02-04 00:47:27,180 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET name=?, sector=?, industry=?, market_cap=?, pe_ratio=?, forward_pe=?, eps=?, beta=?, fifty_two_week_high=?, fifty_two_week_low=? WHERE stocks.ticker = ?
2026-02-04 00:47:27,181 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('IREN LIMITED', 'Financial Services', 'Capital Markets', 17822386176.0, 31.195402, 64.868484, 1.74, 4.281, 76.87, 5.125, 'IREN')
2026-02-04 00:47:27,182 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:27,183 - sqlalchemy.engine.Engine - INFO - [cached since 12.64s ago] (54.28, 2.2607327, 51.501043959395005, 53.00325012207031, 46.76590003967285, 32.20070003032684, 2.827027075405759, 2.9997990196071656, -0.1727719442014064, 63.10680878617488, 53.00325012207031, 42.899691457965744, 5.619714191981724, 45.827882380820775, 58.911732513757926, 19.66018211494648, 42731983.7, 0.3616044157575582, '2026-02-03 16:47:26.660069', 'IREN')
2026-02-04 00:47:27,185 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:27,188 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:27,189 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:27,189 - sqlalchemy.engine.Engine - INFO - [cached since 55.99s ago] ('IREN',)
2026-02-04 00:47:28,193 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:28,193 - sqlalchemy.engine.Engine - INFO - [cached since 58.32s ago] ('META',)
2026-02-04 00:47:28,727 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:28,728 - sqlalchemy.engine.Engine - INFO - [cached since 57.54s ago] ('META',)
2026-02-04 00:47:28,730 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET name=?, market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=?, beta=? WHERE stocks.ticker = ?
2026-02-04 00:47:28,730 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('Meta Platforms, Inc.', 1767793098752.0, 29.713232, 19.711687, 23.52, 0.3, 1.284, 'META')
2026-02-04 00:47:28,732 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:28,732 - sqlalchemy.engine.Engine - INFO - [cached since 14.19s ago] (698.8552, -1.0694567, 65.42539046793911, 656.7832580566406, 652.0696850585938, 682.5047174072265, 15.067149118753264, 6.696311072312524, 8.37083804644074, 729.7580775984773, 656.7832580566406, 583.808438514804, 23.155713762555802, 74.38302202630872, 76.40582880886815, 70.33740846118988, 17920101.15, 0.2989281676013308, '2026-02-03 16:47:28.194531', 'META')
2026-02-04 00:47:28,733 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:28,736 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:28,736 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:28,736 - sqlalchemy.engine.Engine - INFO - [cached since 57.54s ago] ('META',)
2026-02-04 00:47:29,738 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:29,739 - sqlalchemy.engine.Engine - INFO - [cached since 59.87s ago] ('MSFT',)
2026-02-04 00:47:30,264 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:30,264 - sqlalchemy.engine.Engine - INFO - [cached since 59.08s ago] ('MSFT',)
2026-02-04 00:47:30,266 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=?, beta=? WHERE stocks.ticker = ?
2026-02-04 00:47:30,266 - sqlalchemy.engine.Engine - INFO - [cached since 15.73s ago] (3055163801600.0, 25.779135, 21.763416, 15.96, 0.86, 1.084, 'MSFT')
2026-02-04 00:47:30,267 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:30,267 - sqlalchemy.engine.Engine - INFO - [cached since 15.73s ago] (411.435, -2.8190467, 28.949239414581484, 459.4970001220703, 473.1956005859375, 485.23453689575194, -13.065518821593344, -8.416942460165936, -4.648576361427407, 502.25935602651623, 459.4970001220703, 416.73464421762435, 14.945713588169642, 20.024879441057344, 36.12715101843576, -12.17966371369949, 34898152.35, 0.6475456572416505, '2026-02-03 16:47:29.740132', 'MSFT')
2026-02-04 00:47:30,268 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:30,270 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:30,271 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:30,271 - sqlalchemy.engine.Engine - INFO - [cached since 59.07s ago] ('MSFT',)
2026-02-04 00:47:31,274 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:31,274 - sqlalchemy.engine.Engine - INFO - [cached since 61.4s ago] ('NVDA',)
2026-02-04 00:47:31,800 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:31,800 - sqlalchemy.engine.Engine - INFO - [cached since 60.61s ago] ('NVDA',)
2026-02-04 00:47:31,802 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-04 00:47:31,802 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (4387694706688.0, 44.497528, 23.514914, 4.05, 'NVDA')
2026-02-04 00:47:31,803 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:31,804 - sqlalchemy.engine.Engine - INFO - [cached since 17.26s ago] (180.2, -2.9066346, 43.73602343369437, 186.16450119018555, 183.77419921875, 168.4890449523926, 0.5222765856155718, 0.8078018265483723, -0.2855252409328005, 193.2281358135194, 186.16450119018555, 179.1008665668517, 5.469999040876116, 48.60665695661698, 63.822373594672634, 18.17522368050568, 160611694.2, 0.5406012584107341, '2026-02-03 16:47:31.275800', 'NVDA')
2026-02-04 00:47:31,804 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:31,806 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:31,806 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:31,806 - sqlalchemy.engine.Engine - INFO - [cached since 60.61s ago] ('NVDA',)
2026-02-04 00:47:32,810 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:32,810 - sqlalchemy.engine.Engine - INFO - [cached since 62.94s ago] ('OKLO',)
2026-02-04 00:47:33,335 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:33,335 - sqlalchemy.engine.Engine - INFO - [cached since 62.15s ago] ('OKLO',)
2026-02-04 00:47:33,338 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET name=?, sector=?, industry=?, market_cap=?, forward_pe=?, eps=?, beta=?, fifty_two_week_high=?, fifty_two_week_low=? WHERE stocks.ticker = ?
2026-02-04 00:47:33,338 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('Oklo Inc.', 'Utilities', 'Utilities - Independent Power Producers', 12146647040.0, -116.497574, -0.56, 0.774, 193.84, 17.42, 'OKLO')
2026-02-04 00:47:33,340 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:33,340 - sqlalchemy.engine.Engine - INFO - [cached since 18.8s ago] (77.74, 5.617515, 34.07407332985626, 90.81649894714356, 89.00959945678711, 81.28944983482361, -3.061013868453273, -1.4799251011370906, -1.5810887673161822, 107.27455183738975, 90.81649894714356, 74.35844605689736, 7.614706856863839, 16.794054717767608, 20.23378371648571, 9.914596720331403, 13583559.15, 0.3405648658731684, '2026-02-03 16:47:32.811476', 'OKLO')
2026-02-04 00:47:33,341 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:33,342 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:33,343 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:33,343 - sqlalchemy.engine.Engine - INFO - [cached since 62.14s ago] ('OKLO',)
2026-02-04 00:47:34,345 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:34,347 - sqlalchemy.engine.Engine - INFO - [cached since 64.47s ago] ('PG',)
2026-02-04 00:47:34,874 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:34,874 - sqlalchemy.engine.Engine - INFO - [cached since 63.69s ago] ('PG',)
2026-02-04 00:47:34,876 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET name=?, market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=?, beta=? WHERE stocks.ticker = ?
2026-02-04 00:47:34,876 - sqlalchemy.engine.Engine - INFO - [cached since 6.146s ago] ('Procter & Gamble Company (The)', 364250005504.0, 23.059172, 21.299885, 6.76, 2.76, 0.38, 'PG')
2026-02-04 00:47:34,878 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:34,878 - sqlalchemy.engine.Engine - INFO - [cached since 20.34s ago] (155.88, 1.7493525, 76.63711846597697, 146.07154006958007, 144.58728759765626, 151.78491554260253, 2.6284525100239193, 1.5954081074856985, 1.0330444025382208, 155.93765514793645, 146.07154006958007, 136.20542499122368, 2.622872670239072, 89.54475860070481, 83.12649755919314, 102.38128068372814, 11785175.45, 0.3749039646244724, '2026-02-03 16:47:34.350639', 'PG')
2026-02-04 00:47:34,878 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:34,880 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:34,881 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:34,881 - sqlalchemy.engine.Engine - INFO - [cached since 63.68s ago] ('PG',)
2026-02-04 00:47:35,885 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:35,885 - sqlalchemy.engine.Engine - INFO - [cached since 66.01s ago] ('RKLB',)
2026-02-04 00:47:36,421 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:36,422 - sqlalchemy.engine.Engine - INFO - [cached since 65.23s ago] ('RKLB',)
2026-02-04 00:47:36,424 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET name=?, sector=?, industry=?, market_cap=?, forward_pe=?, eps=?, beta=?, fifty_two_week_high=?, fifty_two_week_low=? WHERE stocks.ticker = ?
2026-02-04 00:47:36,424 - sqlalchemy.engine.Engine - INFO - [cached since 3.086s ago] ('Rocket Lab Corporation', 'Industrials', 'Aerospace & Defense', 42088845312.0, -505.09613, -0.38, 2.182, 99.58, 14.71, 'RKLB')
2026-02-04 00:47:36,425 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:36,426 - sqlalchemy.engine.Engine - INFO - [cached since 21.88s ago] (78.795, 6.264324, 43.163252835746974, 85.99925117492675, 68.88300048828125, 48.684250068664554, 2.477683622518228, 4.897886404626953, -2.420202782108725, 95.95891535460893, 85.99925117492675, 76.03958699524458, 7.557927812848773, 19.965362489755538, 26.424703675293244, 7.046680118680129, 24718940.45, 0.3489271321093376, '2026-02-03 16:47:35.887190', 'RKLB')
2026-02-04 00:47:36,426 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:36,428 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:36,429 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:36,429 - sqlalchemy.engine.Engine - INFO - [cached since 65.23s ago] ('RKLB',)
2026-02-04 00:47:37,433 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:37,433 - sqlalchemy.engine.Engine - INFO - [cached since 67.56s ago] ('SIDU',)
2026-02-04 00:47:38,097 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:38,097 - sqlalchemy.engine.Engine - INFO - [cached since 66.91s ago] ('SIDU',)
2026-02-04 00:47:38,099 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET name=?, sector=?, industry=?, market_cap=?, forward_pe=?, eps=?, beta=?, fifty_two_week_high=?, fifty_two_week_low=? WHERE stocks.ticker = ?
2026-02-04 00:47:38,100 - sqlalchemy.engine.Engine - INFO - [cached since 4.762s ago] ('Sidus Space, Inc.', 'Industrials', 'Aerospace & Defense', 184925184.0, -11.583333, -1.26, -1.652, 5.39, 0.628, 'SIDU')
2026-02-04 00:47:38,101 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:38,101 - sqlalchemy.engine.Engine - INFO - [cached since 23.56s ago] (2.78, 7.75194, 46.51162907920032, 3.5959999918937684, 2.286519993543625, 1.5920899984240533, 0.10596884447874633, 0.3223845852584146, -0.2164157407796683, 4.833984835193682, 3.5959999918937684, 2.3580151485938545, 0.5749999965940203, 13.13608385301726, 21.936881318836438, -4.465511078621098, 39043219.1, 0.280063536052026, '2026-02-03 16:47:37.435788', 'SIDU')
2026-02-04 00:47:38,102 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:38,104 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:38,104 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:38,105 - sqlalchemy.engine.Engine - INFO - [cached since 66.9s ago] ('SIDU',)
2026-02-04 00:47:39,107 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:39,107 - sqlalchemy.engine.Engine - INFO - [cached since 69.23s ago] ('SNDK',)
2026-02-04 00:47:40,109 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:40,109 - sqlalchemy.engine.Engine - INFO - [cached since 70.24s ago] ('TSLA',)
2026-02-04 00:47:40,629 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:40,629 - sqlalchemy.engine.Engine - INFO - [cached since 69.44s ago] ('TSLA',)
2026-02-04 00:47:40,631 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET name=?, market_cap=?, pe_ratio=?, forward_pe=?, eps=?, beta=? WHERE stocks.ticker = ?
2026-02-04 00:47:40,631 - sqlalchemy.engine.Engine - INFO - [cached since 24.42s ago] ('Tesla, Inc.', 1598348460032.0, 387.22726, 146.61188, 1.1, 1.887, 'TSLA')
2026-02-04 00:47:40,633 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:40,633 - sqlalchemy.engine.Engine - INFO - [cached since 26.09s ago] (425.94, 0.958693, 41.03904921676616, 434.90050048828124, 444.42780151367185, 378.98320030212403, -6.4386477368746, -5.1458772761844465, -1.2927704606901536, 454.41588931039774, 434.90050048828124, 415.38511166616473, 14.397142682756696, 30.524014326453916, 35.723071996787695, 20.125898985786364, 60243173.35, 0.412139095922974, '2026-02-03 16:47:40.110326', 'TSLA')
2026-02-04 00:47:40,633 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:40,635 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:40,636 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:40,636 - sqlalchemy.engine.Engine - INFO - [cached since 69.44s ago] ('TSLA',)
2026-02-04 00:47:40,906 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:40,906 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:47:40,906 - sqlalchemy.engine.Engine - INFO - [cached since 71.04s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:47:40,908 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:47:40,909 - sqlalchemy.engine.Engine - INFO - [cached since 69.69s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:47:40,910 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:40,911 - sqlalchemy.engine.Engine - INFO - [cached since 71.04s ago] ('AAPL',)
2026-02-04 00:47:41,639 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:41,640 - sqlalchemy.engine.Engine - INFO - [cached since 71.77s ago] ('WMT',)
2026-02-04 00:47:41,918 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:41,918 - sqlalchemy.engine.Engine - INFO - [cached since 72.05s ago] ('AMD',)
2026-02-04 00:47:42,163 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:42,163 - sqlalchemy.engine.Engine - INFO - [cached since 70.98s ago] ('WMT',)
2026-02-04 00:47:42,166 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=?, beta=?, fifty_two_week_high=? WHERE stocks.ticker = ?
2026-02-04 00:47:42,166 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] (1012871004160.0, 44.26481, 42.775707, 2.87, 0.76, 0.671, 127.1461, 'WMT')
2026-02-04 00:47:42,168 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:42,168 - sqlalchemy.engine.Engine - INFO - [cached since 27.63s ago] (127.04, 2.4020662, 70.16907672837291, 118.21800003051757, 114.63250625610351, 103.08232521057128, 2.3311763272273254, 1.776437011757599, 0.5547393154697264, 124.97043287528531, 118.21800003051757, 111.46556718574983, 2.6047205243791853, 72.88794532051772, 55.75450754988007, 107.15482086179303, 45826903.9, 0.22079340166814107, '2026-02-03 16:47:41.641850', 'WMT')
2026-02-04 00:47:42,170 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:42,172 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:42,172 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:42,172 - sqlalchemy.engine.Engine - INFO - [cached since 70.97s ago] ('WMT',)
2026-02-04 00:47:42,920 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:42,921 - sqlalchemy.engine.Engine - INFO - [cached since 73.05s ago] ('AMZN',)
2026-02-04 00:47:43,175 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:47:43,176 - sqlalchemy.engine.Engine - INFO - [cached since 71.96s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:47:43,179 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=29174.22ms
2026-02-04 00:47:43,180 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:43,924 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:43,925 - sqlalchemy.engine.Engine - INFO - [cached since 74.05s ago] ('ASTS',)
2026-02-04 00:47:44,286 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:44,286 - sqlalchemy.engine.Engine - INFO - [cached since 73.1s ago] ('ASTS',)
2026-02-04 00:47:44,289 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-04 00:47:44,289 - sqlalchemy.engine.Engine - INFO - [cached since 73.1s ago] (41984786432.0, -112.475395, 'ASTS')
2026-02-04 00:47:44,290 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:44,290 - sqlalchemy.engine.Engine - INFO - [cached since 73.1s ago] (114.275, 9.301768, 60.32772879285059, 105.50774993896485, 83.88869979858399, 57.324024782180786, 8.612728584310574, 9.27017583769484, -0.6574472533842659, 126.46312182953655, 105.50774993896485, 84.55237804839315, 49.34958733907168, 60.85563215340105, 26.337497710412947, 16916963.75, 0.3782697116673788, '2026-02-03 16:47:43.926437', 'ASTS')
2026-02-04 00:47:44,291 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:44,293 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:44,293 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:44,294 - sqlalchemy.engine.Engine - INFO - [cached since 73.09s ago] ('ASTS',)
2026-02-04 00:47:45,296 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:45,296 - sqlalchemy.engine.Engine - INFO - [cached since 75.42s ago] ('BRK.B',)
2026-02-04 00:47:46,298 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:46,299 - sqlalchemy.engine.Engine - INFO - [cached since 76.43s ago] ('FRO',)
2026-02-04 00:47:47,303 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:47,303 - sqlalchemy.engine.Engine - INFO - [cached since 77.43s ago] ('GOOGL',)
2026-02-04 00:47:48,306 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:48,306 - sqlalchemy.engine.Engine - INFO - [cached since 78.43s ago] ('IREN',)
2026-02-04 00:47:49,309 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:49,310 - sqlalchemy.engine.Engine - INFO - [cached since 79.44s ago] ('META',)
2026-02-04 00:47:50,313 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:50,314 - sqlalchemy.engine.Engine - INFO - [cached since 80.44s ago] ('MSFT',)
2026-02-04 00:47:51,317 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:51,318 - sqlalchemy.engine.Engine - INFO - [cached since 81.44s ago] ('NVDA',)
2026-02-04 00:47:51,897 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:51,897 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:47:51,897 - sqlalchemy.engine.Engine - INFO - [cached since 82.03s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:47:51,898 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:47:51,898 - sqlalchemy.engine.Engine - INFO - [cached since 80.68s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:47:51,905 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.97ms
2026-02-04 00:47:51,907 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:52,321 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:52,322 - sqlalchemy.engine.Engine - INFO - [cached since 82.45s ago] ('OKLO',)
2026-02-04 00:47:53,325 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:53,325 - sqlalchemy.engine.Engine - INFO - [cached since 83.45s ago] ('PG',)
2026-02-04 00:47:54,328 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:54,328 - sqlalchemy.engine.Engine - INFO - [cached since 84.46s ago] ('RKLB',)
2026-02-04 00:47:55,332 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:55,333 - sqlalchemy.engine.Engine - INFO - [cached since 85.46s ago] ('SIDU',)
2026-02-04 00:47:56,337 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:56,338 - sqlalchemy.engine.Engine - INFO - [cached since 86.46s ago] ('SNDK',)
2026-02-04 00:47:57,350 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:57,354 - sqlalchemy.engine.Engine - INFO - [cached since 87.48s ago] ('TSLA',)
2026-02-04 00:47:58,358 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:58,358 - sqlalchemy.engine.Engine - INFO - [cached since 88.48s ago] ('WMT',)
2026-02-04 00:47:58,717 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:58,718 - sqlalchemy.engine.Engine - INFO - [cached since 87.53s ago] ('WMT',)
2026-02-04 00:47:58,720 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=?, beta=?, fifty_two_week_high=? WHERE stocks.ticker = ?
2026-02-04 00:47:58,720 - sqlalchemy.engine.Engine - INFO - [cached since 16.55s ago] (1013468954624.0, 44.290943, 42.80096, 2.87, 0.76, 0.671, 127.1461, 'WMT')
2026-02-04 00:47:58,721 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:58,721 - sqlalchemy.engine.Engine - INFO - [cached since 44.18s ago] (127.115, 2.4625185, 70.3035659331411, 118.22174987792968, 114.63400619506837, 103.0827001953125, 2.3371589897651717, 1.777633544265168, 0.5595254455000036, 124.99486233804308, 118.22174987792968, 111.44863741781629, 2.6047205243791853, 73.10223273203695, 55.825936687053144, 107.65482482200457, 45827183.0, 0.2209138624121845, '2026-02-03 16:47:58.359631', 'WMT')
2026-02-04 00:47:58,722 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:58,723 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:58,723 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:58,723 - sqlalchemy.engine.Engine - INFO - [cached since 87.52s ago] ('WMT',)
2026-02-04 00:47:59,725 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:47:59,726 - sqlalchemy.engine.Engine - INFO - [cached since 88.51s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:47:59,729 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=18825.63ms
2026-02-04 00:47:59,730 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:49:37,075 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:49:37,078 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:49:37,078 - sqlalchemy.engine.Engine - INFO - [cached since 187.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:49:37,081 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:49:37,081 - sqlalchemy.engine.Engine - INFO - [cached since 187.2s ago] ('SNDK',)
2026-02-04 00:49:37,571 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:49:37,571 - sqlalchemy.engine.Engine - INFO - [cached since 186.4s ago] ('SNDK',)
2026-02-04 00:49:37,576 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET sector=?, industry=?, market_cap=?, forward_pe=?, eps=?, fifty_two_week_high=?, fifty_two_week_low=? WHERE stocks.ticker = ?
2026-02-04 00:49:37,576 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('Technology', 'Computer Hardware', 98929098752.0, 9.097949, -7.45, 725.0, 27.885, 'SNDK')
2026-02-04 00:49:37,578 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, market_status=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:49:37,578 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (670.4001, 0.7759308, 90.09917882473128, 463.3810012817383, 321.1844006347656, 141.5870253944397, 88.18015322451242, 70.26549768038541, 17.914655544127015, 658.5255134027632, 463.3810012817383, 268.2364891607134, 54.16193062918527, 83.37000699022366, 84.4542948342731, 81.20143130212477, 19038267.1, 0.9269825823590845, <MarketStatus.OPEN: 'OPEN'>, '2026-02-03 16:49:37.081700', 'SNDK')
2026-02-04 00:49:37,579 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:49:37,580 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:49:37,580 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:49:37,580 - sqlalchemy.engine.Engine - INFO - [cached since 186.4s ago] ('SNDK',)
2026-02-04 00:49:37,581 - api_logger - INFO - rid=/api/portfolio/SNDK/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=513.20ms
2026-02-04 00:49:37,582 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:49:37,596 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:49:37,596 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:49:37,596 - sqlalchemy.engine.Engine - INFO - [cached since 187.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:49:37,597 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:49:37,597 - sqlalchemy.engine.Engine - INFO - [cached since 186.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:49:37,600 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.81ms
2026-02-04 00:49:37,600 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 10:12:32,455 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:12:32,461 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 10:12:32,462 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:32,466 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 10:12:32,467 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:32,476 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=63.78ms
2026-02-04 10:12:32,477 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 10:12:42,384 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:12:42,385 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 10:12:42,385 - sqlalchemy.engine.Engine - INFO - [cached since 9.924s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:42,388 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 10:12:42,389 - sqlalchemy.engine.Engine - INFO - [generated in 0.00066s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'IREN')
2026-02-04 10:12:42,399 - sqlalchemy.engine.Engine - INFO - DELETE FROM portfolios WHERE portfolios.id = ?
2026-02-04 10:12:42,399 - sqlalchemy.engine.Engine - INFO - [generated in 0.00084s] ('ef119cfa-5148-4cb2-9a04-8945a30f0156',)
2026-02-04 10:12:42,401 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 10:12:42,408 - api_logger - INFO - rid=/api/portfolio/IREN method=DELETE status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=27.61ms
2026-02-04 10:12:42,419 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:12:42,419 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 10:12:42,419 - sqlalchemy.engine.Engine - INFO - [cached since 9.958s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:42,421 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 10:12:42,421 - sqlalchemy.engine.Engine - INFO - [cached since 9.954s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:42,423 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.37ms
2026-02-04 10:12:42,424 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 10:12:45,565 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:12:45,566 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 10:12:45,566 - sqlalchemy.engine.Engine - INFO - [cached since 13.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:45,568 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 10:12:45,568 - sqlalchemy.engine.Engine - INFO - [cached since 3.18s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'BRK.B')
2026-02-04 10:12:45,570 - sqlalchemy.engine.Engine - INFO - DELETE FROM portfolios WHERE portfolios.id = ?
2026-02-04 10:12:45,570 - sqlalchemy.engine.Engine - INFO - [cached since 3.171s ago] ('0517085c-bfb6-4e32-a14c-7daeadc61545',)
2026-02-04 10:12:45,571 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 10:12:45,573 - api_logger - INFO - rid=/api/portfolio/BRK.B method=DELETE status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.22ms
2026-02-04 10:12:45,582 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:12:45,582 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 10:12:45,582 - sqlalchemy.engine.Engine - INFO - [cached since 13.12s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:45,585 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 10:12:45,585 - sqlalchemy.engine.Engine - INFO - [cached since 13.12s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:45,588 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.89ms
2026-02-04 10:12:45,588 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 10:12:58,028 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:12:58,028 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 10:12:58,028 - sqlalchemy.engine.Engine - INFO - [cached since 25.57s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:58,031 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 10:12:58,031 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ('AMD',)
2026-02-04 10:12:59,320 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 10:12:59,320 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] ('AMD',)
2026-02-04 10:12:59,324 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-04 10:12:59,324 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] (394165157888.0, 126.09896, 36.64003, 'AMD')
2026-02-04 10:12:59,327 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 10:12:59,327 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (242.11, -1.6892, 63.51316475060508, 233.63649978637696, 221.94559967041016, 177.32649974823, 7.9109600074873185, 7.752250653350175, 0.1587093541371436, 270.94996493981415, 233.63649978637696, 196.32303463293977, 12.859452383858818, 40.72458836374426, 54.82028583808427, 12.533193415064247, 38430194.6, 1.0676472608858452, '2026-02-04 02:12:58.032853', 'AMD')
2026-02-04 10:12:59,329 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 10:12:59,331 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:12:59,334 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 10:12:59,334 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('AMD',)
2026-02-04 10:12:59,335 - api_logger - INFO - rid=/api/portfolio/AMD/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1310.85ms
2026-02-04 10:12:59,336 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 10:12:59,344 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:12:59,345 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 10:12:59,345 - sqlalchemy.engine.Engine - INFO - [cached since 26.88s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:59,347 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 10:12:59,347 - sqlalchemy.engine.Engine - INFO - [cached since 26.88s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:59,350 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.99ms
2026-02-04 10:12:59,350 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 10:13:09,496 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:13:09,496 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 10:13:09,496 - sqlalchemy.engine.Engine - INFO - [cached since 37.04s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:13:09,497 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 10:13:09,497 - sqlalchemy.engine.Engine - INFO - [cached since 11.47s ago] ('AMD',)
2026-02-04 10:13:10,070 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 10:13:10,070 - sqlalchemy.engine.Engine - INFO - [cached since 10.75s ago] ('AMD',)
2026-02-04 10:13:10,074 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 10:13:10,074 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('2026-02-04 02:13:09.498006', 'AMD')
2026-02-04 10:13:10,076 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 10:13:10,079 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:13:10,079 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 10:13:10,079 - sqlalchemy.engine.Engine - INFO - [cached since 10.75s ago] ('AMD',)
2026-02-04 10:13:10,081 - api_logger - INFO - rid=/api/portfolio/AMD/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=585.22ms
2026-02-04 10:13:10,082 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 10:13:10,090 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:13:10,091 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 10:13:10,091 - sqlalchemy.engine.Engine - INFO - [cached since 37.63s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:13:10,092 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 10:13:10,093 - sqlalchemy.engine.Engine - INFO - [cached since 37.63s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:13:10,095 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.45ms
2026-02-04 10:13:10,095 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:09,343 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:09,356 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 13:24:09,356 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('%S%', '%S%', 10, 0)
2026-02-04 13:24:09,360 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=41.54ms
2026-02-04 13:24:09,361 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:09,400 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:09,400 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 13:24:09,400 - sqlalchemy.engine.Engine - INFO - [cached since 0.04455s ago] ('%S L%', '%S L%', 10, 0)
2026-02-04 13:24:09,401 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.52ms
2026-02-04 13:24:09,401 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:09,598 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:09,599 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 13:24:09,599 - sqlalchemy.engine.Engine - INFO - [cached since 0.2436s ago] ('%S L%', '%S L%', 10, 0)
2026-02-04 13:24:09,601 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.74ms
2026-02-04 13:24:09,602 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:09,803 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:09,803 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 13:24:09,804 - sqlalchemy.engine.Engine - INFO - [cached since 0.4478s ago] ('%S L%', '%S L%', 10, 0)
2026-02-04 13:24:09,819 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:09,823 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 13:24:09,824 - sqlalchemy.engine.Engine - INFO - [cached since 0.4679s ago] ('%SLV%', '%SLV%', 10, 0)
2026-02-04 13:24:09,827 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.07ms
2026-02-04 13:24:09,827 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:11,191 - yfinance - ERROR - HTTP Error 404: {"quoteSummary":{"result":null,"error":{"code":"Not Found","description":"Quote not found for symbol: S L"}}}
2026-02-04 13:24:11,528 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:11,528 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 13:24:11,529 - sqlalchemy.engine.Engine - INFO - [cached since 2.173s ago] ('%SLV%', '%SLV%', 10, 0)
2026-02-04 13:24:11,552 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1751.42ms
2026-02-04 13:24:11,553 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:12,333 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 13:24:12,333 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('SLV',)
2026-02-04 13:24:12,339 - sqlalchemy.engine.Engine - INFO - INSERT INTO stocks (ticker, name, sector, industry, market_cap, pe_ratio, forward_pe, eps, dividend_yield, beta, fifty_two_week_high, fifty_two_week_low, exchange, currency) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-04 13:24:12,339 - sqlalchemy.engine.Engine - INFO - [generated in 0.00087s] ('SLV', 'iShares Silver Trust', None, None, None, None, None, None, None, None, None, None, None, 'USD')
2026-02-04 13:24:12,343 - sqlalchemy.engine.Engine - INFO - INSERT INTO market_data_cache (ticker, current_price, change_percent, rsi_14, ma_20, ma_50, ma_200, macd_val, macd_signal, macd_hist, bb_upper, bb_middle, bb_lower, atr_14, k_line, d_line, j_line, volume_ma_20, volume_ratio, market_status, last_updated) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-04 13:24:12,343 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('SLV', 76.96, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, 'CLOSED', '2026-02-04 05:24:12.343262')
2026-02-04 13:24:12,344 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 13:24:12,345 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:12,346 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 13:24:12,346 - sqlalchemy.engine.Engine - INFO - [cached since 2.99s ago] ('%SLV%', '%SLV%', 10, 0)
2026-02-04 13:24:12,347 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=820.09ms
2026-02-04 13:24:12,348 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:33,591 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:33,593 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 13:24:33,593 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:33,595 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 13:24:33,596 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV')
2026-02-04 13:24:33,599 - sqlalchemy.engine.Engine - INFO - INSERT INTO portfolios (id, user_id, ticker, quantity, avg_cost, target_price, stop_loss_price, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-04 13:24:33,599 - sqlalchemy.engine.Engine - INFO - [generated in 0.00077s] ('50b62451-dc6f-4020-bbf2-6aff75fbaea6', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 0.0, 0.0, None, None, '2026-02-04 05:24:33.599404', '2026-02-04 05:24:33.599414')
2026-02-04 13:24:33,601 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 13:24:33,603 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:33,604 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 13:24:33,605 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('SLV',)
2026-02-04 13:24:33,607 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 13:24:33,607 - sqlalchemy.engine.Engine - INFO - [cached since 0.003069s ago] ('SLV',)
2026-02-04 13:24:33,608 - api_logger - INFO - rid=/api/portfolio/ method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=20.16ms
2026-02-04 13:24:33,608 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:33,616 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:33,616 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 13:24:33,616 - sqlalchemy.engine.Engine - INFO - [cached since 0.02351s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:33,618 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 13:24:33,618 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:33,621 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.46ms
2026-02-04 13:24:33,621 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:39,354 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:39,354 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 13:24:39,354 - sqlalchemy.engine.Engine - INFO - [cached since 5.762s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:39,356 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 13:24:39,356 - sqlalchemy.engine.Engine - INFO - [cached since 5.752s ago] ('TSLA',)
2026-02-04 13:24:40,176 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 13:24:40,176 - sqlalchemy.engine.Engine - INFO - [cached since 27.84s ago] ('TSLA',)
2026-02-04 13:24:40,179 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-04 13:24:40,180 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (1583376105472.0, 383.59998, 145.23851, 'TSLA')
2026-02-04 13:24:40,182 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 13:24:40,182 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] (421.96, 0.0130344, 38.985851060458, 434.7009994506836, 444.34800109863284, 378.9632501983643, -6.756939990591604, -5.2095357269278475, -1.5474042636637568, 454.6777697731721, 434.7009994506836, 414.7242291281951, 14.829999651227679, 27.57741318929539, 34.740871617734854, 13.250496332416475, 61851570.0, 0.9175595704361263, '2026-02-04 05:24:39.358625', 'TSLA')
2026-02-04 13:24:40,183 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 13:24:40,186 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:40,189 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 13:24:40,189 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('TSLA',)
2026-02-04 13:24:40,190 - api_logger - INFO - rid=/api/portfolio/TSLA/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=840.44ms
2026-02-04 13:24:40,191 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:40,199 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:40,199 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 13:24:40,199 - sqlalchemy.engine.Engine - INFO - [cached since 6.607s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:40,200 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 13:24:40,200 - sqlalchemy.engine.Engine - INFO - [cached since 6.582s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:40,205 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.95ms
2026-02-04 13:24:40,206 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:44,414 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:44,415 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 13:24:44,415 - sqlalchemy.engine.Engine - INFO - [cached since 10.82s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:44,416 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 13:24:44,417 - sqlalchemy.engine.Engine - INFO - [cached since 10.81s ago] ('SLV',)
2026-02-04 13:24:44,830 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 13:24:44,830 - sqlalchemy.engine.Engine - INFO - [cached since 32.5s ago] ('SLV',)
2026-02-04 13:24:44,832 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, fifty_two_week_high=?, fifty_two_week_low=? WHERE stocks.ticker = ?
2026-02-04 13:24:44,832 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (26277990400.0, 109.83, 26.57, 'SLV')
2026-02-04 13:24:44,834 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, market_status=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 13:24:44,834 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (6.23964, 48.901099238164726, 83.84099922180175, 67.92299964904785, 44.32224988937378, 5.215703345708121, 7.541513027805435, -2.325809682097314, 106.75389489960835, 83.84099922180175, 60.92810354399515, 8.957856859479632, 37.54425616139929, 58.22902025375872, -3.8252720233195703, 175141705.0, 0.9947567885101952, <MarketStatus.OPEN: 'OPEN'>, '2026-02-04 05:24:44.418199', 'SLV')
2026-02-04 13:24:44,834 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 13:24:44,837 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:44,837 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 13:24:44,837 - sqlalchemy.engine.Engine - INFO - [cached since 4.648s ago] ('SLV',)
2026-02-04 13:24:44,838 - api_logger - INFO - rid=/api/portfolio/SLV/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=425.41ms
2026-02-04 13:24:44,839 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:44,846 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:44,846 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 13:24:44,846 - sqlalchemy.engine.Engine - INFO - [cached since 11.25s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:44,847 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 13:24:44,847 - sqlalchemy.engine.Engine - INFO - [cached since 11.23s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:44,849 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.13ms
2026-02-04 13:24:44,850 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:47,244 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:47,245 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 13:24:47,245 - sqlalchemy.engine.Engine - INFO - [cached since 13.65s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:47,247 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 13:24:47,248 - sqlalchemy.engine.Engine - INFO - [cached since 13.64s ago] ('SLV',)
2026-02-04 13:24:47,605 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 13:24:47,605 - sqlalchemy.engine.Engine - INFO - [cached since 35.27s ago] ('SLV',)
2026-02-04 13:24:47,608 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 13:24:47,608 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('2026-02-04 05:24:47.249241', 'SLV')
2026-02-04 13:24:47,609 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 13:24:47,612 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:47,612 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 13:24:47,612 - sqlalchemy.engine.Engine - INFO - [cached since 7.424s ago] ('SLV',)
2026-02-04 13:24:47,614 - api_logger - INFO - rid=/api/portfolio/SLV/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=372.12ms
2026-02-04 13:24:47,615 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:47,623 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:47,624 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 13:24:47,624 - sqlalchemy.engine.Engine - INFO - [cached since 14.03s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:47,625 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 13:24:47,625 - sqlalchemy.engine.Engine - INFO - [cached since 14.01s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:47,628 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.09ms
2026-02-04 13:24:47,630 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:11:44,093 - api_logger - INFO - rid=/health method=GET status_code=200 user_id=anonymous time=0.84ms
2026-02-04 15:13:14,760 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:13:14,767 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.email = ?
2026-02-04 15:13:14,768 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('test@qq.com',)
2026-02-04 15:13:14,975 - api_logger - INFO - rid=/api/auth/login method=POST status_code=200 user_id=anonymous time=219.97ms
2026-02-04 15:13:14,975 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:13:15,101 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:13:15,103 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:13:15,103 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:13:15,105 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 15:13:15,106 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:13:15,108 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.27ms
2026-02-04 15:13:15,109 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:13:15,112 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:13:15,112 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:13:15,112 - sqlalchemy.engine.Engine - INFO - [cached since 0.009409s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:13:15,113 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 15:13:15,113 - sqlalchemy.engine.Engine - INFO - [cached since 0.007594s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:13:15,115 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.39ms
2026-02-04 15:13:15,116 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:13:33,841 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:13:33,842 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:13:33,842 - sqlalchemy.engine.Engine - INFO - [cached since 18.74s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:13:33,845 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 15:13:33,845 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] ('RKLB',)
2026-02-04 15:13:35,052 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 15:13:35,052 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('RKLB',)
2026-02-04 15:13:35,054 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-04 15:13:35,054 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (43410882560.0, -520.9615, 'RKLB')
2026-02-04 15:13:35,056 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 15:13:35,056 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (81.27, 9.60215, 45.53105071319626, 86.12300109863281, 68.93250045776367, 48.69662506103516, 2.675119398231587, 4.937373559769624, -2.2622541615380376, 95.7621114681288, 86.12300109863281, 76.48389072913683, 7.691499437604632, 23.975860402560407, 27.761536312894865, 16.404508581891484, 25240300.0, 0.7506963070961914, '2026-02-04 07:13:33.846991', 'RKLB')
2026-02-04 15:13:35,057 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 15:13:35,059 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:13:35,060 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 15:13:35,060 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('RKLB',)
2026-02-04 15:13:35,061 - api_logger - INFO - rid=/api/portfolio/RKLB/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1222.61ms
2026-02-04 15:13:35,062 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:13:35,069 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:13:35,069 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:13:35,069 - sqlalchemy.engine.Engine - INFO - [cached since 19.97s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:13:35,070 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 15:13:35,070 - sqlalchemy.engine.Engine - INFO - [cached since 19.96s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:13:35,072 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.62ms
2026-02-04 15:13:35,073 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:13:39,729 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:13:39,729 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:13:39,729 - sqlalchemy.engine.Engine - INFO - [cached since 24.63s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:13:39,731 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 15:13:39,731 - sqlalchemy.engine.Engine - INFO - [cached since 5.886s ago] ('PG',)
2026-02-04 15:13:40,417 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 15:13:40,418 - sqlalchemy.engine.Engine - INFO - [cached since 5.367s ago] ('PG',)
2026-02-04 15:13:40,421 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, dividend_yield=? WHERE stocks.ticker = ?
2026-02-04 15:13:40,422 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] (362941448192.0, 22.976332, 21.223364, 2.72, 'PG')
2026-02-04 15:13:40,423 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 15:13:40,423 - sqlalchemy.engine.Engine - INFO - [cached since 5.367s ago] (155.32, 1.39043, 76.0731406350309, 146.04354019165038, 144.57608764648438, 151.7821150970459, 2.5837803418685326, 1.586473676083925, 0.9973066657846075, 155.79496180694696, 146.04354019165038, 136.2921185763538, 2.6546578177697637, 86.3001733728906, 82.04496914992173, 94.81058181882835, 12185330.0, 1.0192337835741831, '2026-02-04 07:13:39.732265', 'PG')
2026-02-04 15:13:40,424 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 15:13:40,426 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:13:40,427 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 15:13:40,427 - sqlalchemy.engine.Engine - INFO - [cached since 5.367s ago] ('PG',)
2026-02-04 15:13:40,429 - api_logger - INFO - rid=/api/portfolio/PG/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=700.87ms
2026-02-04 15:13:40,430 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:13:40,440 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:13:40,440 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:13:40,440 - sqlalchemy.engine.Engine - INFO - [cached since 25.34s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:13:40,441 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 15:13:40,442 - sqlalchemy.engine.Engine - INFO - [cached since 25.34s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:13:40,444 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.94ms
2026-02-04 15:13:40,445 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:24:58,387 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:24:58,387 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:24:58,387 - sqlalchemy.engine.Engine - INFO - [cached since 703.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:24:58,388 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:24:58,416 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:24:58,416 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:24:58,416 - sqlalchemy.engine.Engine - INFO - [cached since 703.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:24:58,417 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:25:08,623 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:25:08,623 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:25:08,623 - sqlalchemy.engine.Engine - INFO - [cached since 713.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:25:08,624 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:30:51,032 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:30:51,035 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:30:51,035 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:30:51,039 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:51:19,765 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:51:19,766 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:51:19,766 - sqlalchemy.engine.Engine - INFO - [cached since 2285s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:51:19,769 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 15:51:19,770 - sqlalchemy.engine.Engine - INFO - [cached since 2285s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:51:19,774 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.71ms
2026-02-04 15:51:19,774 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:51:19,776 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:51:19,776 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:51:19,776 - sqlalchemy.engine.Engine - INFO - [cached since 2285s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:51:19,777 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 15:51:19,777 - sqlalchemy.engine.Engine - INFO - [cached since 2285s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:51:19,778 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.78ms
2026-02-04 15:51:19,779 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:51:22,082 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:51:22,083 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:51:22,083 - sqlalchemy.engine.Engine - INFO - [cached since 2287s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:51:22,083 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:51:22,086 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:51:22,086 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:51:22,086 - sqlalchemy.engine.Engine - INFO - [cached since 2287s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:51:22,086 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:51:26,238 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:51:26,239 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:51:26,239 - sqlalchemy.engine.Engine - INFO - [cached since 2291s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:51:26,239 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 15:51:26,240 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:51:26,241 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:51:26,241 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:51:26,241 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:51:50,077 - api_logger - INFO - rid=/docs method=HEAD status_code=200 user_id=anonymous time=0.33ms
2026-02-04 15:51:57,425 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:51:57,428 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:51:57,428 - sqlalchemy.engine.Engine - INFO - [cached since 2322s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:51:57,436 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 15:51:57,437 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:51:57,438 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:51:57,438 - sqlalchemy.engine.Engine - INFO - [cached since 31.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:51:57,442 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:52:00,210 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:52:00,210 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:52:00,210 - sqlalchemy.engine.Engine - INFO - [cached since 2325s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:52:00,211 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 15:52:00,211 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:52:00,211 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:52:00,211 - sqlalchemy.engine.Engine - INFO - [cached since 33.97s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:52:00,212 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:52:16,853 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:52:16,854 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:52:16,854 - sqlalchemy.engine.Engine - INFO - [cached since 2342s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:52:16,857 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 15:52:16,857 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:52:16,858 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:52:16,858 - sqlalchemy.engine.Engine - INFO - [cached since 50.62s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:52:16,858 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:52:19,936 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:52:19,937 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:52:19,937 - sqlalchemy.engine.Engine - INFO - [cached since 2345s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:52:19,938 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 15:52:19,939 - sqlalchemy.engine.Engine - INFO - [cached since 2345s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:52:19,942 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.66ms
2026-02-04 15:52:19,943 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:52:19,945 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:52:19,945 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:52:19,945 - sqlalchemy.engine.Engine - INFO - [cached since 2345s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:52:19,947 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 15:52:19,948 - sqlalchemy.engine.Engine - INFO - [cached since 2345s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:52:19,951 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.07ms
2026-02-04 15:52:19,952 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:53:35,986 - api_logger - INFO - rid=/api/user/me method=GET status_code=401 user_id=anonymous time=1.95ms
2026-02-04 15:55:31,239 - api_logger - INFO - rid=/api/user/me method=GET status_code=401 user_id=anonymous time=1.24ms
2026-02-04 15:56:11,381 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:56:11,390 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:56:11,390 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:56:11,391 - api_logger - INFO - rid=/api/user/me method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=31.25ms
2026-02-04 15:56:11,391 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:56:11,394 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:56:11,395 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:56:11,396 - sqlalchemy.engine.Engine - INFO - [cached since 0.005964s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:56:11,401 - api_logger - INFO - rid=/api/user/me method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.90ms
2026-02-04 15:56:11,405 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:56:12,654 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:56:12,654 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:56:12,654 - sqlalchemy.engine.Engine - INFO - [cached since 1.264s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:56:12,655 - api_logger - INFO - rid=/api/user/me method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.10ms
2026-02-04 15:56:12,655 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:56:27,641 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:56:27,642 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:56:27,642 - sqlalchemy.engine.Engine - INFO - [cached since 16.25s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:56:27,646 - sqlalchemy.engine.Engine - INFO - UPDATE users SET preferred_ai_model=? WHERE users.id = ?
2026-02-04 15:56:27,646 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] ('qwen-3-vl-thinking', '9fe069c3-5985-4d2a-8814-91898152fc4a')
2026-02-04 15:56:27,649 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 15:56:27,651 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:56:27,653 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:56:27,653 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:56:27,654 - api_logger - INFO - rid=/api/user/settings method=PUT status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=17.56ms
2026-02-04 15:56:27,655 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:56:27,669 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:56:27,669 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:56:27,669 - sqlalchemy.engine.Engine - INFO - [cached since 16.28s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:56:27,670 - api_logger - INFO - rid=/api/user/me method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.56ms
2026-02-04 15:56:27,670 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:30:02,677 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:30:02,678 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:30:02,678 - sqlalchemy.engine.Engine - INFO - [cached since 2600s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:30:02,685 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 17:30:02,685 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:30:02,692 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=32.05ms
2026-02-04 17:30:02,692 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:30:02,695 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:30:02,696 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:30:02,696 - sqlalchemy.engine.Engine - INFO - [cached since 2600s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:30:02,697 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 17:30:02,697 - sqlalchemy.engine.Engine - INFO - [cached since 0.01207s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:30:02,699 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.05ms
2026-02-04 17:30:02,699 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:30:04,598 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:30:04,599 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:30:04,599 - sqlalchemy.engine.Engine - INFO - [cached since 2602s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:30:04,601 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:30:04,601 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('AAPL',)
2026-02-04 17:30:05,816 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 17:30:05,816 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('AAPL',)
2026-02-04 17:30:05,819 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-04 17:30:05,820 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] (3960797134848.0, 34.111393, 29.032974, 7.9, 'AAPL')
2026-02-04 17:30:05,822 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 17:30:05,822 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] (269.48, -0.175946, 59.92467971633815, 257.710498046875, 268.36499877929685, 237.1007225036621, -1.1592349190868845, -3.453628120329124, 2.2943932012422397, 270.39885390520396, 257.710498046875, 245.022142188546, 6.397148132324219, 84.30394396914471, 71.41640888173549, 110.07901414396315, 54739250.0, 1.1753832944368072, '2026-02-04 09:30:04.602326', 'AAPL')
2026-02-04 17:30:05,823 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:30:05,825 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:30:05,826 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:30:05,826 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('AAPL',)
2026-02-04 17:30:05,828 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-04 17:30:05,828 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('AAPL', 5, 0)
2026-02-04 17:30:05,830 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 17:30:05,830 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL')
2026-02-04 17:30:05,832 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:30:05,832 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:30:21,592 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 17:30:21,601 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-04 17:30:21,601 - sqlalchemy.engine.Engine - INFO - [generated in 0.00086s] ('ed8e0c09-7082-4054-9d2b-6ee01b21677b', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', '{"market_data": {"current_price": 269.48, "change_percent": -0.175946, "rsi_14": 59.92467971633815, "ma_20": 257.710498046875, "ma_50": 268.364998779 ... (224 characters truncated) ... rket_status": "OPEN"}, "portfolio_data": {"avg_cost": 200.0, "quantity": 100.0, "unrealized_pl": 6948.000000000002, "pl_percent": 34.74000000000001}}', '{\n    "technical_analysis": "269.48270.3988RSI 59.92MACDKDJK84.3050 ... (231 characters truncated) ... 20034.74%694830%3027070%255RSI70250"\n}', None, 'qwen-3-vl-thinking', '2026-02-04 09:30:21.601442')
2026-02-04 17:30:21,605 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:30:21,608 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:30:21,610 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-04 17:30:21,610 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('ed8e0c09-7082-4054-9d2b-6ee01b21677b',)
2026-02-04 17:30:21,611 - api_logger - INFO - rid=/api/analysis/AAPL method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=17018.96ms
2026-02-04 17:30:21,612 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:31:32,114 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:31:32,115 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:31:32,115 - sqlalchemy.engine.Engine - INFO - [cached since 2690s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:31:32,119 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 17:31:32,119 - sqlalchemy.engine.Engine - INFO - [cached since 86.29s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-04 17:31:32,124 - sqlalchemy.engine.Engine - INFO - UPDATE portfolios SET quantity=?, avg_cost=?, updated_at=? WHERE portfolios.id = ?
2026-02-04 17:31:32,125 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] (5.0, 480.0, '2026-02-04 09:31:32.124543', '57416cd4-f97b-4ac4-ab32-aaf9ad8218bd')
2026-02-04 17:31:32,127 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:31:32,129 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:31:32,129 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:31:32,129 - sqlalchemy.engine.Engine - INFO - [cached since 87.53s ago] ('SNDK',)
2026-02-04 17:31:32,130 - api_logger - INFO - rid=/api/portfolio/ method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=21.10ms
2026-02-04 17:31:32,131 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:31:32,139 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:31:32,140 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:31:32,140 - sqlalchemy.engine.Engine - INFO - [cached since 2690s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:31:32,140 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 17:31:32,141 - sqlalchemy.engine.Engine - INFO - [cached since 89.46s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:31:32,142 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.48ms
2026-02-04 17:31:32,143 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:31:40,108 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:31:40,109 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:31:40,109 - sqlalchemy.engine.Engine - INFO - [cached since 2698s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:31:40,112 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:31:40,112 - sqlalchemy.engine.Engine - INFO - [cached since 95.51s ago] ('SNDK',)
2026-02-04 17:31:41,230 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 17:31:41,231 - sqlalchemy.engine.Engine - INFO - [cached since 95.42s ago] ('SNDK',)
2026-02-04 17:31:41,235 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-04 17:31:41,235 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] (102634496000.0, 9.438714, -7.44, 'SNDK')
2026-02-04 17:31:41,238 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 17:31:41,238 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] (695.51, 4.55024, 90.76217109862455, 464.6364974975586, 321.68659912109376, 141.71257501602173, 90.18322411015168, 70.66611185751326, 19.517112252638427, 665.6245871458533, 464.6364974975586, 263.6484078492639, 86.46232396547296, 85.48506715935619, 88.41683757770653, 19729255.0, 1.5715646637442722, '2026-02-04 09:31:40.113146', 'SNDK')
2026-02-04 17:31:41,239 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:31:41,240 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:31:41,241 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:31:41,241 - sqlalchemy.engine.Engine - INFO - [cached since 95.42s ago] ('SNDK',)
2026-02-04 17:31:41,242 - api_logger - INFO - rid=/api/portfolio/SNDK/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1139.92ms
2026-02-04 17:31:41,242 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:31:41,253 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:31:41,253 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:31:41,253 - sqlalchemy.engine.Engine - INFO - [cached since 2699s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:31:41,255 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 17:31:41,255 - sqlalchemy.engine.Engine - INFO - [cached since 98.57s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:31:41,257 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.36ms
2026-02-04 17:31:41,258 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:31:45,806 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:31:45,807 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:31:45,807 - sqlalchemy.engine.Engine - INFO - [cached since 2703s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:31:45,809 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:31:45,810 - sqlalchemy.engine.Engine - INFO - [cached since 101.2s ago] ('SNDK',)
2026-02-04 17:31:45,811 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-04 17:31:45,812 - sqlalchemy.engine.Engine - INFO - [cached since 99.98s ago] ('SNDK', 5, 0)
2026-02-04 17:31:45,814 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 17:31:45,814 - sqlalchemy.engine.Engine - INFO - [cached since 99.98s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-04 17:31:45,815 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:31:45,815 - sqlalchemy.engine.Engine - INFO - [cached since 99.98s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:32:01,257 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 17:32:01,263 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-04 17:32:01,263 - sqlalchemy.engine.Engine - INFO - [cached since 99.66s ago] ('78a43e35-e76e-4e9e-8e4f-da9c264c23a0', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', '{"market_data": {"current_price": 695.51, "change_percent": 4.55024, "rsi_14": 90.76217109862455, "ma_20": 464.6364974975586, "ma_50": 321.6865991210 ... (210 characters truncated) ... 2918527, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 480.0, "quantity": 5.0, "unrealized_pl": 1077.55, "pl_percent": 44.89791666666667}}', '{\n    "technical_analysis": "$695.51665.62RSI90.76MACD19.52KDJK86.46ATR54.16 ... (242 characters truncated) ... 60%$670$48041%$670RSI60"\n}', None, 'qwen-3-vl-thinking', '2026-02-04 09:32:01.263542')
2026-02-04 17:32:01,266 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:32:01,269 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:32:01,269 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-04 17:32:01,270 - sqlalchemy.engine.Engine - INFO - [cached since 99.66s ago] ('78a43e35-e76e-4e9e-8e4f-da9c264c23a0',)
2026-02-04 17:32:01,275 - api_logger - INFO - rid=/api/analysis/SNDK method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=15470.42ms
2026-02-04 17:32:01,276 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:33:46,876 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:33:46,877 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:33:46,877 - sqlalchemy.engine.Engine - INFO - [cached since 2824s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:33:46,879 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 17:33:46,879 - sqlalchemy.engine.Engine - INFO - [cached since 224.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:33:46,881 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=21.41ms
2026-02-04 17:33:46,882 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:36:37,241 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=401 user_id=anonymous time=3.69ms
2026-02-04 17:37:10,100 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:10,110 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:10,110 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:10,110 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:10,110 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:10,110 - sqlalchemy.engine.Engine - INFO - [cached since 0.0006019s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:10,112 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:37:10,112 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:37:10,113 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 17:37:10,113 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:10,114 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=16.37ms
2026-02-04 17:37:10,114 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:37:10,116 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=42.09ms
2026-02-04 17:37:10,117 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:37:36,586 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:36,587 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:36,587 - sqlalchemy.engine.Engine - INFO - [cached since 26.48s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:36,589 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:37:36,589 - sqlalchemy.engine.Engine - INFO - [cached since 26.48s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:37:36,590 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:37:36,590 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.30ms
2026-02-04 17:37:36,615 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:36,615 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:36,615 - sqlalchemy.engine.Engine - INFO - [cached since 26.51s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:36,616 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:37:36,616 - sqlalchemy.engine.Engine - INFO - [cached since 26.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:37:36,616 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.19ms
2026-02-04 17:37:36,617 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:37:36,681 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:36,681 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:36,681 - sqlalchemy.engine.Engine - INFO - [cached since 26.57s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:36,682 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:37:36,682 - sqlalchemy.engine.Engine - INFO - [cached since 26.57s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:37:36,683 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:37:36,683 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.49ms
2026-02-04 17:37:37,475 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:37,475 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:37,475 - sqlalchemy.engine.Engine - INFO - [cached since 27.37s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:37,477 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:37:37,477 - sqlalchemy.engine.Engine - INFO - [cached since 27.37s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:37:37,478 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:37:37,478 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.87ms
2026-02-04 17:37:37,483 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:37,483 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:37,483 - sqlalchemy.engine.Engine - INFO - [cached since 27.37s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:37,484 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:37:37,484 - sqlalchemy.engine.Engine - INFO - [cached since 27.37s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:37:37,485 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:37:37,485 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.24ms
2026-02-04 17:37:37,510 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:37,510 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:37,510 - sqlalchemy.engine.Engine - INFO - [cached since 27.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:37,511 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:37:37,512 - sqlalchemy.engine.Engine - INFO - [cached since 27.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:37:37,512 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:37:37,513 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.72ms
2026-02-04 17:37:45,025 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:45,026 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:45,026 - sqlalchemy.engine.Engine - INFO - [cached since 34.92s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:45,028 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:37:45,029 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('ASTS',)
2026-02-04 17:37:46,284 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 17:37:46,284 - sqlalchemy.engine.Engine - INFO - [generated in 0.00093s] ('ASTS',)
2026-02-04 17:37:46,291 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-04 17:37:46,292 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] (42530377728.0, -113.937004, -1.13, 'ASTS')
2026-02-04 17:37:46,294 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 17:37:46,294 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (115.76, 10.7221, 60.88435533519565, 105.58199996948242, 83.91839981079102, 57.33144978523254, 8.731190171461122, 9.29386815512495, -0.5626779836638267, 126.67821996504324, 105.58199996948242, 84.48577997392161, 12.764786311558314, 51.209092043721185, 61.47546705495088, 30.676342021261803, 17378490.0, 0.8966083934795256, '2026-02-04 09:37:45.029810', 'ASTS')
2026-02-04 17:37:46,295 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:37:46,297 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:46,299 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:37:46,299 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('ASTS',)
2026-02-04 17:37:46,301 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-04 17:37:46,301 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('ASTS', 5, 0)
2026-02-04 17:37:46,302 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 17:37:46,303 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS')
2026-02-04 17:37:46,304 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:37:46,304 - sqlalchemy.engine.Engine - INFO - [cached since 36.19s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:37:47,966 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:47,966 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:47,966 - sqlalchemy.engine.Engine - INFO - [cached since 37.86s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:47,968 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:37:47,969 - sqlalchemy.engine.Engine - INFO - [cached since 2.94s ago] ('ASTS',)
2026-02-04 17:37:48,462 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 17:37:48,463 - sqlalchemy.engine.Engine - INFO - [cached since 2.179s ago] ('ASTS',)
2026-02-04 17:37:48,465 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 17:37:48,465 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('2026-02-04 09:37:47.971208', 'ASTS')
2026-02-04 17:37:48,466 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:37:48,469 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:48,471 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:37:48,471 - sqlalchemy.engine.Engine - INFO - [cached since 2.172s ago] ('ASTS',)
2026-02-04 17:37:48,472 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=509.21ms
2026-02-04 17:37:48,473 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:37:48,481 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:48,481 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:48,481 - sqlalchemy.engine.Engine - INFO - [cached since 38.37s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:48,482 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 17:37:48,482 - sqlalchemy.engine.Engine - INFO - [cached since 38.37s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:48,485 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.24ms
2026-02-04 17:37:48,486 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:38:01,833 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 17:38:01,843 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-04 17:38:01,843 - sqlalchemy.engine.Engine - INFO - [generated in 0.00071s] ('3b009eaa-04b7-4da5-902f-bc3b275298f0', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', '{"market_data": {"current_price": 115.76, "change_percent": 10.7221, "rsi_14": 60.88435533519565, "ma_20": 105.58199996948242, "ma_50": 83.9183998107 ... (191 characters truncated) ...  "atr_14": 12.764786311558314, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 0.0, "quantity": 0.0, "unrealized_pl": 0.0, "pl_percent": 0}}', '{\n    "technical_analysis": "115.76126.681.5%RSI 60.8870MACD ... (312 characters truncated) ... 115.76112.801.5%MACD"\n}', None, 'qwen-3-vl-thinking', '2026-02-04 09:38:01.842827')
2026-02-04 17:38:01,845 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:38:01,847 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:38:01,848 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-04 17:38:01,848 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('3b009eaa-04b7-4da5-902f-bc3b275298f0',)
2026-02-04 17:38:01,851 - api_logger - INFO - rid=/api/analysis/ASTS method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=16832.47ms
2026-02-04 17:38:01,851 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:41:09,074 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:41:09,076 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:41:09,077 - sqlalchemy.engine.Engine - INFO - [cached since 239s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:41:09,083 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:41:09,084 - sqlalchemy.engine.Engine - INFO - [cached since 239s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:41:09,086 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:41:09,088 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=18.72ms
2026-02-04 17:41:09,105 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:41:09,105 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:41:09,105 - sqlalchemy.engine.Engine - INFO - [cached since 239s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:41:09,106 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:41:09,106 - sqlalchemy.engine.Engine - INFO - [cached since 239s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:41:09,107 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.56ms
2026-02-04 17:41:09,107 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:41:09,180 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:41:09,181 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:41:09,181 - sqlalchemy.engine.Engine - INFO - [cached since 239.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:41:09,192 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:41:09,192 - sqlalchemy.engine.Engine - INFO - [cached since 239.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:41:09,193 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:41:09,193 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=15.28ms
2026-02-04 17:42:06,279 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:42:06,280 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:42:06,280 - sqlalchemy.engine.Engine - INFO - [cached since 296.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:42:06,282 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 17:42:06,282 - sqlalchemy.engine.Engine - INFO - [cached since 260s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO')
2026-02-04 17:42:06,288 - sqlalchemy.engine.Engine - INFO - UPDATE portfolios SET quantity=?, avg_cost=?, updated_at=? WHERE portfolios.id = ?
2026-02-04 17:42:06,288 - sqlalchemy.engine.Engine - INFO - [generated in 0.00077s] (30.0, 27.32, '2026-02-04 09:42:06.288245', '4a167c78-6d5a-4edc-9086-2d932400c7e6')
2026-02-04 17:42:06,291 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:42:06,294 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:42:06,294 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:42:06,294 - sqlalchemy.engine.Engine - INFO - [cached since 261.3s ago] ('FRO',)
2026-02-04 17:42:06,297 - api_logger - INFO - rid=/api/portfolio/ method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=24.19ms
2026-02-04 17:42:06,298 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:42:06,313 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:42:06,313 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:42:06,313 - sqlalchemy.engine.Engine - INFO - [cached since 296.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:42:06,315 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 17:42:06,315 - sqlalchemy.engine.Engine - INFO - [cached since 296.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:42:06,318 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.09ms
2026-02-04 17:42:06,320 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:42:08,738 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:42:08,739 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:42:08,739 - sqlalchemy.engine.Engine - INFO - [cached since 298.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:42:08,742 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:42:08,742 - sqlalchemy.engine.Engine - INFO - [cached since 263.7s ago] ('FRO',)
2026-02-04 17:42:09,541 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 17:42:09,541 - sqlalchemy.engine.Engine - INFO - [cached since 263.3s ago] ('FRO',)
2026-02-04 17:42:09,545 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, dividend_yield=?, fifty_two_week_high=? WHERE stocks.ticker = ?
2026-02-04 17:42:09,546 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (6420444160.0, 29.428572, 9.761216, 3.22, 29.035, 'FRO')
2026-02-04 17:42:09,547 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 17:42:09,547 - sqlalchemy.engine.Engine - INFO - [cached since 263.2s ago] (28.84, 0.980395, 73.30014401578512, 26.198500156402588, 24.152200012207032, 21.147373571395875, 1.3964805602255765, 1.1330709901663292, 0.26340957005924737, 29.7888100739721, 26.198500156402588, 22.608190238833075, 0.9071427753993443, 90.93232661099393, 85.85036455896932, 101.09625071504314, 3402495.0, 0.8713605751073844, '2026-02-04 09:42:08.743889', 'FRO')
2026-02-04 17:42:09,548 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:42:09,550 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:42:09,551 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:42:09,551 - sqlalchemy.engine.Engine - INFO - [cached since 263.2s ago] ('FRO',)
2026-02-04 17:42:09,552 - api_logger - INFO - rid=/api/portfolio/FRO/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=817.31ms
2026-02-04 17:42:09,553 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:42:09,561 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:42:09,561 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:42:09,561 - sqlalchemy.engine.Engine - INFO - [cached since 299.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:42:09,562 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 17:42:09,563 - sqlalchemy.engine.Engine - INFO - [cached since 299.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:42:09,568 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.44ms
2026-02-04 17:42:09,569 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:42:10,509 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:42:10,510 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:42:10,510 - sqlalchemy.engine.Engine - INFO - [cached since 300.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:42:10,512 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:42:10,512 - sqlalchemy.engine.Engine - INFO - [cached since 265.5s ago] ('FRO',)
2026-02-04 17:42:10,514 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-04 17:42:10,515 - sqlalchemy.engine.Engine - INFO - [cached since 264.2s ago] ('FRO', 5, 0)
2026-02-04 17:42:10,516 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 17:42:10,516 - sqlalchemy.engine.Engine - INFO - [cached since 264.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO')
2026-02-04 17:42:10,517 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:42:10,517 - sqlalchemy.engine.Engine - INFO - [cached since 300.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:42:24,789 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 17:42:24,799 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-04 17:42:24,799 - sqlalchemy.engine.Engine - INFO - [cached since 262.9s ago] ('5ae5f1df-1253-42a6-9479-0dc996049020', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', '{"market_data": {"current_price": 28.84, "change_percent": 0.980395, "rsi_14": 73.30014401578512, "ma_20": 26.198500156402588, "ma_50": 24.1522000122 ... (226 characters truncated) ... rket_status": "OPEN"}, "portfolio_data": {"avg_cost": 27.32, "quantity": 30.0, "unrealized_pl": 45.59999999999999, "pl_percent": 5.5636896046852105}}', '{\n    "technical_analysis": "$28.8429.791.5%0.95RSI(14)73.370MACD1.396KDJK ... (225 characters truncated) ... $28.84+5.4%29.50-30.00,30.00,27.5029.79"\n}', None, 'qwen-3-vl-thinking', '2026-02-04 09:42:24.799219')
2026-02-04 17:42:24,801 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:42:24,804 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:42:24,804 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-04 17:42:24,804 - sqlalchemy.engine.Engine - INFO - [cached since 262.9s ago] ('5ae5f1df-1253-42a6-9479-0dc996049020',)
2026-02-04 17:42:24,806 - api_logger - INFO - rid=/api/analysis/FRO method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14298.75ms
2026-02-04 17:42:24,809 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:04:53,153 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:04:53,175 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:04:53,175 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:04:53,175 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:04:53,175 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:04:53,175 - sqlalchemy.engine.Engine - INFO - [cached since 0.001006s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:04:53,178 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:04:53,178 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:04:53,181 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:04:53,181 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:04:53,184 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=75.32ms
2026-02-05 01:04:53,184 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:04:53,186 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=43.99ms
2026-02-05 01:04:53,187 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:04:57,973 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:04:57,974 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:04:57,974 - sqlalchemy.engine.Engine - INFO - [cached since 4.799s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:04:57,977 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:04:57,977 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('SNDK',)
2026-02-05 01:04:59,314 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:04:59,315 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('SNDK',)
2026-02-05 01:04:59,317 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:04:59,317 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('86f3263f-c1b4-3bcb-88bd-1738661f34f1', 'SNDK', 'Barclays Nearly Doubles SanDisk (SNDK) PT to $750 Following Separation, FQ2 2026 Earnings Beat', 'Insider Monkey', 'https://finance.yahoo.com/news/barclays-nearly-doubles-sandisk-sndk-140852145.html', '2026-02-04 14:08:52.000000', None)
2026-02-05 01:04:59,318 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:04:59,318 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('6fec5483-89a7-3c5b-9830-51a91542a546', 'SNDK', 'Social Buzz: Wallstreetbets Stocks Mixed Premarket Wednesday; Super Micro Computer to Advance, Advanced Micro Devices to Decline', 'MT Newswires', 'https://finance.yahoo.com/news/social-buzz-wallstreetbets-stocks-mixed-113847300.html', '2026-02-04 11:38:47.000000', None)
2026-02-05 01:04:59,319 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:04:59,319 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('d2036172-4375-3858-9a41-a99277cb8878', 'SNDK', 'Why Sandisk (SNDK) Is Up 31.8% After Extending Its AI-Focused Kioxia Flash Venture', 'Simply Wall St.', 'https://finance.yahoo.com/news/why-sandisk-sndk-31-8-031805472.html', '2026-02-04 03:18:05.000000', None)
2026-02-05 01:04:59,320 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:04:59,320 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('609dead7-d6ca-39f3-9d01-1d3fb8ffeafc', 'SNDK', 'Up 1,500%, Should You Buy Sandisk Right Now?', 'Motley Fool', 'https://finance.yahoo.com/news/1-500-buy-sandisk-now-013800184.html', '2026-02-04 01:38:00.000000', None)
2026-02-05 01:04:59,321 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:04:59,321 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('3b676487-cfd3-3222-9b19-5d5d91427c70', 'SNDK', 'AIGH Capital Dumps 2.6 Million Lumen Technologies Shares In $15.6 Million Exit', 'Motley Fool', 'https://finance.yahoo.com/news/aigh-capital-dumps-2-6-222003255.html', '2026-02-03 22:20:03.000000', None)
2026-02-05 01:04:59,321 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:04:59,321 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('fd8a79f1-6c3e-3d48-85fc-04e7d14584e6', 'SNDK', '2 Reasons Why SanDisk Stock Could Keep Climbing In 2026', 'Barchart', 'https://finance.yahoo.com/news/2-reasons-why-sandisk-stock-193100088.html', '2026-02-03 19:31:00.000000', None)
2026-02-05 01:04:59,322 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:04:59,322 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('69732aa6-00b4-3730-a337-f99a093f1c81', 'SNDK', 'Top analyst drops eye-popping new price target on SanDisk stock', 'TheStreet', 'https://finance.yahoo.com/news/top-analyst-drops-eye-popping-183300029.html', '2026-02-03 18:33:00.000000', None)
2026-02-05 01:04:59,322 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:04:59,322 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('ef793196-dd21-3ddc-939c-aa39a1fd21e5', 'SNDK', 'Exploring US High Growth Tech Stocks This February 2026', 'Simply Wall St.', 'https://finance.yahoo.com/news/exploring-us-high-growth-tech-173842405.html', '2026-02-03 17:38:42.000000', None)
2026-02-05 01:04:59,323 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:04:59,323 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('9541e60a-41db-3495-b3f1-794b7de75c9f', 'SNDK', "Sandisk Remains a Hot Buy. Can the Stock's Momentum Continue?", 'Motley Fool', 'https://finance.yahoo.com/news/sandisk-remains-hot-buy-stocks-142400201.html', '2026-02-03 14:24:00.000000', None)
2026-02-05 01:04:59,323 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:04:59,323 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('3f6b5d68-0813-3f6a-b8de-1caff40e5a68', 'SNDK', 'Sandisk Stock: Is Wall Street Bullish or Bearish?', 'Barchart', 'https://finance.yahoo.com/news/sandisk-stock-wall-street-bullish-140646674.html', '2026-02-03 14:06:46.000000', None)
2026-02-05 01:04:59,325 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 01:04:59,325 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (91262967808.0, 8.392939, 'SNDK')
2026-02-05 01:04:59,326 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:04:59,326 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (618.45, -11.079639, 75.59447229763566, 478.06859283447267, 330.1328372192383, 144.64748456954956, 89.93073857572568, 74.51903758976742, 15.411700985958262, 682.5710346079802, 478.06859283447267, 273.5661510609651, 58.44549996512277, 77.8311919151839, 82.93377541129877, 67.62602492295414, 19238053.2, 0.7498505098218566, '2026-02-04 17:04:57.978232', 'SNDK')
2026-02-05 01:04:59,326 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:04:59,327 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:04:59,328 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:04:59,328 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('SNDK',)
2026-02-05 01:04:59,329 - api_logger - INFO - rid=/api/portfolio/SNDK/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1359.69ms
2026-02-05 01:04:59,329 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:04:59,341 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:04:59,341 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:04:59,342 - sqlalchemy.engine.Engine - INFO - [cached since 6.167s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:04:59,342 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:04:59,343 - sqlalchemy.engine.Engine - INFO - [cached since 6.162s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:04:59,346 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.50ms
2026-02-05 01:04:59,347 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:11,968 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:11,968 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:11,968 - sqlalchemy.engine.Engine - INFO - [cached since 18.79s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:11,970 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:11,970 - sqlalchemy.engine.Engine - INFO - [cached since 18.79s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:11,972 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.63ms
2026-02-05 01:05:11,974 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:12,007 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:12,008 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:12,008 - sqlalchemy.engine.Engine - INFO - [cached since 18.83s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:12,009 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:12,009 - sqlalchemy.engine.Engine - INFO - [cached since 18.83s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:12,009 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.26ms
2026-02-05 01:05:12,010 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:12,074 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:12,075 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:12,075 - sqlalchemy.engine.Engine - INFO - [cached since 18.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:12,084 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:12,084 - sqlalchemy.engine.Engine - INFO - [cached since 18.91s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:12,085 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.51ms
2026-02-05 01:05:12,090 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:14,163 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:14,164 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:14,164 - sqlalchemy.engine.Engine - INFO - [cached since 20.99s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:14,165 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:05:14,165 - sqlalchemy.engine.Engine - INFO - [cached since 16.19s ago] ('SNDK',)
2026-02-05 01:05:14,167 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:14,168 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('SNDK', 5, 0)
2026-02-05 01:05:14,173 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-05 01:05:14,174 - sqlalchemy.engine.Engine - INFO - [generated in 0.00064s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-05 01:05:14,175 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:14,175 - sqlalchemy.engine.Engine - INFO - [cached since 21s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:14,176 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:17,919 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:17,923 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:17,923 - sqlalchemy.engine.Engine - INFO - [cached since 24.75s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:17,926 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:05:17,927 - sqlalchemy.engine.Engine - INFO - [cached since 19.95s ago] ('SNDK',)
2026-02-05 01:05:17,929 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:17,929 - sqlalchemy.engine.Engine - INFO - [cached since 3.762s ago] ('SNDK', 5, 0)
2026-02-05 01:05:17,931 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-05 01:05:17,931 - sqlalchemy.engine.Engine - INFO - [cached since 3.758s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-05 01:05:17,933 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:17,934 - sqlalchemy.engine.Engine - INFO - [cached since 24.76s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:17,935 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:25,502 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:25,502 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:25,502 - sqlalchemy.engine.Engine - INFO - [cached since 32.33s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:25,503 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:25,503 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:25,503 - sqlalchemy.engine.Engine - INFO - [cached since 32.33s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:25,505 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:05:25,505 - sqlalchemy.engine.Engine - INFO - [cached since 32.32s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:25,505 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:25,506 - sqlalchemy.engine.Engine - INFO - [cached since 32.33s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:25,507 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.90ms
2026-02-05 01:05:25,507 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.36ms
2026-02-05 01:05:25,508 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:25,508 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:34,441 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:34,443 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.email = ?
2026-02-05 01:05:34,444 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('test@qq.com',)
2026-02-05 01:05:34,665 - api_logger - INFO - rid=/api/auth/login method=POST status_code=200 user_id=anonymous time=233.88ms
2026-02-05 01:05:34,665 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:34,725 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:34,726 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:34,726 - sqlalchemy.engine.Engine - INFO - [cached since 41.55s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:34,727 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:05:34,727 - sqlalchemy.engine.Engine - INFO - [cached since 41.55s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:34,728 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.65ms
2026-02-05 01:05:34,728 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:34,729 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:34,729 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:34,729 - sqlalchemy.engine.Engine - INFO - [cached since 41.55s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:34,730 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:05:34,730 - sqlalchemy.engine.Engine - INFO - [cached since 41.55s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:34,731 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.36ms
2026-02-05 01:05:34,731 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:34,757 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:34,757 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:34,757 - sqlalchemy.engine.Engine - INFO - [cached since 41.58s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:34,758 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:34,758 - sqlalchemy.engine.Engine - INFO - [cached since 41.58s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:34,758 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.24ms
2026-02-05 01:05:34,759 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:37,426 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:37,426 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:37,426 - sqlalchemy.engine.Engine - INFO - [cached since 44.25s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:37,428 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:37,428 - sqlalchemy.engine.Engine - INFO - [cached since 44.25s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:37,430 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.86ms
2026-02-05 01:05:37,432 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:37,461 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:37,462 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:37,462 - sqlalchemy.engine.Engine - INFO - [cached since 44.29s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:37,462 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:37,463 - sqlalchemy.engine.Engine - INFO - [cached since 44.28s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:37,463 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.77ms
2026-02-05 01:05:37,464 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:37,522 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:37,523 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:37,523 - sqlalchemy.engine.Engine - INFO - [cached since 44.35s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:37,532 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:37,532 - sqlalchemy.engine.Engine - INFO - [cached since 44.35s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:37,533 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.64ms
2026-02-05 01:05:37,533 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:39,057 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:39,057 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:39,057 - sqlalchemy.engine.Engine - INFO - [cached since 45.88s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:39,059 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:05:39,059 - sqlalchemy.engine.Engine - INFO - [cached since 41.08s ago] ('SNDK',)
2026-02-05 01:05:39,062 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:39,062 - sqlalchemy.engine.Engine - INFO - [cached since 24.89s ago] ('SNDK', 5, 0)
2026-02-05 01:05:39,063 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-05 01:05:39,064 - sqlalchemy.engine.Engine - INFO - [cached since 24.89s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-05 01:05:39,065 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:39,065 - sqlalchemy.engine.Engine - INFO - [cached since 45.89s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:39,066 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:35,450 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:35,452 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:35,452 - sqlalchemy.engine.Engine - INFO - [cached since 222.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:35,456 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:08:35,456 - sqlalchemy.engine.Engine - INFO - [cached since 222.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:08:35,458 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=16.38ms
2026-02-05 01:08:35,459 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:35,476 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:35,476 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:35,476 - sqlalchemy.engine.Engine - INFO - [cached since 222.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:35,478 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:08:35,478 - sqlalchemy.engine.Engine - INFO - [cached since 222.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:08:35,479 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.47ms
2026-02-05 01:08:35,479 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:35,556 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:35,556 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:35,557 - sqlalchemy.engine.Engine - INFO - [cached since 222.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:35,560 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:08:35,560 - sqlalchemy.engine.Engine - INFO - [cached since 222.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:08:35,566 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.87ms
2026-02-05 01:08:35,567 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:38,009 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:38,010 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:38,010 - sqlalchemy.engine.Engine - INFO - [cached since 224.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:38,012 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:08:38,012 - sqlalchemy.engine.Engine - INFO - [cached since 220s ago] ('AAPL',)
2026-02-05 01:08:38,829 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:08:38,829 - sqlalchemy.engine.Engine - INFO - [cached since 219.5s ago] ('AAPL',)
2026-02-05 01:08:38,833 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:38,833 - sqlalchemy.engine.Engine - INFO - [no key 0.00038s] ('9aa7b4cd-fd6f-478b-95e6-eb4cafcb8db9', 'AAPL', "Alphabet set to report Q4 earnings in test of stock's rally amid Google's AI wins", 'Yahoo Finance', 'https://finance.yahoo.com/news/alphabet-set-to-report-q4-earnings-in-test-of-stocks-rally-amid-googles-ai-wins-195254201.html', '2026-02-03 19:52:54.000000', None)
2026-02-05 01:08:38,835 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:38,835 - sqlalchemy.engine.Engine - INFO - [no key 0.00031s] ('9b1076b6-10c4-3d44-89fb-24bf686a5a52', 'AAPL', 'Meet the "Magnificent Seven" Stock Berkshire Hathaway and Investing Legend Warren Buffett Should Have Bought. (Hint: It\'s Not Apple, Amazon, or Alphabet.)', 'Motley Fool', 'https://finance.yahoo.com/news/meet-magnificent-seven-stock-berkshire-170500492.html', '2026-02-04 17:05:00.000000', None)
2026-02-05 01:08:38,836 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:38,836 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('02bead2d-ccd9-3a31-989d-573ce3ba6327', 'AAPL', 'Silicon Labs Stock Soars. Why Texas Instruments Is Paying a Big Premium for the Acquisition.', 'Barrons.com', 'https://www.barrons.com/articles/silicon-labs-stock-texas-instruments-deal-7d3c8f60?siteid=yhoof2&yptr=yahoo', '2026-02-04 16:32:00.000000', None)
2026-02-05 01:08:38,837 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:38,837 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('6fa629d5-4c0d-3f8f-b622-414a69e60ce7', 'AAPL', 'Skyworks Solutions Executes Well Amid Uncertain Smartphone Backdrop, Morgan Stanley Says', 'MT Newswires', 'https://finance.yahoo.com/news/skyworks-solutions-executes-well-amid-155855072.html', '2026-02-04 15:58:55.000000', None)
2026-02-05 01:08:38,837 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:38,838 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('22bf9408-fc2a-3fbc-b23e-617bfa92a0de', 'AAPL', 'Stock Splits Matter: Whats Coming Up This Month?', '24/7 Wall St.', 'https://finance.yahoo.com/news/stock-splits-matter-coming-month-150507841.html', '2026-02-04 15:05:07.000000', None)
2026-02-05 01:08:38,839 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:38,839 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('082ae4a7-f623-342c-addd-b39e3e9eec56', 'AAPL', '1 Unstoppable Stock to Buy Before It Joins Nvidia, Apple, Microsoft, and Alphabet in the $3 Trillion Club', 'Motley Fool', 'https://finance.yahoo.com/news/1-unstoppable-stock-buy-joins-143100064.html', '2026-02-04 14:31:00.000000', None)
2026-02-05 01:08:38,840 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:38,840 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('57da2dd9-5c6a-300b-865b-044e12c72825', 'AAPL', 'Schwabs 1000 Stock ETF Beat the S&P 500 With Just 3% Turnover', '24/7 Wall St.', 'https://finance.yahoo.com/news/schwab-1000-stock-etf-beat-140309917.html', '2026-02-04 14:03:09.000000', None)
2026-02-05 01:08:38,841 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:38,841 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('a1e66cea-b89e-30b1-aebf-329f07c63170', 'AAPL', 'Apple App store revenue up 6.3% in fiscal Q2-to-date, says BofA', 'TipRanks', 'https://finance.yahoo.com/news/apple-app-store-revenue-6-135019086.html', '2026-02-04 13:50:19.000000', None)
2026-02-05 01:08:38,841 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:38,841 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('199b78d5-477d-3c66-8918-8922766cdd86', 'AAPL', 'Cantor Fitzgerald Lowers Qualcomm (QCOM) PT to $160, Cites Conservative Guidanc, Looming Market Share Shifts', 'Insider Monkey', 'https://finance.yahoo.com/news/cantor-fitzgerald-lowers-qualcomm-qcom-130959798.html', '2026-02-04 13:09:59.000000', None)
2026-02-05 01:08:38,842 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:38,842 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('62678325-cbcb-3cd8-81ea-e2ed5917f1a6', 'AAPL', 'Texas Instruments agrees to buy chip designer Silicon Laboratories', 'Financial Times', 'https://finance.yahoo.com/news/texas-instruments-advanced-talks-buy-210110386.html', '2026-02-04 12:39:13.000000', None)
2026-02-05 01:08:38,844 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 01:08:38,845 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (4055892754432.0, 34.93038, 29.741632, 'AAPL')
2026-02-05 01:08:38,845 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:08:38,846 - sqlalchemy.engine.Engine - INFO - [cached since 219.5s ago] (275.95, 2.400698, 66.7432260843139, 258.3924987792969, 268.55999877929685, 237.4991788482666, 0.1752859228360535, -2.727844312073727, 2.9031302349097805, 273.3894032167763, 258.3924987792969, 243.39559434181746, 6.698574611118862, 86.79155678948824, 76.54145818431975, 107.2917539998252, 53897282.9, 0.6588969997966261, '2026-02-04 17:08:38.013914', 'AAPL')
2026-02-05 01:08:38,846 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:08:38,847 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:38,848 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:08:38,848 - sqlalchemy.engine.Engine - INFO - [cached since 219.5s ago] ('AAPL',)
2026-02-05 01:08:38,848 - api_logger - INFO - rid=/api/portfolio/AAPL/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=840.76ms
2026-02-05 01:08:38,849 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:38,862 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:38,862 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:38,862 - sqlalchemy.engine.Engine - INFO - [cached since 225.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:38,863 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:08:38,863 - sqlalchemy.engine.Engine - INFO - [cached since 225.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:38,865 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.79ms
2026-02-05 01:08:38,866 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:40,091 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:40,091 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:40,091 - sqlalchemy.engine.Engine - INFO - [cached since 226.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:40,092 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:08:40,092 - sqlalchemy.engine.Engine - INFO - [cached since 222.1s ago] ('AMD',)
2026-02-05 01:08:40,744 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:08:40,744 - sqlalchemy.engine.Engine - INFO - [cached since 221.4s ago] ('AMD',)
2026-02-05 01:08:40,746 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:40,746 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('a6d983d7-9152-452b-bce4-1991190f132a', 'AMD', 'AMD stock plummets despite Q4 earnings beat', 'Yahoo Finance', 'https://finance.yahoo.com/news/amd-stock-plummets-despite-q4-earnings-beat-204747905.html', '2026-02-02 20:47:47.000000', None)
2026-02-05 01:08:40,747 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:40,747 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('d08d3509-63d0-32b9-8424-8a335effcbc4', 'AMD', "AMD's Helios will help close the gap with Nvidia: Analyst", 'Yahoo Finance Video', 'https://finance.yahoo.com/video/amds-helios-help-close-gap-142148616.html', '2026-02-04 14:21:48.000000', None)
2026-02-05 01:08:40,748 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:40,748 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('9a2736d5-db8d-3303-9689-3bca83a580f8', 'AMD', 'AMD stock falls despite topping Q4 earnings, guidance estimates', 'Yahoo Finance Video', 'https://finance.yahoo.com/video/amd-stock-falls-despite-topping-212917099.html', '2026-02-03 21:29:17.000000', None)
2026-02-05 01:08:40,749 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:40,749 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('0158218b-0747-4fc5-a857-3639a00b0e64', 'AMD', 'Stock market today: Dow, Nasdaq, S&P 500 sink as tech falters amid flood of earnings', 'Yahoo Finance', 'https://finance.yahoo.com/news/live/stock-market-today-dow-nasdaq-sp-500-sink-as-tech-falters-amid-flood-of-earnings-192429486.html', '2026-02-03 19:24:29.000000', None)
2026-02-05 01:08:40,749 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:40,749 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('95eff06b-9fa2-3b22-b1b7-24055bf9706b', 'AMD', 'Stock Market Today: Dow Rises, Nasdaq Sinks Amid Tech Sell-Off; AMD, Uber Dive (Live Coverage)', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-sp500-nasdaq-amd-stock-amd-earnings/?src=A00220&yptr=yahoo', '2026-02-04 16:51:26.000000', None)
2026-02-05 01:08:40,750 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:40,750 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('d48334d4-779e-3592-9394-06ceb7887432', 'AMD', 'Top Midday Stories: Lilly Shares Soar After Strong Q4 Earnings, Guidance; Uber Q4 EPS Misses Target, CFO Stepping Down', 'MT Newswires', 'https://finance.yahoo.com/news/top-midday-stories-lilly-shares-163658826.html', '2026-02-04 16:36:58.000000', None)
2026-02-05 01:08:40,751 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:40,751 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('c7870262-969a-3168-8c7c-20671d17eb27', 'AMD', 'Advanced Micro Devices Posts Strong Q4, But Customers Await Actual MI455 Performance, Morgan Stanley Says', 'MT Newswires', 'https://finance.yahoo.com/news/advanced-micro-devices-posts-strong-162031902.html', '2026-02-04 16:20:31.000000', None)
2026-02-05 01:08:40,752 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:40,752 - sqlalchemy.engine.Engine - INFO - [no key 0.00033s] ('df172b3b-9b94-352e-a06b-7141368fdfaf', 'AMD', 'Buy the weakness in this major chip stock, Truist says', 'Investing.com', 'https://finance.yahoo.com/news/buy-weakness-major-chip-stock-160040649.html', '2026-02-04 16:00:40.000000', None)
2026-02-05 01:08:40,753 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:40,753 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('3614adf2-1b09-33a2-b1b7-34adfb20bdf8', 'AMD', 'AMD Earnings Beat Expectations. Why Its One of the S&P 500s Worst Stocks Today.', 'Barrons.com', 'https://www.barrons.com/articles/amd-stock-price-earnings-03d39f00?siteid=yhoof2&yptr=yahoo', '2026-02-04 15:32:00.000000', None)
2026-02-05 01:08:40,754 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:40,754 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('5e3b3e67-1c13-3f63-9cb7-2a3aa85a4597', 'AMD', 'BC-Most Active Stocks', 'Associated Press Finance', 'https://finance.yahoo.com/news/bc-most-active-stocks-153018513.html', '2026-02-04 15:30:18.000000', None)
2026-02-05 01:08:40,756 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-05 01:08:40,756 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (329222586368.0, 77.47893, 19.253418, 2.61, 'AMD')
2026-02-05 01:08:40,756 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:08:40,756 - sqlalchemy.engine.Engine - INFO - [cached since 221.4s ago] (202.22, -16.475983, 40.74298456494617, 233.02999954223634, 221.869599609375, 177.9000997543335, 4.104497482172832, 7.022700528511244, -2.9182030463384123, 272.02006691699694, 233.02999954223634, 194.03993216747574, 15.171423775809151, 27.879945261092814, 45.84017231242045, -8.040508841562456, 39951759.15, 1.4898939187262297, '2026-02-04 17:08:40.093138', 'AMD')
2026-02-05 01:08:40,757 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:08:40,759 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:40,760 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:08:40,760 - sqlalchemy.engine.Engine - INFO - [cached since 221.4s ago] ('AMD',)
2026-02-05 01:08:40,761 - api_logger - INFO - rid=/api/portfolio/AMD/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=671.05ms
2026-02-05 01:08:40,761 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:40,766 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:40,766 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:40,766 - sqlalchemy.engine.Engine - INFO - [cached since 227.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:40,767 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:08:40,767 - sqlalchemy.engine.Engine - INFO - [cached since 227.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:40,770 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.42ms
2026-02-05 01:08:40,771 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:41,781 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:41,781 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:41,781 - sqlalchemy.engine.Engine - INFO - [cached since 228.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:41,782 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:08:41,782 - sqlalchemy.engine.Engine - INFO - [cached since 228.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:08:41,783 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:41,783 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.09ms
2026-02-05 01:08:41,815 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:41,815 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:41,815 - sqlalchemy.engine.Engine - INFO - [cached since 228.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:41,816 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:08:41,816 - sqlalchemy.engine.Engine - INFO - [cached since 228.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:08:41,816 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.89ms
2026-02-05 01:08:41,817 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:41,874 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:41,874 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:41,874 - sqlalchemy.engine.Engine - INFO - [cached since 228.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:41,877 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:08:41,877 - sqlalchemy.engine.Engine - INFO - [cached since 228.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:08:41,878 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:41,883 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.35ms
2026-02-05 01:08:53,396 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:53,397 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:53,397 - sqlalchemy.engine.Engine - INFO - [cached since 240.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:53,398 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:08:53,398 - sqlalchemy.engine.Engine - INFO - [cached since 235.4s ago] ('ASTS',)
2026-02-05 01:08:54,117 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:08:54,117 - sqlalchemy.engine.Engine - INFO - [cached since 234.8s ago] ('ASTS',)
2026-02-05 01:08:54,118 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:54,118 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('7aadef03-1b12-3f07-b81e-892b093ca74b', 'ASTS', 'AST SpaceMobile (ASTS) Climbs 10.7% as Elon Musk Bets on Space Sector to Boost AI', 'Insider Monkey', 'https://finance.yahoo.com/news/ast-spacemobile-asts-climbs-10-145233542.html', '2026-02-04 14:52:33.000000', None)
2026-02-05 01:08:54,119 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:54,119 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('02c66b20-e713-32f3-b7fa-219efb715de4', 'ASTS', "US space stocks rise after Musk's SpaceX merges with xAI at $1.25 trillion valuation", 'Reuters', 'https://finance.yahoo.com/news/us-space-stocks-rise-musks-111421530.html', '2026-02-03 11:14:21.000000', None)
2026-02-05 01:08:54,120 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:54,120 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('75e0f95b-dc3a-37ed-a263-afaae959670f', 'ASTS', 'AST SpaceMobile, Inc. (ASTS) Stock Slides as Market Rises: Facts to Know Before You Trade', 'Zacks', 'https://finance.yahoo.com/news/ast-spacemobile-inc-asts-stock-230003256.html', '2026-02-02 23:00:03.000000', None)
2026-02-05 01:08:54,120 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:54,120 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('cf099c2a-87c1-3c8f-896f-6db7e53feea5', 'ASTS', 'Why AST SpaceMobile Stock Jumped 53% in January', 'Motley Fool', 'https://finance.yahoo.com/news/why-ast-spacemobile-stock-jumped-225216538.html', '2026-02-02 22:52:16.000000', None)
2026-02-05 01:08:54,122 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:54,122 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ('0d0fd9d9-9d63-3731-9685-22581d85f60e', 'ASTS', 'Assessing AST SpaceMobile (ASTS) Valuation After BlueBird 7 Launch Confirmation And SHIELD Contract Win', 'Simply Wall St.', 'https://finance.yahoo.com/news/assessing-ast-spacemobile-asts-valuation-231603546.html', '2026-01-28 23:16:03.000000', None)
2026-02-05 01:08:54,123 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:54,123 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('ca37c207-01b9-37c5-9815-65e3ec316ec9', 'ASTS', 'BlueBird 7 Launch on New Glenn and SHIELD Role Could Be A Game Changer For AST SpaceMobile (ASTS)', 'Simply Wall St.', 'https://finance.yahoo.com/news/bluebird-7-launch-glenn-shield-221137355.html', '2026-01-28 22:11:37.000000', None)
2026-02-05 01:08:54,124 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:54,124 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('c006b281-ad32-3c5c-9e51-996a285628db', 'ASTS', 'Space Stock Boom: Why Retail and Wall Street Are Aligning', 'MarketBeat', 'https://finance.yahoo.com/news/space-stock-boom-why-retail-183600974.html', '2026-01-27 18:36:00.000000', None)
2026-02-05 01:08:54,124 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:54,124 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('6f95060c-594a-31f4-ad43-1f5122c49a80', 'ASTS', 'AST SpaceMobile, Inc. (ASTS) Stock Sinks As Market Gains: What You Should Know', 'Zacks', 'https://finance.yahoo.com/news/ast-spacemobile-inc-asts-stock-230004280.html', '2026-01-26 23:00:04.000000', None)
2026-02-05 01:08:54,125 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:54,125 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('3792d0d8-a60f-3ca6-8625-708f0354a966', 'ASTS', 'Should You Sell AST SpaceMobile (ASTS) Stock Now or Keep Betting on Gains as Blue Origin Announces Its Own Satellite Network?', 'Barchart', 'https://finance.yahoo.com/news/blue-origin-gunning-ast-spacemobile-193443701.html', '2026-01-23 19:34:43.000000', None)
2026-02-05 01:08:54,125 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:54,125 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('c1ac6f1d-cbe4-3b1d-b01a-3f5ce57a2d58', 'ASTS', 'This Defense Stock Is Soaring as Donald Trump Pushes for Golden Dome', 'Barrons.com', 'https://www.barrons.com/articles/redwire-stock-golden-dome-trump-greenland-7deea27a?siteid=yhoof2&yptr=yahoo', '2026-01-23 18:12:00.000000', None)
2026-02-05 01:08:54,125 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 01:08:54,125 - sqlalchemy.engine.Engine - INFO - [cached since 234.8s ago] (37642100736.0, -100.84154, 'ASTS')
2026-02-05 01:08:54,126 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:08:54,126 - sqlalchemy.engine.Engine - INFO - [cached since 234.8s ago] (102.455, -11.4936075, 53.10129079334199, 105.83025016784669, 84.95349983215333, 57.726774797439575, 7.484221710544389, 8.931939555468754, -1.4477178449243642, 126.64044464347676, 105.83025016784669, 85.02005569221662, 13.51514380318778, 38.28811193407468, 53.746348681325486, 7.371638439573061, 16964125.15, 0.5852469792702514, '2026-02-04 17:08:53.398866', 'ASTS')
2026-02-05 01:08:54,126 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:08:54,127 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:54,127 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:08:54,127 - sqlalchemy.engine.Engine - INFO - [cached since 234.8s ago] ('ASTS',)
2026-02-05 01:08:54,127 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=732.15ms
2026-02-05 01:08:54,128 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:54,145 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:54,145 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:54,145 - sqlalchemy.engine.Engine - INFO - [cached since 241s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:54,156 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:08:54,156 - sqlalchemy.engine.Engine - INFO - [cached since 241s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:54,169 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=29.96ms
2026-02-05 01:08:54,170 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:55,763 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:55,763 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:55,764 - sqlalchemy.engine.Engine - INFO - [cached since 242.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:55,765 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:08:55,765 - sqlalchemy.engine.Engine - INFO - [cached since 237.8s ago] ('FRO',)
2026-02-05 01:08:56,281 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:08:56,281 - sqlalchemy.engine.Engine - INFO - [cached since 237s ago] ('FRO',)
2026-02-05 01:08:56,283 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:56,283 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ('58b364ac-1e25-31c3-a91b-844fdce12402', 'FRO', 'Here is Why Frontline (FRO) Gained This Week', 'Insider Monkey', 'https://finance.yahoo.com/news/why-frontline-fro-gained-week-173842236.html', '2026-01-31 17:38:42.000000', None)
2026-02-05 01:08:56,285 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:56,285 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('ac4b763a-1815-3d75-b3fb-bd072c4b1e82', 'FRO', "January 2026's Top Growth Companies With Insider Confidence", 'Simply Wall St.', 'https://finance.yahoo.com/news/january-2026s-top-growth-companies-173612842.html', '2026-01-08 17:36:12.000000', None)
2026-02-05 01:08:56,285 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:56,286 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('ddd8a47e-f00b-39bb-9267-ba9a23a1faef', 'FRO', 'Frontline PLC (FRO) Jumps 9.5% on Venezuela Oil Seizure', 'Insider Monkey', 'https://finance.yahoo.com/news/frontline-plc-fro-jumps-9-015505286.html', '2026-01-08 01:55:05.000000', None)
2026-02-05 01:08:56,286 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:56,286 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('cbff1281-6f54-39ff-92b7-953421747edd', 'FRO', "Individual investors are Frontline plc's (NYSE:FRO) biggest owners and were hit after market cap dropped US$345m", 'Simply Wall St.', 'https://finance.yahoo.com/news/individual-investors-frontline-plcs-nyse-183606714.html', '2026-01-05 18:36:06.000000', None)
2026-02-05 01:08:56,287 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:56,287 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('9336728b-f1f9-3305-83f1-9b5a6459ce11', 'FRO', '5 Under $35 Dividend Stocks to Buy Now', '24/7 Wall St.', 'https://finance.yahoo.com/news/5-under-35-dividend-stocks-191720390.html', '2025-12-09 19:17:20.000000', None)
2026-02-05 01:08:56,287 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:56,288 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('d2900d23-27f1-3e29-a369-3f089a44aee8', 'FRO', 'Frontline (NYSE:FRO) Will Pay A Smaller Dividend Than Last Year', 'Simply Wall St.', 'https://finance.yahoo.com/news/frontline-nyse-fro-pay-smaller-175418119.html', '2025-12-09 17:54:18.000000', None)
2026-02-05 01:08:56,288 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:56,288 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('ed10202e-de30-3be2-a563-3a0fb5bfeeb3', 'FRO', '3 Growth Companies With High Insider Ownership And 25% Return On Equity', 'Simply Wall St.', 'https://finance.yahoo.com/news/3-growth-companies-high-insider-173547980.html', '2025-12-08 17:35:47.000000', None)
2026-02-05 01:08:56,289 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:56,289 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('2679188b-75ba-397e-8f88-586e8e18ad50', 'FRO', 'We Think That There Are More Issues For Frontline (NYSE:FRO) Than Just Sluggish Earnings', 'Simply Wall St.', 'https://finance.yahoo.com/news/think-more-issues-frontline-nyse-113051973.html', '2025-11-28 11:30:51.000000', None)
2026-02-05 01:08:56,290 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:56,290 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('b736d9e8-bcc5-329c-8bf9-5b1d2c4c6216', 'FRO', 'Frontline plc (FRO) Falls After Missing Profit Estimates in Q3', 'Insider Monkey', 'https://finance.yahoo.com/news/frontline-plc-fro-falls-missing-011213068.html', '2025-11-28 01:12:13.000000', None)
2026-02-05 01:08:56,290 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:56,290 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('21ef44d8-f984-32fe-bcc4-d88c63abca41', 'FRO', 'Frontline (NYSE:FRO) Is Reducing Its Dividend To $0.19', 'Simply Wall St.', 'https://finance.yahoo.com/news/frontline-nyse-fro-reducing-dividend-123158838.html', '2025-11-25 12:31:58.000000', None)
2026-02-05 01:08:56,291 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, fifty_two_week_high=? WHERE stocks.ticker = ?
2026-02-05 01:08:56,291 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (6251250688.0, 28.65306, 9.503985, 29.04, 'FRO')
2026-02-05 01:08:56,292 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:08:56,292 - sqlalchemy.engine.Engine - INFO - [cached since 237s ago] (28.08, -2.6352296, 64.67956708049374, 26.522000122070313, 24.21400001525879, 21.21134729385376, 1.3553013251792585, 1.1775172079362553, 0.17778411724300325, 29.482146417510982, 26.522000122070313, 23.561853826629644, 0.927142824445452, 83.98602983618055, 85.22891965137306, 81.50025020579554, 3315078.2, 0.2895750694508503, '2026-02-04 17:08:55.765655', 'FRO')
2026-02-05 01:08:56,292 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:08:56,293 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:56,293 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:08:56,293 - sqlalchemy.engine.Engine - INFO - [cached since 237s ago] ('FRO',)
2026-02-05 01:08:56,294 - api_logger - INFO - rid=/api/portfolio/FRO/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=533.04ms
2026-02-05 01:08:56,294 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:56,301 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:56,301 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:56,301 - sqlalchemy.engine.Engine - INFO - [cached since 243.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:56,302 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:08:56,302 - sqlalchemy.engine.Engine - INFO - [cached since 243.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:56,304 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.43ms
2026-02-05 01:08:56,304 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:57,470 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:57,470 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:57,470 - sqlalchemy.engine.Engine - INFO - [cached since 244.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:57,478 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:08:57,479 - sqlalchemy.engine.Engine - INFO - [cached since 244.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:08:57,484 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=15.83ms
2026-02-05 01:08:57,486 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:57,491 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:57,491 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:57,491 - sqlalchemy.engine.Engine - INFO - [cached since 244.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:57,493 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:08:57,493 - sqlalchemy.engine.Engine - INFO - [cached since 244.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:08:57,494 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:57,495 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.57ms
2026-02-05 01:08:57,564 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:57,564 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:57,564 - sqlalchemy.engine.Engine - INFO - [cached since 244.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:57,565 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:08:57,568 - sqlalchemy.engine.Engine - INFO - [cached since 244.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:08:57,572 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=17.24ms
2026-02-05 01:08:57,572 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:00,813 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:00,814 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 01:09:00,814 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('%N%', '%N%', 10, 0)
2026-02-05 01:09:00,815 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=19.36ms
2026-02-05 01:09:00,816 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:01,868 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:01,870 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 01:09:01,870 - sqlalchemy.engine.Engine - INFO - [cached since 1.056s ago] ('%N D%', '%N D%', 10, 0)
2026-02-05 01:09:01,874 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.21ms
2026-02-05 01:09:01,875 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:02,163 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:02,164 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 01:09:02,164 - sqlalchemy.engine.Engine - INFO - [cached since 1.349s ago] ('%N D X%', '%N D X%', 10, 0)
2026-02-05 01:09:02,164 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.80ms
2026-02-05 01:09:02,165 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:02,302 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:02,303 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 01:09:02,303 - sqlalchemy.engine.Engine - INFO - [cached since 1.488s ago] ('%N D X%', '%N D X%', 10, 0)
2026-02-05 01:09:02,309 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:02,310 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 01:09:02,310 - sqlalchemy.engine.Engine - INFO - [cached since 1.496s ago] ('%NDX%', '%NDX%', 10, 0)
2026-02-05 01:09:02,311 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.94ms
2026-02-05 01:09:02,311 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:02,991 - yfinance - ERROR - HTTP Error 404: {"quoteSummary":{"result":null,"error":{"code":"Not Found","description":"Quote not found for symbol: N D X"}}}
2026-02-05 01:09:03,493 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1191.14ms
2026-02-05 01:09:03,494 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:03,631 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:03,632 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 01:09:03,632 - sqlalchemy.engine.Engine - INFO - [cached since 2.818s ago] ('%NDX%', '%NDX%', 10, 0)
2026-02-05 01:09:04,426 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:09:04,426 - sqlalchemy.engine.Engine - INFO - [cached since 245.1s ago] ('NDX',)
2026-02-05 01:09:04,432 - sqlalchemy.engine.Engine - INFO - INSERT INTO stocks (ticker, name, sector, industry, market_cap, pe_ratio, forward_pe, eps, dividend_yield, beta, fifty_two_week_high, fifty_two_week_low, exchange, currency) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-05 01:09:04,432 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('NDX', 'NASDAQ 100 PR USD', None, None, None, None, None, None, None, None, None, None, None, 'USD')
2026-02-05 01:09:04,433 - sqlalchemy.engine.Engine - INFO - INSERT INTO market_data_cache (ticker, current_price, change_percent, rsi_14, ma_20, ma_50, ma_200, macd_val, macd_signal, macd_hist, bb_upper, bb_middle, bb_lower, atr_14, k_line, d_line, j_line, volume_ma_20, volume_ratio, market_status, last_updated) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-05 01:09:04,433 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('NDX', 17421.0, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, 'CLOSED', '2026-02-04 17:09:04.433880')
2026-02-05 01:09:04,434 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:09:04,435 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:04,435 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 01:09:04,435 - sqlalchemy.engine.Engine - INFO - [cached since 3.621s ago] ('%NDX%', '%NDX%', 10, 0)
2026-02-05 01:09:04,436 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=805.04ms
2026-02-05 01:09:04,436 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:07,540 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:07,540 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:07,541 - sqlalchemy.engine.Engine - INFO - [cached since 254.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:07,542 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-05 01:09:07,542 - sqlalchemy.engine.Engine - INFO - [cached since 233.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX')
2026-02-05 01:09:07,543 - sqlalchemy.engine.Engine - INFO - INSERT INTO portfolios (id, user_id, ticker, quantity, avg_cost, target_price, stop_loss_price, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-05 01:09:07,543 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] ('68813b20-fe33-442b-98e4-a9e4855ee061', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 0.0, 0.0, None, None, '2026-02-04 17:09:07.543044', '2026-02-04 17:09:07.543045')
2026-02-05 01:09:07,544 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:09:07,544 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:07,544 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:09:07,544 - sqlalchemy.engine.Engine - INFO - [cached since 249.6s ago] ('NDX',)
2026-02-05 01:09:07,545 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:09:07,545 - sqlalchemy.engine.Engine - INFO - [cached since 249.6s ago] ('NDX',)
2026-02-05 01:09:07,545 - api_logger - INFO - rid=/api/portfolio/ method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.05ms
2026-02-05 01:09:07,545 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:07,545 - app.api.v1.endpoints.portfolio - INFO -  Background fetch for NDX completed
2026-02-05 01:09:07,549 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:07,549 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:07,549 - sqlalchemy.engine.Engine - INFO - [cached since 254.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:07,549 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:09:07,549 - sqlalchemy.engine.Engine - INFO - [cached since 254.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:07,551 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.75ms
2026-02-05 01:09:07,551 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:20,558 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:20,558 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:20,558 - sqlalchemy.engine.Engine - INFO - [cached since 267.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:20,560 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:20,560 - sqlalchemy.engine.Engine - INFO - [cached since 267.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:20,561 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:20,562 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.03ms
2026-02-05 01:09:20,585 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:20,586 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:20,586 - sqlalchemy.engine.Engine - INFO - [cached since 267.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:20,587 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:20,587 - sqlalchemy.engine.Engine - INFO - [cached since 267.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:20,587 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.23ms
2026-02-05 01:09:20,588 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:20,640 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:20,640 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:20,640 - sqlalchemy.engine.Engine - INFO - [cached since 267.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:20,641 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:20,641 - sqlalchemy.engine.Engine - INFO - [cached since 267.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:20,642 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:20,642 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.31ms
2026-02-05 01:09:22,194 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:22,195 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:22,195 - sqlalchemy.engine.Engine - INFO - [cached since 269s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:22,195 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:09:22,196 - sqlalchemy.engine.Engine - INFO - [cached since 264.2s ago] ('NDX',)
2026-02-05 01:09:22,562 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:09:22,562 - sqlalchemy.engine.Engine - INFO - [cached since 263.2s ago] ('NDX',)
2026-02-05 01:09:22,563 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:09:22,563 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('52b9d956-c078-3efc-aa2c-80328cf9ae4a', 'NDX', 'Trump ally Kevin Hassett seen as frontrunner for Fed chair', 'Investing.com', 'https://finance.yahoo.com/news/trump-ally-kevin-hassett-seen-174023957.html', '2025-11-25 17:40:23.000000', None)
2026-02-05 01:09:22,564 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:09:22,564 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('c01627c7-1c5c-3dd5-a66d-a3cbe5c5e9ec', 'NDX', 'Cleveland Feds Hammack opposed rate cut, citing inflation risks', 'Investing.com', 'https://finance.yahoo.com/news/cleveland-fed-hammack-opposed-rate-170122987.html', '2025-10-31 17:01:22.000000', None)
2026-02-05 01:09:22,565 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:09:22,565 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('8afbcd89-60e5-366a-a5b7-203e7d2b5dd2', 'NDX', 'Feds Waller suggests balance sheet reduction target of $5.8 trillion', 'Investing.com', 'https://finance.yahoo.com/news/fed-waller-suggests-balance-sheet-173817257.html', '2025-07-10 17:38:17.000000', None)
2026-02-05 01:09:22,565 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:09:22,565 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('5ead9f8b-aa88-3746-96de-d39bfa9298c0', 'NDX', 'US stocks tumble after Trump threatens 25% tariffs on Japan, S. Korea', 'Investing.com', 'https://finance.yahoo.com/news/us-stocks-tumble-trump-threatens-170256874.html', '2025-07-07 17:02:56.000000', None)
2026-02-05 01:09:22,566 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET fifty_two_week_high=? WHERE stocks.ticker = ?
2026-02-05 01:09:22,566 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] (17596.27, 'NDX')
2026-02-05 01:09:22,566 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, market_status=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:09:22,566 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (0.09653292, 42.56199122485201, 25596.27900390625, 25358.5239453125, 23552.100289676968, 70.99721019834396, 91.12201233093799, -20.124802132594027, 26100.589824441562, 25596.27900390625, 25091.968183370936, 215.61118861607142, 46.953977448043055, 65.87434034124895, 9.113251661631267, 0.0, 0.0, <MarketStatus.OPEN: 'OPEN'>, '2026-02-04 17:09:22.196574', 'NDX')
2026-02-05 01:09:22,567 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:09:22,568 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:22,568 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:09:22,568 - sqlalchemy.engine.Engine - INFO - [cached since 263.2s ago] ('NDX',)
2026-02-05 01:09:22,568 - api_logger - INFO - rid=/api/portfolio/NDX/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=375.08ms
2026-02-05 01:09:22,570 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:22,574 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:22,574 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:22,574 - sqlalchemy.engine.Engine - INFO - [cached since 269.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:22,574 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:09:22,575 - sqlalchemy.engine.Engine - INFO - [cached since 269.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:22,576 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.82ms
2026-02-05 01:09:22,576 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:44,910 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:44,911 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:44,911 - sqlalchemy.engine.Engine - INFO - [cached since 291.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:44,913 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:44,913 - sqlalchemy.engine.Engine - INFO - [cached since 291.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:44,914 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:44,915 - api_logger - INFO - rid=/api/analysis/MSFT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.83ms
2026-02-05 01:09:44,933 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:44,933 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:44,933 - sqlalchemy.engine.Engine - INFO - [cached since 291.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:44,934 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:44,934 - sqlalchemy.engine.Engine - INFO - [cached since 291.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:44,935 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:44,936 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.93ms
2026-02-05 01:09:44,985 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:44,985 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:44,986 - sqlalchemy.engine.Engine - INFO - [cached since 291.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:44,992 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:44,994 - sqlalchemy.engine.Engine - INFO - [cached since 291.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:44,998 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:44,999 - api_logger - INFO - rid=/api/analysis/MSFT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=16.49ms
2026-02-05 01:09:48,670 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:48,671 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:48,671 - sqlalchemy.engine.Engine - INFO - [cached since 295.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:48,674 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:48,675 - sqlalchemy.engine.Engine - INFO - [cached since 295.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:48,676 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:48,676 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.96ms
2026-02-05 01:09:48,698 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:48,698 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:48,698 - sqlalchemy.engine.Engine - INFO - [cached since 295.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:48,699 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:48,699 - sqlalchemy.engine.Engine - INFO - [cached since 295.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:48,700 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:48,700 - api_logger - INFO - rid=/api/analysis/MSFT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.91ms
2026-02-05 01:09:48,743 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:48,744 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:48,744 - sqlalchemy.engine.Engine - INFO - [cached since 295.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:48,746 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:48,746 - sqlalchemy.engine.Engine - INFO - [cached since 295.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:48,747 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:48,747 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.22ms
2026-02-05 01:09:59,690 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:59,695 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:59,695 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:59,695 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:59,695 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:59,695 - sqlalchemy.engine.Engine - INFO - [cached since 0.0003991s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:59,696 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:59,696 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:59,696 - sqlalchemy.engine.Engine - INFO - [cached since 0.0006752s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:59,697 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:59,697 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:59,698 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:09:59,698 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:59,699 - api_logger - INFO - rid=/api/user/me method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.36ms
2026-02-05 01:09:59,699 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:59,699 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:59,700 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:59,700 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:59,700 - sqlalchemy.engine.Engine - INFO - [cached since 0.004871s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:59,700 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.66ms
2026-02-05 01:09:59,701 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=16.47ms
2026-02-05 01:09:59,702 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:59,702 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:59,702 - sqlalchemy.engine.Engine - INFO - [cached since 0.006823s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:59,702 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:59,702 - api_logger - INFO - rid=/api/user/me method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.10ms
2026-02-05 01:09:59,703 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:59,703 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:59,703 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:59,703 - sqlalchemy.engine.Engine - INFO - [cached since 0.008172s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:59,703 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:59,704 - sqlalchemy.engine.Engine - INFO - [cached since 0.007091s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:59,704 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:09:59,704 - sqlalchemy.engine.Engine - INFO - [cached since 0.006155s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:59,704 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:59,705 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.48ms
2026-02-05 01:09:59,706 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.91ms
2026-02-05 01:09:59,706 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:10:01,660 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:10:01,661 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:10:01,661 - sqlalchemy.engine.Engine - INFO - [cached since 1.966s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:10:01,662 - api_logger - INFO - rid=/api/user/me method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.36ms
2026-02-05 01:10:01,663 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:10:01,664 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:10:01,665 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:10:01,665 - sqlalchemy.engine.Engine - INFO - [cached since 1.97s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:10:01,665 - api_logger - INFO - rid=/api/user/me method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.32ms
2026-02-05 01:10:01,666 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:10:04,859 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:10:04,860 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:10:04,860 - sqlalchemy.engine.Engine - INFO - [cached since 5.165s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:10:04,862 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:10:04,862 - sqlalchemy.engine.Engine - INFO - [cached since 5.164s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:10:04,864 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.36ms
2026-02-05 01:10:04,865 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:10:04,867 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:10:04,868 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:10:04,868 - sqlalchemy.engine.Engine - INFO - [cached since 5.173s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:10:04,871 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:10:04,871 - sqlalchemy.engine.Engine - INFO - [cached since 5.173s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:10:04,874 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.94ms
2026-02-05 01:10:04,878 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:10:04,888 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:10:04,888 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:10:04,888 - sqlalchemy.engine.Engine - INFO - [cached since 5.193s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:10:04,892 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:10:04,892 - sqlalchemy.engine.Engine - INFO - [cached since 5.195s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:10:04,894 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.04ms
2026-02-05 01:10:04,895 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:10:08,170 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:10:08,171 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:10:08,171 - sqlalchemy.engine.Engine - INFO - [cached since 8.476s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:10:08,173 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:10:08,173 - sqlalchemy.engine.Engine - INFO - [cached since 8.476s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:10:08,175 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.12ms
2026-02-05 01:10:08,176 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:10:08,197 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:10:08,197 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:10:08,197 - sqlalchemy.engine.Engine - INFO - [cached since 8.502s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:10:08,198 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:10:08,198 - sqlalchemy.engine.Engine - INFO - [cached since 8.502s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:10:08,199 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.22ms
2026-02-05 01:10:08,199 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:10:08,255 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:10:08,255 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:10:08,255 - sqlalchemy.engine.Engine - INFO - [cached since 8.56s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:10:08,256 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:10:08,258 - sqlalchemy.engine.Engine - INFO - [cached since 8.562s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:10:08,264 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.34ms
2026-02-05 01:10:08,265 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:11:23,378 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:11:23,378 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:11:23,379 - sqlalchemy.engine.Engine - INFO - [cached since 83.68s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:11:23,382 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:11:23,382 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('SNDK',)
2026-02-05 01:11:24,560 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:11:24,560 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('SNDK',)
2026-02-05 01:11:24,563 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:11:24,563 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ('86f3263f-c1b4-3bcb-88bd-1738661f34f1', 'SNDK', 'Barclays Nearly Doubles SanDisk (SNDK) PT to $750 Following Separation, FQ2 2026 Earnings Beat', 'Insider Monkey', 'https://finance.yahoo.com/news/barclays-nearly-doubles-sandisk-sndk-140852145.html', '2026-02-04 14:08:52.000000', None)
2026-02-05 01:11:24,564 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:11:24,564 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('6fec5483-89a7-3c5b-9830-51a91542a546', 'SNDK', 'Social Buzz: Wallstreetbets Stocks Mixed Premarket Wednesday; Super Micro Computer to Advance, Advanced Micro Devices to Decline', 'MT Newswires', 'https://finance.yahoo.com/news/social-buzz-wallstreetbets-stocks-mixed-113847300.html', '2026-02-04 11:38:47.000000', None)
2026-02-05 01:11:24,564 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:11:24,565 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('d2036172-4375-3858-9a41-a99277cb8878', 'SNDK', 'Why Sandisk (SNDK) Is Up 31.8% After Extending Its AI-Focused Kioxia Flash Venture', 'Simply Wall St.', 'https://finance.yahoo.com/news/why-sandisk-sndk-31-8-031805472.html', '2026-02-04 03:18:05.000000', None)
2026-02-05 01:11:24,565 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:11:24,565 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('609dead7-d6ca-39f3-9d01-1d3fb8ffeafc', 'SNDK', 'Up 1,500%, Should You Buy Sandisk Right Now?', 'Motley Fool', 'https://finance.yahoo.com/news/1-500-buy-sandisk-now-013800184.html', '2026-02-04 01:38:00.000000', None)
2026-02-05 01:11:24,566 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:11:24,566 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('3b676487-cfd3-3222-9b19-5d5d91427c70', 'SNDK', 'AIGH Capital Dumps 2.6 Million Lumen Technologies Shares In $15.6 Million Exit', 'Motley Fool', 'https://finance.yahoo.com/news/aigh-capital-dumps-2-6-222003255.html', '2026-02-03 22:20:03.000000', None)
2026-02-05 01:11:24,566 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:11:24,566 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('fd8a79f1-6c3e-3d48-85fc-04e7d14584e6', 'SNDK', '2 Reasons Why SanDisk Stock Could Keep Climbing In 2026', 'Barchart', 'https://finance.yahoo.com/news/2-reasons-why-sandisk-stock-193100088.html', '2026-02-03 19:31:00.000000', None)
2026-02-05 01:11:24,568 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:11:24,568 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('69732aa6-00b4-3730-a337-f99a093f1c81', 'SNDK', 'Top analyst drops eye-popping new price target on SanDisk stock', 'TheStreet', 'https://finance.yahoo.com/news/top-analyst-drops-eye-popping-183300029.html', '2026-02-03 18:33:00.000000', None)
2026-02-05 01:11:24,569 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:11:24,569 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('ef793196-dd21-3ddc-939c-aa39a1fd21e5', 'SNDK', 'Exploring US High Growth Tech Stocks This February 2026', 'Simply Wall St.', 'https://finance.yahoo.com/news/exploring-us-high-growth-tech-173842405.html', '2026-02-03 17:38:42.000000', None)
2026-02-05 01:11:24,569 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:11:24,569 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('9541e60a-41db-3495-b3f1-794b7de75c9f', 'SNDK', "Sandisk Remains a Hot Buy. Can the Stock's Momentum Continue?", 'Motley Fool', 'https://finance.yahoo.com/news/sandisk-remains-hot-buy-stocks-142400201.html', '2026-02-03 14:24:00.000000', None)
2026-02-05 01:11:24,570 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:11:24,570 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('3f6b5d68-0813-3f6a-b8de-1caff40e5a68', 'SNDK', 'Sandisk Stock: Is Wall Street Bullish or Bearish?', 'Barchart', 'https://finance.yahoo.com/news/sandisk-stock-wall-street-bullish-140646674.html', '2026-02-03 14:06:46.000000', None)
2026-02-05 01:11:24,571 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 01:11:24,571 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (90307895296.0, 8.305106, 'SNDK')
2026-02-05 01:11:24,573 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:11:24,573 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (611.9779, -12.010195, 74.5522391551836, 477.75389251708987, 330.0069570922852, 144.61601453781128, 89.42865259927459, 74.4186203944772, 15.010032204797383, 681.3653304736988, 477.75389251708987, 274.14245456048087, 77.05607756494001, 82.67540396121747, 65.8174247723851, 19253385.45, 0.7651801828960942, '2026-02-04 17:11:23.383649', 'SNDK')
2026-02-05 01:11:24,574 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:11:24,575 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:11:24,575 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:11:24,575 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('SNDK',)
2026-02-05 01:11:24,577 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-05 01:11:24,577 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('SNDK', 5, 0)
2026-02-05 01:11:24,578 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-05 01:11:24,578 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-05 01:11:24,579 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:11:24,579 - sqlalchemy.engine.Engine - INFO - [cached since 84.88s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:11:24,579 - app.api.v1.endpoints.analysis - INFO - Returning latest report for SNDK (model: qwen-3-vl-thinking)
2026-02-05 01:11:24,580 - api_logger - INFO - rid=/api/analysis/SNDK method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1208.98ms
2026-02-05 01:11:24,580 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:11:52,453 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:11:52,453 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:11:52,453 - sqlalchemy.engine.Engine - INFO - [cached since 112.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:11:52,455 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:11:52,457 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:11:52,457 - sqlalchemy.engine.Engine - INFO - [cached since 112.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:11:52,461 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:11:52,461 - sqlalchemy.engine.Engine - INFO - [cached since 112.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:11:52,462 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:11:52,462 - sqlalchemy.engine.Engine - INFO - [cached since 112.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:11:52,463 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.28ms
2026-02-05 01:11:52,464 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:11:52,465 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.15ms
2026-02-05 01:11:52,466 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:12:03,716 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:12:03,717 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:12:03,717 - sqlalchemy.engine.Engine - INFO - [cached since 124s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:12:03,720 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:12:03,720 - sqlalchemy.engine.Engine - INFO - [cached since 40.34s ago] ('SNDK',)
2026-02-05 01:12:03,722 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-05 01:12:03,722 - sqlalchemy.engine.Engine - INFO - [cached since 39.15s ago] ('SNDK', 5, 0)
2026-02-05 01:12:03,724 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-05 01:12:03,724 - sqlalchemy.engine.Engine - INFO - [cached since 39.15s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-05 01:12:10,888 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-05 01:12:10,895 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-05 01:12:10,896 - sqlalchemy.engine.Engine - INFO - [generated in 0.00098s] ('9fd86f62-243a-4a1e-bdb5-fe062af4be02', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', '{"market_data": {"current_price": 611.9779, "change_percent": -12.010195, "rsi_14": 74.5522391551836, "ma_20": 477.75389251708987, "ma_50": 330.00695 ... (225 characters truncated) ... market_status": "OPEN"}, "portfolio_data": {"avg_cost": 480.0, "quantity": 5.0, "unrealized_pl": 659.8894999999999, "pl_percent": 27.49539583333333}}', '{\n    "technical_analysis": "$611.98681.37RSI74.55MACDKDJK77.06-12% ... (430 characters truncated) ... $750MACD15.01RSI38012%10580-59015-30%"\n}', None, 'qwen-3-vl-thinking', '2026-02-04 17:12:10.895768')
2026-02-05 01:12:10,898 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:12:10,900 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:12:10,906 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-05 01:12:10,906 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('9fd86f62-243a-4a1e-bdb5-fe062af4be02',)
2026-02-05 01:12:10,908 - api_logger - INFO - rid=/api/analysis/SNDK method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7193.66ms
2026-02-05 01:12:10,908 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:14:45,468 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:14:45,469 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:14:45,469 - sqlalchemy.engine.Engine - INFO - [cached since 285.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:14:45,472 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:14:45,472 - sqlalchemy.engine.Engine - INFO - [cached since 285.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:14:45,474 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:14:45,475 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.07ms
2026-02-05 01:14:45,488 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:14:45,488 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:14:45,489 - sqlalchemy.engine.Engine - INFO - [cached since 285.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:14:45,491 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:14:45,491 - sqlalchemy.engine.Engine - INFO - [cached since 285.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:14:45,496 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.06ms
2026-02-05 01:14:45,497 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:14:45,567 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:14:45,570 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:14:45,570 - sqlalchemy.engine.Engine - INFO - [cached since 285.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:14:45,572 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:14:45,572 - sqlalchemy.engine.Engine - INFO - [cached since 285.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:14:45,573 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:14:45,574 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.53ms
2026-02-05 01:14:53,503 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:14:53,504 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:14:53,504 - sqlalchemy.engine.Engine - INFO - [cached since 293.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:14:53,506 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-05 01:14:53,506 - sqlalchemy.engine.Engine - INFO - [cached since 208.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD')
2026-02-05 01:14:53,510 - sqlalchemy.engine.Engine - INFO - UPDATE portfolios SET quantity=?, avg_cost=?, updated_at=? WHERE portfolios.id = ?
2026-02-05 01:14:53,510 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] (3.0, 220.0, '2026-02-04 17:14:53.510345', '7c543448-e680-4d2b-9f86-61fca1b125db')
2026-02-05 01:14:53,512 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:14:53,513 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:14:53,513 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:14:53,513 - sqlalchemy.engine.Engine - INFO - [cached since 210.1s ago] ('AMD',)
2026-02-05 01:14:53,515 - api_logger - INFO - rid=/api/portfolio/ method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=17.17ms
2026-02-05 01:14:53,516 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:14:53,526 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:14:53,526 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:14:53,526 - sqlalchemy.engine.Engine - INFO - [cached since 293.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:14:53,528 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:14:53,528 - sqlalchemy.engine.Engine - INFO - [cached since 293.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:14:53,532 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.77ms
2026-02-05 01:14:53,532 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:14:56,141 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:14:56,141 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:14:56,142 - sqlalchemy.engine.Engine - INFO - [cached since 296.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:14:56,143 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:14:56,143 - sqlalchemy.engine.Engine - INFO - [cached since 212.8s ago] ('AMD',)
2026-02-05 01:14:56,947 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:14:56,948 - sqlalchemy.engine.Engine - INFO - [cached since 212.4s ago] ('AMD',)
2026-02-05 01:14:56,951 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:14:56,952 - sqlalchemy.engine.Engine - INFO - [no key 0.00092s] ('a6d983d7-9152-452b-bce4-1991190f132a', 'AMD', 'AMD stock plummets despite Q4 earnings beat', 'Yahoo Finance', 'https://finance.yahoo.com/news/amd-stock-plummets-despite-q4-earnings-beat-204747905.html', '2026-02-02 20:47:47.000000', None)
2026-02-05 01:14:56,955 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:14:56,955 - sqlalchemy.engine.Engine - INFO - [no key 0.00033s] ('d08d3509-63d0-32b9-8424-8a335effcbc4', 'AMD', "AMD's Helios will help close the gap with Nvidia: Analyst", 'Yahoo Finance Video', 'https://finance.yahoo.com/video/amds-helios-help-close-gap-142148616.html', '2026-02-04 14:21:48.000000', None)
2026-02-05 01:14:56,956 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:14:56,956 - sqlalchemy.engine.Engine - INFO - [no key 0.00032s] ('9a2736d5-db8d-3303-9689-3bca83a580f8', 'AMD', 'AMD stock falls despite topping Q4 earnings, guidance estimates', 'Yahoo Finance Video', 'https://finance.yahoo.com/video/amd-stock-falls-despite-topping-212917099.html', '2026-02-03 21:29:17.000000', None)
2026-02-05 01:14:56,957 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:14:56,958 - sqlalchemy.engine.Engine - INFO - [no key 0.00028s] ('0158218b-0747-4fc5-a857-3639a00b0e64', 'AMD', 'Stock market today: Dow, Nasdaq, S&P 500 sink as tech falters amid flood of earnings', 'Yahoo Finance', 'https://finance.yahoo.com/news/live/stock-market-today-dow-nasdaq-sp-500-sink-as-tech-falters-amid-flood-of-earnings-192429486.html', '2026-02-03 19:24:29.000000', None)
2026-02-05 01:14:56,959 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:14:56,959 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('d1ebf8e3-dd9f-37a0-9abb-0ae02eea5ba4', 'AMD', 'Intel Says It Will Build Its Own GPUs', 'GuruFocus.com', 'https://finance.yahoo.com/news/intel-says-build-own-gpus-170210314.html', '2026-02-04 17:02:10.000000', None)
2026-02-05 01:14:56,960 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:14:56,960 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('95eff06b-9fa2-3b22-b1b7-24055bf9706b', 'AMD', 'Stock Market Today: Dow Rises, Nasdaq Sinks Amid Tech Sell-Off; AMD, Uber Dive (Live Coverage)', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-sp500-nasdaq-amd-stock-amd-earnings/?src=A00220&yptr=yahoo', '2026-02-04 16:51:26.000000', None)
2026-02-05 01:14:56,962 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:14:56,962 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('d48334d4-779e-3592-9394-06ceb7887432', 'AMD', 'Top Midday Stories: Lilly Shares Soar After Strong Q4 Earnings, Guidance; Uber Q4 EPS Misses Target, CFO Stepping Down', 'MT Newswires', 'https://finance.yahoo.com/news/top-midday-stories-lilly-shares-163658826.html', '2026-02-04 16:36:58.000000', None)
2026-02-05 01:14:56,963 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:14:56,963 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('c7870262-969a-3168-8c7c-20671d17eb27', 'AMD', 'Advanced Micro Devices Posts Strong Q4, But Customers Await Actual MI455 Performance, Morgan Stanley Says', 'MT Newswires', 'https://finance.yahoo.com/news/advanced-micro-devices-posts-strong-162031902.html', '2026-02-04 16:20:31.000000', None)
2026-02-05 01:14:56,964 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:14:56,964 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('df172b3b-9b94-352e-a06b-7141368fdfaf', 'AMD', 'Buy the weakness in this major chip stock, Truist says', 'Investing.com', 'https://finance.yahoo.com/news/buy-weakness-major-chip-stock-160040649.html', '2026-02-04 16:00:40.000000', None)
2026-02-05 01:14:56,964 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:14:56,965 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('3614adf2-1b09-33a2-b1b7-34adfb20bdf8', 'AMD', 'AMD Earnings Beat Expectations. Why Its One of the S&P 500s Worst Stocks Today.', 'Barrons.com', 'https://www.barrons.com/articles/amd-stock-price-earnings-03d39f00?siteid=yhoof2&yptr=yahoo', '2026-02-04 15:32:00.000000', None)
2026-02-05 01:14:56,966 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 01:14:56,966 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (330068164608.0, 77.67793, 19.30287, 'AMD')
2026-02-05 01:14:56,967 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:14:56,968 - sqlalchemy.engine.Engine - INFO - [cached since 212.4s ago] (202.7394, -16.261454, 40.92706202592785, 233.05596923828125, 221.87998748779296, 177.902696723938, 4.145930615463897, 7.030987155169457, -2.8850565397055608, 271.96022867454724, 233.05596923828125, 194.15170980201526, 28.141512477427938, 45.92736138453216, -7.430185336780511, 39997929.15, 1.5112603148355745, '2026-02-04 17:14:56.144491', 'AMD')
2026-02-05 01:14:56,969 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:14:56,970 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:14:56,970 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:14:56,971 - sqlalchemy.engine.Engine - INFO - [cached since 212.4s ago] ('AMD',)
2026-02-05 01:14:56,972 - api_logger - INFO - rid=/api/portfolio/AMD/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=832.76ms
2026-02-05 01:14:56,972 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:14:56,981 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:14:56,981 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:14:56,981 - sqlalchemy.engine.Engine - INFO - [cached since 297.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:14:56,982 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:14:56,982 - sqlalchemy.engine.Engine - INFO - [cached since 297.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:14:56,986 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.98ms
2026-02-05 01:14:56,987 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:14:58,519 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:14:58,520 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:14:58,520 - sqlalchemy.engine.Engine - INFO - [cached since 298.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:14:58,522 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:14:58,522 - sqlalchemy.engine.Engine - INFO - [cached since 215.1s ago] ('AMD',)
2026-02-05 01:14:58,524 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-05 01:14:58,524 - sqlalchemy.engine.Engine - INFO - [cached since 213.9s ago] ('AMD', 5, 0)
2026-02-05 01:14:58,525 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-05 01:14:58,525 - sqlalchemy.engine.Engine - INFO - [cached since 213.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD')
2026-02-05 01:14:58,527 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:14:58,527 - sqlalchemy.engine.Engine - INFO - [cached since 298.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:15:04,447 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-05 01:15:04,453 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-05 01:15:04,453 - sqlalchemy.engine.Engine - INFO - [cached since 173.6s ago] ('f56287f1-a2c9-4f22-aded-01f387b8b134', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', '{"market_data": {"current_price": 202.7394, "change_percent": -16.261454, "rsi_14": 40.92706202592785, "ma_20": 233.05596923828125, "ma_50": 221.8799 ... (231 characters truncated) ... rket_status": "OPEN"}, "portfolio_data": {"avg_cost": 220.0, "quantity": 3.0, "unrealized_pl": -51.78180000000003, "pl_percent": -7.845727272727278}}', '{\n    "technical_analysis": "AMD202.74MACDKDJK28.14RSI40.93-16.26% ... (369 characters truncated) ... 051.8194194215Intel GPU"\n}', None, 'qwen-3-vl-thinking', '2026-02-04 17:15:04.453100')
2026-02-05 01:15:04,456 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:15:04,458 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:15:04,459 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-05 01:15:04,459 - sqlalchemy.engine.Engine - INFO - [cached since 173.6s ago] ('f56287f1-a2c9-4f22-aded-01f387b8b134',)
2026-02-05 01:15:04,462 - api_logger - INFO - rid=/api/analysis/AMD method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5944.91ms
2026-02-05 01:15:04,463 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:29,338 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:29,338 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:29,338 - sqlalchemy.engine.Engine - INFO - [cached since 389.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:29,339 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:29,340 - sqlalchemy.engine.Engine - INFO - [cached since 389.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:29,342 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.27ms
2026-02-05 01:16:29,342 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:29,366 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:29,367 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:29,367 - sqlalchemy.engine.Engine - INFO - [cached since 389.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:29,368 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:29,368 - sqlalchemy.engine.Engine - INFO - [cached since 389.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:29,369 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.69ms
2026-02-05 01:16:29,369 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:29,446 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:29,446 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:29,446 - sqlalchemy.engine.Engine - INFO - [cached since 389.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:29,455 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:29,455 - sqlalchemy.engine.Engine - INFO - [cached since 389.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:29,457 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.19ms
2026-02-05 01:16:29,458 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:34,457 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:34,458 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:34,458 - sqlalchemy.engine.Engine - INFO - [cached since 394.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:34,460 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:34,460 - sqlalchemy.engine.Engine - INFO - [cached since 394.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:34,464 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:34,464 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.75ms
2026-02-05 01:16:34,480 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:34,481 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:34,481 - sqlalchemy.engine.Engine - INFO - [cached since 394.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:34,486 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:34,486 - sqlalchemy.engine.Engine - INFO - [cached since 394.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:34,488 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.84ms
2026-02-05 01:16:34,488 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:34,543 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:34,546 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:34,546 - sqlalchemy.engine.Engine - INFO - [cached since 394.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:34,548 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:34,549 - sqlalchemy.engine.Engine - INFO - [cached since 394.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:34,550 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:34,551 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.75ms
2026-02-05 01:16:37,065 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:37,066 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:37,066 - sqlalchemy.engine.Engine - INFO - [cached since 397.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:37,068 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:37,068 - sqlalchemy.engine.Engine - INFO - [cached since 397.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:37,069 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:37,070 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.53ms
2026-02-05 01:16:37,093 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:37,093 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:37,093 - sqlalchemy.engine.Engine - INFO - [cached since 397.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:37,094 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:37,094 - sqlalchemy.engine.Engine - INFO - [cached since 397.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:37,095 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:37,095 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.00ms
2026-02-05 01:16:37,138 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:37,139 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:37,139 - sqlalchemy.engine.Engine - INFO - [cached since 397.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:37,142 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:37,142 - sqlalchemy.engine.Engine - INFO - [cached since 397.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:37,143 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:37,144 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.48ms
2026-02-05 01:16:38,531 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:38,532 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:38,533 - sqlalchemy.engine.Engine - INFO - [cached since 398.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:38,535 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:16:38,536 - sqlalchemy.engine.Engine - INFO - [cached since 315.2s ago] ('SIDU',)
2026-02-05 01:16:39,198 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:16:39,198 - sqlalchemy.engine.Engine - INFO - [cached since 314.6s ago] ('SIDU',)
2026-02-05 01:16:39,203 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:39,204 - sqlalchemy.engine.Engine - INFO - [no key 0.00042s] ('6e1bceaa-3937-3df3-af1b-1d7bab012805', 'SIDU', '5 Drone and Defense Stocks Catching Major Momentum in 2026', 'MarketBeat', 'https://finance.yahoo.com/news/5-drone-defense-stocks-catching-183100760.html', '2026-01-19 18:31:00.000000', None)
2026-02-05 01:16:39,206 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:39,207 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ('d3480080-bb9b-3ffb-b2ec-033191990a3a', 'SIDU', 'Assessing Sidus Space (SIDU) Valuation After SHIELD Contract Win And US$16.2 Million Capital Raise', 'Simply Wall St.', 'https://finance.yahoo.com/news/assessing-sidus-space-sidu-valuation-171206642.html', '2026-01-10 17:12:06.000000', None)
2026-02-05 01:16:39,208 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:39,208 - sqlalchemy.engine.Engine - INFO - [no key 0.00032s] ('cdfec6b5-719d-3b80-a76d-3eb4f4cee25e', 'SIDU', 'Sidus Space (SIDU) Is Up 47.8% After SHIELD Award, Capital Raise, And Board Addition  Has The Bull Case Changed?', 'Simply Wall St.', 'https://finance.yahoo.com/news/sidus-space-sidu-47-8-231521050.html', '2026-01-07 23:15:21.000000', None)
2026-02-05 01:16:39,209 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:39,209 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('c8f8f406-6d34-3c41-b5fb-638513fdd548', 'SIDU', 'BC-Most Active Stocks', 'Associated Press Finance', 'https://finance.yahoo.com/news/bc-most-active-stocks-153019063.html', '2026-01-07 15:30:19.000000', None)
2026-02-05 01:16:39,210 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:39,211 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ('40093cf6-6335-3411-947f-9aa2a020ebc7', 'SIDU', 'US Equity Futures Mixed Pre-Bell Monday Despite Oil Sector Surge', 'MT Newswires', 'https://finance.yahoo.com/news/us-equity-futures-mixed-pre-135133672.html', '2026-01-05 13:51:33.000000', None)
2026-02-05 01:16:39,211 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:39,212 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('58ebb04c-8489-3bae-8919-28ecd8598830', 'SIDU', 'Trump Is Promising That the U.S. Will Return to the Moon. Does That Really Make Little-Known SIDU Stock a Buy?', 'Barchart', 'https://finance.yahoo.com/news/trump-promising-u-return-moon-201859274.html', '2025-12-31 20:18:59.000000', None)
2026-02-05 01:16:39,212 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:39,212 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('e88cef6b-6d7e-3922-b58d-0bd71c37b6c8', 'SIDU', 'Exchange-Traded Funds, Equity Futures Lower Pre-Bell Monday as Investors Await Fed Minutes', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-140417958.html', '2025-12-29 14:04:17.000000', None)
2026-02-05 01:16:39,213 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:39,213 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('69e91213-a98a-3f84-a683-678b8eb8c013', 'SIDU', 'Small space tech companys shares skyrocket on Trump Golden Dome contract', 'Euronews', 'https://finance.yahoo.com/news/small-space-tech-company-shares-165156864.html', '2025-12-26 16:51:56.000000', None)
2026-02-05 01:16:39,214 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:39,214 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('dfa76b1a-1cbc-3a11-bd6f-0b4b1029f825', 'SIDU', 'Exchange-Traded Funds Higher, Equity Futures Mixed Pre-Bell Friday as Market Reopens Following Holiday Break', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-higher-equity-135509039.html', '2025-12-26 13:55:09.000000', None)
2026-02-05 01:16:39,215 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:39,215 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('661b55e7-4a4d-36d4-8cf9-9c09be9c2ef2', 'SIDU', 'US Equity Futures Mixed Amid Signs of Year-End Optimism', 'MT Newswires', 'https://finance.yahoo.com/news/us-equity-futures-mixed-amid-135418353.html', '2025-12-26 13:54:18.000000', None)
2026-02-05 01:16:39,216 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 01:16:39,216 - sqlalchemy.engine.Engine - INFO - [cached since 314.6s ago] (155556672.0, -9.743751, 'SIDU')
2026-02-05 01:16:39,217 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:16:39,217 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (2.3385, -15.93, 34.4256882780566, 3.4659249901771547, 2.319089994430542, 1.5967824986577035, 0.030539592174646746, 0.2640155866416611, -0.23347599446701434, 4.655038823704666, 3.4659249901771547, 2.276811156649644, 0.536428587777274, 8.894266827570783, 17.58934315508122, -8.495885827450088, 33413406.3, 0.28933075284814647, '2026-02-04 17:16:38.537097', 'SIDU')
2026-02-05 01:16:39,218 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:16:39,219 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:39,219 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:16:39,219 - sqlalchemy.engine.Engine - INFO - [cached since 314.6s ago] ('SIDU',)
2026-02-05 01:16:39,220 - api_logger - INFO - rid=/api/portfolio/SIDU/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=691.25ms
2026-02-05 01:16:39,221 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:39,228 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:39,228 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:39,228 - sqlalchemy.engine.Engine - INFO - [cached since 399.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:39,230 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:16:39,230 - sqlalchemy.engine.Engine - INFO - [cached since 399.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:39,232 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.53ms
2026-02-05 01:16:39,232 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:41,786 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:41,786 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:41,787 - sqlalchemy.engine.Engine - INFO - [cached since 402.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:41,788 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:41,788 - sqlalchemy.engine.Engine - INFO - [cached since 402.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:41,789 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:41,789 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.91ms
2026-02-05 01:16:41,810 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:41,811 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:41,811 - sqlalchemy.engine.Engine - INFO - [cached since 402.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:41,811 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:41,811 - sqlalchemy.engine.Engine - INFO - [cached since 402.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:41,812 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:41,812 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.53ms
2026-02-05 01:16:41,850 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:41,850 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:41,850 - sqlalchemy.engine.Engine - INFO - [cached since 402.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:41,851 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:41,851 - sqlalchemy.engine.Engine - INFO - [cached since 402.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:41,852 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:41,852 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.71ms
2026-02-05 01:16:42,627 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:42,627 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:42,627 - sqlalchemy.engine.Engine - INFO - [cached since 402.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:42,629 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:16:42,629 - sqlalchemy.engine.Engine - INFO - [cached since 319.2s ago] ('RKLB',)
2026-02-05 01:16:43,286 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:16:43,287 - sqlalchemy.engine.Engine - INFO - [cached since 318.7s ago] ('RKLB',)
2026-02-05 01:16:43,288 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:43,290 - sqlalchemy.engine.Engine - INFO - [no key 0.00240s] ('76d81207-0350-369c-8f92-76fb4f9f5066', 'RKLB', 'How & Why SpaceX is Moving the AI Data Center Race to Space', 'Zacks', 'https://finance.yahoo.com/news/why-spacex-moving-ai-data-184100765.html', '2026-02-03 18:41:00.000000', None)
2026-02-05 01:16:43,292 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:43,292 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('be0b2201-588d-3b1f-b314-9d16274fb7fa', 'RKLB', 'Rocket Lab Balances Rapid Electron Launches With Neutron Program Setbacks', 'Simply Wall St.', 'https://finance.yahoo.com/news/rocket-lab-balances-rapid-electron-112301299.html', '2026-02-03 11:23:01.000000', None)
2026-02-05 01:16:43,293 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:43,293 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('5aeb5e78-794b-3aaa-b277-c15863b8198d', 'RKLB', '3 Reasons to Avoid RKLB and 1 Stock to Buy Instead', 'StockStory', 'https://finance.yahoo.com/news/3-reasons-avoid-rklb-1-040427868.html', '2026-02-03 04:04:27.000000', None)
2026-02-05 01:16:43,294 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:43,294 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('edfb9cfe-2eba-3234-9efa-82b99a80c85e', 'RKLB', "Space Stock Sinks After Congress Won't Fund Mars Mission In 2031", "Investor's Business Daily", 'https://www.investors.com/news/rocket-lab-stock-congress-mars-mission-rover/?src=A00220&yptr=yahoo', '2026-02-02 21:34:25.000000', None)
2026-02-05 01:16:43,294 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:43,294 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('9f6897dd-9e0b-3f74-801b-2891969c0b9c', 'RKLB', 'Rocket Lab Stock Falls. The Reason Is Odd.', 'Barrons.com', 'https://www.barrons.com/articles/rocket-lab-stock-falls-3a575366?siteid=yhoof2&yptr=yahoo', '2026-02-02 21:21:00.000000', None)
2026-02-05 01:16:43,295 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:43,295 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('e7272b06-3aaa-3375-a356-52f3b0fcacc1', 'RKLB', 'MarketBeat Week in Review  01/26 - 01/30', 'MarketBeat', 'https://finance.yahoo.com/news/marketbeat-week-review-01-26-120000487.html', '2026-01-31 12:00:00.000000', None)
2026-02-05 01:16:43,296 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:43,296 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('443f8a27-ea4f-3f4f-8a62-4b24413f6c01', 'RKLB', 'Rocket Lab Balances Defense Contract Wins With Neutron Reusability Push', 'Simply Wall St.', 'https://finance.yahoo.com/news/rocket-lab-balances-defense-contract-091427254.html', '2026-01-30 09:14:27.000000', None)
2026-02-05 01:16:43,297 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:43,297 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('8276a284-5a6f-3b2d-a4f2-d84df7b17b3f', 'RKLB', 'Rocket Lab Corporation (RKLB) Dips More Than Broader Market: What You Should Know', 'Zacks', 'https://finance.yahoo.com/news/rocket-lab-corporation-rklb-dips-231505921.html', '2026-01-29 23:15:05.000000', None)
2026-02-05 01:16:43,297 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:43,298 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('3d054b46-fcf9-3b20-9a6e-ed6c5e2125b1', 'RKLB', 'Satellite Maker York Space Systems Looks to Capitalize on Trumps Golden Dome in IPO', 'Barrons.com', 'https://www.barrons.com/articles/satellite-maker-york-space-systems-stock-ipo-84e31e18?siteid=yhoof2&yptr=yahoo', '2026-01-29 21:48:00.000000', None)
2026-02-05 01:16:43,298 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:43,298 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('0572ad9b-7dbf-3653-b572-390e790dd855', 'RKLB', 'Planets Align for a Trillion-Dollar SpaceX IPO. When We Could See Financial Data.', 'Barrons.com', 'https://www.barrons.com/articles/spacex-stock-ipo-elon-musk-1c557219?siteid=yhoof2&yptr=yahoo', '2026-01-28 18:45:00.000000', None)
2026-02-05 01:16:43,301 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 01:16:43,302 - sqlalchemy.engine.Engine - INFO - [cached since 318.7s ago] (37807583232.0, -453.71793, 'RKLB')
2026-02-05 01:16:43,303 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:16:43,303 - sqlalchemy.engine.Engine - INFO - [cached since 4.086s ago] (70.77, -12.90759, 33.74554947035911, 85.3600009918213, 69.55830039978028, 48.951775045394896, 1.4812506118627482, 4.24614925639526, -2.7648986445325114, 97.19569050340264, 85.3600009918213, 73.52431148023994, 7.952927725655692, 17.033663907330016, 24.18557884437325, 2.7298340332435487, 23678900.1, 0.5254341184538381, '2026-02-04 17:16:42.630957', 'RKLB')
2026-02-05 01:16:43,303 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:16:43,304 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:43,305 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:16:43,305 - sqlalchemy.engine.Engine - INFO - [cached since 318.7s ago] ('RKLB',)
2026-02-05 01:16:43,306 - api_logger - INFO - rid=/api/portfolio/RKLB/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=680.02ms
2026-02-05 01:16:43,306 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:43,314 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:43,315 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:43,315 - sqlalchemy.engine.Engine - INFO - [cached since 403.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:43,319 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:16:43,319 - sqlalchemy.engine.Engine - INFO - [cached since 403.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:43,322 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.77ms
2026-02-05 01:16:43,323 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:00,267 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:00,268 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:00,268 - sqlalchemy.engine.Engine - INFO - [cached since 420.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:00,271 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:00,271 - sqlalchemy.engine.Engine - INFO - [cached since 420.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'WMT', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:17:00,273 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:00,274 - api_logger - INFO - rid=/api/analysis/WMT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.15ms
2026-02-05 01:17:00,301 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:00,301 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:00,301 - sqlalchemy.engine.Engine - INFO - [cached since 420.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:00,302 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:00,302 - sqlalchemy.engine.Engine - INFO - [cached since 420.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:17:00,303 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:00,303 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.73ms
2026-02-05 01:17:00,344 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:00,344 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:00,344 - sqlalchemy.engine.Engine - INFO - [cached since 420.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:00,345 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:00,345 - sqlalchemy.engine.Engine - INFO - [cached since 420.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'WMT', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:17:00,346 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:00,346 - api_logger - INFO - rid=/api/analysis/WMT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.09ms
2026-02-05 01:17:03,515 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:03,515 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:03,515 - sqlalchemy.engine.Engine - INFO - [cached since 423.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:03,517 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:03,517 - sqlalchemy.engine.Engine - INFO - [cached since 423.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'TSLA', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:17:03,518 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:03,518 - api_logger - INFO - rid=/api/analysis/TSLA method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.35ms
2026-02-05 01:17:03,541 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:03,541 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:03,541 - sqlalchemy.engine.Engine - INFO - [cached since 423.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:03,542 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:03,542 - sqlalchemy.engine.Engine - INFO - [cached since 423.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'WMT', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:17:03,542 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:03,542 - api_logger - INFO - rid=/api/analysis/WMT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.17ms
2026-02-05 01:17:03,579 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:03,580 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:03,580 - sqlalchemy.engine.Engine - INFO - [cached since 423.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:03,582 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:03,582 - sqlalchemy.engine.Engine - INFO - [cached since 423.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'TSLA', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:17:03,583 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:03,583 - api_logger - INFO - rid=/api/analysis/TSLA method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.26ms
2026-02-05 01:17:06,130 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:06,131 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:06,131 - sqlalchemy.engine.Engine - INFO - [cached since 426.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:06,133 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:17:06,134 - sqlalchemy.engine.Engine - INFO - [cached since 342.8s ago] ('TSLA',)
2026-02-05 01:17:06,777 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:17:06,778 - sqlalchemy.engine.Engine - INFO - [cached since 342.2s ago] ('TSLA',)
2026-02-05 01:17:06,779 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:06,779 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ('08a461d9-0e63-4b44-8e81-6f17eb1bf513', 'TSLA', 'The SpaceX mega merger boosts the Musk trade', 'Yahoo Finance', 'https://finance.yahoo.com/news/the-spacex-mega-merger-boosts-the-musk-trade-110026592.html', '2026-02-04 11:00:26.000000', None)
2026-02-05 01:17:06,782 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:06,782 - sqlalchemy.engine.Engine - INFO - [no key 0.00031s] ('07270fcb-07a9-3375-8b5d-3e8238dc4654', 'TSLA', "M&A sentiment is at a 6-year high. Here's why.", 'Yahoo Finance Video', 'https://finance.yahoo.com/video/m-sentiment-6-high-heres-200000920.html', '2026-02-03 20:00:00.000000', None)
2026-02-05 01:17:06,783 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:06,783 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('fab18fef-3845-349b-97c7-33b033e8280d', 'TSLA', 'Tesla Begins 2026 With Solid China EV Sales As Musk Appears To Shift Focus', "Investor's Business Daily", 'https://www.investors.com/news/tesla-stock-solid-china-ev-sales-musk-appears-to-shift-focus/?src=A00220&yptr=yahoo', '2026-02-04 16:05:08.000000', None)
2026-02-05 01:17:06,784 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:06,784 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('53111936-73b5-3440-a9b5-86b12a6005b1', 'TSLA', "'Growing Chance' Of Tesla Merger To Create Musk Trinity With SpaceX And xAI", "Investor's Business Daily", 'https://www.investors.com/news/tesla-stock-growing-chance-spacex-merger-to-create-musk-trinity/?src=A00220&yptr=yahoo', '2026-02-04 16:04:21.000000', None)
2026-02-05 01:17:06,785 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:06,785 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('d480c9cb-a275-3690-b641-e5f5970fb1c2', 'TSLA', 'Tesla Stock Really Needs the Optimus Robot', 'Barrons.com', 'https://www.barrons.com/articles/tesla-stock-price-optimus-robot-957af84f?siteid=yhoof2&yptr=yahoo', '2026-02-04 15:19:00.000000', None)
2026-02-05 01:17:06,785 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:06,785 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('b3a99225-cbc0-3d61-9610-c44e0f4bff3e', 'TSLA', 'Musks Ambition Knows No Bounds. A Tesla-SpaceX Tie-Up Can Help Him Get There.', 'Barrons.com', 'https://www.barrons.com/articles/musk-tesla-spacex-x-ai-merger-deal-038df3dd?siteid=yhoof2&yptr=yahoo', '2026-02-04 15:14:00.000000', None)
2026-02-05 01:17:06,786 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:06,786 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('22bf9408-fc2a-3fbc-b23e-617bfa92a0de', 'TSLA', 'Stock Splits Matter: Whats Coming Up This Month?', '24/7 Wall St.', 'https://finance.yahoo.com/news/stock-splits-matter-coming-month-150507841.html', '2026-02-04 15:05:07.000000', None)
2026-02-05 01:17:06,787 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:06,787 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('139a305a-64ac-317a-9157-c1a13108568d', 'TSLA', 'US lawmakers, Waymo, Tesla urge Congress to take action to speed deployment of self-driving cars', 'Reuters', 'https://finance.yahoo.com/news/us-lawmakers-waymo-tesla-urge-143059923.html', '2026-02-04 14:30:59.000000', None)
2026-02-05 01:17:06,787 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:06,787 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('dc18ebca-63a4-36d7-97a5-8f12e22aec47', 'TSLA', 'Tesla UK sales plunge in January as Chinese rivals race ahead, New Automotive data shows', 'Reuters', 'https://finance.yahoo.com/news/tesla-uk-sales-plunge-january-140827490.html', '2026-02-04 14:08:27.000000', None)
2026-02-05 01:17:06,788 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:06,788 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('cc0c27a5-dabc-35a7-a005-d2803baa05ee', 'TSLA', 'A Closer Look at Palantirs (PLTR) Valuation Concerns', 'Insider Monkey', 'https://finance.yahoo.com/news/closer-look-palantir-pltr-valuation-135654563.html', '2026-02-04 13:56:54.000000', None)
2026-02-05 01:17:06,788 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 01:17:06,789 - sqlalchemy.engine.Engine - INFO - [cached since 129.8s ago] (1523693649920.0, 369.1409, 140.68016, 'TSLA')
2026-02-05 01:17:06,789 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:17:06,789 - sqlalchemy.engine.Engine - INFO - [cached since 27.57s ago] (406.09, -3.7693145, 36.46530125590453, 433.3550003051758, 444.5642010498047, 379.78660026550295, -8.22383259599303, -5.812391458823988, -2.4114411371690423, 457.0982583679699, 433.3550003051758, 409.6117422423817, 15.346426827566964, 19.992113904590262, 29.82461904668666, 0.327103620397466, 59224279.8, 0.6171117001915826, '2026-02-04 17:17:06.135236', 'TSLA')
2026-02-05 01:17:06,790 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:17:06,790 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:06,790 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:17:06,791 - sqlalchemy.engine.Engine - INFO - [cached since 342.2s ago] ('TSLA',)
2026-02-05 01:17:06,791 - api_logger - INFO - rid=/api/portfolio/TSLA/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=662.69ms
2026-02-05 01:17:06,791 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:06,796 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:06,796 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:06,796 - sqlalchemy.engine.Engine - INFO - [cached since 427.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:06,797 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:17:06,797 - sqlalchemy.engine.Engine - INFO - [cached since 427.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:06,799 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.83ms
2026-02-05 01:17:06,800 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:10,494 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:10,495 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:10,495 - sqlalchemy.engine.Engine - INFO - [cached since 430.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:10,497 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:17:10,498 - sqlalchemy.engine.Engine - INFO - [cached since 347.1s ago] ('WMT',)
2026-02-05 01:17:11,025 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:17:11,025 - sqlalchemy.engine.Engine - INFO - [cached since 346.5s ago] ('WMT',)
2026-02-05 01:17:11,028 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:11,028 - sqlalchemy.engine.Engine - INFO - [no key 0.00038s] ('6fb9e125-b405-4eff-a62e-5a6466490e53', 'WMT', 'PepsiCo CEO reveals how he is tackling weight-loss drugs and consumer affordability challenges', 'Yahoo Finance', 'https://finance.yahoo.com/news/pepsico-ceo-reveals-how-he-is-tackling-weight-loss-drugs-and-consumer-affordability-challenges-213011648.html', '2026-02-03 21:30:11.000000', None)
2026-02-05 01:17:11,030 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:11,030 - sqlalchemy.engine.Engine - INFO - [no key 0.00032s] ('f3cff64a-dc5d-344f-beaf-9838c2cb531a', 'WMT', "Walmart's journey to $1T market cap: What to know", 'Yahoo Finance Video', 'https://finance.yahoo.com/video/walmarts-journey-1t-market-cap-204257723.html', '2026-02-03 20:42:57.000000', None)
2026-02-05 01:17:11,033 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:11,033 - sqlalchemy.engine.Engine - INFO - [no key 0.00052s] ('4c9a0e74-9670-3a46-9eca-a94c339cadfd', 'WMT', 'WMT Joins the $1 Trillion Club: Can the Rally Continue for the Stock?', 'Zacks', 'https://finance.yahoo.com/news/wmt-joins-1-trillion-club-135200134.html', '2026-02-04 13:52:00.000000', None)
2026-02-05 01:17:11,035 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:11,035 - sqlalchemy.engine.Engine - INFO - [no key 0.00030s] ('23eeeff1-131b-398b-8891-040dddfd32b1', 'WMT', 'Dow Jones Futures Rise Amid Shift Out Of Tech; AMD, Lumentum, Eli Lilly Are Earnings Movers', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-futures-amd-lumentum-eli-lilly-earnings/?src=A00220&yptr=yahoo', '2026-02-04 13:11:47.000000', None)
2026-02-05 01:17:11,036 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:11,036 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('568a617f-4e8e-36f6-9a11-a2aabee8b0fd', 'WMT', 'Walton Net Worth Surges $50 Billion', '24/7 Wall St.', 'https://finance.yahoo.com/news/walton-net-worth-surges-50-114410831.html', '2026-02-04 11:44:10.000000', None)
2026-02-05 01:17:11,037 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:11,037 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('f148a207-2401-3c5d-9ccd-d1a667333a0d', 'WMT', 'Morning Bid: AI scatters the tech herd', 'Reuters', 'https://finance.yahoo.com/news/morning-bid-ai-scatters-tech-113405579.html', '2026-02-04 11:34:05.000000', None)
2026-02-05 01:17:11,038 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:11,039 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('9649f2d3-7bef-3e22-bb30-037d9afdb157', 'WMT', 'Walmart reaches $1tn market value', 'Retail Insight Network', 'https://finance.yahoo.com/news/walmart-reaches-1tn-market-value-113116145.html', '2026-02-04 11:31:16.000000', None)
2026-02-05 01:17:11,039 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:11,039 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('35ebec7a-dde0-328e-bccc-eb200e7b25f5', 'WMT', 'Stock Futures See-Saw in Volatile Trading After Brutal Tech Selloff. Gold Rallies.', 'Barrons.com', 'https://www.barrons.com/livecoverage/stock-market-news-today-020426/card/markets-start-tentative-recovery-after-brutal-tech-selloff-stock-futures-edge-higher--7fkqOflAvBggaDkG323y?siteid=yhoof2&yptr=yahoo', '2026-02-04 11:25:17.000000', None)
2026-02-05 01:17:11,040 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:11,040 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('475f2dcd-c84b-3a99-9927-072db51aaa44', 'WMT', "Amazon's physical grocery push deepens its fight against rival Walmart", 'Reuters', 'https://finance.yahoo.com/news/amazons-physical-grocery-push-deepens-110127276.html', '2026-02-04 11:01:27.000000', None)
2026-02-05 01:17:11,041 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:11,041 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('af68f4b2-5e4e-3115-b526-4a59127f82c4', 'WMT', 'Heard on the Street Tuesday Recap: Code Red', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-04-2026/card/heard-on-the-street-tuesday-recap-code-red-6YnJcEfPl1Mx0ntPUYRx?siteid=yhoof2&yptr=yahoo', '2026-02-04 08:26:07.000000', None)
2026-02-05 01:17:11,043 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=?, fifty_two_week_high=? WHERE stocks.ticker = ?
2026-02-05 01:17:11,043 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] (1029693702144.0, 45.15734, 43.486164, 2.86, 0.74, 129.25, 'WMT')
2026-02-05 01:17:11,044 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:17:11,044 - sqlalchemy.engine.Engine - INFO - [cached since 31.83s ago] (129.15, 1.1275506, 74.82287122204616, 118.99199981689453, 115.09106399536132, 103.26847648620605, 2.938097876274753, 2.017320939491259, 0.9207769367834944, 127.21694671570472, 118.99199981689453, 110.76705291808435, 2.683570316859654, 81.07978636940742, 63.995125976551655, 115.24910715511892, 46416531.8, 0.2160401824765374, '2026-02-04 17:17:10.499160', 'WMT')
2026-02-05 01:17:11,045 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:17:11,046 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:11,047 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:17:11,047 - sqlalchemy.engine.Engine - INFO - [cached since 346.5s ago] ('WMT',)
2026-02-05 01:17:11,049 - api_logger - INFO - rid=/api/portfolio/WMT/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=556.20ms
2026-02-05 01:17:11,049 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:11,055 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:11,056 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:11,056 - sqlalchemy.engine.Engine - INFO - [cached since 431.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:11,057 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:17:11,057 - sqlalchemy.engine.Engine - INFO - [cached since 431.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:11,060 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.17ms
2026-02-05 01:17:11,060 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:14,171 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:14,171 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:14,171 - sqlalchemy.engine.Engine - INFO - [cached since 434.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:14,173 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:17:14,173 - sqlalchemy.engine.Engine - INFO - [cached since 350.8s ago] ('SLV',)
2026-02-05 01:17:14,698 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:17:14,698 - sqlalchemy.engine.Engine - INFO - [cached since 350.1s ago] ('SLV',)
2026-02-05 01:17:14,703 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:14,703 - sqlalchemy.engine.Engine - INFO - [no key 0.00052s] ('79de7eeb-68c1-3a22-8dc6-29aa0d832707', 'SLV', 'Exchange-Traded Funds, Equity Futures Mixed Pre-Bell Wednesday Ahead of Alphabet Earnings', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-140310603.html', '2026-02-04 14:03:10.000000', None)
2026-02-05 01:17:14,705 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:14,705 - sqlalchemy.engine.Engine - INFO - [no key 0.00029s] ('267a5d36-ee97-304a-b868-ceb8592ad222', 'SLV', 'Top-Performing ETF Stories of January: Winning Investing Areas', 'Zacks', 'https://finance.yahoo.com/news/top-performing-etf-stories-january-130000947.html', '2026-02-04 13:00:00.000000', None)
2026-02-05 01:17:14,706 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:14,706 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('57491ac4-a2f9-3f77-9055-e641926dd6bb', 'SLV', 'Daily ETF Flows: $3.4B Flows Into SLV', 'etf.com', 'https://finance.yahoo.com/news/daily-etf-flows-3-4b-230005689.html', '2026-02-03 23:00:05.000000', None)
2026-02-05 01:17:14,708 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:14,708 - sqlalchemy.engine.Engine - INFO - [no key 0.00030s] ('c192d55e-4add-3941-8d89-ebeb9f3a249c', 'SLV', 'Zacks Investment Ideas feature highlights: Ark Invest, BlackRock, IBIT, GLD and SLV', 'Zacks', 'https://finance.yahoo.com/news/zacks-investment-ideas-feature-highlights-152000677.html', '2026-02-03 15:20:00.000000', None)
2026-02-05 01:17:14,709 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:14,709 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('11bf817f-bd41-38a9-a525-45cefc988e19', 'SLV', 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Tuesday as Earnings Deluge Continues', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-142855032.html', '2026-02-03 14:28:55.000000', None)
2026-02-05 01:17:14,710 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:14,710 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('40e86472-947b-32a5-843c-bf675ad16c5d', 'SLV', 'Best-Performing ETF Areas of Last Week', 'Zacks', 'https://finance.yahoo.com/news/best-performing-etf-areas-last-140000188.html', '2026-02-03 14:00:00.000000', None)
2026-02-05 01:17:14,711 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:14,712 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('087c55d0-7556-330b-ac6a-028c74b9a07b', 'SLV', "Silver's Crash Is Getting Pretty Uncomfortable", "Investor's Business Daily", 'https://www.investors.com/etfs-and-funds/sectors/silver-crash-is-getting-pretty-uncomfortable/?src=A00220&yptr=yahoo', '2026-02-03 13:00:45.000000', None)
2026-02-05 01:17:14,712 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:14,712 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('cdbeba32-fb58-330b-b547-3c1b94b189f5', 'SLV', '$165B Pours Into ETFs in January as Investors Look Overseas', 'etf.com', 'https://finance.yahoo.com/news/165b-pours-etfs-january-investors-230020173.html', '2026-02-02 23:00:20.000000', None)
2026-02-05 01:17:14,713 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:14,713 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('f5e4c0ca-a572-3885-84b7-7b5b64c0949d', 'SLV', "Wrong Again: 'Experts' Keep Missing the Mark on Inflation", 'Zacks', 'https://finance.yahoo.com/news/wrong-again-experts-keep-missing-162800350.html', '2026-02-02 16:28:00.000000', None)
2026-02-05 01:17:14,714 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:14,714 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('d6187e64-6c40-35f8-85b0-3860745bb211', 'SLV', 'Exchange-Traded Funds, Equity Futures Lower Pre-Bell Monday Amid Precious Metals Downturn', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-140038784.html', '2026-02-02 14:00:38.000000', None)
2026-02-05 01:17:14,716 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=? WHERE stocks.ticker = ?
2026-02-05 01:17:14,717 - sqlalchemy.engine.Engine - INFO - [generated in 0.00085s] (26766264320.0, 'SLV')
2026-02-05 01:17:14,717 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:17:14,717 - sqlalchemy.engine.Engine - INFO - [cached since 35.5s ago] (78.39, 1.8573846, 45.598517269710705, 84.07499923706055, 68.57519966125489, 44.56644989013672, 4.269216015325952, 6.887053562291051, -2.6178375469650987, 106.6452864579995, 84.07499923706055, 61.504712016121594, 8.99785668509347, 33.152346965257145, 49.870129157591535, -0.2832174194116419, 174069814.6, 0.48314690397791693, '2026-02-04 17:17:14.174456', 'SLV')
2026-02-05 01:17:14,718 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:17:14,719 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:14,720 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:17:14,720 - sqlalchemy.engine.Engine - INFO - [cached since 350.1s ago] ('SLV',)
2026-02-05 01:17:14,720 - api_logger - INFO - rid=/api/portfolio/SLV/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=551.19ms
2026-02-05 01:17:14,721 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:14,728 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:14,728 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:14,729 - sqlalchemy.engine.Engine - INFO - [cached since 435s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:14,729 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:17:14,730 - sqlalchemy.engine.Engine - INFO - [cached since 435s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:14,732 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.02ms
2026-02-05 01:17:14,734 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:15,345 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:15,350 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:15,354 - sqlalchemy.engine.Engine - INFO - [cached since 435.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:15,356 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:15,359 - sqlalchemy.engine.Engine - INFO - [cached since 435.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:17:15,360 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:15,362 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=19.11ms
2026-02-05 01:17:15,376 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:15,376 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:15,376 - sqlalchemy.engine.Engine - INFO - [cached since 435.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:15,377 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:15,377 - sqlalchemy.engine.Engine - INFO - [cached since 435.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'TSLA', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:17:15,378 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:15,378 - api_logger - INFO - rid=/api/analysis/TSLA method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.24ms
2026-02-05 01:17:15,413 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:15,413 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:15,413 - sqlalchemy.engine.Engine - INFO - [cached since 435.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:15,414 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:15,414 - sqlalchemy.engine.Engine - INFO - [cached since 435.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:17:15,415 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:15,415 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.83ms
2026-02-05 01:17:20,068 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:20,068 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:20,068 - sqlalchemy.engine.Engine - INFO - [cached since 440.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:20,070 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:17:20,071 - sqlalchemy.engine.Engine - INFO - [cached since 356.7s ago] ('SLV',)
2026-02-05 01:17:20,072 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:20,073 - sqlalchemy.engine.Engine - INFO - [cached since 355.5s ago] ('SLV', 5, 0)
2026-02-05 01:17:20,074 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-05 01:17:20,074 - sqlalchemy.engine.Engine - INFO - [cached since 355.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV')
2026-02-05 01:17:20,075 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:20,075 - sqlalchemy.engine.Engine - INFO - [cached since 440.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:17:26,929 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-05 01:17:26,937 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-05 01:17:26,937 - sqlalchemy.engine.Engine - INFO - [cached since 316s ago] ('571fad35-f842-48e8-b1ed-b9fccc9caf96', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', '{"market_data": {"current_price": 78.39, "change_percent": 1.8573846, "rsi_14": 45.598517269710705, "ma_20": 84.07499923706055, "ma_50": 68.575199661 ... (190 characters truncated) ... 5, "atr_14": 8.99785668509347, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 0.0, "quantity": 0.0, "unrealized_pl": 0.0, "pl_percent": 0}}', '{\n    "technical_analysis": "SLV78.3961.50106.65RSI 45.59MACD-2.61 ... (356 characters truncated) ... e": "78.392%106.65$0.061.50"\n}', None, 'qwen-3-vl-thinking', '2026-02-04 17:17:26.936843')
2026-02-05 01:17:26,939 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:17:26,941 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:26,942 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-05 01:17:26,942 - sqlalchemy.engine.Engine - INFO - [cached since 316s ago] ('571fad35-f842-48e8-b1ed-b9fccc9caf96',)
2026-02-05 01:17:26,944 - api_logger - INFO - rid=/api/analysis/SLV method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6877.17ms
2026-02-05 01:17:26,945 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 09:36:32,356 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 09:36:32,358 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 09:36:32,358 - sqlalchemy.engine.Engine - INFO - [cached since 1513s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 09:36:32,367 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 09:36:32,367 - sqlalchemy.engine.Engine - INFO - [cached since 1430s ago] ('SLV',)
2026-02-05 09:36:33,616 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 09:36:33,617 - sqlalchemy.engine.Engine - INFO - [cached since 1430s ago] ('SLV',)
2026-02-05 09:36:33,621 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 09:36:33,621 - sqlalchemy.engine.Engine - INFO - [no key 0.00028s] ('79de7eeb-68c1-3a22-8dc6-29aa0d832707', 'SLV', 'Exchange-Traded Funds, Equity Futures Mixed Pre-Bell Wednesday Ahead of Alphabet Earnings', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-140310603.html', '2026-02-04 14:03:10.000000', None)
2026-02-05 09:36:33,622 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 09:36:33,622 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('267a5d36-ee97-304a-b868-ceb8592ad222', 'SLV', 'Top-Performing ETF Stories of January: Winning Investing Areas', 'Zacks', 'https://finance.yahoo.com/news/top-performing-etf-stories-january-130000947.html', '2026-02-04 13:00:00.000000', None)
2026-02-05 09:36:33,623 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 09:36:33,623 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('57491ac4-a2f9-3f77-9055-e641926dd6bb', 'SLV', 'Daily ETF Flows: $3.4B Flows Into SLV', 'etf.com', 'https://finance.yahoo.com/news/daily-etf-flows-3-4b-230005689.html', '2026-02-03 23:00:05.000000', None)
2026-02-05 09:36:33,624 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 09:36:33,624 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('c192d55e-4add-3941-8d89-ebeb9f3a249c', 'SLV', 'Zacks Investment Ideas feature highlights: Ark Invest, BlackRock, IBIT, GLD and SLV', 'Zacks', 'https://finance.yahoo.com/news/zacks-investment-ideas-feature-highlights-152000677.html', '2026-02-03 15:20:00.000000', None)
2026-02-05 09:36:33,624 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 09:36:33,624 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('11bf817f-bd41-38a9-a525-45cefc988e19', 'SLV', 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Tuesday as Earnings Deluge Continues', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-142855032.html', '2026-02-03 14:28:55.000000', None)
2026-02-05 09:36:33,625 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 09:36:33,625 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('40e86472-947b-32a5-843c-bf675ad16c5d', 'SLV', 'Best-Performing ETF Areas of Last Week', 'Zacks', 'https://finance.yahoo.com/news/best-performing-etf-areas-last-140000188.html', '2026-02-03 14:00:00.000000', None)
2026-02-05 09:36:33,625 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 09:36:33,625 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('087c55d0-7556-330b-ac6a-028c74b9a07b', 'SLV', "Silver's Crash Is Getting Pretty Uncomfortable", "Investor's Business Daily", 'https://www.investors.com/etfs-and-funds/sectors/silver-crash-is-getting-pretty-uncomfortable/?src=A00220&yptr=yahoo', '2026-02-03 13:00:45.000000', None)
2026-02-05 09:36:33,626 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 09:36:33,626 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('cdbeba32-fb58-330b-b547-3c1b94b189f5', 'SLV', '$165B Pours Into ETFs in January as Investors Look Overseas', 'etf.com', 'https://finance.yahoo.com/news/165b-pours-etfs-january-investors-230020173.html', '2026-02-02 23:00:20.000000', None)
2026-02-05 09:36:33,626 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 09:36:33,626 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('f5e4c0ca-a572-3885-84b7-7b5b64c0949d', 'SLV', "Wrong Again: 'Experts' Keep Missing the Mark on Inflation", 'Zacks', 'https://finance.yahoo.com/news/wrong-again-experts-keep-missing-162800350.html', '2026-02-02 16:28:00.000000', None)
2026-02-05 09:36:33,628 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 09:36:33,628 - sqlalchemy.engine.Engine - INFO - [no key 0.00060s] ('d6187e64-6c40-35f8-85b0-3860745bb211', 'SLV', 'Exchange-Traded Funds, Equity Futures Lower Pre-Bell Monday Amid Precious Metals Downturn', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-140038784.html', '2026-02-02 14:00:38.000000', None)
2026-02-05 09:36:33,630 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=? WHERE stocks.ticker = ?
2026-02-05 09:36:33,630 - sqlalchemy.engine.Engine - INFO - [cached since 1079s ago] (27036010496.0, 'SLV')
2026-02-05 09:36:33,631 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 09:36:33,631 - sqlalchemy.engine.Engine - INFO - [cached since 1115s ago] (79.18, 2.88462, 46.20485506356412, 84.11449928283692, 68.59099967956543, 44.570399894714356, 4.3322360313794235, 6.899657565501745, -2.567421534122322, 106.64562603801593, 84.11449928283692, 61.5833725276579, 9.019285474504743, 33.7858173536197, 50.08128595371238, 1.194880153434326, 176374705.0, 0.7309080970539398, '2026-02-05 01:36:32.369347', 'SLV')
2026-02-05 09:36:33,631 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 09:36:33,632 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 09:36:33,632 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 09:36:33,632 - sqlalchemy.engine.Engine - INFO - [cached since 1430s ago] ('SLV',)
2026-02-05 09:36:33,633 - api_logger - INFO - rid=/api/portfolio/SLV/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1300.11ms
2026-02-05 09:36:33,634 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 09:36:33,643 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 09:36:33,643 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 09:36:33,643 - sqlalchemy.engine.Engine - INFO - [cached since 1515s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 09:36:33,644 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 09:36:33,644 - sqlalchemy.engine.Engine - INFO - [cached since 1515s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 09:36:33,648 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.35ms
2026-02-05 09:36:33,649 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 09:36:36,278 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 09:36:36,279 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 09:36:36,279 - sqlalchemy.engine.Engine - INFO - [cached since 1517s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 09:36:36,280 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 09:36:36,280 - sqlalchemy.engine.Engine - INFO - [cached since 1517s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 09:36:36,280 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.76ms
2026-02-05 09:36:36,281 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 09:36:36,325 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 09:36:36,325 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 09:36:36,325 - sqlalchemy.engine.Engine - INFO - [cached since 1517s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 09:36:36,329 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 09:36:36,329 - sqlalchemy.engine.Engine - INFO - [cached since 1517s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 09:36:36,330 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.15ms
2026-02-05 09:36:36,330 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 09:36:36,639 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 09:36:36,642 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 09:36:36,642 - sqlalchemy.engine.Engine - INFO - [cached since 1518s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 09:36:36,649 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 09:36:36,649 - sqlalchemy.engine.Engine - INFO - [cached since 1518s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 09:36:36,658 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=67.58ms
2026-02-05 09:36:36,664 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:20,557 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:20,559 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:20,559 - sqlalchemy.engine.Engine - INFO - [cached since 1865s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:20,561 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:20,561 - sqlalchemy.engine.Engine - INFO - [cached since 1781s ago] ('TSLA',)
2026-02-05 10:04:21,582 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 10:04:21,582 - sqlalchemy.engine.Engine - INFO - [cached since 1781s ago] ('TSLA',)
2026-02-05 10:04:21,585 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:21,585 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('5525b7f5-ffe7-38e3-9b4b-17a37c05d7f2', 'TSLA', 'Tech: Why this strategist has an Underweight rating on Mag 7', 'Yahoo Finance Video', 'https://finance.yahoo.com/video/tech-why-strategist-underweight-rating-221500796.html', '2026-02-04 22:15:00.000000', None)
2026-02-05 10:04:21,586 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:21,587 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('ebd86317-5c78-37d4-bba0-3dcaebf0a863', 'TSLA', "Here's Why I'm Still Not Buying Tesla Stock, Despite It Falling 9% This Year", 'Motley Fool', 'https://finance.yahoo.com/news/heres-why-im-still-not-015100922.html', '2026-02-05 01:51:00.000000', None)
2026-02-05 10:04:21,587 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:21,587 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('e9c516ed-89c4-3298-8073-cea754b2c1d8', 'TSLA', 'Does Tesla (TSLA) Share Price Reflect Its Role In The Electric Vehicle Shift?', 'Simply Wall St.', 'https://finance.yahoo.com/news/does-tesla-tsla-share-price-011056590.html', '2026-02-05 01:10:56.000000', None)
2026-02-05 10:04:21,588 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:21,589 - sqlalchemy.engine.Engine - INFO - [no key 0.00042s] ('24e251ec-5ced-3140-8376-55bac7181f3f', 'TSLA', 'Analysts flag alarming correlation amid tech sell-off', 'TheStreet', 'https://finance.yahoo.com/news/analysts-flag-alarming-correlation-amid-235715348.html', '2026-02-04 23:57:15.000000', None)
2026-02-05 10:04:21,590 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:21,590 - sqlalchemy.engine.Engine - INFO - [no key 0.00029s] ('52ff85f4-6c29-3cbd-bff2-94b9ecb1651c', 'TSLA', "Amid SpaceX-xAI Merger, Ross Gerber Has This Important Question For Elon Musk-Led Companies: 'When They Are All Out Of'", 'Benzinga', 'https://finance.yahoo.com/news/amid-spacex-xai-merger-ross-230108731.html', '2026-02-04 23:01:08.000000', None)
2026-02-05 10:04:21,592 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:21,592 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('1fa3402f-010a-3a9e-9235-52fc83f666aa', 'TSLA', "Tesla's Daring Move", 'Motley Fool', 'https://finance.yahoo.com/news/teslas-daring-move-214600293.html', '2026-02-04 21:46:00.000000', None)
2026-02-05 10:04:21,592 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:21,592 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('534bc582-6473-3cb8-85ec-4fa8b02f7cd0', 'TSLA', 'What Wall Street Thinks Tesla Will Be Worth by End of 2026. 1 Reason It Might Be Right', 'Motley Fool', 'https://finance.yahoo.com/news/wall-street-thinks-tesla-worth-213500213.html', '2026-02-04 21:35:00.000000', None)
2026-02-05 10:04:21,593 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:21,593 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('d480c9cb-a275-3690-b641-e5f5970fb1c2', 'TSLA', 'Tesla Stock Is Falling. It Really Needs the Optimus Robot.', 'Barrons.com', 'https://www.barrons.com/articles/tesla-stock-price-optimus-robot-957af84f?siteid=yhoof2&yptr=yahoo', '2026-02-04 21:28:00.000000', None)
2026-02-05 10:04:21,594 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:21,594 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('b3a99225-cbc0-3d61-9610-c44e0f4bff3e', 'TSLA', 'Musks Ambition Knows No Bounds. A Tesla-SpaceX Tie-Up Can Help Him Get There.', 'Barrons.com', 'https://www.barrons.com/articles/musk-tesla-spacex-x-ai-merger-deal-038df3dd?siteid=yhoof2&yptr=yahoo', '2026-02-04 21:26:00.000000', None)
2026-02-05 10:04:21,594 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:21,594 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('53111936-73b5-3440-a9b5-86b12a6005b1', 'TSLA', "'Growing Chance' Of Tesla Merger To Create Musk Trinity With SpaceX And xAI", "Investor's Business Daily", 'https://www.investors.com/news/tesla-stock-growing-chance-spacex-merger-to-create-musk-trinity/?src=A00220&yptr=yahoo', '2026-02-04 21:02:44.000000', None)
2026-02-05 10:04:21,595 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 10:04:21,595 - sqlalchemy.engine.Engine - INFO - [cached since 1569s ago] (1523524960256.0, 369.1, 140.66458, 'TSLA')
2026-02-05 10:04:21,596 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 10:04:21,596 - sqlalchemy.engine.Engine - INFO - [cached since 1466s ago] (406.01, -3.77997, 36.456373525489774, 433.35350036621094, 444.56360107421875, 379.78645027160644, -8.22622566100813, -5.8128700718270085, -2.413355589181121, 457.1040266942166, 433.35350036621094, 409.6029740382053, 15.668570382254464, 22.660383184002093, 30.714042139823935, 6.553065272358417, 61123550.0, 1.2171969723617166, '2026-02-05 02:04:20.562858', 'TSLA')
2026-02-05 10:04:21,596 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 10:04:21,597 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:21,597 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:21,598 - sqlalchemy.engine.Engine - INFO - [cached since 1781s ago] ('TSLA',)
2026-02-05 10:04:21,599 - api_logger - INFO - rid=/api/portfolio/TSLA/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1048.18ms
2026-02-05 10:04:21,599 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:21,603 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:21,604 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:21,604 - sqlalchemy.engine.Engine - INFO - [cached since 1866s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:21,605 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 10:04:21,605 - sqlalchemy.engine.Engine - INFO - [cached since 1866s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:21,607 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.45ms
2026-02-05 10:04:21,607 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:23,804 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:23,805 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:23,805 - sqlalchemy.engine.Engine - INFO - [cached since 1868s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:23,808 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:23,808 - sqlalchemy.engine.Engine - INFO - [cached since 1784s ago] ('WMT',)
2026-02-05 10:04:24,479 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 10:04:24,479 - sqlalchemy.engine.Engine - INFO - [cached since 1784s ago] ('WMT',)
2026-02-05 10:04:24,481 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:24,481 - sqlalchemy.engine.Engine - INFO - [no key 0.00034s] ('e6d219fe-795f-3735-95f9-aba7c61a39ea', 'WMT', 'Chipotle earnings, Walmart market cap: A look at consumer health', 'Yahoo Finance Video', 'https://finance.yahoo.com/video/chipotle-earnings-walmart-market-cap-173000578.html', '2026-02-04 17:30:00.000000', None)
2026-02-05 10:04:24,484 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:24,484 - sqlalchemy.engine.Engine - INFO - [no key 0.00038s] ('b6e7c836-9b61-3160-9c2b-5aed8a0c5bc3', 'WMT', 'Nearly 20% of S&P 500 Stocks Hit 52-Week Highs Today', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-04-2026/card/dozens-of-stocks-hitting-52-week-highs-RVYVXvgA2CXmT9yj7x9u?siteid=yhoof2&yptr=yahoo', '2026-02-04 21:47:27.000000', None)
2026-02-05 10:04:24,487 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:24,487 - sqlalchemy.engine.Engine - INFO - [no key 0.00044s] ('8d18dbb2-d5db-331a-a979-c5071bf10a29', 'WMT', 'Elf Beauty lifts annual forecasts as affordable products drive demand', 'Reuters', 'https://finance.yahoo.com/news/elf-beauty-lifts-annual-forecasts-210750610.html', '2026-02-04 21:08:31.000000', None)
2026-02-05 10:04:24,488 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:24,488 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ('45dd41a7-2d8a-3e60-92f2-f5b2ccc97321', 'WMT', 'Staples Stocks Are Stretched. One of the Markets Hottest Sectors Looks Way Too Frothy.', 'Barrons.com', 'https://www.barrons.com/articles/staples-stocks-walmart-costco-coke-382e6ae8?siteid=yhoof2&yptr=yahoo', '2026-02-04 21:07:00.000000', None)
2026-02-05 10:04:24,490 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:24,491 - sqlalchemy.engine.Engine - INFO - [no key 0.00036s] ('c9daf54b-8a01-3ba6-bf5b-820204b90238', 'WMT', 'Jim Cramer on Amazon: It Doesnt Get the Respect It Deserves', 'Insider Monkey', 'https://finance.yahoo.com/news/jim-cramer-amazon-doesn-t-201843827.html', '2026-02-04 20:18:43.000000', None)
2026-02-05 10:04:24,492 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:24,492 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('77af8eb6-a10e-3bc1-bfe4-b865ffbfc984', 'WMT', 'Zipline Raises $600 Million as Drone Delivery Hits Inflection Point', 'Sourcing Journal', 'https://finance.yahoo.com/news/zipline-raises-600-million-drone-201439784.html', '2026-02-04 20:14:39.000000', None)
2026-02-05 10:04:24,493 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:24,493 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('ff6d3931-7c30-3b40-8ea0-74d4e5430b0b', 'WMT', 'This Blue-Chip Dividend Stock Is Now Part of the Trillion-Dollar Club. Is It Still a Buy Here?', 'Barchart', 'https://finance.yahoo.com/news/blue-chip-dividend-stock-now-191702334.html', '2026-02-04 19:17:02.000000', None)
2026-02-05 10:04:24,493 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:24,494 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('13fb79e4-ac0e-3fb2-b59a-97f8f103f040', 'WMT', 'Symbotic\xa0Inc. (SYM): A\xa0Bull\xa0Case Theory', 'Insider Monkey', 'https://finance.yahoo.com/news/symbotic-inc-sym-bull-case-190212784.html', '2026-02-04 19:02:12.000000', None)
2026-02-05 10:04:24,494 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:24,494 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('efed4776-d179-3b8c-91f4-66543e4ca703', 'WMT', 'Amazon Expands Physical Grocery Push to Rival Walmart', 'GuruFocus.com', 'https://finance.yahoo.com/news/amazon-expands-physical-grocery-push-181847284.html', '2026-02-04 18:18:47.000000', None)
2026-02-05 10:04:24,495 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:24,495 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('4c9a0e74-9670-3a46-9eca-a94c339cadfd', 'WMT', 'WMT Joins the $1 Trillion Club: Can the Rally Continue for the Stock?', 'Zacks', 'https://finance.yahoo.com/news/wmt-joins-1-trillion-club-135200134.html', '2026-02-04 13:52:00.000000', None)
2026-02-05 10:04:24,496 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, fifty_two_week_high=? WHERE stocks.ticker = ?
2026-02-05 10:04:24,497 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (1020524953600.0, 44.755245, 43.09895, 129.41, 'WMT')
2026-02-05 10:04:24,497 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 10:04:24,498 - sqlalchemy.engine.Engine - INFO - [cached since 1469s ago] (128.0, 0.227078, 73.13952606391213, 118.93450012207032, 115.06806411743165, 103.26272659301758, 2.8463604714250437, 1.998973458518838, 0.8473870129062058, 126.87148110517057, 118.93450012207032, 110.99751913897006, 2.6949991498674666, 77.9478517298747, 62.95114776337408, 107.94125966287595, 47292605.0, 0.582008540235836, '2026-02-05 02:04:23.809656', 'WMT')
2026-02-05 10:04:24,498 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 10:04:24,499 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:24,499 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:24,499 - sqlalchemy.engine.Engine - INFO - [cached since 1784s ago] ('WMT',)
2026-02-05 10:04:24,501 - api_logger - INFO - rid=/api/portfolio/WMT/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=698.88ms
2026-02-05 10:04:24,502 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:24,509 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:24,510 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:24,510 - sqlalchemy.engine.Engine - INFO - [cached since 1869s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:24,511 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 10:04:24,511 - sqlalchemy.engine.Engine - INFO - [cached since 1869s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:24,512 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.14ms
2026-02-05 10:04:24,513 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:30,396 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:30,396 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:30,397 - sqlalchemy.engine.Engine - INFO - [cached since 1875s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:30,398 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:30,398 - sqlalchemy.engine.Engine - INFO - [cached since 1791s ago] ('RKLB',)
2026-02-05 10:04:31,186 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 10:04:31,187 - sqlalchemy.engine.Engine - INFO - [cached since 1791s ago] ('RKLB',)
2026-02-05 10:04:31,190 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:31,190 - sqlalchemy.engine.Engine - INFO - [no key 0.00053s] ('315ffab6-714f-3efe-ab9f-4ba42f6c9d3a', 'RKLB', 'Rocket Lab Corporation (RKLB) Falls More Steeply Than Broader Market: What Investors Need to Know', 'Zacks', 'https://finance.yahoo.com/news/rocket-lab-corporation-rklb-falls-231503481.html', '2026-02-04 23:15:03.000000', None)
2026-02-05 10:04:31,193 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:31,193 - sqlalchemy.engine.Engine - INFO - [no key 0.00038s] ('7df33355-0a87-3b1e-8f3b-ed6951482c7e', 'RKLB', 'Rocket Lab Stock Tanks Again. The Mini SpaceX Is Having a Wild Ride.', 'Barrons.com', 'https://www.barrons.com/articles/rocket-lab-stock-spacex-mars-384a062d?siteid=yhoof2&yptr=yahoo', '2026-02-04 21:14:00.000000', None)
2026-02-05 10:04:31,194 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:31,195 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ('76d81207-0350-369c-8f92-76fb4f9f5066', 'RKLB', 'How & Why SpaceX is Moving the AI Data Center Race to Space', 'Zacks', 'https://finance.yahoo.com/news/why-spacex-moving-ai-data-184100765.html', '2026-02-03 18:41:00.000000', None)
2026-02-05 10:04:31,195 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:31,195 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('be0b2201-588d-3b1f-b314-9d16274fb7fa', 'RKLB', 'Rocket Lab Balances Rapid Electron Launches With Neutron Program Setbacks', 'Simply Wall St.', 'https://finance.yahoo.com/news/rocket-lab-balances-rapid-electron-112301299.html', '2026-02-03 11:23:01.000000', None)
2026-02-05 10:04:31,196 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:31,196 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('5aeb5e78-794b-3aaa-b277-c15863b8198d', 'RKLB', '3 Reasons to Avoid RKLB and 1 Stock to Buy Instead', 'StockStory', 'https://finance.yahoo.com/news/3-reasons-avoid-rklb-1-040427868.html', '2026-02-03 04:04:27.000000', None)
2026-02-05 10:04:31,197 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:31,198 - sqlalchemy.engine.Engine - INFO - [no key 0.00040s] ('edfb9cfe-2eba-3234-9efa-82b99a80c85e', 'RKLB', "Space Stock Sinks After Congress Won't Fund Mars Mission In 2031", "Investor's Business Daily", 'https://www.investors.com/news/rocket-lab-stock-congress-mars-mission-rover/?src=A00220&yptr=yahoo', '2026-02-02 21:34:25.000000', None)
2026-02-05 10:04:31,199 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:31,199 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('9f6897dd-9e0b-3f74-801b-2891969c0b9c', 'RKLB', 'Rocket Lab Stock Falls. The Reason Is Odd.', 'Barrons.com', 'https://www.barrons.com/articles/rocket-lab-stock-falls-3a575366?siteid=yhoof2&yptr=yahoo', '2026-02-02 21:21:00.000000', None)
2026-02-05 10:04:31,200 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:31,200 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('e7272b06-3aaa-3375-a356-52f3b0fcacc1', 'RKLB', 'MarketBeat Week in Review  01/26 - 01/30', 'MarketBeat', 'https://finance.yahoo.com/news/marketbeat-week-review-01-26-120000487.html', '2026-01-31 12:00:00.000000', None)
2026-02-05 10:04:31,201 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:31,201 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('443f8a27-ea4f-3f4f-8a62-4b24413f6c01', 'RKLB', 'Rocket Lab Balances Defense Contract Wins With Neutron Reusability Push', 'Simply Wall St.', 'https://finance.yahoo.com/news/rocket-lab-balances-defense-contract-091427254.html', '2026-01-30 09:14:27.000000', None)
2026-02-05 10:04:31,202 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:31,202 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('8276a284-5a6f-3b2d-a4f2-d84df7b17b3f', 'RKLB', 'Rocket Lab Corporation (RKLB) Dips More Than Broader Market: What You Should Know', 'Zacks', 'https://finance.yahoo.com/news/rocket-lab-corporation-rklb-dips-231505921.html', '2026-01-29 23:15:05.000000', None)
2026-02-05 10:04:31,203 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-05 10:04:31,203 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (39052169216.0, -468.65384, -0.34, 'RKLB')
2026-02-05 10:04:31,204 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 10:04:31,204 - sqlalchemy.engine.Engine - INFO - [cached since 1476s ago] (73.11, -10.0406, 35.01202471067643, 85.47700119018555, 69.60510047912598, 48.96347506523132, 1.6679175950080065, 4.283482653024311, -2.615565058016305, 96.7377139472858, 85.47700119018555, 74.2162884330853, 8.055585043770927, 21.839056930703023, 25.78737651883092, 13.942417754447227, 24364271.8, 1.071090333182049, '2026-02-05 02:04:30.399373', 'RKLB')
2026-02-05 10:04:31,205 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 10:04:31,208 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:31,208 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:31,208 - sqlalchemy.engine.Engine - INFO - [cached since 1791s ago] ('RKLB',)
2026-02-05 10:04:31,209 - api_logger - INFO - rid=/api/portfolio/RKLB/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=817.14ms
2026-02-05 10:04:31,210 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:31,217 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:31,218 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:31,218 - sqlalchemy.engine.Engine - INFO - [cached since 1875s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:31,219 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 10:04:31,219 - sqlalchemy.engine.Engine - INFO - [cached since 1875s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:31,221 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.68ms
2026-02-05 10:04:31,221 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:32,094 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:32,094 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:32,094 - sqlalchemy.engine.Engine - INFO - [cached since 1876s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:32,097 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 10:04:32,097 - sqlalchemy.engine.Engine - INFO - [cached since 1876s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 10:04:32,098 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:32,099 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.94ms
2026-02-05 10:04:32,117 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:32,117 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:32,117 - sqlalchemy.engine.Engine - INFO - [cached since 1876s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:32,118 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 10:04:32,118 - sqlalchemy.engine.Engine - INFO - [cached since 1876s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 10:04:32,118 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.42ms
2026-02-05 10:04:32,119 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:32,171 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:32,171 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:32,171 - sqlalchemy.engine.Engine - INFO - [cached since 1876s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:32,172 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 10:04:32,172 - sqlalchemy.engine.Engine - INFO - [cached since 1876s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 10:04:32,173 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:32,173 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.52ms
2026-02-05 10:04:36,838 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:36,839 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:36,839 - sqlalchemy.engine.Engine - INFO - [cached since 1881s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:36,843 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:36,843 - sqlalchemy.engine.Engine - INFO - [cached since 1797s ago] ('SIDU',)
2026-02-05 10:04:37,366 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 10:04:37,366 - sqlalchemy.engine.Engine - INFO - [cached since 1797s ago] ('SIDU',)
2026-02-05 10:04:37,369 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:37,370 - sqlalchemy.engine.Engine - INFO - [no key 0.00046s] ('6e1bceaa-3937-3df3-af1b-1d7bab012805', 'SIDU', '5 Drone and Defense Stocks Catching Major Momentum in 2026', 'MarketBeat', 'https://finance.yahoo.com/news/5-drone-defense-stocks-catching-183100760.html', '2026-01-19 18:31:00.000000', None)
2026-02-05 10:04:37,371 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:37,371 - sqlalchemy.engine.Engine - INFO - [no key 0.00028s] ('d3480080-bb9b-3ffb-b2ec-033191990a3a', 'SIDU', 'Assessing Sidus Space (SIDU) Valuation After SHIELD Contract Win And US$16.2 Million Capital Raise', 'Simply Wall St.', 'https://finance.yahoo.com/news/assessing-sidus-space-sidu-valuation-171206642.html', '2026-01-10 17:12:06.000000', None)
2026-02-05 10:04:37,376 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:37,377 - sqlalchemy.engine.Engine - INFO - [no key 0.00037s] ('cdfec6b5-719d-3b80-a76d-3eb4f4cee25e', 'SIDU', 'Sidus Space (SIDU) Is Up 47.8% After SHIELD Award, Capital Raise, And Board Addition  Has The Bull Case Changed?', 'Simply Wall St.', 'https://finance.yahoo.com/news/sidus-space-sidu-47-8-231521050.html', '2026-01-07 23:15:21.000000', None)
2026-02-05 10:04:37,378 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:37,378 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ('c8f8f406-6d34-3c41-b5fb-638513fdd548', 'SIDU', 'BC-Most Active Stocks', 'Associated Press Finance', 'https://finance.yahoo.com/news/bc-most-active-stocks-153019063.html', '2026-01-07 15:30:19.000000', None)
2026-02-05 10:04:37,379 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:37,379 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('40093cf6-6335-3411-947f-9aa2a020ebc7', 'SIDU', 'US Equity Futures Mixed Pre-Bell Monday Despite Oil Sector Surge', 'MT Newswires', 'https://finance.yahoo.com/news/us-equity-futures-mixed-pre-135133672.html', '2026-01-05 13:51:33.000000', None)
2026-02-05 10:04:37,380 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:37,380 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('58ebb04c-8489-3bae-8919-28ecd8598830', 'SIDU', 'Trump Is Promising That the U.S. Will Return to the Moon. Does That Really Make Little-Known SIDU Stock a Buy?', 'Barchart', 'https://finance.yahoo.com/news/trump-promising-u-return-moon-201859274.html', '2025-12-31 20:18:59.000000', None)
2026-02-05 10:04:37,381 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:37,381 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('e88cef6b-6d7e-3922-b58d-0bd71c37b6c8', 'SIDU', 'Exchange-Traded Funds, Equity Futures Lower Pre-Bell Monday as Investors Await Fed Minutes', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-140417958.html', '2025-12-29 14:04:17.000000', None)
2026-02-05 10:04:37,382 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:37,382 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('69e91213-a98a-3f84-a683-678b8eb8c013', 'SIDU', 'Small space tech companys shares skyrocket on Trump Golden Dome contract', 'Euronews', 'https://finance.yahoo.com/news/small-space-tech-company-shares-165156864.html', '2025-12-26 16:51:56.000000', None)
2026-02-05 10:04:37,382 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:37,382 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('dfa76b1a-1cbc-3a11-bd6f-0b4b1029f825', 'SIDU', 'Exchange-Traded Funds Higher, Equity Futures Mixed Pre-Bell Friday as Market Reopens Following Holiday Break', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-higher-equity-135509039.html', '2025-12-26 13:55:09.000000', None)
2026-02-05 10:04:37,383 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:37,383 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('661b55e7-4a4d-36d4-8cf9-9c09be9c2ef2', 'SIDU', 'US Equity Futures Mixed Amid Signs of Year-End Optimism', 'MT Newswires', 'https://finance.yahoo.com/news/us-equity-futures-mixed-amid-135418353.html', '2025-12-26 13:54:18.000000', None)
2026-02-05 10:04:37,384 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 10:04:37,384 - sqlalchemy.engine.Engine - INFO - [cached since 1797s ago] (155323856.0, -9.729167, 'SIDU')
2026-02-05 10:04:37,385 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 10:04:37,385 - sqlalchemy.engine.Engine - INFO - [cached since 1482s ago] (2.335, -16.0072, 34.39911950736996, 3.465749990940094, 2.3190199947357177, 1.5967649987339974, 0.030260391112669538, 0.2639597464292656, -0.23369935531659608, 4.655563262085844, 3.465749990940094, 2.2759367197943443, 0.5421428680419922, 10.075219225680202, 17.98299395445103, -5.740330231861449, 33677775.6, 0.4388001207538184, '2026-02-05 02:04:36.844840', 'SIDU')
2026-02-05 10:04:37,386 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 10:04:37,388 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:37,388 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:37,388 - sqlalchemy.engine.Engine - INFO - [cached since 1797s ago] ('SIDU',)
2026-02-05 10:04:37,389 - api_logger - INFO - rid=/api/portfolio/SIDU/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=552.33ms
2026-02-05 10:04:37,389 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:37,399 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:37,399 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:37,399 - sqlalchemy.engine.Engine - INFO - [cached since 1882s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:37,400 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 10:04:37,400 - sqlalchemy.engine.Engine - INFO - [cached since 1882s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:37,402 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.24ms
2026-02-05 10:04:37,402 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:40,123 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:40,123 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:40,123 - sqlalchemy.engine.Engine - INFO - [cached since 1884s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:40,125 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:40,126 - sqlalchemy.engine.Engine - INFO - [cached since 1801s ago] ('PG',)
2026-02-05 10:04:40,654 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 10:04:40,654 - sqlalchemy.engine.Engine - INFO - [cached since 1800s ago] ('PG',)
2026-02-05 10:04:40,658 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:40,658 - sqlalchemy.engine.Engine - INFO - [no key 0.00104s] ('6daf5e43-54ef-32f5-b20f-5bab91620ecc', 'PG', 'A Look At Procter & Gamble (PG) Valuation After Mixed Q2 Results And High Profile Brand Campaigns', 'Simply Wall St.', 'https://finance.yahoo.com/news/look-procter-gamble-pg-valuation-231721083.html', '2026-02-04 23:17:21.000000', None)
2026-02-05 10:04:40,661 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:40,661 - sqlalchemy.engine.Engine - INFO - [no key 0.00037s] ('45dd41a7-2d8a-3e60-92f2-f5b2ccc97321', 'PG', 'Staples Stocks Are Stretched. One of the Markets Hottest Sectors Looks Way Too Frothy.', 'Barrons.com', 'https://www.barrons.com/articles/staples-stocks-walmart-costco-coke-382e6ae8?siteid=yhoof2&yptr=yahoo', '2026-02-04 21:07:00.000000', None)
2026-02-05 10:04:40,662 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:40,663 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('8ae5cab5-0cae-3a44-a08d-0319189bd5ba', 'PG', "Can Beauty & Personal Care Innovation Drive Procter & Gamble's Growth?", 'Zacks', 'https://finance.yahoo.com/news/beauty-personal-care-innovation-drive-154900275.html', '2026-02-04 15:49:00.000000', None)
2026-02-05 10:04:40,664 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:40,664 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ('969c0730-01bd-397d-8b0c-911ee12230fd', 'PG', 'Procter & Gamble Leans On Sports Marketing To Support Brand Demand', 'Simply Wall St.', 'https://finance.yahoo.com/news/procter-gamble-leans-sports-marketing-101120333.html', '2026-02-04 10:11:20.000000', None)
2026-02-05 10:04:40,665 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:40,666 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ('b5bf1eb1-ec7e-37dc-9171-59e36b533328', 'PG', 'The Procter & Gamble Company (PG): A\xa0Bull\xa0Case Theory', 'Insider Monkey', 'https://finance.yahoo.com/news/procter-gamble-company-pg-bull-023628841.html', '2026-02-04 02:36:28.000000', None)
2026-02-05 10:04:40,667 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:40,667 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ('752d1334-6a52-3af8-ba12-d2c246fc1721', 'PG', 'Is e.l.f. Beauty Stock a Hidden Gem in the Cosmetics Aisle?\u200b', 'Motley Fool', 'https://finance.yahoo.com/news/e-l-f-beauty-stock-235500401.html', '2026-02-03 23:55:00.000000', None)
2026-02-05 10:04:40,668 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:40,669 - sqlalchemy.engine.Engine - INFO - [no key 0.00041s] ('6fb9e125-b405-4eff-a62e-5a6466490e53', 'PG', 'PepsiCo CEO reveals how he is tackling weight-loss drugs and consumer affordability challenges', 'Yahoo Finance', 'https://finance.yahoo.com/news/pepsico-ceo-reveals-how-he-is-tackling-weight-loss-drugs-and-consumer-affordability-challenges-213011648.html', '2026-02-03 21:30:11.000000', None)
2026-02-05 10:04:40,669 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:40,670 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('43217243-9048-3384-9621-fcc6f4f91224', 'PG', "PepsiCo to cut prices of Lay's, Doritos as consumers push back", 'Reuters Videos', 'https://finance.yahoo.com/video/pepsico-cut-prices-lays-doritos-180303942.html', '2026-02-03 18:03:03.000000', None)
2026-02-05 10:04:40,670 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:40,671 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('5e7cae04-7b62-37a1-9ac3-2a779e698ecb', 'PG', 'Billionaire activist investor Peltz open to more buyouts', 'Reuters', 'https://finance.yahoo.com/news/billionaire-activist-investor-peltz-open-164336394.html', '2026-02-03 16:43:36.000000', None)
2026-02-05 10:04:40,671 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:40,671 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('bfbaf2ff-acce-3e4a-8e61-4df2d8d4f647', 'PG', 'Graphic Packaging (GPK) Earnings Transcript', 'Motley Fool', 'https://finance.yahoo.com/news/graphic-packaging-gpk-earnings-transcript-163841075.html', '2026-02-03 16:38:41.000000', None)
2026-02-05 10:04:40,673 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 10:04:40,674 - sqlalchemy.engine.Engine - INFO - [cached since 1588s ago] (366563360768.0, 23.20562, 21.43516, 'PG')
2026-02-05 10:04:40,674 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 10:04:40,674 - sqlalchemy.engine.Engine - INFO - [cached since 1485s ago] (156.87, 0.997932, 75.49734672075162, 146.94085769653321, 144.77058227539064, 151.73610290527344, 2.9764045007113964, 1.864460824098719, 1.1119436766126773, 157.2221048727517, 146.94085769653321, 136.65961052031474, 2.683854541172916, 86.54899363944926, 83.54631064643091, 92.554359625486, 12273200.0, 0.9919336440374149, '2026-02-05 02:04:40.127000', 'PG')
2026-02-05 10:04:40,675 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 10:04:40,677 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:40,677 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:40,677 - sqlalchemy.engine.Engine - INFO - [cached since 1800s ago] ('PG',)
2026-02-05 10:04:40,678 - api_logger - INFO - rid=/api/portfolio/PG/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=557.63ms
2026-02-05 10:04:40,678 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:40,686 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:40,686 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:40,686 - sqlalchemy.engine.Engine - INFO - [cached since 1885s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:40,687 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 10:04:40,687 - sqlalchemy.engine.Engine - INFO - [cached since 1885s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:40,690 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.35ms
2026-02-05 10:04:40,692 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:50,290 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:50,293 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:50,293 - sqlalchemy.engine.Engine - INFO - [cached since 1894s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:50,295 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:50,295 - sqlalchemy.engine.Engine - INFO - [cached since 1811s ago] ('AAPL',)
2026-02-05 10:04:50,821 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 10:04:50,822 - sqlalchemy.engine.Engine - INFO - [cached since 1810s ago] ('AAPL',)
2026-02-05 10:04:50,825 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:50,826 - sqlalchemy.engine.Engine - INFO - [no key 0.00054s] ('9aa7b4cd-fd6f-478b-95e6-eb4cafcb8db9', 'AAPL', 'Alphabet 2026 spending forecast soars past Wall Street expectations as Google parent goes all in on AI', 'Yahoo Finance', 'https://finance.yahoo.com/news/alphabet-2026-spending-forecast-soars-past-wall-street-expectations-as-google-parent-goes-all-in-on-ai-195254701.html', '2026-02-03 19:52:54.000000', None)
2026-02-05 10:04:50,828 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:50,828 - sqlalchemy.engine.Engine - INFO - [no key 0.00030s] ('677bdc22-05ed-3320-ac7a-79b8c08a86d0', 'AAPL', 'Dow Jones Futures: Google Beats Views, Huge AI Spending Stuns', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-futures-techs-falling-eli-lilly-soars-google-earnings-capital-spending/?src=A00220&yptr=yahoo', '2026-02-05 01:39:59.000000', None)
2026-02-05 10:04:50,830 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:50,830 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('cbb50b6f-5524-35c5-b207-00ea51b9d377', 'AAPL', 'Is It Really a Good Sign When Executives Buy Their Own Stock? We Ran the Numbers', 'The Wall Street Journal', 'https://www.wsj.com/finance/stocks/is-it-really-a-good-sign-when-executives-buy-their-own-stock-we-ran-the-numbers-2655b232?siteid=yhoof2&yptr=yahoo', '2026-02-05 00:00:00.000000', None)
2026-02-05 10:04:50,831 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:50,831 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('24e251ec-5ced-3140-8376-55bac7181f3f', 'AAPL', 'Analysts flag alarming correlation amid tech sell-off', 'TheStreet', 'https://finance.yahoo.com/news/analysts-flag-alarming-correlation-amid-235715348.html', '2026-02-04 23:57:15.000000', None)
2026-02-05 10:04:50,832 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:50,832 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('850ab954-5223-3573-bfa9-5a23e1e3c569', 'AAPL', 'Alphabet wont talk about the Google-Apple AI deal, even to investors', 'TechCrunch', 'https://finance.yahoo.com/news/alphabet-won-t-talk-google-232831031.html', '2026-02-04 23:28:31.000000', None)
2026-02-05 10:04:50,833 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:50,833 - sqlalchemy.engine.Engine - INFO - [no key 0.00028s] ('cf7a4db6-0534-3a66-9ff4-03e39c93d775', 'AAPL', "Google's quarterly results paint a picture of an internet powerhouse getting stronger in AI age", 'Associated Press Finance', 'https://finance.yahoo.com/news/googles-quarterly-results-paint-picture-214749532.html', '2026-02-04 21:47:49.000000', None)
2026-02-05 10:04:50,834 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:50,834 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('02abf5d3-55b1-34df-aeb5-748c40f522a2', 'AAPL', 'Arm Holdings Reported Record Revenue. The Stock Is Falling.', 'Barrons.com', 'https://www.barrons.com/articles/arm-holdings-earnings-stock-price-935c1ca4?siteid=yhoof2&yptr=yahoo', '2026-02-04 21:45:00.000000', None)
2026-02-05 10:04:50,835 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:50,836 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('70980df1-f2fc-3c74-ae35-06b22c9ee5a6', 'AAPL', 'The Dealmaking 3: Super Bowl LX & Top Issues Behind Big Game', 'CorpGov.com', 'https://sports.yahoo.com/articles/dealmaking-3-super-bowl-lx-213026499.html', '2026-02-04 21:30:26.000000', None)
2026-02-05 10:04:50,837 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:50,837 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('36df8192-83f5-3cb7-8bb3-97e1c78f4975', 'AAPL', 'Prediction: Broadcom Will Be a $3 Trillion Company by the End of 2027', 'Motley Fool', 'https://finance.yahoo.com/news/prediction-broadcom-3-trillion-company-212000347.html', '2026-02-04 21:20:00.000000', None)
2026-02-05 10:04:50,837 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:50,837 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('02bead2d-ccd9-3a31-989d-573ce3ba6327', 'AAPL', 'Silicon Labs Stock Soars. Why Texas Instruments Is Paying a Big Premium for the Acquisition.', 'Barrons.com', 'https://www.barrons.com/articles/silicon-labs-stock-texas-instruments-deal-7d3c8f60?siteid=yhoof2&yptr=yahoo', '2026-02-04 21:16:00.000000', None)
2026-02-05 10:04:50,838 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 10:04:50,838 - sqlalchemy.engine.Engine - INFO - [cached since 1598s ago] (4063829426176.0, 34.998734, 29.799831, 'AAPL')
2026-02-05 10:04:50,839 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 10:04:50,839 - sqlalchemy.engine.Engine - INFO - [cached since 1496s ago] (276.49, 2.6013, 67.07997954142263, 258.4169982910156, 268.5697985839844, 237.50162879943846, 0.21437346290014148, -2.7200268040609075, 2.934400266961049, 273.5361184343503, 258.4169982910156, 243.29787814768085, 6.7085756574358255, 87.14317928782904, 76.65866568376669, 108.11220649595373, 56647325.0, 1.5968715204115993, '2026-02-05 02:04:50.296708', 'AAPL')
2026-02-05 10:04:50,839 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 10:04:50,841 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:50,841 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:50,842 - sqlalchemy.engine.Engine - INFO - [cached since 1810s ago] ('AAPL',)
2026-02-05 10:04:50,843 - api_logger - INFO - rid=/api/portfolio/AAPL/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=555.48ms
2026-02-05 10:04:50,843 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:50,851 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:50,851 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:50,851 - sqlalchemy.engine.Engine - INFO - [cached since 1895s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:50,852 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 10:04:50,852 - sqlalchemy.engine.Engine - INFO - [cached since 1895s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:50,855 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.52ms
2026-02-05 10:04:50,855 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:52,176 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:52,177 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:52,177 - sqlalchemy.engine.Engine - INFO - [cached since 1896s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:52,178 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 10:04:52,179 - sqlalchemy.engine.Engine - INFO - [cached since 1896s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 10:04:52,179 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.31ms
2026-02-05 10:04:52,180 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:52,198 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:52,198 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:52,198 - sqlalchemy.engine.Engine - INFO - [cached since 1896s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:52,199 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 10:04:52,199 - sqlalchemy.engine.Engine - INFO - [cached since 1896s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 10:04:52,199 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:52,199 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.18ms
2026-02-05 10:04:52,234 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:52,234 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:52,234 - sqlalchemy.engine.Engine - INFO - [cached since 1896s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:52,235 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 10:04:52,235 - sqlalchemy.engine.Engine - INFO - [cached since 1896s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 10:04:52,236 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.18ms
2026-02-05 10:04:52,236 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:55,036 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:55,036 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:55,036 - sqlalchemy.engine.Engine - INFO - [cached since 1899s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:55,038 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:55,038 - sqlalchemy.engine.Engine - INFO - [cached since 1816s ago] ('AMD',)
2026-02-05 10:04:55,697 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 10:04:55,697 - sqlalchemy.engine.Engine - INFO - [cached since 1815s ago] ('AMD',)
2026-02-05 10:04:55,700 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:55,700 - sqlalchemy.engine.Engine - INFO - [no key 0.00032s] ('19cd1080-a43d-4393-8ed1-77d2b30d3322', 'AMD', 'Earnings live: Qualcomm stock dives as memory chip shortage weighs on outlook, Alphabet boosts AI spending', 'Yahoo Finance', 'https://finance.yahoo.com/news/live/earnings-live-qualcomm-stock-dives-as-memory-chip-shortage-weighs-on-outlook-alphabet-boosts-ai-spending-213250088.html', '2026-02-04 21:32:50.000000', None)
2026-02-05 10:04:55,701 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:55,702 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('5fc86e2d-619d-4254-83cd-ae93e86b0bf2', 'AMD', 'Memory company stocks are seeing 1,000% gains from the AI boom', 'Yahoo Finance', 'https://finance.yahoo.com/news/memory-company-stocks-are-seeing-1000-gains-from-the-ai-boom-192550307.html', '2026-02-04 19:25:50.000000', None)
2026-02-05 10:04:55,702 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:55,703 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('a65d7578-a084-3058-9ea8-9a30784830df', 'AMD', 'Software sell-off, AMD earnings, bitcoin drops: 3 Things', 'Yahoo Finance Video', 'https://finance.yahoo.com/video/software-sell-off-amd-earnings-140322858.html', '2026-02-04 14:03:22.000000', None)
2026-02-05 10:04:55,704 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:55,704 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('677bdc22-05ed-3320-ac7a-79b8c08a86d0', 'AMD', 'Dow Jones Futures: Google Beats Views, Huge AI Spending Stuns', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-futures-techs-falling-eli-lilly-soars-google-earnings-capital-spending/?src=A00220&yptr=yahoo', '2026-02-05 01:57:35.000000', None)
2026-02-05 10:04:55,705 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:55,705 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ('7df3ef9a-8dd6-3c8d-8213-dd550ee44299', 'AMD', 'Arvind Ltd (BOM:500101) Q3 2026 Earnings Call Highlights: Record Revenue and Strategic Growth ...', 'GuruFocus.com', 'https://finance.yahoo.com/news/arvind-ltd-bom-500101-q3-010213493.html', '2026-02-05 01:02:13.000000', None)
2026-02-05 10:04:55,707 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:55,707 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ('7697b9cd-a146-3cd5-943d-3242b7c7da5e', 'AMD', 'Review & Preview: The Tech Slump Continues', 'Barrons.com', 'https://www.barrons.com/articles/stocks-today-tech-selloff-jobs-report-5966cc4e?siteid=yhoof2&yptr=yahoo', '2026-02-05 00:55:00.000000', None)
2026-02-05 10:04:55,708 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:55,708 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('e18b886b-9a19-3b14-bd3e-db5fcfbd22b6', 'AMD', 'Why AMD Stock Crashed Today', 'Motley Fool', 'https://finance.yahoo.com/news/why-amd-stock-crashed-today-233811096.html', '2026-02-04 23:38:11.000000', None)
2026-02-05 10:04:55,708 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:55,708 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('968e2406-bd76-37d3-8697-cd4486834707', 'AMD', 'Stock Market Today, Feb. 4: Advanced Micro Devices Slides as Wall Street Adjusts AI Revenue Expectations', 'Motley Fool', 'https://finance.yahoo.com/news/stock-market-today-feb-4-232100076.html', '2026-02-04 23:21:00.000000', None)
2026-02-05 10:04:55,709 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:55,709 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('7eb45a39-68b1-33a0-9c6b-0dd4a51ced6d', 'AMD', 'AMDs Record AI Results Meet Softer Outlook And Share Pullback', 'Simply Wall St.', 'https://finance.yahoo.com/news/amd-record-ai-results-meet-231644919.html', '2026-02-04 23:16:44.000000', None)
2026-02-05 10:04:55,710 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:55,710 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('c0b7ebbf-2c87-3e1e-bb69-9bde050b6b67', 'AMD', 'Intensifying Tech Slide Sends Nasdaq to Worst Two-Day Drop Since April', 'The Wall Street Journal', 'https://www.wsj.com/finance/stocks/global-stocks-markets-dow-news-02-04-2026-3fd7a30b?siteid=yhoof2&yptr=yahoo', '2026-02-04 23:15:00.000000', None)
2026-02-05 10:04:55,711 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 10:04:55,711 - sqlalchemy.engine.Engine - INFO - [cached since 1603s ago] (325917638656.0, 76.70116, 18.983759, 'AMD')
2026-02-05 10:04:55,711 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 10:04:55,711 - sqlalchemy.engine.Engine - INFO - [cached since 1500s ago] (200.19, -17.3144, 40.03914487421076, 232.9284996032715, 221.82899963378907, 177.88994976043702, 3.9425602576135645, 6.990313083599391, -3.0477528259858264, 272.26530117294726, 232.9284996032715, 193.59169803359572, 15.28713880266462, 27.660962159600814, 45.76717794525645, -8.551469411710457, 42376245.0, 2.5223329721640035, '2026-02-05 02:04:55.039183', 'AMD')
2026-02-05 10:04:55,712 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 10:04:55,713 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:55,714 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:55,714 - sqlalchemy.engine.Engine - INFO - [cached since 1815s ago] ('AMD',)
2026-02-05 10:04:55,715 - api_logger - INFO - rid=/api/portfolio/AMD/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=680.00ms
2026-02-05 10:04:55,715 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:55,723 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:55,723 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:55,723 - sqlalchemy.engine.Engine - INFO - [cached since 1900s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:55,724 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 10:04:55,725 - sqlalchemy.engine.Engine - INFO - [cached since 1900s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:55,727 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.54ms
2026-02-05 10:04:55,727 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:56,992 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:56,993 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:56,993 - sqlalchemy.engine.Engine - INFO - [cached since 1901s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:56,995 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 10:04:56,995 - sqlalchemy.engine.Engine - INFO - [cached since 1901s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 10:04:56,996 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.98ms
2026-02-05 10:04:56,997 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:57,017 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:57,017 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:57,018 - sqlalchemy.engine.Engine - INFO - [cached since 1901s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:57,018 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 10:04:57,018 - sqlalchemy.engine.Engine - INFO - [cached since 1901s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 10:04:57,019 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.51ms
2026-02-05 10:04:57,019 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:57,071 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:57,071 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:57,071 - sqlalchemy.engine.Engine - INFO - [cached since 1901s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:57,072 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 10:04:57,072 - sqlalchemy.engine.Engine - INFO - [cached since 1901s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 10:04:57,072 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.10ms
2026-02-05 10:04:57,072 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:05:22,638 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:05:22,639 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:05:22,639 - sqlalchemy.engine.Engine - INFO - [cached since 1927s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:05:22,641 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:05:22,641 - sqlalchemy.engine.Engine - INFO - [cached since 1843s ago] ('AMZN',)
2026-02-05 10:05:23,186 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 10:05:23,187 - sqlalchemy.engine.Engine - INFO - [cached since 1843s ago] ('AMZN',)
2026-02-05 10:05:23,190 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:23,190 - sqlalchemy.engine.Engine - INFO - [no key 0.00064s] ('6c52d518-186f-3679-b4b3-950c7dd2109e', 'AMZN', 'Amazon earnings, Fed commentary, mortgage rates: What to Watch', 'Yahoo Finance Video', 'https://finance.yahoo.com/video/amazon-earnings-fed-commentary-mortgage-000000507.html', '2026-02-05 00:00:00.000000', None)
2026-02-05 10:05:23,194 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:23,194 - sqlalchemy.engine.Engine - INFO - [no key 0.00043s] ('1b32239c-ce93-4d7f-84c9-abda55472e3a', 'AMZN', 'Stock market today: S&P 500, Nasdaq fall for 2nd day as tech slides on AI worries with Google earnings ahead', 'Yahoo Finance', 'https://finance.yahoo.com/news/live/stock-market-today-sp-500-nasdaq-fall-for-2nd-day-as-tech-slides-on-ai-worries-with-google-earnings-ahead-210024017.html', '2026-02-04 21:00:24.000000', None)
2026-02-05 10:05:23,195 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:23,196 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('f9af2084-3302-4faa-8e26-cbeb75d1d310', 'AMZN', 'Amazon to report Q4 earnings with capex, AI growth in focus', 'Yahoo Finance', 'https://finance.yahoo.com/news/amazon-to-report-q4-earnings-with-capex-ai-growth-in-focus-173054193.html', '2026-02-04 17:30:54.000000', None)
2026-02-05 10:05:23,197 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:23,197 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ('59f8f07e-e241-3ec6-ae9e-abf2ddb1cc39', 'AMZN', 'Texas Instruments makes a $7.5B deal no one saw coming', 'TheStreet', 'https://finance.yahoo.com/news/texas-instruments-makes-7-5b-013700660.html', '2026-02-05 01:37:00.000000', None)
2026-02-05 10:05:23,198 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:23,198 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('91cf775a-115c-36f8-88c7-4715116c2dc4', 'AMZN', "Palantir Isn't Adding Many New Customers  Existing Clients Are Spending Much More, CEO Alex Karp Says: 'AI Has Just Put Gasoline On All'", 'Benzinga', 'https://finance.yahoo.com/news/palantir-isnt-adding-many-customers-013107617.html', '2026-02-05 01:31:07.000000', None)
2026-02-05 10:05:23,199 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:23,199 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('e1133228-a79b-3cb1-b505-6cbd86a2bfbd', 'AMZN', '3 Intriguing Stocks to Watch After Q4 Earnings: AMD, SPG, TER', 'Zacks', 'https://finance.yahoo.com/news/3-intriguing-stocks-watch-q4-005300347.html', '2026-02-05 00:53:00.000000', None)
2026-02-05 10:05:23,200 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:23,200 - sqlalchemy.engine.Engine - INFO - [no key 0.00031s] ('f9e64bee-7f09-3d48-9de7-2a71f46d584c', 'AMZN', 'How the AI Trade Went From Market Savior to Saboteur', 'Barrons.com', 'https://www.barrons.com/articles/stock-market-ai-trade-software-selloff-8fa2c639?siteid=yhoof2&yptr=yahoo', '2026-02-05 00:09:00.000000', None)
2026-02-05 10:05:23,201 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:23,201 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('24e251ec-5ced-3140-8376-55bac7181f3f', 'AMZN', 'Analysts flag alarming correlation amid tech sell-off', 'TheStreet', 'https://finance.yahoo.com/news/analysts-flag-alarming-correlation-amid-235715348.html', '2026-02-04 23:57:15.000000', None)
2026-02-05 10:05:23,202 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:23,202 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('86e24558-f45f-40a0-a7a2-b3c926a0c079', 'AMZN', "Stock market today: Dow, S&P 500, Nasdaq futures rise after Wall Street's tech sell-off deepens", 'Yahoo Finance', 'https://finance.yahoo.com/news/live/stock-market-today-dow-sp-500-nasdaq-futures-rise-after-wall-streets-tech-sell-off-deepens-234925012.html', '2026-02-04 23:49:25.000000', None)
2026-02-05 10:05:23,203 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:23,203 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('68e62464-4091-3f37-8545-2ae88aebe4d1', 'AMZN', "'Melania' Surprises With $7 Million In US, Film Made Only $44,960 In UK, $7,696 In Italy: Why Amazon Is Far From Profits", 'Benzinga', 'https://finance.yahoo.com/news/melania-surprises-7-million-us-233104883.html', '2026-02-04 23:31:04.000000', None)
2026-02-05 10:05:23,204 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-05 10:05:23,204 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (2490713505792.0, 32.86178, 29.70792, 7.09, 'AMZN')
2026-02-05 10:05:23,205 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 10:05:23,205 - sqlalchemy.engine.Engine - INFO - [cached since 1528s ago] (232.99, -2.3594, 45.9115406026677, 239.78849868774415, 233.58059967041015, 222.7248501586914, 1.2502575894944812, 1.8732388731122875, -0.6229812836178064, 249.47302662638887, 239.78849868774415, 230.10397074909943, 6.2228578839983255, 43.52572750962652, 57.03523917146645, 16.506704185946674, 41481560.0, 1.2330201660689715, '2026-02-05 02:05:22.642741', 'AMZN')
2026-02-05 10:05:23,206 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 10:05:23,207 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:05:23,208 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:05:23,208 - sqlalchemy.engine.Engine - INFO - [cached since 1843s ago] ('AMZN',)
2026-02-05 10:05:23,209 - api_logger - INFO - rid=/api/portfolio/AMZN/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=572.18ms
2026-02-05 10:05:23,209 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:05:23,217 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:05:23,218 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:05:23,218 - sqlalchemy.engine.Engine - INFO - [cached since 1927s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:05:23,219 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 10:05:23,219 - sqlalchemy.engine.Engine - INFO - [cached since 1927s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:05:23,221 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.63ms
2026-02-05 10:05:23,222 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:05:24,605 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:05:24,606 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:05:24,607 - sqlalchemy.engine.Engine - INFO - [cached since 1929s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:05:24,609 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:05:24,609 - sqlalchemy.engine.Engine - INFO - [cached since 1845s ago] ('ASTS',)
2026-02-05 10:05:25,141 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 10:05:25,142 - sqlalchemy.engine.Engine - INFO - [cached since 1844s ago] ('ASTS',)
2026-02-05 10:05:25,144 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:25,145 - sqlalchemy.engine.Engine - INFO - [no key 0.00032s] ('4f34aa62-3fe7-3f96-85e8-7d55c6f5393d', 'ASTS', 'AT&T, Amazon Forge Cloud, Satellite Partnership. AST SpaceMobile Not Impacted, Says AT&T.', "Investor's Business Daily", 'https://www.investors.com/news/technology/att-amazon-forge-cloud-satellite-partnership-asts-gsat/?src=A00220&yptr=yahoo', '2026-02-04 22:36:48.000000', None)
2026-02-05 10:05:25,146 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:25,146 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('05654542-b483-3ae2-a498-16bc9d5e65fc', 'ASTS', 'AST SpaceMobile Enters Defense Work As BlueBird 7 Launch Nears', 'Simply Wall St.', 'https://finance.yahoo.com/news/ast-spacemobile-enters-defense-bluebird-201842829.html', '2026-02-04 20:18:42.000000', None)
2026-02-05 10:05:25,147 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:25,147 - sqlalchemy.engine.Engine - INFO - [no key 0.00031s] ('7aadef03-1b12-3f07-b81e-892b093ca74b', 'ASTS', 'AST SpaceMobile (ASTS) Climbs 10.7% as Elon Musk Bets on Space Sector to Boost AI', 'Insider Monkey', 'https://finance.yahoo.com/news/ast-spacemobile-asts-climbs-10-145233542.html', '2026-02-04 14:52:33.000000', None)
2026-02-05 10:05:25,149 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:25,149 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ('02c66b20-e713-32f3-b7fa-219efb715de4', 'ASTS', "US space stocks rise after Musk's SpaceX merges with xAI at $1.25 trillion valuation", 'Reuters', 'https://finance.yahoo.com/news/us-space-stocks-rise-musks-111421530.html', '2026-02-03 11:14:21.000000', None)
2026-02-05 10:05:25,150 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:25,150 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('75e0f95b-dc3a-37ed-a263-afaae959670f', 'ASTS', 'AST SpaceMobile, Inc. (ASTS) Stock Slides as Market Rises: Facts to Know Before You Trade', 'Zacks', 'https://finance.yahoo.com/news/ast-spacemobile-inc-asts-stock-230003256.html', '2026-02-02 23:00:03.000000', None)
2026-02-05 10:05:25,151 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:25,151 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('cf099c2a-87c1-3c8f-896f-6db7e53feea5', 'ASTS', 'Why AST SpaceMobile Stock Jumped 53% in January', 'Motley Fool', 'https://finance.yahoo.com/news/why-ast-spacemobile-stock-jumped-225216538.html', '2026-02-02 22:52:16.000000', None)
2026-02-05 10:05:25,152 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:25,152 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('0d0fd9d9-9d63-3731-9685-22581d85f60e', 'ASTS', 'Assessing AST SpaceMobile (ASTS) Valuation After BlueBird 7 Launch Confirmation And SHIELD Contract Win', 'Simply Wall St.', 'https://finance.yahoo.com/news/assessing-ast-spacemobile-asts-valuation-231603546.html', '2026-01-28 23:16:03.000000', None)
2026-02-05 10:05:25,153 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:25,153 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('ca37c207-01b9-37c5-9815-65e3ec316ec9', 'ASTS', 'BlueBird 7 Launch on New Glenn and SHIELD Role Could Be A Game Changer For AST SpaceMobile (ASTS)', 'Simply Wall St.', 'https://finance.yahoo.com/news/bluebird-7-launch-glenn-shield-221137355.html', '2026-01-28 22:11:37.000000', None)
2026-02-05 10:05:25,154 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:25,154 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('c006b281-ad32-3c5c-9e51-996a285628db', 'ASTS', 'Space Stock Boom: Why Retail and Wall Street Are Aligning', 'MarketBeat', 'https://finance.yahoo.com/news/space-stock-boom-why-retail-183600974.html', '2026-01-27 18:36:00.000000', None)
2026-02-05 10:05:25,154 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:25,154 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('6f95060c-594a-31f4-ad43-1f5122c49a80', 'ASTS', 'AST SpaceMobile, Inc. (ASTS) Stock Sinks As Market Gains: What You Should Know', 'Zacks', 'https://finance.yahoo.com/news/ast-spacemobile-inc-asts-stock-230004280.html', '2026-01-26 23:00:04.000000', None)
2026-02-05 10:05:25,156 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 10:05:25,156 - sqlalchemy.engine.Engine - INFO - [cached since 1844s ago] (38026035200.0, -101.87008, 'ASTS')
2026-02-05 10:05:25,158 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 10:05:25,158 - sqlalchemy.engine.Engine - INFO - [cached since 1530s ago] (103.5, -10.5909, 53.58131463453943, 105.88250007629395, 84.97439979553222, 57.7319997882843, 7.5675833878391785, 8.948611890927712, -1.3810285030885332, 126.66223760308172, 105.88250007629395, 85.10276254950618, 13.582972390311104, 40.22547499580418, 54.39213636856865, 11.892152250275231, 17463606.45, 1.1380483783176414, '2026-02-05 02:05:24.610943', 'ASTS')
2026-02-05 10:05:25,159 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 10:05:25,161 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:05:25,161 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:05:25,161 - sqlalchemy.engine.Engine - INFO - [cached since 1844s ago] ('ASTS',)
2026-02-05 10:05:25,162 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=559.30ms
2026-02-05 10:05:25,163 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:05:25,171 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:05:25,171 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:05:25,171 - sqlalchemy.engine.Engine - INFO - [cached since 1929s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:05:25,173 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 10:05:25,174 - sqlalchemy.engine.Engine - INFO - [cached since 1929s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:05:25,176 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.18ms
2026-02-05 10:05:25,177 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:29:57,678 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:29:57,680 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:29:57,680 - sqlalchemy.engine.Engine - INFO - [cached since 3288s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:29:57,684 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:29:57,684 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:29:57,684 - sqlalchemy.engine.Engine - INFO - [cached since 3288s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:29:57,690 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 11:29:57,690 - sqlalchemy.engine.Engine - INFO - [cached since 3288s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 11:29:57,692 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 11:29:57,692 - sqlalchemy.engine.Engine - INFO - [cached since 3288s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:29:57,697 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=37.06ms
2026-02-05 11:29:57,698 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=16.49ms
2026-02-05 11:29:57,698 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:29:57,698 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:31:38,624 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:31:38,625 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:31:38,625 - sqlalchemy.engine.Engine - INFO - [cached since 3389s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:31:38,626 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:31:38,626 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:31:38,626 - sqlalchemy.engine.Engine - INFO - [cached since 3389s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:31:38,629 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 11:31:38,630 - sqlalchemy.engine.Engine - INFO - [cached since 3389s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 11:31:38,632 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 11:31:38,632 - sqlalchemy.engine.Engine - INFO - [cached since 3389s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:31:38,635 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.78ms
2026-02-05 11:31:38,636 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=15.23ms
2026-02-05 11:31:38,637 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:31:38,637 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:31:39,548 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:31:39,550 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:31:39,550 - sqlalchemy.engine.Engine - INFO - [cached since 3390s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:31:39,554 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 11:31:39,555 - sqlalchemy.engine.Engine - INFO - [cached since 3390s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 11:31:39,556 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:31:39,557 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.75ms
2026-02-05 11:31:39,575 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:31:39,576 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:31:39,576 - sqlalchemy.engine.Engine - INFO - [cached since 3390s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:31:39,579 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 11:31:39,579 - sqlalchemy.engine.Engine - INFO - [cached since 3390s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 11:31:39,581 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.95ms
2026-02-05 11:31:39,582 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:31:39,676 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:31:39,677 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:31:39,677 - sqlalchemy.engine.Engine - INFO - [cached since 3390s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:31:39,679 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 11:31:39,680 - sqlalchemy.engine.Engine - INFO - [cached since 3390s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 11:31:39,680 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:31:39,681 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.23ms
2026-02-05 11:31:40,902 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:31:40,903 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:31:40,903 - sqlalchemy.engine.Engine - INFO - [cached since 3391s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:31:40,904 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 11:31:40,905 - sqlalchemy.engine.Engine - INFO - [cached since 3391s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 11:31:40,906 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.70ms
2026-02-05 11:31:40,906 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:31:40,930 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:31:40,930 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:31:40,930 - sqlalchemy.engine.Engine - INFO - [cached since 3391s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:31:40,931 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 11:31:40,931 - sqlalchemy.engine.Engine - INFO - [cached since 3391s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 11:31:40,932 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:31:40,932 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.87ms
2026-02-05 11:31:40,972 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:31:40,973 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:31:40,973 - sqlalchemy.engine.Engine - INFO - [cached since 3391s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:31:40,974 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 11:31:40,974 - sqlalchemy.engine.Engine - INFO - [cached since 3391s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 11:31:40,975 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.02ms
2026-02-05 11:31:40,975 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:34:34,839 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:34:34,855 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:34:34,855 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:34:34,855 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:34:34,856 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:34:34,856 - sqlalchemy.engine.Engine - INFO - [cached since 0.0009042s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:34:34,858 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 11:34:34,858 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 11:34:34,863 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 11:34:34,863 - sqlalchemy.engine.Engine - INFO - [generated in 0.00065s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:34:34,865 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=41.19ms
2026-02-05 11:34:34,866 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:34:34,870 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=38.39ms
2026-02-05 11:34:34,871 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 18:39:51,818 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 18:39:51,821 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 18:39:51,822 - sqlalchemy.engine.Engine - INFO - [cached since 7787s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 18:39:51,831 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 18:39:51,831 - sqlalchemy.engine.Engine - INFO - [cached since 7787s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 18:39:51,833 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 18:39:51,833 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 18:39:51,834 - sqlalchemy.engine.Engine - INFO - [cached since 7787s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 18:39:51,835 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 18:39:51,837 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 18:39:51,839 - sqlalchemy.engine.Engine - INFO - [cached since 7787s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 18:39:51,842 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=66.64ms
2026-02-05 18:39:51,850 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=17.93ms
2026-02-05 18:39:51,850 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 18:39:51,857 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 18:39:51,858 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 18:39:51,858 - sqlalchemy.engine.Engine - INFO - [cached since 7787s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 18:39:51,860 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 18:39:51,861 - sqlalchemy.engine.Engine - INFO - [cached since 7787s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 18:39:51,861 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 18:39:51,862 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.42ms
2026-02-05 18:39:52,630 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 18:39:52,631 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 18:39:52,631 - sqlalchemy.engine.Engine - INFO - [cached since 7788s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 18:39:52,633 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 18:39:52,634 - sqlalchemy.engine.Engine - INFO - [cached since 7788s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 18:39:52,635 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.62ms
2026-02-05 18:39:52,636 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 18:39:52,644 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 18:39:52,644 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 18:39:52,644 - sqlalchemy.engine.Engine - INFO - [cached since 7788s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 18:39:52,645 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 18:39:52,645 - sqlalchemy.engine.Engine - INFO - [cached since 7788s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 18:39:52,646 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 18:39:52,646 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.57ms
2026-02-05 18:39:52,670 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 18:39:52,670 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 18:39:52,670 - sqlalchemy.engine.Engine - INFO - [cached since 7788s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 18:39:52,672 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 18:39:52,672 - sqlalchemy.engine.Engine - INFO - [cached since 7788s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 18:39:52,673 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.53ms
2026-02-05 18:39:52,673 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 18:39:55,367 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 18:39:55,367 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 18:39:55,368 - sqlalchemy.engine.Engine - INFO - [cached since 7791s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 18:39:55,372 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 18:39:55,372 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] ('AMD',)
2026-02-05 18:39:56,541 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 18:39:56,541 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('AMD',)
2026-02-05 18:39:56,544 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 18:39:56,544 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('19cd1080-a43d-4393-8ed1-77d2b30d3322', 'AMD', 'Earnings live: Qualcomm stock dives as memory chip shortage weighs on outlook, Alphabet boosts AI spending', 'Yahoo Finance', 'https://finance.yahoo.com/news/live/earnings-live-qualcomm-stock-dives-as-memory-chip-shortage-weighs-on-outlook-alphabet-boosts-ai-spending-213250088.html', '2026-02-04 21:32:50.000000', None)
2026-02-05 18:39:56,546 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 18:39:56,546 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('5fc86e2d-619d-4254-83cd-ae93e86b0bf2', 'AMD', 'Memory company stocks are seeing 1,000% gains from the AI boom', 'Yahoo Finance', 'https://finance.yahoo.com/news/memory-company-stocks-are-seeing-1000-gains-from-the-ai-boom-192550307.html', '2026-02-04 19:25:50.000000', None)
2026-02-05 18:39:56,546 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 18:39:56,547 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('a65d7578-a084-3058-9ea8-9a30784830df', 'AMD', 'Software sell-off, AMD earnings, bitcoin drops: 3 Things', 'Yahoo Finance Video', 'https://finance.yahoo.com/video/software-sell-off-amd-earnings-140322858.html', '2026-02-04 14:03:22.000000', None)
2026-02-05 18:39:56,548 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 18:39:56,548 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('841a6643-95af-30c7-81f2-8e4298da3beb', 'AMD', 'US Stock Market Today S&P 500 Futures Nudge Higher As Rate Jitters Linger', 'Simply Wall St.', 'https://finance.yahoo.com/news/us-stock-market-today-p-101507736.html', '2026-02-05 10:15:07.000000', None)
2026-02-05 18:39:56,549 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 18:39:56,549 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('1b3a8a1d-9199-35e4-9ddb-19b8074958a4', 'AMD', 'Stock Futures Rise as Market Digests Google AI Spending Surge', 'Barrons.com', 'https://www.barrons.com/livecoverage/stock-market-news-today-020526/card/stock-futures-rise-as-market-digests-google-ai-spending-surge-QSUrxiRDlRzr1j3UJ5sl?siteid=yhoof2&yptr=yahoo', '2026-02-05 08:56:05.000000', None)
2026-02-05 18:39:56,549 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 18:39:56,550 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('8125b7e3-2723-3344-af8d-52aff352f1b1', 'AMD', 'Heard on the Street Wednesday Recap: Tech Tantrum', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-05-2026/card/heard-on-the-street-wednesday-recap-tech-tantrum-ljtzcfNMCFjoPCjUvHHA?siteid=yhoof2&yptr=yahoo', '2026-02-05 08:45:12.000000', None)
2026-02-05 18:39:56,550 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 18:39:56,550 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('3a21db1b-1fa4-3aba-ac31-4fc39c4500a1', 'AMD', 'TSMC Needs to Make More Advanced Chips. Why Its Turning to Japan.', 'Barrons.com', 'https://www.barrons.com/articles/tsmc-stock-price-chip-nvidia-apple-supplier-0238529b?siteid=yhoof2&yptr=yahoo', '2026-02-05 08:40:00.000000', None)
2026-02-05 18:39:56,552 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 18:39:56,552 - sqlalchemy.engine.Engine - INFO - [no key 0.00030s] ('fbd611eb-a40c-3116-8d2e-c6fbf3761c53', 'AMD', 'Stock Market News for Feb 5, 2026', 'Zacks', 'https://finance.yahoo.com/news/stock-market-news-feb-5-084000765.html', '2026-02-05 08:40:00.000000', None)
2026-02-05 18:39:56,553 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 18:39:56,553 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('677bdc22-05ed-3320-ac7a-79b8c08a86d0', 'AMD', 'Dow Jones Futures Fall; Google Beats Views, Huge AI Spending Stuns', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-futures-techs-falling-eli-lilly-soars-google-earnings-capital-spending/?src=A00220&yptr=yahoo', '2026-02-05 04:05:55.000000', None)
2026-02-05 18:39:56,554 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 18:39:56,554 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('54bcf021-49cd-3e5f-bc61-af39fbf335a0', 'AMD', 'Super Micro Computer, Inc. (SMCI): A\xa0Bull\xa0Case Theory', 'Insider Monkey', 'https://finance.yahoo.com/news/super-micro-computer-inc-smci-031847771.html', '2026-02-05 03:18:47.000000', None)
2026-02-05 18:39:56,556 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET pe_ratio=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-05 18:39:56,556 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (92.68055, 19.015133, 2.16, 'AMD')
2026-02-05 18:39:56,557 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 18:39:56,557 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('2026-02-05 10:39:55.376874', 'AMD')
2026-02-05 18:39:56,557 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 18:39:56,559 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 18:39:56,561 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 18:39:56,561 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('AMD',)
2026-02-05 18:39:56,562 - api_logger - INFO - rid=/api/portfolio/AMD/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1198.51ms
2026-02-05 18:39:56,563 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 18:39:56,574 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 18:39:56,574 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 18:39:56,575 - sqlalchemy.engine.Engine - INFO - [cached since 7792s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 18:39:56,576 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 18:39:56,576 - sqlalchemy.engine.Engine - INFO - [cached since 7792s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 18:39:56,578 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.74ms
2026-02-05 18:39:56,579 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:18:11,942 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:18:11,952 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.email = ?
2026-02-06 23:18:11,952 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('test@qq.com',)
2026-02-06 23:18:12,169 - api_logger - INFO - rid=/api/auth/login method=POST status_code=200 user_id=anonymous time=236.81ms
2026-02-06 23:18:12,169 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:18:12,280 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:18:12,281 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:18:12,281 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:18:12,316 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-06 23:18:12,316 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:18:12,318 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=40.08ms
2026-02-06 23:18:12,322 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:18:12,324 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:18:12,325 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:18:12,325 - sqlalchemy.engine.Engine - INFO - [cached since 0.04432s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:18:12,326 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-06 23:18:12,326 - sqlalchemy.engine.Engine - INFO - [cached since 0.01031s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:18:12,328 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.27ms
2026-02-06 23:18:12,329 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:18:12,347 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:18:12,347 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:18:12,347 - sqlalchemy.engine.Engine - INFO - [cached since 0.06638s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:18:12,348 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:18:12,348 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:18:12,350 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.77ms
2026-02-06 23:18:12,351 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:30:02,764 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:30:02,769 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:30:02,770 - sqlalchemy.engine.Engine - INFO - [cached since 710.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:30:02,771 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:30:02,772 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:30:02,772 - sqlalchemy.engine.Engine - INFO - [cached since 710.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:30:02,774 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:30:02,774 - sqlalchemy.engine.Engine - INFO - [cached since 710.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:30:02,775 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-06 23:30:02,775 - sqlalchemy.engine.Engine - INFO - [cached since 710.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:30:02,777 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=48.49ms
2026-02-06 23:30:02,778 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:30:02,779 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=53.36ms
2026-02-06 23:30:02,779 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:30:03,159 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:30:03,160 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:30:03,160 - sqlalchemy.engine.Engine - INFO - [cached since 710.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:30:03,160 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:30:03,161 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:30:03,161 - sqlalchemy.engine.Engine - INFO - [cached since 710.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:30:03,162 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:30:03,162 - sqlalchemy.engine.Engine - INFO - [cached since 710.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:30:03,165 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-06 23:30:03,165 - sqlalchemy.engine.Engine - INFO - [cached since 710.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:30:03,172 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.38ms
2026-02-06 23:30:03,173 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=15.40ms
2026-02-06 23:30:03,174 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:30:03,174 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:33:06,876 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:33:06,876 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:33:06,876 - sqlalchemy.engine.Engine - INFO - [cached since 894.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:33:06,876 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:33:06,876 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:33:06,876 - sqlalchemy.engine.Engine - INFO - [cached since 894.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:33:06,877 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:33:06,877 - sqlalchemy.engine.Engine - INFO - [cached since 894.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:33:06,877 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-06 23:33:06,877 - sqlalchemy.engine.Engine - INFO - [cached since 894.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:33:06,878 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.66ms
2026-02-06 23:33:06,878 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:33:06,880 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.90ms
2026-02-06 23:33:06,880 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:33:29,336 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:33:29,338 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:33:29,338 - sqlalchemy.engine.Engine - INFO - [cached since 917.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:33:29,343 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-06 23:33:29,343 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('AAPL',)
2026-02-06 23:33:31,113 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-06 23:33:31,114 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('AAPL',)
2026-02-06 23:33:31,120 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:33:31,120 - sqlalchemy.engine.Engine - INFO - [no key 0.00058s] ('5ec0fd74-7ce3-3034-88f7-8f03cfc8c237', 'AAPL', "What Alphabet's earnings reveal about the decline in software stocks", 'Yahoo Finance Video', 'https://finance.yahoo.com/video/alphabets-earnings-reveal-decline-software-183000814.html', '2026-02-05 18:30:00.000000', None)
2026-02-06 23:33:31,125 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:33:31,125 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('9aa7b4cd-fd6f-478b-95e6-eb4cafcb8db9', 'AAPL', 'Alphabet stock sinks after Google parent announces $180 billion spending plan for 2026 in massive AI bet', 'Yahoo Finance', 'https://finance.yahoo.com/news/alphabet-stock-sinks-after-google-parent-announces-180-billion-spending-plan-for-2026-in-massive-ai-bet-155410864.html', '2026-02-05 15:54:10.000000', None)
2026-02-06 23:33:31,126 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:33:31,126 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('42f565e8-04f4-3a0a-b0d5-b463e7a32a07', 'AAPL', 'AI trade splinters as investors get more selective', 'Reuters', 'https://finance.yahoo.com/news/ai-trade-splinters-investors-more-150101291.html', '2026-02-06 15:01:01.000000', None)
2026-02-06 23:33:31,127 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:33:31,127 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('d08818e0-ccf3-3fae-b2f2-fe6849158e1a', 'AAPL', 'Is crypto still cypherpunk? With Miden co-founder Azeem Khan', 'The Block', 'https://finance.yahoo.com/news/crypto-still-cypherpunk-miden-co-130151835.html', '2026-02-06 13:01:51.000000', None)
2026-02-06 23:33:31,127 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:33:31,127 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('befd5246-56aa-3075-a630-78f0bb1bab69', 'AAPL', 'Despite The Ho-Hum Dividend, SCHG Beat the S&P 500 by An Impressive 15%', '24/7 Wall St.', 'https://finance.yahoo.com/news/despite-ho-hum-dividend-schg-123037857.html', '2026-02-06 12:30:37.000000', None)
2026-02-06 23:33:31,128 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:33:31,128 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('1c5ef38e-272c-316a-ae6f-88c650c9141e', 'AAPL', 'Apple Just Had The Biggest Quarter In iPhone History', 'Benzinga', 'https://finance.yahoo.com/news/apple-just-had-biggest-quarter-120109544.html', '2026-02-06 12:01:09.000000', None)
2026-02-06 23:33:31,128 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:33:31,128 - sqlalchemy.engine.Engine - INFO - [no key 0.00004s] ('a6479cfc-5e40-352b-acdc-14616c9f119a', 'AAPL', 'Zacks Investment Ideas feature highlights: Alphabet, Nvidia and Apple', 'Zacks', 'https://finance.yahoo.com/news/zacks-investment-ideas-feature-highlights-114600888.html', '2026-02-06 11:46:00.000000', None)
2026-02-06 23:33:31,128 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:33:31,128 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('52c220f4-0742-3f6b-b999-24925f3d771c', 'AAPL', 'Magnificent Seven Sink -- Nearly $3 Trillion in Market Value Vanishes', 'GuruFocus.com', 'https://finance.yahoo.com/news/magnificent-seven-sink-nearly-3-114037275.html', '2026-02-06 11:40:37.000000', None)
2026-02-06 23:33:31,129 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:33:31,129 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('8af2f72a-e998-324d-8410-89a503677f2a', 'AAPL', 'Apple Scales Back AI Health Coach Plans', 'GuruFocus.com', 'https://finance.yahoo.com/news/apple-scales-back-ai-health-113406335.html', '2026-02-06 11:34:06.000000', None)
2026-02-06 23:33:31,129 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:33:31,129 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('7a418b82-e9d3-3ce0-b6f8-af2b38f5e4d0', 'AAPL', 'Pricier iPhones? Global memory chip crunch puts spotlight on Apple', 'Reuters', 'https://finance.yahoo.com/news/pricier-iphones-global-memory-chip-112922022.html', '2026-02-06 11:29:22.000000', None)
2026-02-06 23:33:31,130 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=? WHERE stocks.ticker = ?
2026-02-06 23:33:31,130 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] (4109319536640.0, 35.43536, 30.13263, 7.89, 0.38, 'AAPL')
2026-02-06 23:33:31,131 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-06 23:33:31,131 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (279.57, 1.3319516, 74.91706867632419, 260.2205093383789, 268.73040283203125, 238.3210247039795, 2.3214936513231805, -1.0778249763493553, 3.399318627672536, 279.5158011567397, 260.2205093383789, 240.9252175200181, 6.944644383021763, 90.00439732642619, 83.49411923318083, 103.02495351291688, 55104392.3, 0.27341642600784116, '2026-02-06 15:33:29.344388', 'AAPL')
2026-02-06 23:33:31,132 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-06 23:33:31,133 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:33:31,133 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-06 23:33:31,133 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('AAPL',)
2026-02-06 23:33:31,134 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-06 23:33:31,134 - sqlalchemy.engine.Engine - INFO - [generated in 0.00005s] ('AAPL', 5, 0)
2026-02-06 23:33:31,135 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-06 23:33:31,135 - sqlalchemy.engine.Engine - INFO - [generated in 0.00005s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL')
2026-02-06 23:33:31,135 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:33:31,136 - sqlalchemy.engine.Engine - INFO - [cached since 918.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:33:31,136 - app.api.v1.endpoints.analysis - INFO - Returning latest report for AAPL (model: qwen-3-vl-thinking)
2026-02-06 23:33:31,136 - api_logger - INFO - rid=/api/analysis/AAPL method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1803.40ms
2026-02-06 23:33:31,136 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:41:26,670 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:41:26,671 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:41:26,671 - sqlalchemy.engine.Engine - INFO - [cached since 1394s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:41:26,672 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:41:26,672 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:41:26,672 - sqlalchemy.engine.Engine - INFO - [cached since 1394s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:41:26,674 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.11ms
2026-02-06 23:41:26,676 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:41:26,676 - sqlalchemy.engine.Engine - INFO - [cached since 1394s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:41:26,677 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-06 23:41:26,677 - sqlalchemy.engine.Engine - INFO - [cached since 1394s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:41:26,677 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.96ms
2026-02-06 23:41:26,678 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:41:26,681 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=20.52ms
2026-02-06 23:41:26,682 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:43:25,571 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:43:25,571 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:43:25,571 - sqlalchemy.engine.Engine - INFO - [cached since 1513s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:43:25,571 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:43:25,572 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:43:25,572 - sqlalchemy.engine.Engine - INFO - [cached since 1513s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:43:25,572 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.42ms
2026-02-06 23:43:25,574 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:43:25,574 - sqlalchemy.engine.Engine - INFO - [cached since 1513s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:43:25,575 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-06 23:43:25,575 - sqlalchemy.engine.Engine - INFO - [cached since 1513s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:43:25,576 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.86ms
2026-02-06 23:43:25,580 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:43:25,582 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.52ms
2026-02-06 23:43:25,585 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:43:26,001 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:43:26,001 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:43:26,001 - sqlalchemy.engine.Engine - INFO - [cached since 1514s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:43:26,001 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:43:26,002 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:43:26,002 - sqlalchemy.engine.Engine - INFO - [cached since 1514s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:43:26,002 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=0.20ms
2026-02-06 23:43:26,003 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:43:26,003 - sqlalchemy.engine.Engine - INFO - [cached since 1514s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:43:26,004 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-06 23:43:26,004 - sqlalchemy.engine.Engine - INFO - [cached since 1514s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:43:26,005 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.02ms
2026-02-06 23:43:26,006 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.09ms
2026-02-06 23:43:26,006 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:43:26,007 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:52:36,812 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:52:36,813 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:52:36,814 - sqlalchemy.engine.Engine - INFO - [cached since 2065s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:52:36,818 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-06 23:52:36,818 - sqlalchemy.engine.Engine - INFO - [cached since 1147s ago] ('AAPL',)
2026-02-06 23:52:37,531 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-06 23:52:37,531 - sqlalchemy.engine.Engine - INFO - [cached since 1146s ago] ('AAPL',)
2026-02-06 23:52:37,534 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:52:37,534 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('5ec0fd74-7ce3-3034-88f7-8f03cfc8c237', 'AAPL', "What Alphabet's earnings reveal about the decline in software stocks", 'Yahoo Finance Video', 'https://finance.yahoo.com/video/alphabets-earnings-reveal-decline-software-183000814.html', '2026-02-05 18:30:00.000000', None)
2026-02-06 23:52:37,536 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:52:37,536 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('9aa7b4cd-fd6f-478b-95e6-eb4cafcb8db9', 'AAPL', 'Alphabet stock sinks after Google parent announces $180 billion spending plan for 2026 in massive AI bet', 'Yahoo Finance', 'https://finance.yahoo.com/news/alphabet-stock-sinks-after-google-parent-announces-180-billion-spending-plan-for-2026-in-massive-ai-bet-155410864.html', '2026-02-05 15:54:10.000000', None)
2026-02-06 23:52:37,537 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:52:37,537 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('8d92f70b-4aa5-4fe7-a62f-83a0e7161b2a', 'AAPL', 'Would you end a relationship over a difference in salary? How readers voted', 'Yahoo Finance UK', 'https://finance.yahoo.com/news/would-you-end-a-relationship-over-a-difference-in-salary-how-readers-voted-153936079.html', '2026-02-06 15:40:46.000000', None)
2026-02-06 23:52:37,538 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:52:37,539 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('42f565e8-04f4-3a0a-b0d5-b463e7a32a07', 'AAPL', 'AI trade splinters as investors get more selective', 'Reuters', 'https://finance.yahoo.com/news/ai-trade-splinters-investors-more-150101291.html', '2026-02-06 15:01:01.000000', None)
2026-02-06 23:52:37,539 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:52:37,540 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ('d08818e0-ccf3-3fae-b2f2-fe6849158e1a', 'AAPL', 'Is crypto still cypherpunk? With Miden co-founder Azeem Khan', 'The Block', 'https://finance.yahoo.com/news/crypto-still-cypherpunk-miden-co-130151835.html', '2026-02-06 13:01:51.000000', None)
2026-02-06 23:52:37,540 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:52:37,541 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('befd5246-56aa-3075-a630-78f0bb1bab69', 'AAPL', 'Despite The Ho-Hum Dividend, SCHG Beat the S&P 500 by An Impressive 15%', '24/7 Wall St.', 'https://finance.yahoo.com/news/despite-ho-hum-dividend-schg-123037857.html', '2026-02-06 12:30:37.000000', None)
2026-02-06 23:52:37,541 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:52:37,541 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('1c5ef38e-272c-316a-ae6f-88c650c9141e', 'AAPL', 'Apple Just Had The Biggest Quarter In iPhone History', 'Benzinga', 'https://finance.yahoo.com/news/apple-just-had-biggest-quarter-120109544.html', '2026-02-06 12:01:09.000000', None)
2026-02-06 23:52:37,542 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:52:37,542 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('a6479cfc-5e40-352b-acdc-14616c9f119a', 'AAPL', 'Zacks Investment Ideas feature highlights: Alphabet, Nvidia and Apple', 'Zacks', 'https://finance.yahoo.com/news/zacks-investment-ideas-feature-highlights-114600888.html', '2026-02-06 11:46:00.000000', None)
2026-02-06 23:52:37,543 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:52:37,543 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('52c220f4-0742-3f6b-b999-24925f3d771c', 'AAPL', 'Magnificent Seven Sink -- Nearly $3 Trillion in Market Value Vanishes', 'GuruFocus.com', 'https://finance.yahoo.com/news/magnificent-seven-sink-nearly-3-114037275.html', '2026-02-06 11:40:37.000000', None)
2026-02-06 23:52:37,543 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:52:37,543 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('8af2f72a-e998-324d-8410-89a503677f2a', 'AAPL', 'Apple Scales Back AI Health Coach Plans', 'GuruFocus.com', 'https://finance.yahoo.com/news/apple-scales-back-ai-health-113406335.html', '2026-02-06 11:34:06.000000', None)
2026-02-06 23:52:37,545 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-06 23:52:37,545 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (4108658147328.0, 35.42966, 30.12778, 'AAPL')
2026-02-06 23:52:37,545 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-06 23:52:37,545 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (279.54, 1.3158065, 74.92216969477343, 260.2209991455078, 268.7305987548828, 238.32107360839845, 2.322275109990926, -1.0776686846151573, 3.3999437946060835, 279.5183552369212, 260.2209991455078, 240.92364305409438, 90.01576505546203, 83.49790847619278, 103.05147821400055, 55150941.55, 0.29006632616592204, '2026-02-06 15:52:36.819885', 'AAPL')
2026-02-06 23:52:37,546 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-06 23:52:37,547 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:52:37,547 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-06 23:52:37,547 - sqlalchemy.engine.Engine - INFO - [cached since 1146s ago] ('AAPL',)
2026-02-06 23:52:37,548 - api_logger - INFO - rid=/api/portfolio/AAPL/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=747.00ms
2026-02-06 23:52:37,549 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:52:37,558 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:52:37,558 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:52:37,558 - sqlalchemy.engine.Engine - INFO - [cached since 2065s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:52:37,559 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-06 23:52:37,559 - sqlalchemy.engine.Engine - INFO - [cached since 2065s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:52:37,560 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.06ms
2026-02-06 23:52:37,561 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:52:47,196 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:52:47,197 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:52:47,197 - sqlalchemy.engine.Engine - INFO - [cached since 2075s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:52:47,197 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=0.40ms
2026-02-06 23:52:47,201 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:52:47,201 - sqlalchemy.engine.Engine - INFO - [cached since 2075s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:52:47,203 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:52:47,204 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.09ms
2026-02-06 23:52:47,260 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:52:47,260 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:52:47,260 - sqlalchemy.engine.Engine - INFO - [cached since 2075s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:52:47,262 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=0.96ms
2026-02-06 23:52:47,264 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:52:47,264 - sqlalchemy.engine.Engine - INFO - [cached since 2075s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:52:47,265 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.74ms
2026-02-06 23:52:47,266 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:52:47,320 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:52:47,320 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:52:47,320 - sqlalchemy.engine.Engine - INFO - [cached since 2075s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:52:47,321 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=0.29ms
2026-02-06 23:52:47,322 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:52:47,322 - sqlalchemy.engine.Engine - INFO - [cached since 2075s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:52:47,322 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:52:47,323 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.78ms
2026-02-06 23:52:48,991 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:52:48,992 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:52:48,992 - sqlalchemy.engine.Engine - INFO - [cached since 2077s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:52:48,992 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.22ms
2026-02-06 23:52:48,993 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:52:48,993 - sqlalchemy.engine.Engine - INFO - [cached since 2077s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:52:48,995 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.89ms
2026-02-06 23:52:48,996 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:52:49,046 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:52:49,047 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:52:49,047 - sqlalchemy.engine.Engine - INFO - [cached since 2077s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:52:49,048 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=0.29ms
2026-02-06 23:52:49,049 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:52:49,049 - sqlalchemy.engine.Engine - INFO - [cached since 2077s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:52:49,050 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:52:49,050 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.80ms
2026-02-06 23:52:49,104 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:52:49,105 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:52:49,105 - sqlalchemy.engine.Engine - INFO - [cached since 2077s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:52:49,106 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=0.54ms
2026-02-06 23:52:49,108 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:52:49,109 - sqlalchemy.engine.Engine - INFO - [cached since 2077s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:52:49,110 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.25ms
2026-02-06 23:52:49,110 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:52:53,230 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:52:53,231 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:52:53,231 - sqlalchemy.engine.Engine - INFO - [cached since 2081s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:52:53,233 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-06 23:52:53,233 - sqlalchemy.engine.Engine - INFO - [cached since 1164s ago] ('AAPL',)
2026-02-06 23:52:53,234 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-06 23:52:53,234 - sqlalchemy.engine.Engine - INFO - [cached since 1162s ago] ('AAPL', 5, 0)
2026-02-06 23:52:53,235 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-06 23:52:53,236 - sqlalchemy.engine.Engine - INFO - [cached since 1162s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL')
2026-02-06 23:52:53,237 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:52:53,237 - sqlalchemy.engine.Engine - INFO - [cached since 2081s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:52:53,238 - app.api.v1.endpoints.analysis - INFO - Returning latest report for AAPL (model: qwen-3-vl-thinking)
2026-02-06 23:52:53,238 - api_logger - INFO - rid=/api/analysis/AAPL method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.02ms
2026-02-06 23:52:53,239 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:52:53,244 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=0.54ms
2026-02-06 23:54:02,072 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:02,073 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:54:02,073 - sqlalchemy.engine.Engine - INFO - [cached since 2150s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:02,074 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=0.31ms
2026-02-06 23:54:02,075 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:54:02,075 - sqlalchemy.engine.Engine - INFO - [cached since 2150s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:54:02,076 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.67ms
2026-02-06 23:54:02,076 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:54:02,113 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:02,113 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:54:02,113 - sqlalchemy.engine.Engine - INFO - [cached since 2150s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:02,114 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=0.48ms
2026-02-06 23:54:02,116 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:54:02,116 - sqlalchemy.engine.Engine - INFO - [cached since 2150s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:54:02,117 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.14ms
2026-02-06 23:54:02,118 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:54:02,169 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:02,176 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:54:02,176 - sqlalchemy.engine.Engine - INFO - [cached since 2150s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:02,179 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.63ms
2026-02-06 23:54:02,185 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:54:02,186 - sqlalchemy.engine.Engine - INFO - [cached since 2150s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:54:02,187 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=19.32ms
2026-02-06 23:54:02,188 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:54:03,733 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:03,733 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:54:03,733 - sqlalchemy.engine.Engine - INFO - [cached since 2151s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:03,734 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=0.23ms
2026-02-06 23:54:03,734 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:54:03,735 - sqlalchemy.engine.Engine - INFO - [cached since 2151s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:54:03,735 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.27ms
2026-02-06 23:54:03,735 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:54:03,787 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:03,788 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:54:03,788 - sqlalchemy.engine.Engine - INFO - [cached since 2152s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:03,788 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=0.27ms
2026-02-06 23:54:03,789 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:54:03,789 - sqlalchemy.engine.Engine - INFO - [cached since 2151s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:54:03,790 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.68ms
2026-02-06 23:54:03,790 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:54:03,836 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:03,837 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:54:03,837 - sqlalchemy.engine.Engine - INFO - [cached since 2152s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:03,838 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=0.53ms
2026-02-06 23:54:03,839 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:54:03,840 - sqlalchemy.engine.Engine - INFO - [cached since 2151s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:54:03,840 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.54ms
2026-02-06 23:54:03,841 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:54:07,588 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:07,588 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:54:07,588 - sqlalchemy.engine.Engine - INFO - [cached since 2155s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:07,589 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=0.29ms
2026-02-06 23:54:07,591 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:54:07,591 - sqlalchemy.engine.Engine - INFO - [cached since 2155s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:54:07,593 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.19ms
2026-02-06 23:54:07,593 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:54:07,627 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:07,627 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:54:07,628 - sqlalchemy.engine.Engine - INFO - [cached since 2155s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:07,629 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=0.91ms
2026-02-06 23:54:07,631 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:54:07,631 - sqlalchemy.engine.Engine - INFO - [cached since 2155s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:54:07,632 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.49ms
2026-02-06 23:54:07,633 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:54:07,697 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:07,698 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:54:07,698 - sqlalchemy.engine.Engine - INFO - [cached since 2155s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:07,699 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.21ms
2026-02-06 23:54:07,701 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:54:07,701 - sqlalchemy.engine.Engine - INFO - [cached since 2155s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:54:07,702 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=13.05ms
2026-02-06 23:54:07,703 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:54:12,131 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:12,132 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:54:12,132 - sqlalchemy.engine.Engine - INFO - [cached since 2160s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:12,134 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-06 23:54:12,134 - sqlalchemy.engine.Engine - INFO - [cached since 1243s ago] ('SNDK',)
2026-02-06 23:54:12,807 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-06 23:54:12,807 - sqlalchemy.engine.Engine - INFO - [cached since 1242s ago] ('SNDK',)
2026-02-06 23:54:12,810 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:12,810 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ('3c07fb63-0b8b-3b47-8fe0-cab7efe13313', 'SNDK', 'Industry Analysts Just Upgraded Their Sandisk Corporation (NASDAQ:SNDK) Revenue Forecasts By 38%', 'Simply Wall St.', 'https://finance.yahoo.com/news/industry-analysts-just-upgraded-sandisk-102335247.html', '2026-02-06 10:23:35.000000', None)
2026-02-06 23:54:12,813 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:12,813 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('5078431c-a00c-3181-90ac-85a26d65f899', 'SNDK', 'Sandisk Stock Gained +1,500% Since Its Debut. Why This Trader Is Looking Elsewhere.', "Investor's Business Daily", 'https://www.investors.com/news/sandisk-stock-gained-1500-debut-why-trader-looking-elsewhere/?src=A00220&yptr=yahoo', '2026-02-05 22:39:40.000000', None)
2026-02-06 23:54:12,814 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:12,814 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('f4564621-0a09-3f01-947e-b49f9b9d931c', 'SNDK', 'High Growth Tech Stocks to Watch in US February 2026', 'Simply Wall St.', 'https://finance.yahoo.com/news/high-growth-tech-stocks-watch-173856420.html', '2026-02-05 17:38:56.000000', None)
2026-02-06 23:54:12,814 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:12,814 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('9cd46a10-f4ea-3bc3-8a57-2566118719f7', 'SNDK', 'Should You Invest in Sandisk Stock Post Its Q2 Earnings Release?', 'Zacks', 'https://finance.yahoo.com/news/invest-sandisk-stock-post-q2-125700527.html', '2026-02-05 12:57:00.000000', None)
2026-02-06 23:54:12,814 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:12,815 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('d217c156-7707-3fc2-a392-0136dbccd027', 'SNDK', 'High Growth Tech Stocks In The US For February 2026', 'Simply Wall St.', 'https://finance.yahoo.com/news/high-growth-tech-stocks-us-113812494.html', '2026-02-05 11:38:12.000000', None)
2026-02-06 23:54:12,815 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:12,815 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('60e7d86b-6361-3434-8349-310c8137c30c', 'SNDK', 'SanDisk and Seagate: Analysts Bang the Drum on the Hottest Tech Stocks Today', 'TipRanks', 'https://finance.yahoo.com/news/sandisk-seagate-analysts-bang-drum-105828632.html', '2026-02-05 10:58:28.000000', None)
2026-02-06 23:54:12,815 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:12,815 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('4c646afb-6040-3b99-944d-be20936555f6', 'SNDK', 'A Look At Sandisk (SNDK) Valuation After Strong AI Data Center Driven Q2 Results', 'Simply Wall St.', 'https://finance.yahoo.com/news/look-sandisk-sndk-valuation-strong-021144012.html', '2026-02-05 02:11:44.000000', None)
2026-02-06 23:54:12,816 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:12,816 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('4fe36802-c216-3391-8158-494a2e43c261', 'SNDK', 'Stock Market Today, Feb. 4: AMD Plunges Over 17% As Tech Fallout Continues', 'Motley Fool', 'https://finance.yahoo.com/news/stock-market-today-feb-4-230351262.html', '2026-02-04 23:03:51.000000', None)
2026-02-06 23:54:12,816 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:12,816 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('3fe40497-5ee4-3bb0-a227-70699e91357d', 'SNDK', 'Jim Cramer on Marvell: Theyre an Excellent Company, But Theyre a Derivative Company', 'Insider Monkey', 'https://finance.yahoo.com/news/jim-cramer-marvell-excellent-company-193640261.html', '2026-02-04 19:36:40.000000', None)
2026-02-06 23:54:12,817 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:12,817 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('5fc86e2d-619d-4254-83cd-ae93e86b0bf2', 'SNDK', 'Memory company stocks are seeing 1,000% gains from the AI boom', 'Yahoo Finance', 'https://finance.yahoo.com/news/memory-company-stocks-are-seeing-1000-gains-from-the-ai-boom-192550307.html', '2026-02-04 19:25:50.000000', None)
2026-02-06 23:54:12,817 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-06 23:54:12,818 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] (87507378176.0, 8.047559, -7.49, 'SNDK')
2026-02-06 23:54:12,818 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-06 23:54:12,818 - sqlalchemy.engine.Engine - INFO - [cached since 1242s ago] (593.0, 2.915652, 68.55859894974273, 500.4374969482422, 344.29779876708983, 150.0277250099182, 80.55908976948001, 76.78366680602943, 3.7754229634505805, 687.9761524710533, 500.4374969482422, 312.8988414254311, 62.63478742327009, 58.751798321092515, 70.07865657878226, 36.098081805713036, 20003792.8, 0.47486274702865344, '2026-02-06 15:54:12.136120', 'SNDK')
2026-02-06 23:54:12,818 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-06 23:54:12,819 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:12,819 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-06 23:54:12,820 - sqlalchemy.engine.Engine - INFO - [cached since 1242s ago] ('SNDK',)
2026-02-06 23:54:12,820 - api_logger - INFO - rid=/api/portfolio/SNDK/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=691.01ms
2026-02-06 23:54:12,821 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:54:12,827 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:12,827 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:54:12,827 - sqlalchemy.engine.Engine - INFO - [cached since 2161s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:12,828 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-06 23:54:12,828 - sqlalchemy.engine.Engine - INFO - [cached since 2161s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:12,829 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.68ms
2026-02-06 23:54:12,830 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:54:32,214 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:32,215 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:54:32,215 - sqlalchemy.engine.Engine - INFO - [cached since 2180s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:32,216 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-06 23:54:32,216 - sqlalchemy.engine.Engine - INFO - [cached since 1263s ago] ('SNDK',)
2026-02-06 23:54:33,204 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-06 23:54:33,205 - sqlalchemy.engine.Engine - INFO - [cached since 1262s ago] ('SNDK',)
2026-02-06 23:54:33,207 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:33,207 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('3c07fb63-0b8b-3b47-8fe0-cab7efe13313', 'SNDK', 'Industry Analysts Just Upgraded Their Sandisk Corporation (NASDAQ:SNDK) Revenue Forecasts By 38%', 'Simply Wall St.', 'https://finance.yahoo.com/news/industry-analysts-just-upgraded-sandisk-102335247.html', '2026-02-06 10:23:35.000000', None)
2026-02-06 23:54:33,208 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:33,208 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('5078431c-a00c-3181-90ac-85a26d65f899', 'SNDK', 'Sandisk Stock Gained +1,500% Since Its Debut. Why This Trader Is Looking Elsewhere.', "Investor's Business Daily", 'https://www.investors.com/news/sandisk-stock-gained-1500-debut-why-trader-looking-elsewhere/?src=A00220&yptr=yahoo', '2026-02-05 22:39:40.000000', None)
2026-02-06 23:54:33,209 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:33,209 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('f4564621-0a09-3f01-947e-b49f9b9d931c', 'SNDK', 'High Growth Tech Stocks to Watch in US February 2026', 'Simply Wall St.', 'https://finance.yahoo.com/news/high-growth-tech-stocks-watch-173856420.html', '2026-02-05 17:38:56.000000', None)
2026-02-06 23:54:33,209 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:33,209 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('9cd46a10-f4ea-3bc3-8a57-2566118719f7', 'SNDK', 'Should You Invest in Sandisk Stock Post Its Q2 Earnings Release?', 'Zacks', 'https://finance.yahoo.com/news/invest-sandisk-stock-post-q2-125700527.html', '2026-02-05 12:57:00.000000', None)
2026-02-06 23:54:33,210 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:33,210 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('d217c156-7707-3fc2-a392-0136dbccd027', 'SNDK', 'High Growth Tech Stocks In The US For February 2026', 'Simply Wall St.', 'https://finance.yahoo.com/news/high-growth-tech-stocks-us-113812494.html', '2026-02-05 11:38:12.000000', None)
2026-02-06 23:54:33,210 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:33,210 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('60e7d86b-6361-3434-8349-310c8137c30c', 'SNDK', 'SanDisk and Seagate: Analysts Bang the Drum on the Hottest Tech Stocks Today', 'TipRanks', 'https://finance.yahoo.com/news/sandisk-seagate-analysts-bang-drum-105828632.html', '2026-02-05 10:58:28.000000', None)
2026-02-06 23:54:33,210 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:33,210 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('4c646afb-6040-3b99-944d-be20936555f6', 'SNDK', 'A Look At Sandisk (SNDK) Valuation After Strong AI Data Center Driven Q2 Results', 'Simply Wall St.', 'https://finance.yahoo.com/news/look-sandisk-sndk-valuation-strong-021144012.html', '2026-02-05 02:11:44.000000', None)
2026-02-06 23:54:33,211 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:33,211 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('4fe36802-c216-3391-8158-494a2e43c261', 'SNDK', 'Stock Market Today, Feb. 4: AMD Plunges Over 17% As Tech Fallout Continues', 'Motley Fool', 'https://finance.yahoo.com/news/stock-market-today-feb-4-230351262.html', '2026-02-04 23:03:51.000000', None)
2026-02-06 23:54:33,211 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:33,211 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('3fe40497-5ee4-3bb0-a227-70699e91357d', 'SNDK', 'Jim Cramer on Marvell: Theyre an Excellent Company, But Theyre a Derivative Company', 'Insider Monkey', 'https://finance.yahoo.com/news/jim-cramer-marvell-excellent-company-193640261.html', '2026-02-04 19:36:40.000000', None)
2026-02-06 23:54:33,211 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:33,211 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('5fc86e2d-619d-4254-83cd-ae93e86b0bf2', 'SNDK', 'Memory company stocks are seeing 1,000% gains from the AI boom', 'Yahoo Finance', 'https://finance.yahoo.com/news/memory-company-stocks-are-seeing-1000-gains-from-the-ai-boom-192550307.html', '2026-02-04 19:25:50.000000', None)
2026-02-06 23:54:33,212 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET last_updated=? WHERE market_data_cache.ticker = ?
2026-02-06 23:54:33,212 - sqlalchemy.engine.Engine - INFO - [generated in 0.00005s] ('2026-02-06 15:54:32.216505', 'SNDK')
2026-02-06 23:54:33,212 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-06 23:54:33,213 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:33,213 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-06 23:54:33,213 - sqlalchemy.engine.Engine - INFO - [cached since 1262s ago] ('SNDK',)
2026-02-06 23:54:33,213 - api_logger - INFO - rid=/api/portfolio/SNDK/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=999.69ms
2026-02-06 23:54:33,214 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:54:33,220 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:33,220 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:54:33,220 - sqlalchemy.engine.Engine - INFO - [cached since 2181s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:33,220 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-06 23:54:33,220 - sqlalchemy.engine.Engine - INFO - [cached since 2181s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:33,221 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.00ms
2026-02-06 23:54:33,221 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:54:36,382 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:36,382 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:54:36,382 - sqlalchemy.engine.Engine - INFO - [cached since 2184s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:36,383 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=0.53ms
2026-02-06 23:54:36,386 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:54:36,386 - sqlalchemy.engine.Engine - INFO - [cached since 2184s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:54:36,387 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.16ms
2026-02-06 23:54:36,388 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:54:36,438 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:36,440 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:54:36,440 - sqlalchemy.engine.Engine - INFO - [cached since 2184s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:36,440 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.95ms
2026-02-06 23:54:36,443 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:54:36,443 - sqlalchemy.engine.Engine - INFO - [cached since 2184s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:54:36,445 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.42ms
2026-02-06 23:54:36,446 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:54:36,496 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:36,496 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:54:36,496 - sqlalchemy.engine.Engine - INFO - [cached since 2184s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:36,497 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=0.35ms
2026-02-06 23:54:36,498 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:54:36,498 - sqlalchemy.engine.Engine - INFO - [cached since 2184s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:54:36,499 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.25ms
2026-02-06 23:54:36,499 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:54:38,147 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:38,147 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:54:38,148 - sqlalchemy.engine.Engine - INFO - [cached since 2186s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:38,150 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-06 23:54:38,150 - sqlalchemy.engine.Engine - INFO - [cached since 1269s ago] ('SLV',)
2026-02-06 23:54:38,943 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-06 23:54:38,943 - sqlalchemy.engine.Engine - INFO - [cached since 1268s ago] ('SLV',)
2026-02-06 23:54:38,948 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:38,948 - sqlalchemy.engine.Engine - INFO - [no key 0.00048s] ('be0eebba-92ad-3039-8a1d-12f75a96d52e', 'SLV', 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Friday Ahead of Consumer Sentiment Report', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-135747111.html', '2026-02-06 13:57:47.000000', None)
2026-02-06 23:54:38,952 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:38,952 - sqlalchemy.engine.Engine - INFO - [no key 0.00042s] ('e75bcefc-abe7-3823-ad57-38457d154c66', 'SLV', 'SLV Plunged 35.6% in Five Days After Fed Chair Nomination Rattled Silver Markets', '24/7 Wall St.', 'https://finance.yahoo.com/news/slv-plunged-35-6-five-153200847.html', '2026-02-05 15:32:00.000000', None)
2026-02-06 23:54:38,953 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:38,953 - sqlalchemy.engine.Engine - INFO - [no key 0.00035s] ('2a4b51c1-a2f9-38be-a7da-2b150aec99b5', 'SLV', 'Silver Prices Go on Another Wild Ride', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-05-2026/card/silver-prices-go-on-another-wild-ride-mFGeM0HcvqRBxVnrQA8S?siteid=yhoof2&yptr=yahoo', '2026-02-05 14:37:34.000000', None)
2026-02-06 23:54:38,955 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:38,955 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ('80ee7f1c-7be6-3f8e-9529-1315fedd335a', 'SLV', 'Exchange-Traded Funds, Equity Futures Lower Pre-Bell Thursday Ahead of Amazon Earnings', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-141706475.html', '2026-02-05 14:17:06.000000', None)
2026-02-06 23:54:38,956 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:38,957 - sqlalchemy.engine.Engine - INFO - [no key 0.00046s] ('fd206287-a85b-3fc2-a6e8-4fa912457e35', 'SLV', 'Why GLDs 74% Rally Turned Into a Mousetrap and What the Fed Chair Pick Means Now', '24/7 Wall St.', 'https://finance.yahoo.com/news/why-gld-74-rally-turned-130816537.html', '2026-02-05 13:08:16.000000', None)
2026-02-06 23:54:38,958 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:38,959 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ('79de7eeb-68c1-3a22-8dc6-29aa0d832707', 'SLV', 'Exchange-Traded Funds, Equity Futures Mixed Pre-Bell Wednesday Ahead of Alphabet Earnings', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-140310603.html', '2026-02-04 14:03:10.000000', None)
2026-02-06 23:54:38,960 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:38,960 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('267a5d36-ee97-304a-b868-ceb8592ad222', 'SLV', 'Top-Performing ETF Stories of January: Winning Investing Areas', 'Zacks', 'https://finance.yahoo.com/news/top-performing-etf-stories-january-130000947.html', '2026-02-04 13:00:00.000000', None)
2026-02-06 23:54:38,962 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:38,962 - sqlalchemy.engine.Engine - INFO - [no key 0.00047s] ('57491ac4-a2f9-3f77-9055-e641926dd6bb', 'SLV', 'Daily ETF Flows: $3.4B Flows Into SLV', 'etf.com', 'https://finance.yahoo.com/news/daily-etf-flows-3-4b-230005689.html', '2026-02-03 23:00:05.000000', None)
2026-02-06 23:54:38,963 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:38,963 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('c192d55e-4add-3941-8d89-ebeb9f3a249c', 'SLV', 'Zacks Investment Ideas feature highlights: Ark Invest, BlackRock, IBIT, GLD and SLV', 'Zacks', 'https://finance.yahoo.com/news/zacks-investment-ideas-feature-highlights-152000677.html', '2026-02-03 15:20:00.000000', None)
2026-02-06 23:54:38,964 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:54:38,964 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('11bf817f-bd41-38a9-a525-45cefc988e19', 'SLV', 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Tuesday as Earnings Deluge Continues', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-142855032.html', '2026-02-03 14:28:55.000000', None)
2026-02-06 23:54:38,965 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=? WHERE stocks.ticker = ?
2026-02-06 23:54:38,965 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (23659411456.0, 'SLV')
2026-02-06 23:54:38,966 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-06 23:54:38,966 - sqlalchemy.engine.Engine - INFO - [cached since 1268s ago] (69.291, 3.9001317, 42.885566475494464, 83.8800495147705, 69.47201972961426, 44.953854904174804, 1.4106578548275195, 5.113006206655952, -3.702348351828433, 107.06382251988452, 83.8800495147705, 60.69627650965649, 9.60642841884068, 18.451286702553446, 33.611303420115334, -11.86874673257033, 177256717.2, 0.1639054612932886, '2026-02-06 15:54:38.151619', 'SLV')
2026-02-06 23:54:38,967 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-06 23:54:38,968 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:38,969 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-06 23:54:38,969 - sqlalchemy.engine.Engine - INFO - [cached since 1268s ago] ('SLV',)
2026-02-06 23:54:38,970 - api_logger - INFO - rid=/api/portfolio/SLV/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=827.39ms
2026-02-06 23:54:38,971 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:54:38,976 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:38,977 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:54:38,977 - sqlalchemy.engine.Engine - INFO - [cached since 2187s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:38,979 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-06 23:54:38,979 - sqlalchemy.engine.Engine - INFO - [cached since 2187s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:38,981 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.33ms
2026-02-06 23:54:38,982 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:54:44,818 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=404 user_id=anonymous time=0.13ms
2026-02-06 23:54:53,642 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:53,642 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:54:53,642 - sqlalchemy.engine.Engine - INFO - [cached since 2201s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:53,643 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.02ms
2026-02-06 23:54:53,645 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:54:53,645 - sqlalchemy.engine.Engine - INFO - [cached since 2201s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:54:53,647 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.32ms
2026-02-06 23:54:53,648 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:54:53,692 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:53,692 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:54:53,692 - sqlalchemy.engine.Engine - INFO - [cached since 2201s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:53,693 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.77ms
2026-02-06 23:54:53,696 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:54:53,696 - sqlalchemy.engine.Engine - INFO - [cached since 2201s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:54:53,697 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.76ms
2026-02-06 23:54:53,697 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:54:53,752 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:54:53,753 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:54:53,753 - sqlalchemy.engine.Engine - INFO - [cached since 2201s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:54:53,753 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.70ms
2026-02-06 23:54:53,754 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:54:53,755 - sqlalchemy.engine.Engine - INFO - [cached since 2201s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:54:53,756 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.25ms
2026-02-06 23:54:53,757 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:55:06,373 - api_logger - INFO - rid=/openapi.json method=GET status_code=200 user_id=anonymous time=24.08ms
2026-02-06 23:56:45,676 - api_logger - INFO - rid=/openapi.json method=GET status_code=200 user_id=anonymous time=1.47ms
2026-02-07 00:04:00,399 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 00:04:13,750 - api_logger - INFO - rid=/openapi.json method=GET status_code=200 user_id=anonymous time=38.36ms
2026-02-07 00:05:09,209 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:05:09,221 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.email = ?
2026-02-07 00:05:09,221 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('test@qq.com',)
2026-02-07 00:05:09,441 - api_logger - INFO - rid=/api/auth/login method=POST status_code=200 user_id=anonymous time=242.76ms
2026-02-07 00:05:09,441 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:05:09,509 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:05:09,510 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:05:09,510 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:05:09,514 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 00:05:09,514 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:05:09,516 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.40ms
2026-02-07 00:05:09,516 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:05:09,518 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:05:09,518 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:05:09,518 - sqlalchemy.engine.Engine - INFO - [cached since 0.007824s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:05:09,518 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 00:05:09,518 - sqlalchemy.engine.Engine - INFO - [cached since 0.004767s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:05:09,520 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.53ms
2026-02-07 00:05:09,521 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:05:09,547 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:05:09,547 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:05:09,547 - sqlalchemy.engine.Engine - INFO - [cached since 0.03748s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:05:09,548 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:05:09,548 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:05:09,548 - sqlalchemy.engine.Engine - INFO - [cached since 0.03807s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:05:09,549 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:05:09,549 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('AAPL', 20, 0)
2026-02-07 00:05:09,550 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:05:09,550 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:05:09,552 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.03ms
2026-02-07 00:05:09,552 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:05:09,553 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.27ms
2026-02-07 00:05:09,554 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:05:31,516 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:05:31,517 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:05:31,517 - sqlalchemy.engine.Engine - INFO - [cached since 22.01s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:05:31,517 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:05:31,518 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:05:31,518 - sqlalchemy.engine.Engine - INFO - [cached since 22.01s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:05:31,519 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 00:05:31,519 - sqlalchemy.engine.Engine - INFO - [cached since 22.01s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:05:31,520 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:05:31,520 - sqlalchemy.engine.Engine - INFO - [cached since 21.97s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:05:31,520 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:05:31,520 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:05:31,520 - sqlalchemy.engine.Engine - INFO - [cached since 22.01s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:05:31,526 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.23ms
2026-02-07 00:05:31,533 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:05:31,535 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=19.52ms
2026-02-07 00:05:31,536 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:05:31,536 - sqlalchemy.engine.Engine - INFO - [cached since 21.99s ago] ('AAPL', 20, 0)
2026-02-07 00:05:31,536 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:05:31,537 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=22.00ms
2026-02-07 00:05:31,538 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:05:35,620 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:05:35,621 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:05:35,621 - sqlalchemy.engine.Engine - INFO - [cached since 26.11s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:05:35,625 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:05:35,625 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('AAPL',)
2026-02-07 00:05:36,985 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 00:05:36,985 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('AAPL',)
2026-02-07 00:05:36,988 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:05:36,988 - sqlalchemy.engine.Engine - INFO - [no key 0.00038s] ('5ec0fd74-7ce3-3034-88f7-8f03cfc8c237', 'AAPL', "What Alphabet's earnings reveal about the decline in software stocks", 'Yahoo Finance Video', 'https://finance.yahoo.com/video/alphabets-earnings-reveal-decline-software-183000814.html', '2026-02-05 18:30:00.000000', None)
2026-02-07 00:05:36,992 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:05:36,992 - sqlalchemy.engine.Engine - INFO - [no key 0.00035s] ('8d92f70b-4aa5-4fe7-a62f-83a0e7161b2a', 'AAPL', 'Would you end a relationship over a difference in salary? How readers voted', 'Yahoo Finance UK', 'https://finance.yahoo.com/news/would-you-end-a-relationship-over-a-difference-in-salary-how-readers-voted-153936079.html', '2026-02-06 15:40:46.000000', None)
2026-02-07 00:05:36,994 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:05:36,994 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('42f565e8-04f4-3a0a-b0d5-b463e7a32a07', 'AAPL', 'AI trade splinters as investors get more selective', 'Reuters', 'https://finance.yahoo.com/news/ai-trade-splinters-investors-more-150101291.html', '2026-02-06 15:01:01.000000', None)
2026-02-07 00:05:36,994 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:05:36,994 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('d08818e0-ccf3-3fae-b2f2-fe6849158e1a', 'AAPL', 'Is crypto still cypherpunk? With Miden co-founder Azeem Khan', 'The Block', 'https://finance.yahoo.com/news/crypto-still-cypherpunk-miden-co-130151835.html', '2026-02-06 13:01:51.000000', None)
2026-02-07 00:05:36,995 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:05:36,995 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('befd5246-56aa-3075-a630-78f0bb1bab69', 'AAPL', 'Despite The Ho-Hum Dividend, SCHG Beat the S&P 500 by An Impressive 15%', '24/7 Wall St.', 'https://finance.yahoo.com/news/despite-ho-hum-dividend-schg-123037857.html', '2026-02-06 12:30:37.000000', None)
2026-02-07 00:05:36,996 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:05:36,996 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('1c5ef38e-272c-316a-ae6f-88c650c9141e', 'AAPL', 'Apple Just Had The Biggest Quarter In iPhone History', 'Benzinga', 'https://finance.yahoo.com/news/apple-just-had-biggest-quarter-120109544.html', '2026-02-06 12:01:09.000000', None)
2026-02-07 00:05:36,996 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:05:36,996 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('a6479cfc-5e40-352b-acdc-14616c9f119a', 'AAPL', 'Zacks Investment Ideas feature highlights: Alphabet, Nvidia and Apple', 'Zacks', 'https://finance.yahoo.com/news/zacks-investment-ideas-feature-highlights-114600888.html', '2026-02-06 11:46:00.000000', None)
2026-02-07 00:05:36,997 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:05:36,997 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('52c220f4-0742-3f6b-b999-24925f3d771c', 'AAPL', 'Magnificent Seven Sink -- Nearly $3 Trillion in Market Value Vanishes', 'GuruFocus.com', 'https://finance.yahoo.com/news/magnificent-seven-sink-nearly-3-114037275.html', '2026-02-06 11:40:37.000000', None)
2026-02-07 00:05:36,998 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:05:36,998 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('8af2f72a-e998-324d-8410-89a503677f2a', 'AAPL', 'Apple Scales Back AI Health Coach Plans', 'GuruFocus.com', 'https://finance.yahoo.com/news/apple-scales-back-ai-health-113406335.html', '2026-02-06 11:34:06.000000', None)
2026-02-07 00:05:36,998 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:05:36,998 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('7a418b82-e9d3-3ce0-b6f8-af2b38f5e4d0', 'AAPL', 'Pricier iPhones? Global memory chip crunch puts spotlight on Apple', 'Reuters', 'https://finance.yahoo.com/news/pricier-iphones-global-memory-chip-112922022.html', '2026-02-06 11:29:22.000000', None)
2026-02-07 00:05:37,000 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-07 00:05:37,000 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (4105571401728.0, 35.40304, 30.105146, 'AAPL')
2026-02-07 00:05:37,002 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 00:05:37,002 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (279.33, 1.2395284, 74.81235110260431, 260.210498046875, 268.72639831542966, 238.32002349853516, 2.305521220268247, -1.081019462770695, 3.386540683038942, 279.4637675896079, 260.210498046875, 240.95722850414205, 89.77204944417036, 83.41666993909556, 102.48280845431998, 55260742.05, 0.32922903900817235, '2026-02-06 16:05:35.626575', 'AAPL')
2026-02-07 00:05:37,003 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 00:05:37,004 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:05:37,005 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:05:37,005 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('AAPL',)
2026-02-07 00:05:37,006 - api_logger - INFO - rid=/api/portfolio/AAPL/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1389.21ms
2026-02-07 00:05:37,007 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:05:37,016 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:05:37,016 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:05:37,016 - sqlalchemy.engine.Engine - INFO - [cached since 27.51s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:05:37,017 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 00:05:37,017 - sqlalchemy.engine.Engine - INFO - [cached since 27.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:05:37,019 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.55ms
2026-02-07 00:05:37,020 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:05:40,430 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:05:40,431 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:05:40,431 - sqlalchemy.engine.Engine - INFO - [cached since 30.92s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:05:40,432 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:05:40,432 - sqlalchemy.engine.Engine - INFO - [cached since 4.808s ago] ('AAPL',)
2026-02-07 00:05:40,433 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:05:40,433 - sqlalchemy.engine.Engine - INFO - [cached since 30.88s ago] ('AAPL', 5, 0)
2026-02-07 00:05:40,435 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 00:05:40,435 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL')
2026-02-07 00:05:40,436 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:05:40,436 - sqlalchemy.engine.Engine - INFO - [cached since 30.89s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:05:40,437 - app.api.v1.endpoints.analysis - INFO - Returning latest report for AAPL (model: qwen-3-vl-thinking)
2026-02-07 00:05:40,437 - api_logger - INFO - rid=/api/analysis/AAPL method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.50ms
2026-02-07 00:05:40,438 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:05:40,442 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:05:40,442 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:05:40,442 - sqlalchemy.engine.Engine - INFO - [cached since 30.93s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:05:40,444 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:05:40,444 - sqlalchemy.engine.Engine - INFO - [cached since 30.89s ago] ('AAPL', 20, 0)
2026-02-07 00:05:40,445 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.06ms
2026-02-07 00:05:40,446 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:05:41,731 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:05:41,731 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:05:41,731 - sqlalchemy.engine.Engine - INFO - [cached since 32.22s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:05:41,733 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:05:41,733 - sqlalchemy.engine.Engine - INFO - [cached since 6.109s ago] ('AAPL',)
2026-02-07 00:05:41,735 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:05:41,735 - sqlalchemy.engine.Engine - INFO - [cached since 32.19s ago] ('AAPL', 5, 0)
2026-02-07 00:05:41,737 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 00:05:41,737 - sqlalchemy.engine.Engine - INFO - [cached since 1.302s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL')
2026-02-07 00:05:41,738 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:05:41,738 - sqlalchemy.engine.Engine - INFO - [cached since 32.19s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:05:41,739 - app.api.v1.endpoints.analysis - INFO - Returning latest report for AAPL (model: qwen-3-vl-thinking)
2026-02-07 00:05:41,740 - api_logger - INFO - rid=/api/analysis/AAPL method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.14ms
2026-02-07 00:05:41,741 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:05:41,745 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:05:41,745 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:05:41,745 - sqlalchemy.engine.Engine - INFO - [cached since 32.24s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:05:41,746 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:05:41,746 - sqlalchemy.engine.Engine - INFO - [cached since 32.2s ago] ('AAPL', 20, 0)
2026-02-07 00:05:41,748 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.74ms
2026-02-07 00:05:41,748 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:05:42,473 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:05:42,473 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:05:42,474 - sqlalchemy.engine.Engine - INFO - [cached since 32.96s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:05:42,476 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:05:42,476 - sqlalchemy.engine.Engine - INFO - [cached since 6.852s ago] ('AAPL',)
2026-02-07 00:05:42,478 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:05:42,478 - sqlalchemy.engine.Engine - INFO - [cached since 32.93s ago] ('AAPL', 5, 0)
2026-02-07 00:05:42,479 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 00:05:42,479 - sqlalchemy.engine.Engine - INFO - [cached since 2.044s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL')
2026-02-07 00:05:42,480 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:05:42,480 - sqlalchemy.engine.Engine - INFO - [cached since 32.93s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:05:42,481 - app.api.v1.endpoints.analysis - INFO - Returning latest report for AAPL (model: qwen-3-vl-thinking)
2026-02-07 00:05:42,481 - api_logger - INFO - rid=/api/analysis/AAPL method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.56ms
2026-02-07 00:05:42,482 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:05:42,486 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:05:42,486 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:05:42,486 - sqlalchemy.engine.Engine - INFO - [cached since 32.98s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:05:42,487 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:05:42,488 - sqlalchemy.engine.Engine - INFO - [cached since 32.94s ago] ('AAPL', 20, 0)
2026-02-07 00:05:42,489 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.03ms
2026-02-07 00:05:42,490 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:13:20,691 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:13:20,693 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:13:20,693 - sqlalchemy.engine.Engine - INFO - [cached since 491.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:13:20,698 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:13:20,698 - sqlalchemy.engine.Engine - INFO - [cached since 465.1s ago] ('AAPL',)
2026-02-07 00:13:21,362 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 00:13:21,363 - sqlalchemy.engine.Engine - INFO - [cached since 464.4s ago] ('AAPL',)
2026-02-07 00:13:21,366 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:13:21,366 - sqlalchemy.engine.Engine - INFO - [no key 0.00032s] ('5ec0fd74-7ce3-3034-88f7-8f03cfc8c237', 'AAPL', "What Alphabet's earnings reveal about the decline in software stocks", 'Yahoo Finance Video', 'https://finance.yahoo.com/video/alphabets-earnings-reveal-decline-software-183000814.html', '2026-02-05 18:30:00.000000', None)
2026-02-07 00:13:21,367 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:13:21,367 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('8d92f70b-4aa5-4fe7-a62f-83a0e7161b2a', 'AAPL', 'Would you end a relationship over a difference in salary? How readers voted', 'Yahoo Finance UK', 'https://finance.yahoo.com/news/would-you-end-a-relationship-over-a-difference-in-salary-how-readers-voted-153936079.html', '2026-02-06 15:40:46.000000', None)
2026-02-07 00:13:21,367 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:13:21,368 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('42f565e8-04f4-3a0a-b0d5-b463e7a32a07', 'AAPL', 'AI trade splinters as investors get more selective', 'Reuters', 'https://finance.yahoo.com/news/ai-trade-splinters-investors-more-150101291.html', '2026-02-06 15:01:01.000000', None)
2026-02-07 00:13:21,368 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:13:21,368 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('d08818e0-ccf3-3fae-b2f2-fe6849158e1a', 'AAPL', 'Is crypto still cypherpunk? With Miden co-founder Azeem Khan', 'The Block', 'https://finance.yahoo.com/news/crypto-still-cypherpunk-miden-co-130151835.html', '2026-02-06 13:01:51.000000', None)
2026-02-07 00:13:21,370 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:13:21,371 - sqlalchemy.engine.Engine - INFO - [no key 0.00030s] ('befd5246-56aa-3075-a630-78f0bb1bab69', 'AAPL', 'Despite The Ho-Hum Dividend, SCHG Beat the S&P 500 by An Impressive 15%', '24/7 Wall St.', 'https://finance.yahoo.com/news/despite-ho-hum-dividend-schg-123037857.html', '2026-02-06 12:30:37.000000', None)
2026-02-07 00:13:21,372 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:13:21,372 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('1c5ef38e-272c-316a-ae6f-88c650c9141e', 'AAPL', 'Apple Just Had The Biggest Quarter In iPhone History', 'Benzinga', 'https://finance.yahoo.com/news/apple-just-had-biggest-quarter-120109544.html', '2026-02-06 12:01:09.000000', None)
2026-02-07 00:13:21,373 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:13:21,373 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('a6479cfc-5e40-352b-acdc-14616c9f119a', 'AAPL', 'Zacks Investment Ideas feature highlights: Alphabet, Nvidia and Apple', 'Zacks', 'https://finance.yahoo.com/news/zacks-investment-ideas-feature-highlights-114600888.html', '2026-02-06 11:46:00.000000', None)
2026-02-07 00:13:21,374 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:13:21,374 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('52c220f4-0742-3f6b-b999-24925f3d771c', 'AAPL', 'Magnificent Seven Sink -- Nearly $3 Trillion in Market Value Vanishes', 'GuruFocus.com', 'https://finance.yahoo.com/news/magnificent-seven-sink-nearly-3-114037275.html', '2026-02-06 11:40:37.000000', None)
2026-02-07 00:13:21,374 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:13:21,374 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('8af2f72a-e998-324d-8410-89a503677f2a', 'AAPL', 'Apple Scales Back AI Health Coach Plans', 'GuruFocus.com', 'https://finance.yahoo.com/news/apple-scales-back-ai-health-113406335.html', '2026-02-06 11:34:06.000000', None)
2026-02-07 00:13:21,375 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:13:21,375 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('7a418b82-e9d3-3ce0-b6f8-af2b38f5e4d0', 'AAPL', 'Pricier iPhones? Global memory chip crunch puts spotlight on Apple', 'Reuters', 'https://finance.yahoo.com/news/pricier-iphones-global-memory-chip-112922022.html', '2026-02-06 11:29:22.000000', None)
2026-02-07 00:13:21,376 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-07 00:13:21,376 - sqlalchemy.engine.Engine - INFO - [cached since 464.4s ago] (4103660896256.0, 35.386566, 30.091139, 'AAPL')
2026-02-07 00:13:21,377 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 00:13:21,377 - sqlalchemy.engine.Engine - INFO - [cached since 464.4s ago] (279.2, 1.1924208, 74.74390557477128, 260.2039993286133, 268.723798828125, 238.319373626709, 2.2951528948364626, -1.083093127857052, 3.3782460226935145, 279.4301646429847, 260.2039993286133, 240.9778340142419, 89.6212234069005, 83.36639459333892, 102.13088103402362, 55266132.5, 0.33114765177389605, '2026-02-06 16:13:20.699559', 'AAPL')
2026-02-07 00:13:21,377 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 00:13:21,379 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:13:21,379 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:13:21,379 - sqlalchemy.engine.Engine - INFO - [cached since 464.4s ago] ('AAPL',)
2026-02-07 00:13:21,379 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:13:21,380 - sqlalchemy.engine.Engine - INFO - [cached since 491.8s ago] ('AAPL', 5, 0)
2026-02-07 00:13:21,380 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 00:13:21,380 - sqlalchemy.engine.Engine - INFO - [cached since 460.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL')
2026-02-07 00:13:21,381 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:13:21,381 - sqlalchemy.engine.Engine - INFO - [cached since 491.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:13:21,381 - app.api.v1.endpoints.analysis - INFO - Returning latest report for AAPL (model: qwen-3-vl-thinking)
2026-02-07 00:13:21,381 - api_logger - INFO - rid=/api/analysis/AAPL method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=699.70ms
2026-02-07 00:13:21,382 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:13:21,389 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:13:21,389 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:13:21,389 - sqlalchemy.engine.Engine - INFO - [cached since 491.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:13:21,390 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:13:21,390 - sqlalchemy.engine.Engine - INFO - [cached since 491.8s ago] ('AAPL', 20, 0)
2026-02-07 00:13:21,391 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.26ms
2026-02-07 00:13:21,391 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:17,841 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:17,842 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:17,842 - sqlalchemy.engine.Engine - INFO - [cached since 548.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:17,842 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:17,843 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:17,843 - sqlalchemy.engine.Engine - INFO - [cached since 548.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:17,843 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:17,843 - sqlalchemy.engine.Engine - INFO - [cached since 548.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:14:17,844 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:17,844 - sqlalchemy.engine.Engine - INFO - [cached since 548.3s ago] ('AMZN', 20, 0)
2026-02-07 00:14:17,844 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:17,845 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.56ms
2026-02-07 00:14:17,845 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:17,845 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.38ms
2026-02-07 00:14:17,881 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:17,881 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:17,881 - sqlalchemy.engine.Engine - INFO - [cached since 548.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:17,883 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:17,883 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:17,883 - sqlalchemy.engine.Engine - INFO - [cached since 548.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:17,885 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:17,885 - sqlalchemy.engine.Engine - INFO - [cached since 548.3s ago] ('AAPL', 20, 0)
2026-02-07 00:14:17,886 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:17,886 - sqlalchemy.engine.Engine - INFO - [cached since 548.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:14:17,888 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.97ms
2026-02-07 00:14:17,888 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.36ms
2026-02-07 00:14:17,889 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:17,890 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:17,946 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:17,946 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:17,946 - sqlalchemy.engine.Engine - INFO - [cached since 548.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:17,947 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:17,948 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:17,948 - sqlalchemy.engine.Engine - INFO - [cached since 548.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:17,949 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:17,949 - sqlalchemy.engine.Engine - INFO - [cached since 548.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:14:17,950 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:17,950 - sqlalchemy.engine.Engine - INFO - [cached since 548.4s ago] ('AMZN', 20, 0)
2026-02-07 00:14:17,951 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:17,952 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.77ms
2026-02-07 00:14:17,953 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:17,953 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.87ms
2026-02-07 00:14:23,474 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:23,474 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:23,474 - sqlalchemy.engine.Engine - INFO - [cached since 554s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:23,476 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:23,476 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:23,476 - sqlalchemy.engine.Engine - INFO - [cached since 554s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:23,477 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:23,477 - sqlalchemy.engine.Engine - INFO - [cached since 553.9s ago] ('AMD', 20, 0)
2026-02-07 00:14:23,478 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:23,478 - sqlalchemy.engine.Engine - INFO - [cached since 553.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:14:23,478 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.04ms
2026-02-07 00:14:23,479 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.65ms
2026-02-07 00:14:23,480 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:23,481 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:23,515 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:23,516 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:23,516 - sqlalchemy.engine.Engine - INFO - [cached since 554s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:23,516 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:23,516 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:23,516 - sqlalchemy.engine.Engine - INFO - [cached since 554s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:23,517 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:23,517 - sqlalchemy.engine.Engine - INFO - [cached since 554s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:14:23,517 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:23,517 - sqlalchemy.engine.Engine - INFO - [cached since 554s ago] ('AMZN', 20, 0)
2026-02-07 00:14:23,518 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:23,518 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.06ms
2026-02-07 00:14:23,518 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:23,518 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.59ms
2026-02-07 00:14:23,565 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:23,565 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:23,565 - sqlalchemy.engine.Engine - INFO - [cached since 554.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:23,566 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:23,566 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:23,566 - sqlalchemy.engine.Engine - INFO - [cached since 554.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:23,567 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:23,567 - sqlalchemy.engine.Engine - INFO - [cached since 554s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:14:23,567 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:23,567 - sqlalchemy.engine.Engine - INFO - [cached since 554s ago] ('AMD', 20, 0)
2026-02-07 00:14:23,568 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.96ms
2026-02-07 00:14:23,568 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:23,568 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.20ms
2026-02-07 00:14:23,570 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:25,060 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:25,060 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:25,060 - sqlalchemy.engine.Engine - INFO - [cached since 555.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:25,061 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:25,061 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:25,061 - sqlalchemy.engine.Engine - INFO - [cached since 555.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:25,062 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:25,062 - sqlalchemy.engine.Engine - INFO - [cached since 555.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:14:25,062 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:25,063 - sqlalchemy.engine.Engine - INFO - [cached since 555.5s ago] ('AMZN', 20, 0)
2026-02-07 00:14:25,063 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:25,064 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.44ms
2026-02-07 00:14:25,064 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:25,065 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.43ms
2026-02-07 00:14:25,115 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:25,115 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:25,115 - sqlalchemy.engine.Engine - INFO - [cached since 555.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:25,116 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:25,116 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:25,116 - sqlalchemy.engine.Engine - INFO - [cached since 555.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:25,117 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:25,117 - sqlalchemy.engine.Engine - INFO - [cached since 555.6s ago] ('AMD', 20, 0)
2026-02-07 00:14:25,117 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:25,117 - sqlalchemy.engine.Engine - INFO - [cached since 555.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:14:25,118 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.90ms
2026-02-07 00:14:25,119 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.48ms
2026-02-07 00:14:25,119 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:25,119 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:25,169 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:25,172 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:25,172 - sqlalchemy.engine.Engine - INFO - [cached since 555.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:25,173 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:25,174 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:25,174 - sqlalchemy.engine.Engine - INFO - [cached since 555.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:25,175 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:25,176 - sqlalchemy.engine.Engine - INFO - [cached since 555.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:14:25,176 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:25,176 - sqlalchemy.engine.Engine - INFO - [cached since 555.6s ago] ('AMZN', 20, 0)
2026-02-07 00:14:25,177 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:25,178 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.76ms
2026-02-07 00:14:25,179 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:25,179 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.22ms
2026-02-07 00:14:27,940 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:27,940 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:27,940 - sqlalchemy.engine.Engine - INFO - [cached since 558.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:27,941 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:27,941 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:27,941 - sqlalchemy.engine.Engine - INFO - [cached since 558.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:27,942 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:27,942 - sqlalchemy.engine.Engine - INFO - [cached since 558.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:14:27,942 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:27,942 - sqlalchemy.engine.Engine - INFO - [cached since 558.4s ago] ('AMD', 20, 0)
2026-02-07 00:14:27,943 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.20ms
2026-02-07 00:14:27,944 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.27ms
2026-02-07 00:14:27,944 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:27,944 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:27,980 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:27,980 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:27,980 - sqlalchemy.engine.Engine - INFO - [cached since 558.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:27,981 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:27,981 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:27,981 - sqlalchemy.engine.Engine - INFO - [cached since 558.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:27,982 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:27,982 - sqlalchemy.engine.Engine - INFO - [cached since 558.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:14:27,983 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:27,983 - sqlalchemy.engine.Engine - INFO - [cached since 558.4s ago] ('AMZN', 20, 0)
2026-02-07 00:14:27,983 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:27,984 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.10ms
2026-02-07 00:14:27,984 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:27,984 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.85ms
2026-02-07 00:14:28,029 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:28,030 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:28,030 - sqlalchemy.engine.Engine - INFO - [cached since 558.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:28,031 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:28,031 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:28,031 - sqlalchemy.engine.Engine - INFO - [cached since 558.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:28,033 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:28,034 - sqlalchemy.engine.Engine - INFO - [cached since 558.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:14:28,034 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:28,034 - sqlalchemy.engine.Engine - INFO - [cached since 558.5s ago] ('AMD', 20, 0)
2026-02-07 00:14:28,035 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.00ms
2026-02-07 00:14:28,039 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:28,039 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.89ms
2026-02-07 00:14:28,040 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:30,495 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:30,495 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:30,495 - sqlalchemy.engine.Engine - INFO - [cached since 561s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:30,495 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:30,496 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:30,496 - sqlalchemy.engine.Engine - INFO - [cached since 561s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:30,497 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:30,497 - sqlalchemy.engine.Engine - INFO - [cached since 560.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:14:30,497 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:30,497 - sqlalchemy.engine.Engine - INFO - [cached since 560.9s ago] ('AAPL', 20, 0)
2026-02-07 00:14:30,498 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.09ms
2026-02-07 00:14:30,499 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:30,499 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.29ms
2026-02-07 00:14:30,500 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:30,546 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:30,547 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:30,547 - sqlalchemy.engine.Engine - INFO - [cached since 561s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:30,548 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:30,548 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:30,548 - sqlalchemy.engine.Engine - INFO - [cached since 561s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:30,549 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:30,549 - sqlalchemy.engine.Engine - INFO - [cached since 561s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:14:30,549 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:30,549 - sqlalchemy.engine.Engine - INFO - [cached since 561s ago] ('AMD', 20, 0)
2026-02-07 00:14:30,550 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.12ms
2026-02-07 00:14:30,550 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:30,551 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.40ms
2026-02-07 00:14:30,551 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:30,600 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:30,601 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:30,601 - sqlalchemy.engine.Engine - INFO - [cached since 561.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:30,601 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:30,602 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:30,602 - sqlalchemy.engine.Engine - INFO - [cached since 561.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:30,606 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:30,607 - sqlalchemy.engine.Engine - INFO - [cached since 561.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:14:30,607 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:30,607 - sqlalchemy.engine.Engine - INFO - [cached since 561.1s ago] ('AAPL', 20, 0)
2026-02-07 00:14:30,608 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.30ms
2026-02-07 00:14:30,609 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:30,609 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.79ms
2026-02-07 00:14:30,609 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:54,033 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:54,034 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:54,034 - sqlalchemy.engine.Engine - INFO - [cached since 584.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:54,034 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:54,034 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:54,034 - sqlalchemy.engine.Engine - INFO - [cached since 584.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:54,035 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:54,035 - sqlalchemy.engine.Engine - INFO - [cached since 584.5s ago] ('FRO', 20, 0)
2026-02-07 00:14:54,036 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:54,036 - sqlalchemy.engine.Engine - INFO - [cached since 584.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:14:54,038 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.80ms
2026-02-07 00:14:54,039 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.08ms
2026-02-07 00:14:54,039 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:54,039 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:54,084 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:54,084 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:54,084 - sqlalchemy.engine.Engine - INFO - [cached since 584.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:54,084 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:54,085 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:54,085 - sqlalchemy.engine.Engine - INFO - [cached since 584.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:54,087 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:54,087 - sqlalchemy.engine.Engine - INFO - [cached since 584.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:14:54,087 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:54,087 - sqlalchemy.engine.Engine - INFO - [cached since 584.5s ago] ('AAPL', 20, 0)
2026-02-07 00:14:54,088 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.85ms
2026-02-07 00:14:54,088 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:54,089 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.99ms
2026-02-07 00:14:54,091 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:54,138 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:54,138 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:54,138 - sqlalchemy.engine.Engine - INFO - [cached since 584.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:54,139 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:14:54,139 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:14:54,139 - sqlalchemy.engine.Engine - INFO - [cached since 584.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:14:54,139 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:54,140 - sqlalchemy.engine.Engine - INFO - [cached since 584.6s ago] ('FRO', 20, 0)
2026-02-07 00:14:54,140 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:14:54,140 - sqlalchemy.engine.Engine - INFO - [cached since 584.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:14:54,141 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.93ms
2026-02-07 00:14:54,142 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.88ms
2026-02-07 00:14:54,143 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:14:54,143 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:15:17,797 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:15:17,797 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:15:17,797 - sqlalchemy.engine.Engine - INFO - [cached since 608.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:15:17,798 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:15:17,798 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:15:17,798 - sqlalchemy.engine.Engine - INFO - [cached since 608.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:15:17,799 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:15:17,799 - sqlalchemy.engine.Engine - INFO - [cached since 608.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:15:17,799 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:15:17,800 - sqlalchemy.engine.Engine - INFO - [cached since 608.3s ago] ('AAPL', 20, 0)
2026-02-07 00:15:17,800 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.51ms
2026-02-07 00:15:17,800 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:15:17,801 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.67ms
2026-02-07 00:15:17,803 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:15:17,838 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:15:17,838 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:15:17,838 - sqlalchemy.engine.Engine - INFO - [cached since 608.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:15:17,838 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:15:17,839 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:15:17,839 - sqlalchemy.engine.Engine - INFO - [cached since 608.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:15:17,840 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:15:17,840 - sqlalchemy.engine.Engine - INFO - [cached since 608.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:15:17,841 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:15:17,841 - sqlalchemy.engine.Engine - INFO - [cached since 608.3s ago] ('FRO', 20, 0)
2026-02-07 00:15:17,842 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.42ms
2026-02-07 00:15:17,842 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.80ms
2026-02-07 00:15:17,842 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:15:17,842 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:15:17,897 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:15:17,897 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:15:17,897 - sqlalchemy.engine.Engine - INFO - [cached since 608.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:15:17,898 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:15:17,898 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:15:17,898 - sqlalchemy.engine.Engine - INFO - [cached since 608.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:15:17,899 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:15:17,899 - sqlalchemy.engine.Engine - INFO - [cached since 608.3s ago] ('AAPL', 20, 0)
2026-02-07 00:15:17,899 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:15:17,899 - sqlalchemy.engine.Engine - INFO - [cached since 608.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:15:17,900 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.83ms
2026-02-07 00:15:17,904 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:15:17,904 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.40ms
2026-02-07 00:15:17,905 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:29:09,024 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 00:29:21,170 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 00:29:46,145 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 00:36:03,063 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:36:03,114 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:36:03,114 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:36:03,114 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:36:03,114 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:36:03,114 - sqlalchemy.engine.Engine - INFO - [cached since 0.0006489s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:36:03,115 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:36:03,115 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:36:03,115 - sqlalchemy.engine.Engine - INFO - [cached since 0.001072s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:36:03,116 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:36:03,116 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:36:03,118 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 00:36:03,118 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:36:03,118 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:36:03,118 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('AAPL', 20, 0)
2026-02-07 00:36:03,120 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=75.10ms
2026-02-07 00:36:03,121 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=65.44ms
2026-02-07 00:36:03,121 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:36:03,122 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:36:03,122 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=62.23ms
2026-02-07 00:36:03,122 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:36:07,668 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:36:07,669 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:36:07,669 - sqlalchemy.engine.Engine - INFO - [cached since 4.555s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:36:07,671 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:36:07,671 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('AAPL',)
2026-02-07 00:36:08,824 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 00:36:08,825 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('AAPL',)
2026-02-07 00:36:08,828 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:36:08,829 - sqlalchemy.engine.Engine - INFO - [no key 0.00041s] ('5ec0fd74-7ce3-3034-88f7-8f03cfc8c237', 'AAPL', "What Alphabet's earnings reveal about the decline in software stocks", 'Yahoo Finance Video', 'https://finance.yahoo.com/video/alphabets-earnings-reveal-decline-software-183000814.html', '2026-02-05 18:30:00.000000', None)
2026-02-07 00:36:08,832 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:36:08,832 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('8d92f70b-4aa5-4fe7-a62f-83a0e7161b2a', 'AAPL', 'Would you end a relationship over a difference in salary? How readers voted', 'Yahoo Finance UK', 'https://finance.yahoo.com/news/would-you-end-a-relationship-over-a-difference-in-salary-how-readers-voted-153936079.html', '2026-02-06 15:39:36.000000', None)
2026-02-07 00:36:08,833 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:36:08,833 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('42f565e8-04f4-3a0a-b0d5-b463e7a32a07', 'AAPL', 'AI trade splinters as investors get more selective', 'Reuters', 'https://finance.yahoo.com/news/ai-trade-splinters-investors-more-150101291.html', '2026-02-06 15:01:01.000000', None)
2026-02-07 00:36:08,833 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:36:08,834 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('d08818e0-ccf3-3fae-b2f2-fe6849158e1a', 'AAPL', 'Is crypto still cypherpunk? With Miden co-founder Azeem Khan', 'The Block', 'https://finance.yahoo.com/news/crypto-still-cypherpunk-miden-co-130151835.html', '2026-02-06 13:01:51.000000', None)
2026-02-07 00:36:08,834 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:36:08,835 - sqlalchemy.engine.Engine - INFO - [no key 0.00029s] ('befd5246-56aa-3075-a630-78f0bb1bab69', 'AAPL', 'Despite The Ho-Hum Dividend, SCHG Beat the S&P 500 by An Impressive 15%', '24/7 Wall St.', 'https://finance.yahoo.com/news/despite-ho-hum-dividend-schg-123037857.html', '2026-02-06 12:30:37.000000', None)
2026-02-07 00:36:08,836 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:36:08,836 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('1c5ef38e-272c-316a-ae6f-88c650c9141e', 'AAPL', 'Apple Just Had The Biggest Quarter In iPhone History', 'Benzinga', 'https://finance.yahoo.com/news/apple-just-had-biggest-quarter-120109544.html', '2026-02-06 12:01:09.000000', None)
2026-02-07 00:36:08,837 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:36:08,837 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('a6479cfc-5e40-352b-acdc-14616c9f119a', 'AAPL', 'Zacks Investment Ideas feature highlights: Alphabet, Nvidia and Apple', 'Zacks', 'https://finance.yahoo.com/news/zacks-investment-ideas-feature-highlights-114600888.html', '2026-02-06 11:46:00.000000', None)
2026-02-07 00:36:08,838 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:36:08,838 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('52c220f4-0742-3f6b-b999-24925f3d771c', 'AAPL', 'Magnificent Seven Sink -- Nearly $3 Trillion in Market Value Vanishes', 'GuruFocus.com', 'https://finance.yahoo.com/news/magnificent-seven-sink-nearly-3-114037275.html', '2026-02-06 11:40:37.000000', None)
2026-02-07 00:36:08,838 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:36:08,838 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('8af2f72a-e998-324d-8410-89a503677f2a', 'AAPL', 'Apple Scales Back AI Health Coach Plans', 'GuruFocus.com', 'https://finance.yahoo.com/news/apple-scales-back-ai-health-113406335.html', '2026-02-06 11:34:06.000000', None)
2026-02-07 00:36:08,839 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:36:08,839 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('7a418b82-e9d3-3ce0-b6f8-af2b38f5e4d0', 'AAPL', 'Pricier iPhones? Global memory chip crunch puts spotlight on Apple', 'Reuters', 'https://finance.yahoo.com/news/pricier-iphones-global-memory-chip-112922022.html', '2026-02-06 11:29:22.000000', None)
2026-02-07 00:36:08,842 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-07 00:36:08,842 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (4105130475520.0, 35.39924, 30.101913, 'AAPL')
2026-02-07 00:36:08,843 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 00:36:08,843 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (279.3, 1.2286557, 74.79658646006638, 260.20899810791013, 268.7257983398438, 238.3198735809326, 2.3031281552556493, -1.0814980757699777, 3.384626231025627, 279.45599965539253, 260.20899810791013, 240.96199656042774, 89.737237987341, 83.40506612015243, 102.40158172171814, 55399802.15, 0.3786050163718861, '2026-02-06 16:36:07.672206', 'AAPL')
2026-02-07 00:36:08,844 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 00:36:08,845 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:36:08,847 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:36:08,847 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ('AAPL',)
2026-02-07 00:36:08,848 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:36:08,848 - sqlalchemy.engine.Engine - INFO - [cached since 5.729s ago] ('AAPL', 5, 0)
2026-02-07 00:36:08,849 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 00:36:08,849 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL')
2026-02-07 00:36:08,849 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:36:08,849 - sqlalchemy.engine.Engine - INFO - [cached since 5.733s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:36:08,850 - app.api.v1.endpoints.analysis - INFO - Returning latest report for AAPL (model: qwen-3-vl-thinking)
2026-02-07 00:36:08,850 - api_logger - INFO - rid=/api/analysis/AAPL method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1184.63ms
2026-02-07 00:36:08,851 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:36:08,859 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:36:08,859 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:36:08,859 - sqlalchemy.engine.Engine - INFO - [cached since 5.745s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:36:08,859 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:36:08,859 - sqlalchemy.engine.Engine - INFO - [cached since 5.741s ago] ('AAPL', 20, 0)
2026-02-07 00:36:08,860 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.73ms
2026-02-07 00:36:08,861 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:36:57,968 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 00:37:30,213 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 00:38:19,796 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 00:39:07,061 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:39:07,097 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:39:07,097 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:39:07,097 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:39:07,097 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:39:07,097 - sqlalchemy.engine.Engine - INFO - [cached since 0.0005695s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:39:07,098 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:39:07,098 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:39:07,098 - sqlalchemy.engine.Engine - INFO - [cached since 0.000969s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:39:07,099 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:39:07,099 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:39:07,100 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 00:39:07,100 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:39:07,101 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=49.32ms
2026-02-07 00:39:07,102 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:39:07,102 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('AAPL', 20, 0)
2026-02-07 00:39:07,102 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:39:07,103 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=48.58ms
2026-02-07 00:39:07,105 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=50.72ms
2026-02-07 00:39:07,105 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:39:07,106 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:39:08,560 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:39:08,561 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:39:08,561 - sqlalchemy.engine.Engine - INFO - [cached since 1.465s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:39:08,564 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:39:08,564 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('AAPL',)
2026-02-07 00:39:09,727 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 00:39:09,728 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] ('AAPL',)
2026-02-07 00:39:09,730 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:39:09,730 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('5ec0fd74-7ce3-3034-88f7-8f03cfc8c237', 'AAPL', "What Alphabet's earnings reveal about the decline in software stocks", 'Yahoo Finance Video', 'https://finance.yahoo.com/video/alphabets-earnings-reveal-decline-software-183000814.html', '2026-02-05 18:30:00.000000', None)
2026-02-07 00:39:09,731 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:39:09,731 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('8d92f70b-4aa5-4fe7-a62f-83a0e7161b2a', 'AAPL', 'Would you end a relationship over a difference in salary? How readers voted', 'Yahoo Finance UK', 'https://finance.yahoo.com/news/would-you-end-a-relationship-over-a-difference-in-salary-how-readers-voted-153936079.html', '2026-02-06 15:39:36.000000', None)
2026-02-07 00:39:09,732 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:39:09,732 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('42f565e8-04f4-3a0a-b0d5-b463e7a32a07', 'AAPL', 'AI trade splinters as investors get more selective', 'Reuters', 'https://finance.yahoo.com/news/ai-trade-splinters-investors-more-150101291.html', '2026-02-06 15:01:01.000000', None)
2026-02-07 00:39:09,733 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:39:09,733 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('d08818e0-ccf3-3fae-b2f2-fe6849158e1a', 'AAPL', 'Is crypto still cypherpunk? With Miden co-founder Azeem Khan', 'The Block', 'https://finance.yahoo.com/news/crypto-still-cypherpunk-miden-co-130151835.html', '2026-02-06 13:01:51.000000', None)
2026-02-07 00:39:09,733 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:39:09,733 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('befd5246-56aa-3075-a630-78f0bb1bab69', 'AAPL', 'Despite The Ho-Hum Dividend, SCHG Beat the S&P 500 by An Impressive 15%', '24/7 Wall St.', 'https://finance.yahoo.com/news/despite-ho-hum-dividend-schg-123037857.html', '2026-02-06 12:30:37.000000', None)
2026-02-07 00:39:09,734 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:39:09,734 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('1c5ef38e-272c-316a-ae6f-88c650c9141e', 'AAPL', 'Apple Just Had The Biggest Quarter In iPhone History', 'Benzinga', 'https://finance.yahoo.com/news/apple-just-had-biggest-quarter-120109544.html', '2026-02-06 12:01:09.000000', None)
2026-02-07 00:39:09,734 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:39:09,734 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('a6479cfc-5e40-352b-acdc-14616c9f119a', 'AAPL', 'Zacks Investment Ideas feature highlights: Alphabet, Nvidia and Apple', 'Zacks', 'https://finance.yahoo.com/news/zacks-investment-ideas-feature-highlights-114600888.html', '2026-02-06 11:46:00.000000', None)
2026-02-07 00:39:09,735 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:39:09,735 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('52c220f4-0742-3f6b-b999-24925f3d771c', 'AAPL', 'Magnificent Seven Sink -- Nearly $3 Trillion in Market Value Vanishes', 'GuruFocus.com', 'https://finance.yahoo.com/news/magnificent-seven-sink-nearly-3-114037275.html', '2026-02-06 11:40:37.000000', None)
2026-02-07 00:39:09,735 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:39:09,735 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('8af2f72a-e998-324d-8410-89a503677f2a', 'AAPL', 'Apple Scales Back AI Health Coach Plans', 'GuruFocus.com', 'https://finance.yahoo.com/news/apple-scales-back-ai-health-113406335.html', '2026-02-06 11:34:06.000000', None)
2026-02-07 00:39:09,736 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:39:09,736 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('7a418b82-e9d3-3ce0-b6f8-af2b38f5e4d0', 'AAPL', 'Pricier iPhones? Global memory chip crunch puts spotlight on Apple', 'Reuters', 'https://finance.yahoo.com/news/pricier-iphones-global-memory-chip-112922022.html', '2026-02-06 11:29:22.000000', None)
2026-02-07 00:39:09,737 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-07 00:39:09,738 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] (4109099073536.0, 35.43346, 30.131016, 'AAPL')
2026-02-07 00:39:09,739 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 00:39:09,739 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (279.56, 1.3265208, 74.93257188163555, 260.2219985961914, 268.73099853515623, 238.32117362976075, 2.3238696751835732, -1.0773497715772766, 3.40121944676085, 279.5235692333082, 260.2219985961914, 240.9204279590746, 90.03896088885291, 83.5056404206564, 103.10560182524594, 55085652.85, 0.26670568904767006, '2026-02-06 16:39:08.565153', 'AAPL')
2026-02-07 00:39:09,740 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 00:39:09,741 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:39:09,742 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:39:09,742 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('AAPL',)
2026-02-07 00:39:09,743 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:39:09,743 - sqlalchemy.engine.Engine - INFO - [cached since 2.641s ago] ('AAPL', 5, 0)
2026-02-07 00:39:09,744 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 00:39:09,744 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL')
2026-02-07 00:39:09,744 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:39:09,744 - sqlalchemy.engine.Engine - INFO - [cached since 2.646s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:39:23,797 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 00:39:23,802 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 00:39:23,803 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] ('2a96dec8-7bcf-418b-93e5-ca8efd434d83', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', '{"market_data": {"current_price": 279.56, "change_percent": 1.3265208, "rsi_14": 74.93257188163555, "ma_20": 260.2219985961914, "ma_50": 268.73099853 ... (200 characters truncated) ...  6.944644383021763, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 200.0, "quantity": 100.0, "unrealized_pl": 7956.0, "pl_percent": 39.78}}', '{\n    "sentiment_score": 88,\n    "summary_status": "",\n    "risk_level": "",\n    "technical_analysis": "279.52RSI74.93M ... (259 characters truncated) ... ",\n    "action_advice": "200279.56795670%260200"\n}', '88', '', '', '279.52RSI74.93MACDKDJ K90ATR6.94', 'iPhoneBenzingaAIReutersThe BlockSCHG24/7 Wall St.', '200279.56795670%260200', 'qwen-3-vl-thinking', '2026-02-06 16:39:23.802591')
2026-02-07 00:39:23,805 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 00:39:23,807 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:39:23,808 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 00:39:23,808 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('2a96dec8-7bcf-418b-93e5-ca8efd434d83',)
2026-02-07 00:39:23,811 - api_logger - INFO - rid=/api/analysis/AAPL method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=15253.97ms
2026-02-07 00:39:23,812 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:39:23,825 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:39:23,825 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:39:23,825 - sqlalchemy.engine.Engine - INFO - [cached since 16.73s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:39:23,826 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:39:23,826 - sqlalchemy.engine.Engine - INFO - [cached since 16.72s ago] ('AAPL', 20, 0)
2026-02-07 00:39:23,828 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.47ms
2026-02-07 00:39:23,828 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:39:52,943 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:39:52,944 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:39:52,944 - sqlalchemy.engine.Engine - INFO - [cached since 45.85s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:39:52,945 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:39:52,945 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:39:52,945 - sqlalchemy.engine.Engine - INFO - [cached since 45.85s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:39:52,946 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:39:52,946 - sqlalchemy.engine.Engine - INFO - [cached since 45.84s ago] ('FRO', 20, 0)
2026-02-07 00:39:52,946 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:39:52,946 - sqlalchemy.engine.Engine - INFO - [cached since 45.85s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:39:52,948 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.78ms
2026-02-07 00:39:52,948 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:39:52,949 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.40ms
2026-02-07 00:39:52,949 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:39:52,988 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:39:52,989 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:39:52,989 - sqlalchemy.engine.Engine - INFO - [cached since 45.89s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:39:52,990 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:39:52,990 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:39:52,990 - sqlalchemy.engine.Engine - INFO - [cached since 45.89s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:39:52,990 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:39:52,990 - sqlalchemy.engine.Engine - INFO - [cached since 45.89s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:39:52,991 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:39:52,991 - sqlalchemy.engine.Engine - INFO - [cached since 45.89s ago] ('AAPL', 20, 0)
2026-02-07 00:39:52,991 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.72ms
2026-02-07 00:39:52,992 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:39:52,993 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.83ms
2026-02-07 00:39:52,994 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:39:53,047 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:39:53,047 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:39:53,047 - sqlalchemy.engine.Engine - INFO - [cached since 45.95s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:39:53,048 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:39:53,048 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:39:53,049 - sqlalchemy.engine.Engine - INFO - [cached since 45.95s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:39:53,050 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:39:53,050 - sqlalchemy.engine.Engine - INFO - [cached since 45.95s ago] ('FRO', 20, 0)
2026-02-07 00:39:53,051 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:39:53,051 - sqlalchemy.engine.Engine - INFO - [cached since 45.95s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:39:53,054 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.35ms
2026-02-07 00:39:53,054 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.47ms
2026-02-07 00:39:53,055 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:39:53,055 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:39:56,641 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:39:56,641 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:39:56,642 - sqlalchemy.engine.Engine - INFO - [cached since 49.54s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:39:56,645 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:39:56,646 - sqlalchemy.engine.Engine - INFO - [cached since 48.08s ago] ('FRO',)
2026-02-07 00:39:57,290 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 00:39:57,290 - sqlalchemy.engine.Engine - INFO - [cached since 47.56s ago] ('FRO',)
2026-02-07 00:39:57,292 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:39:57,292 - sqlalchemy.engine.Engine - INFO - [no key 0.00042s] ('b6d9ce1c-6169-3c6c-ad2b-778afc83a630', 'FRO', 'Insiders Favor These 3 High Growth Companies', 'Simply Wall St.', 'https://finance.yahoo.com/news/insiders-favor-3-high-growth-113601957.html', '2026-02-06 11:36:01.000000', None)
2026-02-07 00:39:57,294 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:39:57,294 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('05ba4f7c-7f54-327b-86be-1131398186c6', 'FRO', 'Investors more bullish on Frontline (NYSE:FRO) this week as stock rises 6.7%, despite earnings trending downwards over past five years', 'Simply Wall St.', 'https://finance.yahoo.com/news/investors-more-bullish-frontline-nyse-182029674.html', '2026-02-04 18:20:29.000000', None)
2026-02-07 00:39:57,295 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:39:57,295 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ('58b364ac-1e25-31c3-a91b-844fdce12402', 'FRO', 'Here is Why Frontline (FRO) Gained This Week', 'Insider Monkey', 'https://finance.yahoo.com/news/why-frontline-fro-gained-week-173842236.html', '2026-01-31 17:38:42.000000', None)
2026-02-07 00:39:57,297 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:39:57,298 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ('ac4b763a-1815-3d75-b3fb-bd072c4b1e82', 'FRO', "January 2026's Top Growth Companies With Insider Confidence", 'Simply Wall St.', 'https://finance.yahoo.com/news/january-2026s-top-growth-companies-173612842.html', '2026-01-08 17:36:12.000000', None)
2026-02-07 00:39:57,299 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:39:57,299 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('ddd8a47e-f00b-39bb-9267-ba9a23a1faef', 'FRO', 'Frontline PLC (FRO) Jumps 9.5% on Venezuela Oil Seizure', 'Insider Monkey', 'https://finance.yahoo.com/news/frontline-plc-fro-jumps-9-015505286.html', '2026-01-08 01:55:05.000000', None)
2026-02-07 00:39:57,300 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:39:57,300 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('cbff1281-6f54-39ff-92b7-953421747edd', 'FRO', "Individual investors are Frontline plc's (NYSE:FRO) biggest owners and were hit after market cap dropped US$345m", 'Simply Wall St.', 'https://finance.yahoo.com/news/individual-investors-frontline-plcs-nyse-183606714.html', '2026-01-05 18:36:06.000000', None)
2026-02-07 00:39:57,301 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:39:57,301 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('9336728b-f1f9-3305-83f1-9b5a6459ce11', 'FRO', '5 Under $35 Dividend Stocks to Buy Now', '24/7 Wall St.', 'https://finance.yahoo.com/news/5-under-35-dividend-stocks-191720390.html', '2025-12-09 19:17:20.000000', None)
2026-02-07 00:39:57,302 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:39:57,302 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('d2900d23-27f1-3e29-a369-3f089a44aee8', 'FRO', 'Frontline (NYSE:FRO) Will Pay A Smaller Dividend Than Last Year', 'Simply Wall St.', 'https://finance.yahoo.com/news/frontline-nyse-fro-pay-smaller-175418119.html', '2025-12-09 17:54:18.000000', None)
2026-02-07 00:39:57,303 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:39:57,303 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('ed10202e-de30-3be2-a563-3a0fb5bfeeb3', 'FRO', '3 Growth Companies With High Insider Ownership And 25% Return On Equity', 'Simply Wall St.', 'https://finance.yahoo.com/news/3-growth-companies-high-insider-173547980.html', '2025-12-08 17:35:47.000000', None)
2026-02-07 00:39:57,304 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:39:57,304 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('2679188b-75ba-397e-8f88-586e8e18ad50', 'FRO', 'We Think That There Are More Issues For Frontline (NYSE:FRO) Than Just Sluggish Earnings', 'Simply Wall St.', 'https://finance.yahoo.com/news/think-more-issues-frontline-nyse-113051973.html', '2025-11-28 11:30:51.000000', None)
2026-02-07 00:39:57,304 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, dividend_yield=? WHERE stocks.ticker = ?
2026-02-07 00:39:57,304 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] (6418217984.0, 29.418367, 9.571554, 3.32, 'FRO')
2026-02-07 00:39:57,305 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 00:39:57,305 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] (28.83, 2.9611127, 67.8370600275976, 26.964500141143798, 24.33580005645752, 21.348442125320435, 1.3158127379050306, 1.227375036536942, 0.0884377013680886, 29.60407309660542, 26.964500141143798, 24.324927185682178, 0.9385713849748883, 80.66492171381303, 81.72254505785774, 78.54967502572359, 3009150.65, 0.2516035546442316, '2026-02-06 16:39:56.647012', 'FRO')
2026-02-07 00:39:57,306 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 00:39:57,306 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:39:57,307 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:39:57,307 - sqlalchemy.engine.Engine - INFO - [cached since 47.56s ago] ('FRO',)
2026-02-07 00:39:57,308 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:39:57,308 - sqlalchemy.engine.Engine - INFO - [cached since 50.21s ago] ('FRO', 5, 0)
2026-02-07 00:39:57,308 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 00:39:57,308 - sqlalchemy.engine.Engine - INFO - [cached since 47.56s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO')
2026-02-07 00:39:57,309 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:39:57,309 - sqlalchemy.engine.Engine - INFO - [cached since 50.21s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:40:01,508 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:40:01,509 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:40:01,509 - sqlalchemy.engine.Engine - INFO - [cached since 54.41s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:40:01,510 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:40:01,510 - sqlalchemy.engine.Engine - INFO - [cached since 52.95s ago] ('FRO',)
2026-02-07 00:40:01,948 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 00:40:01,948 - sqlalchemy.engine.Engine - INFO - [cached since 52.22s ago] ('FRO',)
2026-02-07 00:40:01,949 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:40:01,950 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ('b6d9ce1c-6169-3c6c-ad2b-778afc83a630', 'FRO', 'Insiders Favor These 3 High Growth Companies', 'Simply Wall St.', 'https://finance.yahoo.com/news/insiders-favor-3-high-growth-113601957.html', '2026-02-06 11:36:01.000000', None)
2026-02-07 00:40:01,951 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:40:01,951 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('05ba4f7c-7f54-327b-86be-1131398186c6', 'FRO', 'Investors more bullish on Frontline (NYSE:FRO) this week as stock rises 6.7%, despite earnings trending downwards over past five years', 'Simply Wall St.', 'https://finance.yahoo.com/news/investors-more-bullish-frontline-nyse-182029674.html', '2026-02-04 18:20:29.000000', None)
2026-02-07 00:40:01,955 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:40:01,955 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ('58b364ac-1e25-31c3-a91b-844fdce12402', 'FRO', 'Here is Why Frontline (FRO) Gained This Week', 'Insider Monkey', 'https://finance.yahoo.com/news/why-frontline-fro-gained-week-173842236.html', '2026-01-31 17:38:42.000000', None)
2026-02-07 00:40:01,956 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:40:01,956 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ('ac4b763a-1815-3d75-b3fb-bd072c4b1e82', 'FRO', "January 2026's Top Growth Companies With Insider Confidence", 'Simply Wall St.', 'https://finance.yahoo.com/news/january-2026s-top-growth-companies-173612842.html', '2026-01-08 17:36:12.000000', None)
2026-02-07 00:40:01,957 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:40:01,957 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('ddd8a47e-f00b-39bb-9267-ba9a23a1faef', 'FRO', 'Frontline PLC (FRO) Jumps 9.5% on Venezuela Oil Seizure', 'Insider Monkey', 'https://finance.yahoo.com/news/frontline-plc-fro-jumps-9-015505286.html', '2026-01-08 01:55:05.000000', None)
2026-02-07 00:40:01,960 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:40:01,961 - sqlalchemy.engine.Engine - INFO - [no key 0.00103s] ('cbff1281-6f54-39ff-92b7-953421747edd', 'FRO', "Individual investors are Frontline plc's (NYSE:FRO) biggest owners and were hit after market cap dropped US$345m", 'Simply Wall St.', 'https://finance.yahoo.com/news/individual-investors-frontline-plcs-nyse-183606714.html', '2026-01-05 18:36:06.000000', None)
2026-02-07 00:40:01,962 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:40:01,962 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('9336728b-f1f9-3305-83f1-9b5a6459ce11', 'FRO', '5 Under $35 Dividend Stocks to Buy Now', '24/7 Wall St.', 'https://finance.yahoo.com/news/5-under-35-dividend-stocks-191720390.html', '2025-12-09 19:17:20.000000', None)
2026-02-07 00:40:01,963 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:40:01,963 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('d2900d23-27f1-3e29-a369-3f089a44aee8', 'FRO', 'Frontline (NYSE:FRO) Will Pay A Smaller Dividend Than Last Year', 'Simply Wall St.', 'https://finance.yahoo.com/news/frontline-nyse-fro-pay-smaller-175418119.html', '2025-12-09 17:54:18.000000', None)
2026-02-07 00:40:01,964 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:40:01,964 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('ed10202e-de30-3be2-a563-3a0fb5bfeeb3', 'FRO', '3 Growth Companies With High Insider Ownership And 25% Return On Equity', 'Simply Wall St.', 'https://finance.yahoo.com/news/3-growth-companies-high-insider-173547980.html', '2025-12-08 17:35:47.000000', None)
2026-02-07 00:40:01,965 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:40:01,965 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('2679188b-75ba-397e-8f88-586e8e18ad50', 'FRO', 'We Think That There Are More Issues For Frontline (NYSE:FRO) Than Just Sluggish Earnings', 'Simply Wall St.', 'https://finance.yahoo.com/news/think-more-issues-frontline-nyse-113051973.html', '2025-11-28 11:30:51.000000', None)
2026-02-07 00:40:01,966 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET change_percent=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 00:40:01,966 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (2.9642854, 3009152.15, 0.25161339881069156, '2026-02-06 16:40:01.511213', 'FRO')
2026-02-07 00:40:01,966 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 00:40:01,967 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:40:01,967 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:40:01,967 - sqlalchemy.engine.Engine - INFO - [cached since 52.23s ago] ('FRO',)
2026-02-07 00:40:01,968 - api_logger - INFO - rid=/api/portfolio/FRO/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=461.47ms
2026-02-07 00:40:01,968 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:40:01,973 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:40:01,973 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:40:01,973 - sqlalchemy.engine.Engine - INFO - [cached since 54.88s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:40:01,974 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 00:40:01,974 - sqlalchemy.engine.Engine - INFO - [cached since 54.87s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:40:01,975 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.94ms
2026-02-07 00:40:01,975 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:40:09,926 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 00:40:09,931 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 00:40:09,931 - sqlalchemy.engine.Engine - INFO - [cached since 46.13s ago] ('5e50d2bf-f8a9-4ee4-a07e-1a02b2152fd8', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', '{"market_data": {"current_price": 28.83, "change_percent": 2.9611127, "rsi_14": 67.8370600275976, "ma_20": 26.964500141143798, "ma_50": 24.3358000564 ... (224 characters truncated) ... arket_status": "OPEN"}, "portfolio_data": {"avg_cost": 27.32, "quantity": 30.0, "unrealized_pl": 45.29999999999994, "pl_percent": 5.527086383601749}}', '{\n    "sentiment_score": 78,\n    "summary_status": "",\n    "risk_level": "",\n    "technical_analysis": "29.60RSI(14)67.84 ... (159 characters truncated) ... 5",\n    "action_advice": "16.5%29.0020%26.50"\n}', '78', '', '', '29.60RSI(14)67.84KDJK80.66MACD2.96%ATR0.94', 'FRO9.5%5', '16.5%29.0020%26.50', 'qwen-3-vl-thinking', '2026-02-06 16:40:09.931572')
2026-02-07 00:40:09,933 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 00:40:09,934 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:40:09,935 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 00:40:09,935 - sqlalchemy.engine.Engine - INFO - [cached since 46.13s ago] ('5e50d2bf-f8a9-4ee4-a07e-1a02b2152fd8',)
2026-02-07 00:40:09,936 - api_logger - INFO - rid=/api/analysis/FRO method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=13296.19ms
2026-02-07 00:40:09,937 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:40:09,944 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:40:09,945 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:40:09,945 - sqlalchemy.engine.Engine - INFO - [cached since 62.85s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:40:09,946 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:40:09,946 - sqlalchemy.engine.Engine - INFO - [cached since 62.84s ago] ('FRO', 20, 0)
2026-02-07 00:40:09,947 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.60ms
2026-02-07 00:40:09,948 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:40:25,839 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:40:25,839 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:40:25,839 - sqlalchemy.engine.Engine - INFO - [cached since 78.74s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:40:25,840 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:40:25,840 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:40:25,840 - sqlalchemy.engine.Engine - INFO - [cached since 78.74s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:40:25,841 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:40:25,841 - sqlalchemy.engine.Engine - INFO - [cached since 78.74s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:40:25,842 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:40:25,842 - sqlalchemy.engine.Engine - INFO - [cached since 78.74s ago] ('AMD', 20, 0)
2026-02-07 00:40:25,842 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.96ms
2026-02-07 00:40:25,843 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:40:25,845 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.11ms
2026-02-07 00:40:25,845 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:40:25,883 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:40:25,884 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:40:25,884 - sqlalchemy.engine.Engine - INFO - [cached since 78.79s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:40:25,885 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:40:25,885 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:40:25,885 - sqlalchemy.engine.Engine - INFO - [cached since 78.79s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:40:25,886 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:40:25,887 - sqlalchemy.engine.Engine - INFO - [cached since 78.79s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:40:25,887 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:40:25,887 - sqlalchemy.engine.Engine - INFO - [cached since 78.79s ago] ('FRO', 20, 0)
2026-02-07 00:40:25,888 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.53ms
2026-02-07 00:40:25,888 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.58ms
2026-02-07 00:40:25,888 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:40:25,889 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:40:25,936 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:40:25,936 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:40:25,936 - sqlalchemy.engine.Engine - INFO - [cached since 78.84s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:40:25,937 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:40:25,939 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:40:25,939 - sqlalchemy.engine.Engine - INFO - [cached since 78.84s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:40:25,940 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:40:25,940 - sqlalchemy.engine.Engine - INFO - [cached since 78.84s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:40:25,941 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:40:25,941 - sqlalchemy.engine.Engine - INFO - [cached since 78.84s ago] ('AMD', 20, 0)
2026-02-07 00:40:25,942 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.56ms
2026-02-07 00:40:25,944 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.96ms
2026-02-07 00:40:25,945 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:40:25,945 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:40:28,356 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:40:28,356 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:40:28,356 - sqlalchemy.engine.Engine - INFO - [cached since 81.26s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:40:28,358 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:40:28,358 - sqlalchemy.engine.Engine - INFO - [cached since 79.79s ago] ('AMD',)
2026-02-07 00:40:29,407 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 00:40:29,407 - sqlalchemy.engine.Engine - INFO - [cached since 79.68s ago] ('AMD',)
2026-02-07 00:40:29,410 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:40:29,410 - sqlalchemy.engine.Engine - INFO - [no key 0.00036s] ('54e604c4-ce1b-459c-8886-e2d863f40f97', 'AMD', 'Big Tech set to spend $650 billion in 2026 as AI investments soar', 'Yahoo Finance', 'https://finance.yahoo.com/news/big-tech-set-to-spend-650-billion-in-2026-as-ai-investments-soar-163907630.html', '2026-02-06 16:39:07.000000', None)
2026-02-07 00:40:29,412 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:40:29,413 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ('e11da50b-cad4-3459-9edc-b4e8339e8b79', 'AMD', 'Stock Market Divided With S&P 500, Nasdaq Below Key Levels; Google, Amazon AI Spending Stuns: Weekly Review', "Investor's Business Daily", 'https://www.investors.com/news/stock-market-divided-sp-500-nasdaq-bitcoin-google-amazon-ai-spending/?src=A00220&yptr=yahoo', '2026-02-06 16:27:45.000000', None)
2026-02-07 00:40:29,414 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:40:29,414 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('8496d492-119a-3b0a-83ab-ad05ed351316', 'AMD', 'Intel Warns of Six-Month CPU Backlogs in China', 'GuruFocus.com', 'https://finance.yahoo.com/news/intel-warns-six-month-cpu-160525982.html', '2026-02-06 16:05:25.000000', None)
2026-02-07 00:40:29,415 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:40:29,415 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('afd09e7c-2ede-3441-8708-286cd152026c', 'AMD', 'Amazon Announces $200B 2026 Capex Plan, Shares Slide Over 8% Premarket', 'GuruFocus.com', 'https://finance.yahoo.com/news/amazon-announces-200b-2026-capex-155235079.html', '2026-02-06 15:52:35.000000', None)
2026-02-07 00:40:29,416 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:40:29,416 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('c6533ab4-9eed-366f-ad45-cdc4138fb2b6', 'AMD', 'Stocks Are Rising. Nasdaq Set to End 3-Day Selloff.', 'Barrons.com', 'https://www.barrons.com/livecoverage/stock-market-news-today-020626/card/stocks-are-rising-nasdaq-set-to-end-3-day-selloff--MAT4G0aXdyP5Luply2lw?siteid=yhoof2&yptr=yahoo', '2026-02-06 14:41:03.000000', None)
2026-02-07 00:40:29,417 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:40:29,417 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ('dca4c8cb-a155-3a4f-ad0e-6a2e21459056', 'AMD', 'Is Advanced Micro Devices (AMD) Still Attractive After A 74.7% One Year Share Price Surge', 'Simply Wall St.', 'https://finance.yahoo.com/news/advanced-micro-devices-amd-still-140945122.html', '2026-02-06 14:09:45.000000', None)
2026-02-07 00:40:29,418 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:40:29,418 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('d5eecc59-0094-3823-9e1d-3afeb99bd862', 'AMD', 'Micron Rallies 315% in a Year: Is the Stock Still Worth Buying?', 'Zacks', 'https://finance.yahoo.com/news/micron-rallies-315-stock-still-131000156.html', '2026-02-06 13:10:00.000000', None)
2026-02-07 00:40:29,419 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:40:29,419 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('7cd071b6-ab50-3aa6-b161-1d75b9e73611', 'AMD', 'Global chip sales expected to hit $1 trillion this year, industry group says', 'Reuters', 'https://finance.yahoo.com/news/global-chip-sales-expected-hit-130145416.html', '2026-02-06 13:02:55.000000', None)
2026-02-07 00:40:29,420 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:40:29,420 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('da3245ba-9015-31b0-a441-d953bc51dce7', 'AMD', 'Top Funds Like Google  But Go Bonkers For These Three Stocks', "Investor's Business Daily", 'https://www.investors.com/etfs-and-funds/mutual-funds/best-mutual-funds-bet-big-on-asml-santander-aar-corp-google-stock-and-more/?src=A00220&yptr=yahoo', '2026-02-06 13:00:36.000000', None)
2026-02-07 00:40:29,423 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:40:29,423 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ('c056678a-5448-3ddf-bec2-b601a3f15227', 'AMD', 'Intel and AMD Warn China Clients of Prolonged CPU Shortages', 'GuruFocus.com', 'https://finance.yahoo.com/news/intel-amd-warn-china-clients-121112357.html', '2026-02-06 12:11:12.000000', None)
2026-02-07 00:40:29,424 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-07 00:40:29,424 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (338668945408.0, 79.28245, 19.683056, 2.62, 'AMD')
2026-02-07 00:40:29,425 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 00:40:29,425 - sqlalchemy.engine.Engine - INFO - [cached since 32.12s ago] (207.72, 7.906494, 40.88055171267447, 232.20449981689453, 221.45679962158204, 179.0319497680664, -1.564589262085633, 4.1888873249224465, -5.7534765870080795, 273.9726441989854, 232.20449981689453, 190.43635543480366, 15.844280787876674, 20.97764888843431, 31.620310244298555, -0.3076738232941807, 44091762.45, 0.6664906859489804, '2026-02-06 16:40:28.358943', 'AMD')
2026-02-07 00:40:29,425 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 00:40:29,426 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:40:29,426 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:40:29,426 - sqlalchemy.engine.Engine - INFO - [cached since 79.68s ago] ('AMD',)
2026-02-07 00:40:29,426 - api_logger - INFO - rid=/api/portfolio/AMD/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1071.53ms
2026-02-07 00:40:29,427 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:40:29,434 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:40:29,434 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:40:29,434 - sqlalchemy.engine.Engine - INFO - [cached since 82.34s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:40:29,435 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 00:40:29,435 - sqlalchemy.engine.Engine - INFO - [cached since 82.33s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:40:29,436 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.40ms
2026-02-07 00:40:29,437 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:40:31,024 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:40:31,024 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:40:31,024 - sqlalchemy.engine.Engine - INFO - [cached since 83.93s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:40:31,026 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:40:31,026 - sqlalchemy.engine.Engine - INFO - [cached since 82.46s ago] ('AMD',)
2026-02-07 00:40:31,028 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:40:31,028 - sqlalchemy.engine.Engine - INFO - [cached since 83.93s ago] ('AMD', 5, 0)
2026-02-07 00:40:31,029 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 00:40:31,029 - sqlalchemy.engine.Engine - INFO - [cached since 81.29s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD')
2026-02-07 00:40:31,030 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:40:31,030 - sqlalchemy.engine.Engine - INFO - [cached since 83.93s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:40:45,592 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 00:40:45,597 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 00:40:45,597 - sqlalchemy.engine.Engine - INFO - [cached since 81.8s ago] ('d193b6e3-d5b7-4101-93a8-2dfc51649da0', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', '{"market_data": {"current_price": 207.72, "change_percent": 7.906494, "rsi_14": 40.88055171267447, "ma_20": 232.20449981689453, "ma_50": 221.45679962 ... (215 characters truncated) ... 7876674, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 220.0, "quantity": 3.0, "unrealized_pl": -36.84, "pl_percent": -5.581818181818182}}', '{\n    "sentiment_score": 65,\n    "summary_status": "",\n    "risk_level": "",\n    "technical_analysis": "207.72RSI 40.88 ... (232 characters truncated) ... AI",\n    "action_advice": "22036.841/3215"\n}', '65', '', '', '207.72RSI 40.88MACDKDJ K20.987.9%ATR 15.84', 'Big Tech 20266500AI2000CPUAI', '22036.841/3215', 'qwen-3-vl-thinking', '2026-02-06 16:40:45.597155')
2026-02-07 00:40:45,598 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 00:40:45,600 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:40:45,600 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 00:40:45,600 - sqlalchemy.engine.Engine - INFO - [cached since 81.79s ago] ('d193b6e3-d5b7-4101-93a8-2dfc51649da0',)
2026-02-07 00:40:45,602 - api_logger - INFO - rid=/api/analysis/AMD method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14578.72ms
2026-02-07 00:40:45,604 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:40:45,612 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:40:45,612 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:40:45,612 - sqlalchemy.engine.Engine - INFO - [cached since 98.52s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:40:45,614 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:40:45,614 - sqlalchemy.engine.Engine - INFO - [cached since 98.51s ago] ('AMD', 20, 0)
2026-02-07 00:40:45,615 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.53ms
2026-02-07 00:40:45,616 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:41:59,172 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:41:59,173 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:41:59,173 - sqlalchemy.engine.Engine - INFO - [cached since 172.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:41:59,173 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:41:59,173 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:41:59,174 - sqlalchemy.engine.Engine - INFO - [cached since 172.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:41:59,175 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:41:59,175 - sqlalchemy.engine.Engine - INFO - [cached since 172.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:41:59,175 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:41:59,175 - sqlalchemy.engine.Engine - INFO - [cached since 172.1s ago] ('SLV', 20, 0)
2026-02-07 00:41:59,176 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.16ms
2026-02-07 00:41:59,176 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:41:59,178 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.09ms
2026-02-07 00:41:59,179 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:41:59,217 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:41:59,217 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:41:59,218 - sqlalchemy.engine.Engine - INFO - [cached since 172.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:41:59,218 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:41:59,218 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:41:59,218 - sqlalchemy.engine.Engine - INFO - [cached since 172.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:41:59,219 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:41:59,219 - sqlalchemy.engine.Engine - INFO - [cached since 172.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:41:59,219 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:41:59,219 - sqlalchemy.engine.Engine - INFO - [cached since 172.1s ago] ('AMD', 20, 0)
2026-02-07 00:41:59,220 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.64ms
2026-02-07 00:41:59,221 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.36ms
2026-02-07 00:41:59,221 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:41:59,221 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:41:59,270 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:41:59,270 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:41:59,270 - sqlalchemy.engine.Engine - INFO - [cached since 172.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:41:59,271 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:41:59,271 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:41:59,271 - sqlalchemy.engine.Engine - INFO - [cached since 172.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:41:59,272 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:41:59,272 - sqlalchemy.engine.Engine - INFO - [cached since 172.2s ago] ('SLV', 20, 0)
2026-02-07 00:41:59,273 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:41:59,273 - sqlalchemy.engine.Engine - INFO - [cached since 172.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:41:59,275 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.65ms
2026-02-07 00:41:59,276 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.30ms
2026-02-07 00:41:59,277 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:41:59,278 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:42:02,040 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:42:02,041 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:42:02,041 - sqlalchemy.engine.Engine - INFO - [cached since 174.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:42:02,044 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:42:02,044 - sqlalchemy.engine.Engine - INFO - [cached since 173.5s ago] ('SLV',)
2026-02-07 00:42:02,703 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 00:42:02,704 - sqlalchemy.engine.Engine - INFO - [cached since 173s ago] ('SLV',)
2026-02-07 00:42:02,706 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:42:02,706 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ('be0eebba-92ad-3039-8a1d-12f75a96d52e', 'SLV', 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Friday Ahead of Consumer Sentiment Report', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-135747111.html', '2026-02-06 13:57:47.000000', None)
2026-02-07 00:42:02,707 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:42:02,707 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('e75bcefc-abe7-3823-ad57-38457d154c66', 'SLV', 'SLV Plunged 35.6% in Five Days After Fed Chair Nomination Rattled Silver Markets', '24/7 Wall St.', 'https://finance.yahoo.com/news/slv-plunged-35-6-five-153200847.html', '2026-02-05 15:32:00.000000', None)
2026-02-07 00:42:02,708 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:42:02,709 - sqlalchemy.engine.Engine - INFO - [no key 0.00100s] ('2a4b51c1-a2f9-38be-a7da-2b150aec99b5', 'SLV', 'Silver Prices Go on Another Wild Ride', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-05-2026/card/silver-prices-go-on-another-wild-ride-mFGeM0HcvqRBxVnrQA8S?siteid=yhoof2&yptr=yahoo', '2026-02-05 14:37:34.000000', None)
2026-02-07 00:42:02,711 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:42:02,711 - sqlalchemy.engine.Engine - INFO - [no key 0.00029s] ('80ee7f1c-7be6-3f8e-9529-1315fedd335a', 'SLV', 'Exchange-Traded Funds, Equity Futures Lower Pre-Bell Thursday Ahead of Amazon Earnings', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-141706475.html', '2026-02-05 14:17:06.000000', None)
2026-02-07 00:42:02,712 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:42:02,712 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('fd206287-a85b-3fc2-a6e8-4fa912457e35', 'SLV', 'Why GLDs 74% Rally Turned Into a Mousetrap and What the Fed Chair Pick Means Now', '24/7 Wall St.', 'https://finance.yahoo.com/news/why-gld-74-rally-turned-130816537.html', '2026-02-05 13:08:16.000000', None)
2026-02-07 00:42:02,713 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:42:02,713 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('79de7eeb-68c1-3a22-8dc6-29aa0d832707', 'SLV', 'Exchange-Traded Funds, Equity Futures Mixed Pre-Bell Wednesday Ahead of Alphabet Earnings', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-140310603.html', '2026-02-04 14:03:10.000000', None)
2026-02-07 00:42:02,713 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:42:02,714 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('267a5d36-ee97-304a-b868-ceb8592ad222', 'SLV', 'Top-Performing ETF Stories of January: Winning Investing Areas', 'Zacks', 'https://finance.yahoo.com/news/top-performing-etf-stories-january-130000947.html', '2026-02-04 13:00:00.000000', None)
2026-02-07 00:42:02,715 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:42:02,715 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('57491ac4-a2f9-3f77-9055-e641926dd6bb', 'SLV', 'Daily ETF Flows: $3.4B Flows Into SLV', 'etf.com', 'https://finance.yahoo.com/news/daily-etf-flows-3-4b-230005689.html', '2026-02-03 23:00:05.000000', None)
2026-02-07 00:42:02,716 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:42:02,716 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('c192d55e-4add-3941-8d89-ebeb9f3a249c', 'SLV', 'Zacks Investment Ideas feature highlights: Ark Invest, BlackRock, IBIT, GLD and SLV', 'Zacks', 'https://finance.yahoo.com/news/zacks-investment-ideas-feature-highlights-152000677.html', '2026-02-03 15:20:00.000000', None)
2026-02-07 00:42:02,717 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:42:02,717 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('11bf817f-bd41-38a9-a525-45cefc988e19', 'SLV', 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Tuesday as Earnings Deluge Continues', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-142855032.html', '2026-02-03 14:28:55.000000', None)
2026-02-07 00:42:02,718 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=? WHERE stocks.ticker = ?
2026-02-07 00:42:02,718 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (23537854464.0, 'SLV')
2026-02-07 00:42:02,719 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 00:42:02,719 - sqlalchemy.engine.Engine - INFO - [cached since 173s ago] (68.935, 3.3663144, 42.64125923838319, 83.86249465942383, 69.46499778747558, 44.95209941864014, 1.3826501084054712, 5.107404657371543, -3.7247545489660716, 107.09326496494576, 83.86249465942383, 60.6317243539019, 18.187224496362745, 33.52328268471843, -12.484891880348627, 177827681.95, 0.22759470604458387, '2026-02-06 16:42:02.045816', 'SLV')
2026-02-07 00:42:02,720 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 00:42:02,722 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:42:02,722 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:42:02,722 - sqlalchemy.engine.Engine - INFO - [cached since 173s ago] ('SLV',)
2026-02-07 00:42:02,723 - api_logger - INFO - rid=/api/portfolio/SLV/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=683.92ms
2026-02-07 00:42:02,724 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:42:02,734 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:42:02,734 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:42:02,734 - sqlalchemy.engine.Engine - INFO - [cached since 175.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:42:02,735 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 00:42:02,735 - sqlalchemy.engine.Engine - INFO - [cached since 175.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:42:02,737 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.48ms
2026-02-07 00:42:02,737 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:42:19,416 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:42:19,417 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:42:19,417 - sqlalchemy.engine.Engine - INFO - [cached since 192.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:42:19,418 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 00:42:19,418 - sqlalchemy.engine.Engine - INFO - [cached since 189.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV')
2026-02-07 00:42:19,420 - sqlalchemy.engine.Engine - INFO - UPDATE portfolios SET quantity=?, avg_cost=?, updated_at=? WHERE portfolios.id = ?
2026-02-07 00:42:19,420 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (35.0, 78.0, '2026-02-06 16:42:19.420289', '50b62451-dc6f-4020-bbf2-6aff75fbaea6')
2026-02-07 00:42:19,421 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 00:42:19,423 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:42:19,423 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:42:19,423 - sqlalchemy.engine.Engine - INFO - [cached since 190.9s ago] ('SLV',)
2026-02-07 00:42:19,424 - api_logger - INFO - rid=/api/portfolio/ method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.62ms
2026-02-07 00:42:19,425 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:42:19,432 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:42:19,432 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:42:19,432 - sqlalchemy.engine.Engine - INFO - [cached since 192.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:42:19,434 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 00:42:19,434 - sqlalchemy.engine.Engine - INFO - [cached since 192.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:42:19,436 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.16ms
2026-02-07 00:42:19,437 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:42:25,699 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:42:25,699 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:42:25,699 - sqlalchemy.engine.Engine - INFO - [cached since 198.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:42:25,701 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:42:25,701 - sqlalchemy.engine.Engine - INFO - [cached since 197.1s ago] ('SLV',)
2026-02-07 00:42:25,702 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:42:25,702 - sqlalchemy.engine.Engine - INFO - [cached since 198.6s ago] ('SLV', 5, 0)
2026-02-07 00:42:25,703 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 00:42:25,703 - sqlalchemy.engine.Engine - INFO - [cached since 196s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV')
2026-02-07 00:42:25,704 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:42:25,704 - sqlalchemy.engine.Engine - INFO - [cached since 198.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:42:41,950 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 00:42:41,954 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 00:42:41,954 - sqlalchemy.engine.Engine - INFO - [cached since 198.2s ago] ('3eb6a71f-2ce7-4f5e-8c56-5e1a57249ce5', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', '{"market_data": {"current_price": 68.935, "change_percent": 3.3663144, "rsi_14": 42.64125923838319, "ma_20": 83.86249465942383, "ma_50": 69.464997787 ... (225 characters truncated) ... ket_status": "OPEN"}, "portfolio_data": {"avg_cost": 78.0, "quantity": 35.0, "unrealized_pl": -317.2749999999999, "pl_percent": -11.621794871794869}}', '{\n    "sentiment_score": 45,\n    "summary_status": "",\n    "risk_level": "",\n    "technical_analysis": "68.93560.63RSI 42.64 ... (258 characters truncated) ... \n    "action_advice": "7868.93511.6%1. 60.632. 20%3. "\n}', '45', '', '', '68.93560.63RSI 42.64MACDKDJRSIATR7860.63', 'SLV35.6%', '7868.93511.6%1. 60.632. 20%3. ', 'qwen-3-vl-thinking', '2026-02-06 16:42:41.954247')
2026-02-07 00:42:41,956 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 00:42:41,957 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:42:41,958 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 00:42:41,958 - sqlalchemy.engine.Engine - INFO - [cached since 198.2s ago] ('3eb6a71f-2ce7-4f5e-8c56-5e1a57249ce5',)
2026-02-07 00:42:41,961 - api_logger - INFO - rid=/api/analysis/SLV method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=16264.41ms
2026-02-07 00:42:41,962 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:42:41,975 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:42:41,976 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:42:41,976 - sqlalchemy.engine.Engine - INFO - [cached since 214.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:42:41,978 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:42:41,978 - sqlalchemy.engine.Engine - INFO - [cached since 214.9s ago] ('SLV', 20, 0)
2026-02-07 00:42:41,980 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.62ms
2026-02-07 00:42:41,981 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:47:06,610 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:47:06,612 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:47:06,613 - sqlalchemy.engine.Engine - INFO - [cached since 479.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:47:06,616 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:47:06,616 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:47:06,617 - sqlalchemy.engine.Engine - INFO - [cached since 479.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:47:06,619 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:47:06,619 - sqlalchemy.engine.Engine - INFO - [cached since 479.5s ago] ('RKLB', 20, 0)
2026-02-07 00:47:06,620 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:47:06,620 - sqlalchemy.engine.Engine - INFO - [cached since 479.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:47:06,621 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:47:06,622 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=31.26ms
2026-02-07 00:47:06,622 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.67ms
2026-02-07 00:47:06,622 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:47:06,634 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:47:06,635 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:47:06,635 - sqlalchemy.engine.Engine - INFO - [cached since 479.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:47:06,636 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:47:06,636 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:47:06,636 - sqlalchemy.engine.Engine - INFO - [cached since 479.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:47:06,637 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:47:06,637 - sqlalchemy.engine.Engine - INFO - [cached since 479.5s ago] ('SLV', 20, 0)
2026-02-07 00:47:06,637 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:47:06,637 - sqlalchemy.engine.Engine - INFO - [cached since 479.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:47:06,639 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.32ms
2026-02-07 00:47:06,640 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.67ms
2026-02-07 00:47:06,641 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:47:06,641 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:47:06,706 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:47:06,706 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:47:06,707 - sqlalchemy.engine.Engine - INFO - [cached since 479.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:47:06,707 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:47:06,707 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:47:06,707 - sqlalchemy.engine.Engine - INFO - [cached since 479.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:47:06,708 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:47:06,708 - sqlalchemy.engine.Engine - INFO - [cached since 479.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:47:06,708 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:47:06,708 - sqlalchemy.engine.Engine - INFO - [cached since 479.6s ago] ('RKLB', 20, 0)
2026-02-07 00:47:06,709 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:47:06,709 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.68ms
2026-02-07 00:47:06,710 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:47:06,710 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.82ms
2026-02-07 00:47:08,477 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:47:08,478 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:47:08,478 - sqlalchemy.engine.Engine - INFO - [cached since 481.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:47:08,480 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:47:08,480 - sqlalchemy.engine.Engine - INFO - [cached since 479.9s ago] ('RKLB',)
2026-02-07 00:47:09,482 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 00:47:09,482 - sqlalchemy.engine.Engine - INFO - [cached since 479.8s ago] ('RKLB',)
2026-02-07 00:47:09,485 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:47:09,485 - sqlalchemy.engine.Engine - INFO - [no key 0.00033s] ('315ffab6-714f-3efe-ab9f-4ba42f6c9d3a', 'RKLB', 'Rocket Lab Corporation (RKLB) Falls More Steeply Than Broader Market: What Investors Need to Know', 'Zacks', 'https://finance.yahoo.com/news/rocket-lab-corporation-rklb-falls-231503481.html', '2026-02-04 23:15:03.000000', None)
2026-02-07 00:47:09,486 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:47:09,486 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('7df33355-0a87-3b1e-8f3b-ed6951482c7e', 'RKLB', 'Rocket Lab Stock Tanks Again. The Mini SpaceX Is Having a Wild Ride.', 'Barrons.com', 'https://www.barrons.com/articles/rocket-lab-stock-spacex-mars-384a062d?siteid=yhoof2&yptr=yahoo', '2026-02-04 21:14:00.000000', None)
2026-02-07 00:47:09,487 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:47:09,487 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('76d81207-0350-369c-8f92-76fb4f9f5066', 'RKLB', 'How & Why SpaceX is Moving the AI Data Center Race to Space', 'Zacks', 'https://finance.yahoo.com/news/why-spacex-moving-ai-data-184100765.html', '2026-02-03 18:41:00.000000', None)
2026-02-07 00:47:09,488 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:47:09,488 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('be0b2201-588d-3b1f-b314-9d16274fb7fa', 'RKLB', 'Rocket Lab Balances Rapid Electron Launches With Neutron Program Setbacks', 'Simply Wall St.', 'https://finance.yahoo.com/news/rocket-lab-balances-rapid-electron-112301299.html', '2026-02-03 11:23:01.000000', None)
2026-02-07 00:47:09,489 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:47:09,489 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('5aeb5e78-794b-3aaa-b277-c15863b8198d', 'RKLB', '3 Reasons to Avoid RKLB and 1 Stock to Buy Instead', 'StockStory', 'https://finance.yahoo.com/news/3-reasons-avoid-rklb-1-040427868.html', '2026-02-03 04:04:27.000000', None)
2026-02-07 00:47:09,489 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:47:09,490 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('edfb9cfe-2eba-3234-9efa-82b99a80c85e', 'RKLB', "Space Stock Sinks After Congress Won't Fund Mars Mission In 2031", "Investor's Business Daily", 'https://www.investors.com/news/rocket-lab-stock-congress-mars-mission-rover/?src=A00220&yptr=yahoo', '2026-02-02 21:34:25.000000', None)
2026-02-07 00:47:09,491 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:47:09,491 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ('9f6897dd-9e0b-3f74-801b-2891969c0b9c', 'RKLB', 'Rocket Lab Stock Falls. The Reason Is Odd.', 'Barrons.com', 'https://www.barrons.com/articles/rocket-lab-stock-falls-3a575366?siteid=yhoof2&yptr=yahoo', '2026-02-02 21:21:00.000000', None)
2026-02-07 00:47:09,492 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:47:09,492 - sqlalchemy.engine.Engine - INFO - [no key 0.00033s] ('e7272b06-3aaa-3375-a356-52f3b0fcacc1', 'RKLB', 'MarketBeat Week in Review  01/26 - 01/30', 'MarketBeat', 'https://finance.yahoo.com/news/marketbeat-week-review-01-26-120000487.html', '2026-01-31 12:00:00.000000', None)
2026-02-07 00:47:09,493 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:47:09,493 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('443f8a27-ea4f-3f4f-8a62-4b24413f6c01', 'RKLB', 'Rocket Lab Balances Defense Contract Wins With Neutron Reusability Push', 'Simply Wall St.', 'https://finance.yahoo.com/news/rocket-lab-balances-defense-contract-091427254.html', '2026-01-30 09:14:27.000000', None)
2026-02-07 00:47:09,494 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:47:09,494 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('8276a284-5a6f-3b2d-a4f2-d84df7b17b3f', 'RKLB', 'Rocket Lab Corporation (RKLB) Dips More Than Broader Market: What You Should Know', 'Zacks', 'https://finance.yahoo.com/news/rocket-lab-corporation-rklb-dips-231505921.html', '2026-01-29 23:15:05.000000', None)
2026-02-07 00:47:09,496 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-07 00:47:09,496 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (37775536128.0, -453.33334, -0.38, 'RKLB')
2026-02-07 00:47:09,497 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 00:47:09,497 - sqlalchemy.engine.Engine - INFO - [cached since 432.2s ago] (70.72, 6.634502, 30.899040400702773, 83.97100105285645, 70.69090049743653, 49.46022506713867, -0.3920082765463775, 2.713929072372478, -3.1059373489188555, 99.42224293122241, 83.97100105285645, 68.51975917449049, 7.926356724330357, 18.197574755623, 21.099514097543565, 12.393696071781868, 23072046.0, 0.4430218282331788, '2026-02-06 16:47:08.481233', 'RKLB')
2026-02-07 00:47:09,497 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 00:47:09,499 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:47:09,499 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:47:09,499 - sqlalchemy.engine.Engine - INFO - [cached since 479.8s ago] ('RKLB',)
2026-02-07 00:47:09,500 - api_logger - INFO - rid=/api/portfolio/RKLB/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1023.76ms
2026-02-07 00:47:09,500 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:47:09,511 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:47:09,512 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:47:09,512 - sqlalchemy.engine.Engine - INFO - [cached since 482.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:47:09,513 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 00:47:09,513 - sqlalchemy.engine.Engine - INFO - [cached since 482.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:47:09,514 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.68ms
2026-02-07 00:47:09,515 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:47:12,683 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:47:12,683 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:47:12,683 - sqlalchemy.engine.Engine - INFO - [cached since 485.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:47:12,685 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:47:12,685 - sqlalchemy.engine.Engine - INFO - [cached since 484.1s ago] ('RKLB',)
2026-02-07 00:47:12,686 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:47:12,686 - sqlalchemy.engine.Engine - INFO - [cached since 485.6s ago] ('RKLB', 5, 0)
2026-02-07 00:47:12,687 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 00:47:12,688 - sqlalchemy.engine.Engine - INFO - [cached since 482.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB')
2026-02-07 00:47:12,688 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 00:47:12,689 - sqlalchemy.engine.Engine - INFO - [cached since 485.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 00:47:21,393 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 00:47:21,399 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 00:47:21,399 - sqlalchemy.engine.Engine - INFO - [cached since 477.6s ago] ('a30d6949-b5b9-4a82-8355-b6bafb0dba93', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', '{"market_data": {"current_price": 70.72, "change_percent": 6.634502, "rsi_14": 30.899040400702773, "ma_20": 83.97100105285645, "ma_50": 70.6909004974 ... (188 characters truncated) ... , "atr_14": 7.926356724330357, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 0.0, "quantity": 0.0, "unrealized_pl": 0.0, "pl_percent": 0}}', '{\n    "sentiment_score": 35,\n    "summary_status": "",\n    "risk_level": "",\n    "technical_analysis": "70.7268.52-99.42RS ... (217 characters truncated) ... ceX",\n    "action_advice": "070.727099.4268.52"\n}', '35', '', '', '70.7268.52-99.42RSI(14)=30.9MACDATR=7.936.63%', "ZacksBarrons.comStockStory'3RKLB'NeutronSpaceX", '070.727099.4268.52', 'qwen-3-vl-thinking', '2026-02-06 16:47:21.398946')
2026-02-07 00:47:21,401 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 00:47:21,402 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:47:21,403 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 00:47:21,403 - sqlalchemy.engine.Engine - INFO - [cached since 477.6s ago] ('a30d6949-b5b9-4a82-8355-b6bafb0dba93',)
2026-02-07 00:47:21,405 - api_logger - INFO - rid=/api/analysis/RKLB method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8722.85ms
2026-02-07 00:47:21,409 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:47:21,416 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:47:21,417 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:47:21,417 - sqlalchemy.engine.Engine - INFO - [cached since 494.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:47:21,418 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 00:47:21,419 - sqlalchemy.engine.Engine - INFO - [cached since 494.3s ago] ('RKLB', 20, 0)
2026-02-07 00:47:21,420 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.82ms
2026-02-07 00:47:21,421 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:51:33,788 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 00:51:56,991 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 00:52:35,441 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 00:52:44,136 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 00:58:37,633 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 00:59:57,163 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:59:57,171 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:59:57,172 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:59:57,212 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:59:57,212 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('RKLB',)
2026-02-07 00:59:58,386 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 00:59:58,386 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('RKLB',)
2026-02-07 00:59:58,389 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:59:58,389 - sqlalchemy.engine.Engine - INFO - [no key 0.00030s] ('315ffab6-714f-3efe-ab9f-4ba42f6c9d3a', 'RKLB', 'Rocket Lab Corporation (RKLB) Falls More Steeply Than Broader Market: What Investors Need to Know', 'Zacks', 'https://finance.yahoo.com/news/rocket-lab-corporation-rklb-falls-231503481.html', '2026-02-04 23:15:03.000000', None)
2026-02-07 00:59:58,392 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:59:58,392 - sqlalchemy.engine.Engine - INFO - [no key 0.00034s] ('7df33355-0a87-3b1e-8f3b-ed6951482c7e', 'RKLB', 'Rocket Lab Stock Tanks Again. The Mini SpaceX Is Having a Wild Ride.', 'Barrons.com', 'https://www.barrons.com/articles/rocket-lab-stock-spacex-mars-384a062d?siteid=yhoof2&yptr=yahoo', '2026-02-04 21:14:00.000000', None)
2026-02-07 00:59:58,393 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:59:58,393 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('76d81207-0350-369c-8f92-76fb4f9f5066', 'RKLB', 'How & Why SpaceX is Moving the AI Data Center Race to Space', 'Zacks', 'https://finance.yahoo.com/news/why-spacex-moving-ai-data-184100765.html', '2026-02-03 18:41:00.000000', None)
2026-02-07 00:59:58,394 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:59:58,394 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('be0b2201-588d-3b1f-b314-9d16274fb7fa', 'RKLB', 'Rocket Lab Balances Rapid Electron Launches With Neutron Program Setbacks', 'Simply Wall St.', 'https://finance.yahoo.com/news/rocket-lab-balances-rapid-electron-112301299.html', '2026-02-03 11:23:01.000000', None)
2026-02-07 00:59:58,395 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:59:58,395 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('5aeb5e78-794b-3aaa-b277-c15863b8198d', 'RKLB', '3 Reasons to Avoid RKLB and 1 Stock to Buy Instead', 'StockStory', 'https://finance.yahoo.com/news/3-reasons-avoid-rklb-1-040427868.html', '2026-02-03 04:04:27.000000', None)
2026-02-07 00:59:58,395 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:59:58,396 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('edfb9cfe-2eba-3234-9efa-82b99a80c85e', 'RKLB', "Space Stock Sinks After Congress Won't Fund Mars Mission In 2031", "Investor's Business Daily", 'https://www.investors.com/news/rocket-lab-stock-congress-mars-mission-rover/?src=A00220&yptr=yahoo', '2026-02-02 21:34:25.000000', None)
2026-02-07 00:59:58,396 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:59:58,396 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('9f6897dd-9e0b-3f74-801b-2891969c0b9c', 'RKLB', 'Rocket Lab Stock Falls. The Reason Is Odd.', 'Barrons.com', 'https://www.barrons.com/articles/rocket-lab-stock-falls-3a575366?siteid=yhoof2&yptr=yahoo', '2026-02-02 21:21:00.000000', None)
2026-02-07 00:59:58,397 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:59:58,397 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('e7272b06-3aaa-3375-a356-52f3b0fcacc1', 'RKLB', 'MarketBeat Week in Review  01/26 - 01/30', 'MarketBeat', 'https://finance.yahoo.com/news/marketbeat-week-review-01-26-120000487.html', '2026-01-31 12:00:00.000000', None)
2026-02-07 00:59:58,398 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:59:58,398 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('443f8a27-ea4f-3f4f-8a62-4b24413f6c01', 'RKLB', 'Rocket Lab Balances Defense Contract Wins With Neutron Reusability Push', 'Simply Wall St.', 'https://finance.yahoo.com/news/rocket-lab-balances-defense-contract-091427254.html', '2026-01-30 09:14:27.000000', None)
2026-02-07 00:59:58,399 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 00:59:58,399 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('8276a284-5a6f-3b2d-a4f2-d84df7b17b3f', 'RKLB', 'Rocket Lab Corporation (RKLB) Dips More Than Broader Market: What You Should Know', 'Zacks', 'https://finance.yahoo.com/news/rocket-lab-corporation-rklb-dips-231505921.html', '2026-01-29 23:15:05.000000', None)
2026-02-07 00:59:58,400 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-07 00:59:58,400 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (37260070912.0, -447.1474, 'RKLB')
2026-02-07 00:59:58,402 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 00:59:58,402 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (69.755, 5.1790385, 29.8939363761597, 83.92300109863281, 70.67170051574708, 49.455425071716306, -0.4685894000940465, 2.698612847662944, -3.1672022477569906, 99.55250472928303, 83.92300109863281, 68.29349746798259, 16.89676331078971, 20.665910282599135, 9.358469367170855, 23101776.3, 0.4681902317615291, '2026-02-06 16:59:57.213976', 'RKLB')
2026-02-07 00:59:58,402 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 00:59:58,404 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:59:58,405 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 00:59:58,405 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('RKLB',)
2026-02-07 00:59:58,406 - api_logger - INFO - rid=/api/portfolio/RKLB/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1255.05ms
2026-02-07 00:59:58,406 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 00:59:58,422 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 00:59:58,422 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 00:59:58,422 - sqlalchemy.engine.Engine - INFO - [cached since 1.251s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:59:58,425 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 00:59:58,425 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 00:59:58,428 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.32ms
2026-02-07 00:59:58,429 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 01:00:01,008 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:00:01,009 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 01:00:01,009 - sqlalchemy.engine.Engine - INFO - [cached since 3.838s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:00:01,011 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 01:00:01,011 - sqlalchemy.engine.Engine - INFO - [cached since 2.626s ago] ('RKLB',)
2026-02-07 01:00:01,013 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 01:00:01,013 - sqlalchemy.engine.Engine - INFO - [cached since 3.801s ago] ('RKLB',)
2026-02-07 01:00:01,016 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 01:00:01,016 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('RKLB', 5, 0)
2026-02-07 01:00:01,018 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 01:00:01,018 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB')
2026-02-07 01:00:01,020 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 01:00:01,020 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 01:00:01,021 - app.api.v1.endpoints.analysis - INFO - Returning latest report for RKLB (model: qwen-3-vl-thinking)
2026-02-07 01:00:01,021 - api_logger - INFO - rid=/api/analysis/RKLB method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=17.66ms
2026-02-07 01:00:01,022 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 01:00:01,029 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:00:01,029 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 01:00:01,029 - sqlalchemy.engine.Engine - INFO - [cached since 3.858s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:00:01,030 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 01:00:01,030 - sqlalchemy.engine.Engine - INFO - [cached since 0.01448s ago] ('RKLB', 20, 0)
2026-02-07 01:00:01,031 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.53ms
2026-02-07 01:00:01,031 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 01:00:16,387 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:00:16,387 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 01:00:16,387 - sqlalchemy.engine.Engine - INFO - [cached since 19.22s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:00:16,392 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 01:00:16,393 - sqlalchemy.engine.Engine - INFO - [cached since 17.97s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:00:16,394 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:00:16,395 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 01:00:16,395 - sqlalchemy.engine.Engine - INFO - [cached since 19.22s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:00:16,405 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 01:00:16,405 - sqlalchemy.engine.Engine - INFO - [cached since 15.39s ago] ('RKLB', 20, 0)
2026-02-07 01:00:16,405 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=19.34ms
2026-02-07 01:00:16,407 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 01:00:16,408 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:00:16,408 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 01:00:16,408 - sqlalchemy.engine.Engine - INFO - [cached since 19.24s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:00:16,413 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=25.70ms
2026-02-07 01:00:16,414 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 01:00:16,415 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 01:00:16,415 - sqlalchemy.engine.Engine - INFO - [cached since 15.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 01:00:16,416 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.33ms
2026-02-07 01:00:16,416 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 01:00:18,100 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:00:18,101 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 01:00:18,101 - sqlalchemy.engine.Engine - INFO - [cached since 20.93s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:00:18,102 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 01:00:18,102 - sqlalchemy.engine.Engine - INFO - [cached since 19.72s ago] ('RKLB',)
2026-02-07 01:00:18,104 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 01:00:18,104 - sqlalchemy.engine.Engine - INFO - [cached since 20.89s ago] ('RKLB',)
2026-02-07 01:00:18,105 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 01:00:18,105 - sqlalchemy.engine.Engine - INFO - [cached since 17.09s ago] ('RKLB', 5, 0)
2026-02-07 01:00:18,106 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 01:00:18,106 - sqlalchemy.engine.Engine - INFO - [cached since 17.09s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB')
2026-02-07 01:00:18,107 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 01:00:18,107 - sqlalchemy.engine.Engine - INFO - [cached since 17.09s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 01:00:18,107 - app.api.v1.endpoints.analysis - INFO - Returning latest report for RKLB (model: qwen-3-vl-thinking)
2026-02-07 01:00:18,108 - api_logger - INFO - rid=/api/analysis/RKLB method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.54ms
2026-02-07 01:00:18,108 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 01:00:18,114 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:00:18,114 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 01:00:18,114 - sqlalchemy.engine.Engine - INFO - [cached since 20.94s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:00:18,115 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 01:00:18,115 - sqlalchemy.engine.Engine - INFO - [cached since 17.1s ago] ('RKLB', 20, 0)
2026-02-07 01:00:18,117 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.97ms
2026-02-07 01:00:18,117 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 01:01:30,900 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:01:30,901 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 01:01:30,901 - sqlalchemy.engine.Engine - INFO - [cached since 93.73s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:01:30,901 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:01:30,901 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 01:01:30,901 - sqlalchemy.engine.Engine - INFO - [cached since 93.73s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:01:30,901 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:01:30,901 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 01:01:30,901 - sqlalchemy.engine.Engine - INFO - [cached since 93.73s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:01:30,902 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 01:01:30,902 - sqlalchemy.engine.Engine - INFO - [cached since 89.89s ago] ('RKLB', 20, 0)
2026-02-07 01:01:30,902 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 01:01:30,902 - sqlalchemy.engine.Engine - INFO - [cached since 89.88s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 01:01:30,902 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 01:01:30,902 - sqlalchemy.engine.Engine - INFO - [cached since 92.48s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:01:30,903 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.25ms
2026-02-07 01:01:30,903 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 01:01:30,904 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.17ms
2026-02-07 01:01:30,906 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 01:01:30,907 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.72ms
2026-02-07 01:01:30,909 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 01:01:32,802 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:01:32,802 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 01:01:32,802 - sqlalchemy.engine.Engine - INFO - [cached since 95.63s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:01:32,803 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:01:32,803 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 01:01:32,803 - sqlalchemy.engine.Engine - INFO - [cached since 95.63s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:01:32,804 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 01:01:32,804 - sqlalchemy.engine.Engine - INFO - [cached since 91.79s ago] ('ASTS', 20, 0)
2026-02-07 01:01:32,805 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 01:01:32,805 - sqlalchemy.engine.Engine - INFO - [cached since 91.78s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 01:01:32,806 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.15ms
2026-02-07 01:01:32,807 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 01:01:32,807 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.61ms
2026-02-07 01:01:32,808 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 01:01:32,847 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:01:32,847 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 01:01:32,847 - sqlalchemy.engine.Engine - INFO - [cached since 95.68s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:01:32,847 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:01:32,847 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 01:01:32,847 - sqlalchemy.engine.Engine - INFO - [cached since 95.68s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:01:32,848 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 01:01:32,848 - sqlalchemy.engine.Engine - INFO - [cached since 91.83s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 01:01:32,848 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 01:01:32,848 - sqlalchemy.engine.Engine - INFO - [cached since 91.83s ago] ('RKLB', 20, 0)
2026-02-07 01:01:32,849 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.86ms
2026-02-07 01:01:32,849 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.39ms
2026-02-07 01:01:32,850 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 01:01:32,850 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 01:01:32,905 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:01:32,905 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 01:01:32,905 - sqlalchemy.engine.Engine - INFO - [cached since 95.73s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:01:32,907 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:01:32,907 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 01:01:32,907 - sqlalchemy.engine.Engine - INFO - [cached since 95.74s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:01:32,909 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 01:01:32,909 - sqlalchemy.engine.Engine - INFO - [cached since 91.89s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 01:01:32,910 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 01:01:32,910 - sqlalchemy.engine.Engine - INFO - [cached since 91.89s ago] ('ASTS', 20, 0)
2026-02-07 01:01:32,912 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.91ms
2026-02-07 01:01:32,913 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 01:01:32,914 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.84ms
2026-02-07 01:01:32,915 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 01:01:34,002 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:01:34,002 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 01:01:34,002 - sqlalchemy.engine.Engine - INFO - [cached since 96.83s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:01:34,003 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 01:01:34,003 - sqlalchemy.engine.Engine - INFO - [cached since 96.79s ago] ('ASTS',)
2026-02-07 01:01:34,793 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 01:01:34,793 - sqlalchemy.engine.Engine - INFO - [cached since 96.41s ago] ('ASTS',)
2026-02-07 01:01:34,795 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 01:01:34,795 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ('6a3dbf89-e5ad-3f28-9c41-1f7d44644850', 'ASTS', 'Is AST SpaceMobile (ASTS) Still Attractive After Volatile Share Price Swings?', 'Simply Wall St.', 'https://finance.yahoo.com/news/ast-spacemobile-asts-still-attractive-160625173.html', '2026-02-06 16:06:25.000000', None)
2026-02-07 01:01:34,797 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 01:01:34,797 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('be994bdb-8851-31f9-a304-56684769d48e', 'ASTS', 'Better Space Stock: Rocket Lab vs. AST SpaceMobile', 'Motley Fool', 'https://finance.yahoo.com/news/better-space-stock-rocket-lab-125000835.html', '2026-02-06 12:50:00.000000', None)
2026-02-07 01:01:34,798 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 01:01:34,798 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('8a49ffca-7355-36c3-a12d-7696d6ebc0c5', 'ASTS', 'AST\xa0SpaceMobile, Inc. (ASTS): A\xa0Bull\xa0Case Theory', 'Insider Monkey', 'https://finance.yahoo.com/news/ast-spacemobile-inc-asts-bull-023719740.html', '2026-02-05 02:37:19.000000', None)
2026-02-07 01:01:34,799 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 01:01:34,799 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('4f34aa62-3fe7-3f96-85e8-7d55c6f5393d', 'ASTS', 'AT&T, Amazon Forge Cloud, Satellite Partnership. AST SpaceMobile Not Impacted, Says AT&T.', "Investor's Business Daily", 'https://www.investors.com/news/technology/att-amazon-forge-cloud-satellite-partnership-asts-gsat/?src=A00220&yptr=yahoo', '2026-02-04 22:36:48.000000', None)
2026-02-07 01:01:34,799 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 01:01:34,799 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('05654542-b483-3ae2-a498-16bc9d5e65fc', 'ASTS', 'AST SpaceMobile Enters Defense Work As BlueBird 7 Launch Nears', 'Simply Wall St.', 'https://finance.yahoo.com/news/ast-spacemobile-enters-defense-bluebird-201842829.html', '2026-02-04 20:18:42.000000', None)
2026-02-07 01:01:34,800 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 01:01:34,800 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('7aadef03-1b12-3f07-b81e-892b093ca74b', 'ASTS', 'AST SpaceMobile (ASTS) Climbs 10.7% as Elon Musk Bets on Space Sector to Boost AI', 'Insider Monkey', 'https://finance.yahoo.com/news/ast-spacemobile-asts-climbs-10-145233542.html', '2026-02-04 14:52:33.000000', None)
2026-02-07 01:01:34,800 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 01:01:34,801 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('02c66b20-e713-32f3-b7fa-219efb715de4', 'ASTS', "US space stocks rise after Musk's SpaceX merges with xAI at $1.25 trillion valuation", 'Reuters', 'https://finance.yahoo.com/news/us-space-stocks-rise-musks-111421530.html', '2026-02-03 11:14:21.000000', None)
2026-02-07 01:01:34,801 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 01:01:34,801 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('75e0f95b-dc3a-37ed-a263-afaae959670f', 'ASTS', 'AST SpaceMobile, Inc. (ASTS) Stock Slides as Market Rises: Facts to Know Before You Trade', 'Zacks', 'https://finance.yahoo.com/news/ast-spacemobile-inc-asts-stock-230003256.html', '2026-02-02 23:00:03.000000', None)
2026-02-07 01:01:34,802 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 01:01:34,802 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('cf099c2a-87c1-3c8f-896f-6db7e53feea5', 'ASTS', 'Why AST SpaceMobile Stock Jumped 53% in January', 'Motley Fool', 'https://finance.yahoo.com/news/why-ast-spacemobile-stock-jumped-225216538.html', '2026-02-02 22:52:16.000000', None)
2026-02-07 01:01:34,802 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 01:01:34,802 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('0d0fd9d9-9d63-3731-9685-22581d85f60e', 'ASTS', 'Assessing AST SpaceMobile (ASTS) Valuation After BlueBird 7 Launch Confirmation And SHIELD Contract Win', 'Simply Wall St.', 'https://finance.yahoo.com/news/assessing-ast-spacemobile-asts-valuation-231603546.html', '2026-01-28 23:16:03.000000', None)
2026-02-07 01:01:34,803 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-07 01:01:34,803 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (37056098304.0, -99.27165, -1.14, 'ASTS')
2026-02-07 01:01:34,804 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 01:01:34,804 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (100.86, 8.137669, 43.395058177596106, 106.77449989318848, 86.72959976196289, 58.49232478141785, 4.872318773924505, 7.622153545939283, -2.749834772014778, 125.00416541157631, 106.77449989318848, 88.54483437480064, 12.884072440011161, 26.73611429090419, 39.25729355528382, 1.6937557621449173, 16737230.85, 0.49585364953008343, '2026-02-06 17:01:34.004954', 'ASTS')
2026-02-07 01:01:34,805 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 01:01:34,806 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:01:34,806 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 01:01:34,806 - sqlalchemy.engine.Engine - INFO - [cached since 96.4s ago] ('ASTS',)
2026-02-07 01:01:34,807 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=806.45ms
2026-02-07 01:01:34,807 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 01:01:34,817 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:01:34,817 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 01:01:34,817 - sqlalchemy.engine.Engine - INFO - [cached since 97.65s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:01:34,818 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 01:01:34,818 - sqlalchemy.engine.Engine - INFO - [cached since 96.39s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:01:34,820 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.23ms
2026-02-07 01:01:34,820 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 01:01:36,434 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:01:36,434 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 01:01:36,434 - sqlalchemy.engine.Engine - INFO - [cached since 99.26s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:01:36,436 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 01:01:36,436 - sqlalchemy.engine.Engine - INFO - [cached since 98.05s ago] ('ASTS',)
2026-02-07 01:01:36,437 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 01:01:36,437 - sqlalchemy.engine.Engine - INFO - [cached since 99.22s ago] ('ASTS',)
2026-02-07 01:01:36,438 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 01:01:36,438 - sqlalchemy.engine.Engine - INFO - [cached since 95.42s ago] ('ASTS', 5, 0)
2026-02-07 01:01:36,439 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 01:01:36,439 - sqlalchemy.engine.Engine - INFO - [cached since 95.42s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS')
2026-02-07 01:01:36,439 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 01:01:36,440 - sqlalchemy.engine.Engine - INFO - [cached since 95.42s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 01:01:36,445 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR ASTS ---

         [ASTS] 
        
        **1.  (Fundamental Context)**:
        - /: Technology / Communication Equipment
        - : 37056098304.0
        - PE (TTM): None | Forward PE: -99.27165
        - 52: [18.22, 129.89]
        - Beta: 2.708
        
        **2.  (Portfolio Context)**:
        - : $0.0
        - : 0.0
        - : $0.0 (0%)
        
        **3.  (Technical Data)**:
        - : $100.86
        - : 8.137669%
        - RSI (14): 43.395058177596106
        - MACD: 4.872318773924505 (: -2.749834772014778)
        - : [88.54483437480064, 125.00416541157631]
        - MA : [20: 106.77449989318848, 50: 86.72959976196289, 200: 58.49232478141785]
        - KDJ (K): 26.73611429090419 | ATR: 12.884072440011161
        
        **4.  (Recent News)**:
        [{'title': 'Is AST SpaceMobile (ASTS) Still Attractive After Volatile Share Price Swings?', 'publisher': 'Simply Wall St.', 'time': '2026-02-06T16:06:25'}, {'title': 'Better Space Stock: Rocket Lab vs. AST SpaceMobile', 'publisher': 'Motley Fool', 'time': '2026-02-06T12:50:00'}, {'title': 'AST\xa0SpaceMobile, Inc. (ASTS): A\xa0Bull\xa0Case Theory', 'publisher': 'Insider Monkey', 'time': '2026-02-05T02:37:19'}, {'title': 'AT&T, Amazon Forge Cloud, Satellite Partnership. AST SpaceMobile Not Impacted, Says AT&T.', 'publisher': "Investor's Business Daily", 'time': '2026-02-04T22:36:48'}, {'title': 'AST SpaceMobile Enters Defense Work As BlueBird 7 Launch Nears', 'publisher': 'Simply Wall St.', 'time': '2026-02-04T20:18:42'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (86.72959976196289)  (88.54483437480064)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (), 
            "summary_status": "4-6",
            "risk_level": "//",
            "technical_analysis": " RSI=43.395058177596106, MACD=4.872318773924505 ",
            "fundamental_news": " PE=None /",
            "action_advice": " MA50  BB_Lower"
        }
        
--------------------------------------
2026-02-07 01:01:48,658 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 01:01:48,664 - app.api.v1.endpoints.analysis - INFO - AI Response for ASTS: {
    "sentiment_score": 75,
    "summary_status": "",
    "risk_level": "",
    "technical_analysis": "$100.86125.0041653.8%RSI=43.395058MACD=4.872318-2.749834...
2026-02-07 01:01:48,666 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 01:01:48,666 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('998b9128-bafc-4728-b181-3762b701a9db', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', '{"market_data": {"current_price": 100.86, "change_percent": 8.137669, "rsi_14": 43.395058177596106, "ma_20": 106.77449989318848, "ma_50": 86.72959976 ... (191 characters truncated) ...  "atr_14": 12.884072440011161, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 0.0, "quantity": 0.0, "unrealized_pl": 0.0, "pl_percent": 0}}', '{\n    "sentiment_score": 75,\n    "summary_status": "",\n    "risk_level": "",\n    "technical_analysis": "$100.86125.0041653.8 ... (440 characters truncated) ... 88.544834MA5086.7295992%84.99MA20058.492325125.00416530%100.71RSI43.395058"\n}', '75', '', '', '$100.86125.0041653.8%RSI=43.395058MACD=4.872318-2.749834MA5086.72959988.54483420106.7745ATR=12.884072125.004165', 'PE(TTM)NoneForward PE=-99.2716552[18.22,129.89]AT&TASTSBlueBird 7', '88.544834MA5086.72959988.544834MA5086.7295992%84.99MA20058.492325125.00416530%100.71RSI43.395058', 'qwen-3-vl-thinking', '2026-02-06 17:01:48.666576')
2026-02-07 01:01:48,668 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 01:01:48,670 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:01:48,671 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 01:01:48,671 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('998b9128-bafc-4728-b181-3762b701a9db',)
2026-02-07 01:01:48,672 - api_logger - INFO - rid=/api/analysis/ASTS method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12240.11ms
2026-02-07 01:01:48,673 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 01:01:48,685 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 01:01:48,686 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 01:01:48,686 - sqlalchemy.engine.Engine - INFO - [cached since 111.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 01:01:48,689 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 01:01:48,690 - sqlalchemy.engine.Engine - INFO - [cached since 107.7s ago] ('ASTS', 20, 0)
2026-02-07 01:01:48,691 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.91ms
2026-02-07 01:01:48,692 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 10:21:17,741 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 10:21:17,742 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 10:21:17,743 - sqlalchemy.engine.Engine - INFO - [cached since 7490s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 10:21:17,744 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 10:21:17,744 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 10:21:17,744 - sqlalchemy.engine.Engine - INFO - [cached since 7490s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 10:21:17,744 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 10:21:17,744 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 10:21:17,744 - sqlalchemy.engine.Engine - INFO - [cached since 7490s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 10:21:17,752 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 10:21:17,752 - sqlalchemy.engine.Engine - INFO - [cached since 7487s ago] ('ASTS', 20, 0)
2026-02-07 10:21:17,753 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 10:21:17,753 - sqlalchemy.engine.Engine - INFO - [cached since 7489s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 10:21:17,754 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 10:21:17,754 - sqlalchemy.engine.Engine - INFO - [cached since 7487s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 10:21:17,759 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=15.69ms
2026-02-07 10:21:17,759 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=28.84ms
2026-02-07 10:21:17,760 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 10:21:17,760 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 10:21:17,762 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=18.72ms
2026-02-07 10:21:17,762 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 10:22:50,519 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 10:22:50,519 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 10:22:50,519 - sqlalchemy.engine.Engine - INFO - [cached since 7583s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 10:22:50,521 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 10:22:50,521 - sqlalchemy.engine.Engine - INFO - [cached since 7583s ago] ('ASTS',)
2026-02-07 10:22:51,485 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 10:22:51,485 - sqlalchemy.engine.Engine - INFO - [cached since 7583s ago] ('ASTS',)
2026-02-07 10:22:51,488 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 10:22:51,488 - sqlalchemy.engine.Engine - INFO - [no key 0.00037s] ('6a3dbf89-e5ad-3f28-9c41-1f7d44644850', 'ASTS', 'Is AST SpaceMobile (ASTS) Still Attractive After Volatile Share Price Swings?', 'Simply Wall St.', 'https://finance.yahoo.com/news/ast-spacemobile-asts-still-attractive-160625173.html', '2026-02-06 16:06:25.000000', None)
2026-02-07 10:22:51,489 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 10:22:51,489 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('be994bdb-8851-31f9-a304-56684769d48e', 'ASTS', 'Better Space Stock: Rocket Lab vs. AST SpaceMobile', 'Motley Fool', 'https://finance.yahoo.com/news/better-space-stock-rocket-lab-125000835.html', '2026-02-06 12:50:00.000000', None)
2026-02-07 10:22:51,490 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 10:22:51,490 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('8a49ffca-7355-36c3-a12d-7696d6ebc0c5', 'ASTS', 'AST\xa0SpaceMobile, Inc. (ASTS): A\xa0Bull\xa0Case Theory', 'Insider Monkey', 'https://finance.yahoo.com/news/ast-spacemobile-inc-asts-bull-023719740.html', '2026-02-05 02:37:19.000000', None)
2026-02-07 10:22:51,491 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 10:22:51,491 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('4f34aa62-3fe7-3f96-85e8-7d55c6f5393d', 'ASTS', 'AT&T, Amazon Forge Cloud, Satellite Partnership. AST SpaceMobile Not Impacted, Says AT&T.', "Investor's Business Daily", 'https://www.investors.com/news/technology/att-amazon-forge-cloud-satellite-partnership-asts-gsat/?src=A00220&yptr=yahoo', '2026-02-04 22:36:48.000000', None)
2026-02-07 10:22:51,492 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 10:22:51,492 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('05654542-b483-3ae2-a498-16bc9d5e65fc', 'ASTS', 'AST SpaceMobile Enters Defense Work As BlueBird 7 Launch Nears', 'Simply Wall St.', 'https://finance.yahoo.com/news/ast-spacemobile-enters-defense-bluebird-201842829.html', '2026-02-04 20:18:42.000000', None)
2026-02-07 10:22:51,492 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 10:22:51,492 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('7aadef03-1b12-3f07-b81e-892b093ca74b', 'ASTS', 'AST SpaceMobile (ASTS) Climbs 10.7% as Elon Musk Bets on Space Sector to Boost AI', 'Insider Monkey', 'https://finance.yahoo.com/news/ast-spacemobile-asts-climbs-10-145233542.html', '2026-02-04 14:52:33.000000', None)
2026-02-07 10:22:51,493 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 10:22:51,493 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('02c66b20-e713-32f3-b7fa-219efb715de4', 'ASTS', "US space stocks rise after Musk's SpaceX merges with xAI at $1.25 trillion valuation", 'Reuters', 'https://finance.yahoo.com/news/us-space-stocks-rise-musks-111421530.html', '2026-02-03 11:14:21.000000', None)
2026-02-07 10:22:51,494 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 10:22:51,494 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('75e0f95b-dc3a-37ed-a263-afaae959670f', 'ASTS', 'AST SpaceMobile, Inc. (ASTS) Stock Slides as Market Rises: Facts to Know Before You Trade', 'Zacks', 'https://finance.yahoo.com/news/ast-spacemobile-inc-asts-stock-230003256.html', '2026-02-02 23:00:03.000000', None)
2026-02-07 10:22:51,494 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 10:22:51,494 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('cf099c2a-87c1-3c8f-896f-6db7e53feea5', 'ASTS', 'Why AST SpaceMobile Stock Jumped 53% in January', 'Motley Fool', 'https://finance.yahoo.com/news/why-ast-spacemobile-stock-jumped-225216538.html', '2026-02-02 22:52:16.000000', None)
2026-02-07 10:22:51,495 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 10:22:51,495 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('0d0fd9d9-9d63-3731-9685-22581d85f60e', 'ASTS', 'Assessing AST SpaceMobile (ASTS) Valuation After BlueBird 7 Launch Confirmation And SHIELD Contract Win', 'Simply Wall St.', 'https://finance.yahoo.com/news/assessing-ast-spacemobile-asts-valuation-231603546.html', '2026-01-28 23:16:03.000000', None)
2026-02-07 10:22:51,497 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-07 10:22:51,497 - sqlalchemy.engine.Engine - INFO - [cached since 7486s ago] (37397778432.0, -100.187004, -1.24, 'ASTS')
2026-02-07 10:22:51,498 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 10:22:51,498 - sqlalchemy.engine.Engine - INFO - [cached since 7486s ago] (101.79, 9.13477, 43.857647033110894, 106.82099990844726, 86.7481997680664, 58.496974782943724, 4.946506832457061, 7.636991157645794, -2.6904843251887334, 124.99179215486446, 106.82099990844726, 88.65020766203007, 13.072643824986049, 27.540473643164518, 39.5254133393706, 3.5705942507523503, 17118631.45, 0.9202329664033979, '2026-02-07 02:22:50.522851', 'ASTS')
2026-02-07 10:22:51,498 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 10:22:51,500 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 10:22:51,500 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 10:22:51,500 - sqlalchemy.engine.Engine - INFO - [cached since 7583s ago] ('ASTS',)
2026-02-07 10:22:51,501 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=984.14ms
2026-02-07 10:22:51,501 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 10:22:51,510 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 10:22:51,510 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 10:22:51,510 - sqlalchemy.engine.Engine - INFO - [cached since 7584s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 10:22:51,511 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 10:22:51,511 - sqlalchemy.engine.Engine - INFO - [cached since 7583s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 10:22:51,513 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.10ms
2026-02-07 10:22:51,514 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:42:33,275 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 11:42:49,832 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 11:44:07,993 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:44:08,051 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:44:08,051 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:44:08,051 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:44:08,051 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:44:08,051 - sqlalchemy.engine.Engine - INFO - [cached since 0.0006884s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:44:08,051 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:44:08,052 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:44:08,052 - sqlalchemy.engine.Engine - INFO - [cached since 0.001066s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:44:08,053 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:44:08,053 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:44:08,055 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 11:44:08,055 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:44:08,056 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:44:08,056 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('ASTS', 20, 0)
2026-02-07 11:44:08,057 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=78.39ms
2026-02-07 11:44:08,057 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:44:08,059 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=68.71ms
2026-02-07 11:44:08,060 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:44:08,060 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=69.29ms
2026-02-07 11:44:08,060 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:44:47,620 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:44:47,621 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:44:47,621 - sqlalchemy.engine.Engine - INFO - [cached since 39.57s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:44:47,623 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:44:47,623 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:44:47,623 - sqlalchemy.engine.Engine - INFO - [cached since 39.57s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:44:47,626 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:44:47,626 - sqlalchemy.engine.Engine - INFO - [cached since 39.57s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:44:47,627 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:44:47,627 - sqlalchemy.engine.Engine - INFO - [cached since 39.57s ago] ('AMD', 20, 0)
2026-02-07 11:44:47,630 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.43ms
2026-02-07 11:44:47,630 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:44:47,633 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.13ms
2026-02-07 11:44:47,634 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:44:47,676 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:44:47,677 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:44:47,677 - sqlalchemy.engine.Engine - INFO - [cached since 39.63s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:44:47,677 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:44:47,678 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:44:47,678 - sqlalchemy.engine.Engine - INFO - [cached since 39.63s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:44:47,679 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:44:47,679 - sqlalchemy.engine.Engine - INFO - [cached since 39.62s ago] ('ASTS', 20, 0)
2026-02-07 11:44:47,679 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:44:47,679 - sqlalchemy.engine.Engine - INFO - [cached since 39.63s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:44:47,680 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.63ms
2026-02-07 11:44:47,681 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.61ms
2026-02-07 11:44:47,681 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:44:47,681 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:44:47,739 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:44:47,740 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:44:47,740 - sqlalchemy.engine.Engine - INFO - [cached since 39.69s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:44:47,741 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:44:47,741 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:44:47,742 - sqlalchemy.engine.Engine - INFO - [cached since 39.69s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:44:47,742 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:44:47,742 - sqlalchemy.engine.Engine - INFO - [cached since 39.69s ago] ('AMD', 20, 0)
2026-02-07 11:44:47,743 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:44:47,743 - sqlalchemy.engine.Engine - INFO - [cached since 39.69s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:44:47,744 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.65ms
2026-02-07 11:44:47,744 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.31ms
2026-02-07 11:44:47,744 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:44:47,745 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:44:50,289 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:44:50,290 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:44:50,290 - sqlalchemy.engine.Engine - INFO - [cached since 42.24s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:44:50,292 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 11:44:50,292 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('AMD',)
2026-02-07 11:44:51,473 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 11:44:51,473 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('AMD',)
2026-02-07 11:44:51,476 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:44:51,476 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ('19cd1080-a43d-4393-8ed1-77d2b30d3322', 'AMD', 'Earnings live: Amazon, Reddit stocks sink to cap jam-packed earnings week', 'Yahoo Finance', 'https://finance.yahoo.com/news/live/earnings-live-amazon-reddit-stocks-sink-to-cap-jam-packed-earnings-week-213155571.html', '2026-02-06 21:31:55.000000', None)
2026-02-07 11:44:51,478 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:44:51,478 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ('9b76185f-6c61-3f97-8df4-6e567dfe33ee', 'AMD', 'Wealthy Families Are Worried About Geopolitics. But Theyre Not Rushing to AI, Crypto, or Gold', 'Barrons.com', 'https://www.barrons.com/articles/wealthy-families-are-worried-about-geopolitics-but-they-arent-rushing-to-ai-crypto-or-gold-62ce6f59?siteid=yhoof2&yptr=yahoo', '2026-02-07 02:46:00.000000', None)
2026-02-07 11:44:51,480 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:44:51,480 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('75b27b05-5116-3a18-b07c-48ec76f249ae', 'AMD', 'Dow closes above 50,000, Nvidia soars as traders focus on AI spending', 'Reuters Videos', 'https://finance.yahoo.com/video/dow-closes-above-50-000-235453952.html', '2026-02-06 23:54:53.000000', None)
2026-02-07 11:44:51,481 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:44:51,481 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('d5f6d70b-adbf-3412-b185-ebea8f943d91', 'AMD', 'Stock Market Today: Dow Closes Above 50,000 As Nvidia Lands Atop Blue Chips (Live Coverage)', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-sp500-nasdaq-bitcoin-price-amazon-stock-amzn/?src=A00220&yptr=yahoo', '2026-02-06 22:49:24.000000', None)
2026-02-07 11:44:51,481 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:44:51,482 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('e608d768-a741-31f4-bef4-23f3eb8b7c5c', 'AMD', 'Top Analyst Reports for AMD, Constellation Energy & Freeport-McMoRan', 'Zacks', 'https://finance.yahoo.com/news/top-analyst-reports-amd-constellation-220900607.html', '2026-02-06 22:09:00.000000', None)
2026-02-07 11:44:51,482 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:44:51,482 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('2004fd3c-71c1-33d9-a88a-cfbd9adb2167', 'AMD', 'Technology Joins Value-Style Investing to Lift US Equity Indexes', 'MT Newswires', 'https://finance.yahoo.com/news/technology-joins-value-style-investing-214713127.html', '2026-02-06 21:47:13.000000', None)
2026-02-07 11:44:51,483 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:44:51,483 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('9e3bdcb8-bbba-3f96-923f-8c6e2100af7a', 'AMD', 'US Equity Markets Rise Amid Gains in Semiconductor, Cyclical Stocks', 'MT Newswires', 'https://finance.yahoo.com/news/us-equity-markets-rise-amid-211351258.html', '2026-02-06 21:13:51.000000', None)
2026-02-07 11:44:51,484 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:44:51,484 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('da3245ba-9015-31b0-a441-d953bc51dce7', 'AMD', 'Top Funds Like Google  But Go Bonkers For These Three Stocks', "Investor's Business Daily", 'https://www.investors.com/etfs-and-funds/mutual-funds/best-mutual-funds-bet-big-on-asml-santander-aar-corp-google-stock-and-more/?src=A00220&yptr=yahoo', '2026-02-06 21:00:24.000000', None)
2026-02-07 11:44:51,485 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:44:51,485 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('7b36b1a9-81a7-38ba-bdcc-e53cd0b232ea', 'AMD', "Chip Stocks Soar as Nvidia CEO Huang Says Demand Is 'Through the Roof'", 'Investopedia', 'https://finance.yahoo.com/news/chip-stocks-soar-nvidia-ceo-204556636.html', '2026-02-06 20:45:56.000000', None)
2026-02-07 11:44:51,485 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:44:51,485 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('4b7cb33d-21a7-31b2-b615-f4877eda7855', 'AMD', 'Technology Boosts US Equity Indexes After Midday', 'MT Newswires', 'https://finance.yahoo.com/news/technology-boosts-us-equity-indexes-185041376.html', '2026-02-06 18:50:41.000000', None)
2026-02-07 11:44:51,488 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-07 11:44:51,489 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] (339842859008.0, 79.862076, 19.75128, 2.61, 'AMD')
2026-02-07 11:44:51,490 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 11:44:51,490 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (208.44, 8.28052, 41.20081406219307, 232.2404998779297, 221.47119964599608, 179.0355497741699, -1.5071532672716899, 4.200374523885235, -5.707527791156925, 273.9209375416838, 232.2404998779297, 190.56006221417556, 15.913566589355469, 21.321439771251057, 31.734907205237473, 0.4945049032782265, 45358370.0, 1.198903311560799, '2026-02-07 03:44:50.293215', 'AMD')
2026-02-07 11:44:51,491 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 11:44:51,492 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:44:51,493 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 11:44:51,493 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('AMD',)
2026-02-07 11:44:51,494 - api_logger - INFO - rid=/api/portfolio/AMD/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1207.02ms
2026-02-07 11:44:51,494 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:44:51,502 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:44:51,502 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:44:51,502 - sqlalchemy.engine.Engine - INFO - [cached since 43.45s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:44:51,503 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 11:44:51,503 - sqlalchemy.engine.Engine - INFO - [cached since 43.45s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:44:51,505 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.28ms
2026-02-07 11:44:51,506 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:44:52,491 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:44:52,491 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:44:52,491 - sqlalchemy.engine.Engine - INFO - [cached since 44.44s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:44:52,493 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 11:44:52,493 - sqlalchemy.engine.Engine - INFO - [cached since 1.02s ago] ('AMD',)
2026-02-07 11:44:52,494 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 11:44:52,494 - sqlalchemy.engine.Engine - INFO - [cached since 2.202s ago] ('AMD',)
2026-02-07 11:44:52,495 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:44:52,495 - sqlalchemy.engine.Engine - INFO - [cached since 44.44s ago] ('AMD', 5, 0)
2026-02-07 11:44:52,496 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 11:44:52,496 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD')
2026-02-07 11:44:52,497 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:44:52,497 - sqlalchemy.engine.Engine - INFO - [cached since 44.44s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:44:52,498 - app.api.v1.endpoints.analysis - INFO - Returning latest report for AMD (model: qwen-3-vl-thinking)
2026-02-07 11:44:52,498 - api_logger - INFO - rid=/api/analysis/AMD method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.57ms
2026-02-07 11:44:52,499 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:44:52,503 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:44:52,503 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:44:52,503 - sqlalchemy.engine.Engine - INFO - [cached since 44.45s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:44:52,504 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:44:52,504 - sqlalchemy.engine.Engine - INFO - [cached since 44.45s ago] ('AMD', 20, 0)
2026-02-07 11:44:52,506 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.27ms
2026-02-07 11:44:52,507 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:44:58,479 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:44:58,481 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:44:58,481 - sqlalchemy.engine.Engine - INFO - [cached since 50.43s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:44:58,482 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 11:44:58,482 - sqlalchemy.engine.Engine - INFO - [cached since 7.01s ago] ('AMD',)
2026-02-07 11:44:58,484 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 11:44:58,484 - sqlalchemy.engine.Engine - INFO - [cached since 8.192s ago] ('AMD',)
2026-02-07 11:44:58,485 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:44:58,485 - sqlalchemy.engine.Engine - INFO - [cached since 50.43s ago] ('AMD', 5, 0)
2026-02-07 11:44:58,487 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 11:44:58,487 - sqlalchemy.engine.Engine - INFO - [cached since 5.991s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD')
2026-02-07 11:44:58,489 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:44:58,489 - sqlalchemy.engine.Engine - INFO - [cached since 50.44s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:44:58,490 - app.api.v1.endpoints.analysis - INFO - Returning latest report for AMD (model: qwen-3-vl-thinking)
2026-02-07 11:44:58,490 - api_logger - INFO - rid=/api/analysis/AMD method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.40ms
2026-02-07 11:44:58,491 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:44:58,495 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:44:58,495 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:44:58,495 - sqlalchemy.engine.Engine - INFO - [cached since 50.44s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:44:58,496 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:44:58,496 - sqlalchemy.engine.Engine - INFO - [cached since 50.44s ago] ('AMD', 20, 0)
2026-02-07 11:44:58,497 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.21ms
2026-02-07 11:44:58,498 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:00,228 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:00,228 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:00,228 - sqlalchemy.engine.Engine - INFO - [cached since 52.18s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:00,229 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 11:45:00,230 - sqlalchemy.engine.Engine - INFO - [cached since 8.757s ago] ('AMD',)
2026-02-07 11:45:00,231 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 11:45:00,232 - sqlalchemy.engine.Engine - INFO - [cached since 9.94s ago] ('AMD',)
2026-02-07 11:45:00,233 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:00,234 - sqlalchemy.engine.Engine - INFO - [cached since 52.18s ago] ('AMD', 5, 0)
2026-02-07 11:45:00,235 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 11:45:00,235 - sqlalchemy.engine.Engine - INFO - [cached since 7.739s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD')
2026-02-07 11:45:00,236 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:00,236 - sqlalchemy.engine.Engine - INFO - [cached since 52.18s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:45:00,237 - app.api.v1.endpoints.analysis - INFO - Returning latest report for AMD (model: qwen-3-vl-thinking)
2026-02-07 11:45:00,238 - api_logger - INFO - rid=/api/analysis/AMD method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.49ms
2026-02-07 11:45:00,239 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:00,243 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:00,243 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:00,243 - sqlalchemy.engine.Engine - INFO - [cached since 52.19s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:00,244 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:00,244 - sqlalchemy.engine.Engine - INFO - [cached since 52.19s ago] ('AMD', 20, 0)
2026-02-07 11:45:00,246 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.61ms
2026-02-07 11:45:00,246 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:01,951 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:01,951 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:01,951 - sqlalchemy.engine.Engine - INFO - [cached since 53.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:01,952 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:01,952 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:01,952 - sqlalchemy.engine.Engine - INFO - [cached since 53.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:01,953 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:01,953 - sqlalchemy.engine.Engine - INFO - [cached since 53.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:45:01,954 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:01,954 - sqlalchemy.engine.Engine - INFO - [cached since 53.9s ago] ('AMZN', 20, 0)
2026-02-07 11:45:01,955 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.67ms
2026-02-07 11:45:01,955 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:01,956 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:01,958 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.92ms
2026-02-07 11:45:01,994 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:01,994 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:01,995 - sqlalchemy.engine.Engine - INFO - [cached since 53.94s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:01,995 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:01,995 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:01,995 - sqlalchemy.engine.Engine - INFO - [cached since 53.94s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:01,996 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:01,996 - sqlalchemy.engine.Engine - INFO - [cached since 53.94s ago] ('AMD', 20, 0)
2026-02-07 11:45:01,996 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:01,996 - sqlalchemy.engine.Engine - INFO - [cached since 53.94s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:45:01,997 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.97ms
2026-02-07 11:45:01,997 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.51ms
2026-02-07 11:45:01,997 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:01,998 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:02,045 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:02,053 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:02,054 - sqlalchemy.engine.Engine - INFO - [cached since 54s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:02,056 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:02,057 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:02,057 - sqlalchemy.engine.Engine - INFO - [cached since 54.01s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:02,059 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:02,060 - sqlalchemy.engine.Engine - INFO - [cached since 54s ago] ('AMZN', 20, 0)
2026-02-07 11:45:02,061 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:02,061 - sqlalchemy.engine.Engine - INFO - [cached since 54.01s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:45:02,062 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:02,062 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.84ms
2026-02-07 11:45:02,062 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:02,062 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=18.69ms
2026-02-07 11:45:04,093 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:04,093 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:04,093 - sqlalchemy.engine.Engine - INFO - [cached since 56.04s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:04,094 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:04,094 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:04,094 - sqlalchemy.engine.Engine - INFO - [cached since 56.04s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:04,095 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:04,095 - sqlalchemy.engine.Engine - INFO - [cached since 56.04s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:45:04,095 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:04,095 - sqlalchemy.engine.Engine - INFO - [cached since 56.04s ago] ('ASTS', 20, 0)
2026-02-07 11:45:04,096 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.20ms
2026-02-07 11:45:04,097 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.71ms
2026-02-07 11:45:04,097 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:04,097 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:04,134 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:04,134 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:04,135 - sqlalchemy.engine.Engine - INFO - [cached since 56.08s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:04,135 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:04,136 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:04,136 - sqlalchemy.engine.Engine - INFO - [cached since 56.09s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:04,137 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:04,138 - sqlalchemy.engine.Engine - INFO - [cached since 56.08s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:45:04,138 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:04,138 - sqlalchemy.engine.Engine - INFO - [cached since 56.08s ago] ('AMZN', 20, 0)
2026-02-07 11:45:04,139 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:04,139 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.32ms
2026-02-07 11:45:04,139 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:04,140 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.20ms
2026-02-07 11:45:04,185 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:04,185 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:04,185 - sqlalchemy.engine.Engine - INFO - [cached since 56.13s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:04,186 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:04,186 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:04,186 - sqlalchemy.engine.Engine - INFO - [cached since 56.14s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:04,189 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:04,189 - sqlalchemy.engine.Engine - INFO - [cached since 56.14s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:45:04,189 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:04,189 - sqlalchemy.engine.Engine - INFO - [cached since 56.13s ago] ('ASTS', 20, 0)
2026-02-07 11:45:04,190 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.38ms
2026-02-07 11:45:04,192 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:04,192 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.28ms
2026-02-07 11:45:04,193 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:07,099 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:07,099 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:07,099 - sqlalchemy.engine.Engine - INFO - [cached since 59.05s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:07,101 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 11:45:07,101 - sqlalchemy.engine.Engine - INFO - [cached since 15.63s ago] ('ASTS',)
2026-02-07 11:45:07,102 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 11:45:07,102 - sqlalchemy.engine.Engine - INFO - [cached since 16.81s ago] ('ASTS',)
2026-02-07 11:45:07,747 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 11:45:07,747 - sqlalchemy.engine.Engine - INFO - [cached since 16.27s ago] ('ASTS',)
2026-02-07 11:45:07,749 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:07,749 - sqlalchemy.engine.Engine - INFO - [no key 0.00029s] ('6a3dbf89-e5ad-3f28-9c41-1f7d44644850', 'ASTS', 'Is AST SpaceMobile (ASTS) Still Attractive After Volatile Share Price Swings?', 'Simply Wall St.', 'https://finance.yahoo.com/news/ast-spacemobile-asts-still-attractive-160625173.html', '2026-02-06 16:06:25.000000', None)
2026-02-07 11:45:07,752 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:07,752 - sqlalchemy.engine.Engine - INFO - [no key 0.00034s] ('be994bdb-8851-31f9-a304-56684769d48e', 'ASTS', 'Better Space Stock: Rocket Lab vs. AST SpaceMobile', 'Motley Fool', 'https://finance.yahoo.com/news/better-space-stock-rocket-lab-125000835.html', '2026-02-06 12:50:00.000000', None)
2026-02-07 11:45:07,754 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:07,754 - sqlalchemy.engine.Engine - INFO - [no key 0.00050s] ('8a49ffca-7355-36c3-a12d-7696d6ebc0c5', 'ASTS', 'AST\xa0SpaceMobile, Inc. (ASTS): A\xa0Bull\xa0Case Theory', 'Insider Monkey', 'https://finance.yahoo.com/news/ast-spacemobile-inc-asts-bull-023719740.html', '2026-02-05 02:37:19.000000', None)
2026-02-07 11:45:07,756 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:07,756 - sqlalchemy.engine.Engine - INFO - [no key 0.00029s] ('4f34aa62-3fe7-3f96-85e8-7d55c6f5393d', 'ASTS', 'AT&T, Amazon Forge Cloud, Satellite Partnership. AST SpaceMobile Not Impacted, Says AT&T.', "Investor's Business Daily", 'https://www.investors.com/news/technology/att-amazon-forge-cloud-satellite-partnership-asts-gsat/?src=A00220&yptr=yahoo', '2026-02-04 22:36:48.000000', None)
2026-02-07 11:45:07,757 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:07,757 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('05654542-b483-3ae2-a498-16bc9d5e65fc', 'ASTS', 'AST SpaceMobile Enters Defense Work As BlueBird 7 Launch Nears', 'Simply Wall St.', 'https://finance.yahoo.com/news/ast-spacemobile-enters-defense-bluebird-201842829.html', '2026-02-04 20:18:42.000000', None)
2026-02-07 11:45:07,757 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:07,757 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('7aadef03-1b12-3f07-b81e-892b093ca74b', 'ASTS', 'AST SpaceMobile (ASTS) Climbs 10.7% as Elon Musk Bets on Space Sector to Boost AI', 'Insider Monkey', 'https://finance.yahoo.com/news/ast-spacemobile-asts-climbs-10-145233542.html', '2026-02-04 14:52:33.000000', None)
2026-02-07 11:45:07,758 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:07,758 - sqlalchemy.engine.Engine - INFO - [no key 0.00032s] ('02c66b20-e713-32f3-b7fa-219efb715de4', 'ASTS', "US space stocks rise after Musk's SpaceX merges with xAI at $1.25 trillion valuation", 'Reuters', 'https://finance.yahoo.com/news/us-space-stocks-rise-musks-111421530.html', '2026-02-03 11:14:21.000000', None)
2026-02-07 11:45:07,760 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:07,760 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('75e0f95b-dc3a-37ed-a263-afaae959670f', 'ASTS', 'AST SpaceMobile, Inc. (ASTS) Stock Slides as Market Rises: Facts to Know Before You Trade', 'Zacks', 'https://finance.yahoo.com/news/ast-spacemobile-inc-asts-stock-230003256.html', '2026-02-02 23:00:03.000000', None)
2026-02-07 11:45:07,761 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:07,761 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ('cf099c2a-87c1-3c8f-896f-6db7e53feea5', 'ASTS', 'Why AST SpaceMobile Stock Jumped 53% in January', 'Motley Fool', 'https://finance.yahoo.com/news/why-ast-spacemobile-stock-jumped-225216538.html', '2026-02-02 22:52:16.000000', None)
2026-02-07 11:45:07,762 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:07,762 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('0d0fd9d9-9d63-3731-9685-22581d85f60e', 'ASTS', 'Assessing AST SpaceMobile (ASTS) Valuation After BlueBird 7 Launch Confirmation And SHIELD Contract Win', 'Simply Wall St.', 'https://finance.yahoo.com/news/assessing-ast-spacemobile-asts-valuation-231603546.html', '2026-01-28 23:16:03.000000', None)
2026-02-07 11:45:07,763 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET eps=? WHERE stocks.ticker = ?
2026-02-07 11:45:07,763 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (-1.14, 'ASTS')
2026-02-07 11:45:07,764 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 11:45:07,764 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (17121910.0, 0.9238864122051804, '2026-02-07 03:45:07.103029', 'ASTS')
2026-02-07 11:45:07,765 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 11:45:07,766 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:07,767 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 11:45:07,767 - sqlalchemy.engine.Engine - INFO - [cached since 16.27s ago] ('ASTS',)
2026-02-07 11:45:07,768 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:07,768 - sqlalchemy.engine.Engine - INFO - [cached since 59.71s ago] ('ASTS', 5, 0)
2026-02-07 11:45:07,768 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 11:45:07,768 - sqlalchemy.engine.Engine - INFO - [cached since 15.27s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS')
2026-02-07 11:45:07,769 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:07,769 - sqlalchemy.engine.Engine - INFO - [cached since 59.72s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:45:07,770 - app.api.v1.endpoints.analysis - INFO - Returning latest report for ASTS (model: qwen-3-vl-thinking)
2026-02-07 11:45:07,770 - api_logger - INFO - rid=/api/analysis/ASTS method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=672.68ms
2026-02-07 11:45:07,771 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:07,780 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:07,780 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:07,780 - sqlalchemy.engine.Engine - INFO - [cached since 59.73s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:07,780 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:07,781 - sqlalchemy.engine.Engine - INFO - [cached since 59.72s ago] ('ASTS', 20, 0)
2026-02-07 11:45:07,781 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.40ms
2026-02-07 11:45:07,782 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:11,227 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:11,227 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:11,227 - sqlalchemy.engine.Engine - INFO - [cached since 63.18s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:11,228 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:11,228 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:11,229 - sqlalchemy.engine.Engine - INFO - [cached since 63.18s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:11,230 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:11,230 - sqlalchemy.engine.Engine - INFO - [cached since 63.17s ago] ('AMZN', 20, 0)
2026-02-07 11:45:11,230 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:11,230 - sqlalchemy.engine.Engine - INFO - [cached since 63.18s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:45:11,231 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.24ms
2026-02-07 11:45:11,231 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:11,231 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:11,232 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.55ms
2026-02-07 11:45:11,283 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:11,283 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:11,283 - sqlalchemy.engine.Engine - INFO - [cached since 63.23s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:11,285 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:11,285 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:11,285 - sqlalchemy.engine.Engine - INFO - [cached since 63.23s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:11,286 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:11,286 - sqlalchemy.engine.Engine - INFO - [cached since 63.23s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:45:11,287 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:11,287 - sqlalchemy.engine.Engine - INFO - [cached since 63.23s ago] ('ASTS', 20, 0)
2026-02-07 11:45:11,288 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.93ms
2026-02-07 11:45:11,288 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.38ms
2026-02-07 11:45:11,288 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:11,288 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:11,333 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:11,334 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:11,334 - sqlalchemy.engine.Engine - INFO - [cached since 63.28s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:11,337 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:11,337 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:11,338 - sqlalchemy.engine.Engine - INFO - [cached since 63.29s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:11,340 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:11,340 - sqlalchemy.engine.Engine - INFO - [cached since 63.29s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:45:11,340 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:11,340 - sqlalchemy.engine.Engine - INFO - [cached since 63.28s ago] ('AMZN', 20, 0)
2026-02-07 11:45:11,341 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:11,342 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.93ms
2026-02-07 11:45:11,343 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:11,343 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.32ms
2026-02-07 11:45:12,282 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:12,283 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:12,283 - sqlalchemy.engine.Engine - INFO - [cached since 64.23s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:12,284 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 11:45:12,284 - sqlalchemy.engine.Engine - INFO - [cached since 20.81s ago] ('AMZN',)
2026-02-07 11:45:12,285 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 11:45:12,285 - sqlalchemy.engine.Engine - INFO - [cached since 21.99s ago] ('AMZN',)
2026-02-07 11:45:12,935 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 11:45:12,936 - sqlalchemy.engine.Engine - INFO - [cached since 21.46s ago] ('AMZN',)
2026-02-07 11:45:12,939 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:12,940 - sqlalchemy.engine.Engine - INFO - [no key 0.00043s] ('e85cfda2-646f-469c-b51b-061694f860b1', 'AMZN', "Jennifer Garner-backed kids' food brand Once Upon a Farm rises 16% in Wall Street debut", 'Yahoo Finance', 'https://finance.yahoo.com/news/jennifer-garner-backed-kids-food-brand-once-upon-a-farm-rises-16-in-wall-street-debut-221123011.html', '2026-02-06 22:11:23.000000', None)
2026-02-07 11:45:12,941 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:12,941 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('f9af2084-3302-4faa-8e26-cbeb75d1d310', 'AMZN', 'Amazon stock sinks after company touts $200 billion AI spending plans, offers cautious profit outlook', 'Yahoo Finance', 'https://finance.yahoo.com/news/amazon-stock-sinks-after-company-touts-200-billion-ai-spending-plans-offers-cautious-profit-outlook-173054116.html', '2026-02-04 17:30:54.000000', None)
2026-02-07 11:45:12,942 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:12,942 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('f641901f-710e-3594-8e48-d1652ebd414f', 'AMZN', "Amazon e-commerce needs to grow to keep up with AI's ROI: Analyst", 'Yahoo Finance Video', 'https://finance.yahoo.com/video/amazon-e-commerce-needs-grow-142427002.html', '2026-02-06 14:24:27.000000', None)
2026-02-07 11:45:12,943 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:12,944 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ('9b76185f-6c61-3f97-8df4-6e567dfe33ee', 'AMZN', 'Wealthy Families Are Worried About Geopolitics. But Theyre Not Rushing to AI, Crypto, or Gold', 'Barrons.com', 'https://www.barrons.com/articles/wealthy-families-are-worried-about-geopolitics-but-they-arent-rushing-to-ai-crypto-or-gold-62ce6f59?siteid=yhoof2&yptr=yahoo', '2026-02-07 02:46:00.000000', None)
2026-02-07 11:45:12,944 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:12,945 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('1cda57ba-07e6-3345-9255-94ea1af797fe', 'AMZN', "Alphabet CEO Sundar Pichai Says AI Capacity Is What 'Keeps Us Up At Night' As Power, Land And Supply Chain Limits Test Growth", 'Benzinga', 'https://finance.yahoo.com/news/alphabet-ceo-sundar-pichai-says-023155412.html', '2026-02-07 02:31:55.000000', None)
2026-02-07 11:45:12,945 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:12,945 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('b8769aee-6d1f-37d6-9581-ef01292a4d18', 'AMZN', 'Why Amazon Stock Fell Today', 'Motley Fool', 'https://finance.yahoo.com/news/why-amazon-stock-fell-today-023111041.html', '2026-02-07 02:31:11.000000', None)
2026-02-07 11:45:12,946 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:12,946 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('64b111b4-8509-35ce-b58e-eeb2748e6aa9', 'AMZN', 'Amazons Massive 2026 AI Spend Meets Growing German Regulatory Pressure', 'Simply Wall St.', 'https://finance.yahoo.com/news/amazon-massive-2026-ai-spend-020635309.html', '2026-02-07 02:06:35.000000', None)
2026-02-07 11:45:12,948 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:12,948 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ('8ad51648-a7a7-3b17-8c27-e01b63b2753a', 'AMZN', 'Review & Preview: 50,000 Sighs of Relief', 'Barrons.com', 'https://www.barrons.com/articles/dow-hits-50000-stocks-today-e7592566?siteid=yhoof2&yptr=yahoo', '2026-02-07 00:55:00.000000', None)
2026-02-07 11:45:12,949 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:12,949 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ('2e28b0dd-9702-398b-abda-3fdcf2fffcff', 'AMZN', 'Breaking Down Mag 7 Earnings: Good or Bad?', 'Zacks', 'https://finance.yahoo.com/news/breaking-down-mag-7-earnings-003400473.html', '2026-02-07 00:34:00.000000', None)
2026-02-07 11:45:12,950 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:12,950 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('a87d2ff8-5aa8-3061-b69f-d6ea76ef204f', 'AMZN', 'Buy the Dip in Amazon Stock After Mixed Q4 Results & CapEx Concerns?', 'Zacks', 'https://finance.yahoo.com/news/buy-dip-amazon-stock-mixed-002000273.html', '2026-02-07 00:20:00.000000', None)
2026-02-07 11:45:12,951 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-07 11:45:12,951 - sqlalchemy.engine.Engine - INFO - [cached since 21.46s ago] (2257768677376.0, 29.333334, 22.636694, 7.17, 'AMZN')
2026-02-07 11:45:12,952 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 11:45:12,952 - sqlalchemy.engine.Engine - INFO - [cached since 21.46s ago] (210.32, -5.5548, 27.832518795138043, 237.04649963378907, 233.30139984130858, 223.18740020751954, -2.1730234348395925, 0.7456025439626729, -2.9186259788022655, 254.2785055178925, 237.04649963378907, 219.81449374968562, 8.209287370954241, 28.247252987131912, 41.837494695717666, 1.0667695699603996, 51528400.0, 3.4742316858276214, '2026-02-07 03:45:12.286739', 'AMZN')
2026-02-07 11:45:12,952 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 11:45:12,954 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:12,954 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 11:45:12,954 - sqlalchemy.engine.Engine - INFO - [cached since 21.46s ago] ('AMZN',)
2026-02-07 11:45:12,955 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:12,955 - sqlalchemy.engine.Engine - INFO - [cached since 64.9s ago] ('AMZN', 5, 0)
2026-02-07 11:45:12,956 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 11:45:12,956 - sqlalchemy.engine.Engine - INFO - [cached since 20.46s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN')
2026-02-07 11:45:12,957 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:12,957 - sqlalchemy.engine.Engine - INFO - [cached since 64.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:45:12,960 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR AMZN ---

         [AMZN] 
        
        **1.  (Fundamental Context)**:
        - /: Consumer Cyclical / Internet Retail
        - : 2257768677376.0
        - PE (TTM): 29.33 | Forward PE: 22.64
        - 52: [161.38, 258.6]
        - Beta: 1.39
        
        **2.  (Portfolio Context)**:
        - : $0.0
        - : 0.0
        - : $0.0 (0%)
        
        **3.  (Technical Data)**:
        - : $210.32
        - : -5.55%
        - RSI (14): 27.83
        - MACD: -2.17 (: -2.92)
        - : [219.81, 254.28]
        - MA : [20: 237.05, 50: 233.3, 200: 223.19]
        - KDJ (K): 28.25 | ATR: 8.21
        
        **4.  (Recent News)**:
        [{'title': "Alphabet CEO Sundar Pichai Says AI Capacity Is What 'Keeps Us Up At Night' As Power, Land And Supply Chain Limits Test Growth", 'publisher': 'Benzinga', 'time': '2026-02-07T02:31:55'}, {'title': 'Why Amazon Stock Fell Today', 'publisher': 'Motley Fool', 'time': '2026-02-07T02:31:11'}, {'title': 'Amazons Massive 2026 AI Spend Meets Growing German Regulatory Pressure', 'publisher': 'Simply Wall St.', 'time': '2026-02-07T02:06:35'}, {'title': 'Review & Preview: 50,000 Sighs of Relief', 'publisher': 'Barrons.com', 'time': '2026-02-07T00:55:00'}, {'title': 'Breaking Down Mag 7 Earnings: Good or Bad?', 'publisher': 'Zacks', 'time': '2026-02-07T00:34:00'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (233.3)  (219.81)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": "2"
        }
        
--------------------------------------
2026-02-07 11:45:16,835 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 11:45:16,841 - app.api.v1.endpoints.analysis - INFO - AI Response for AMZN: {
    "sentiment_score": 38,
    "summary_status": "",
    "risk_level": "",
    "technical_analysis": " $210.32 233.3RSI 27.83 MACD -2.92 MA50233.3...
2026-02-07 11:45:16,844 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 11:45:16,844 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] ('295e29b3-898e-44d8-9f9a-ae9f34c5c571', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', '{"market_data": {"current_price": 210.32, "change_percent": -5.55, "rsi_14": 27.83, "ma_20": 237.05, "ma_50": 233.3, "ma_200": 223.19, "macd_val": -2 ... (66 characters truncated) ... kdj_k": 28.25, "atr_14": 8.21, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 0.0, "quantity": 0.0, "unrealized_pl": 0.0, "pl_percent": 0}}', '{\n    "sentiment_score": 38,\n    "summary_status": "",\n    "risk_level": "",\n    "technical_analysis": " $210.32 233.3RSI 2 ... (307 characters truncated) ... ",\n    "action_advice": " $219.81 $223.19  MA50$233.30 $219.81  $237.05  MA200 "\n}', '38', '', '', ' $210.32 233.3RSI 27.83 MACD -2.92 MA50233.3MA200223.19 219.81 5237.05ATR 8.21 ', 'PE 29.33  35.1Forward PE 22.64 AI 1)  CEO AI 2)  3)  AI 78.2%', ' $219.81 $223.19  MA50$233.30 $219.81  $237.05  MA200 ', 'qwen-3-vl-thinking', '2026-02-07 03:45:16.844215')
2026-02-07 11:45:16,847 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 11:45:16,848 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:16,850 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 11:45:16,850 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('295e29b3-898e-44d8-9f9a-ae9f34c5c571',)
2026-02-07 11:45:16,851 - api_logger - INFO - rid=/api/analysis/AMZN method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4570.59ms
2026-02-07 11:45:16,852 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:16,860 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:16,861 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:16,861 - sqlalchemy.engine.Engine - INFO - [cached since 68.81s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:16,863 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:45:16,863 - sqlalchemy.engine.Engine - INFO - [cached since 68.81s ago] ('AMZN', 20, 0)
2026-02-07 11:45:16,864 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.41ms
2026-02-07 11:45:16,865 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:29,483 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:29,484 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:29,484 - sqlalchemy.engine.Engine - INFO - [cached since 81.43s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:29,485 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 11:45:29,486 - sqlalchemy.engine.Engine - INFO - [cached since 39.19s ago] ('AMZN',)
2026-02-07 11:45:29,833 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 11:45:29,833 - sqlalchemy.engine.Engine - INFO - [cached since 38.36s ago] ('AMZN',)
2026-02-07 11:45:29,835 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:29,835 - sqlalchemy.engine.Engine - INFO - [no key 0.00030s] ('e85cfda2-646f-469c-b51b-061694f860b1', 'AMZN', "Jennifer Garner-backed kids' food brand Once Upon a Farm rises 16% in Wall Street debut", 'Yahoo Finance', 'https://finance.yahoo.com/news/jennifer-garner-backed-kids-food-brand-once-upon-a-farm-rises-16-in-wall-street-debut-221123011.html', '2026-02-06 22:11:23.000000', None)
2026-02-07 11:45:29,838 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:29,838 - sqlalchemy.engine.Engine - INFO - [no key 0.00041s] ('f9af2084-3302-4faa-8e26-cbeb75d1d310', 'AMZN', 'Amazon stock sinks after company touts $200 billion AI spending plans, offers cautious profit outlook', 'Yahoo Finance', 'https://finance.yahoo.com/news/amazon-stock-sinks-after-company-touts-200-billion-ai-spending-plans-offers-cautious-profit-outlook-173054116.html', '2026-02-04 17:30:54.000000', None)
2026-02-07 11:45:29,840 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:29,840 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('f641901f-710e-3594-8e48-d1652ebd414f', 'AMZN', "Amazon e-commerce needs to grow to keep up with AI's ROI: Analyst", 'Yahoo Finance Video', 'https://finance.yahoo.com/video/amazon-e-commerce-needs-grow-142427002.html', '2026-02-06 14:24:27.000000', None)
2026-02-07 11:45:29,840 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:29,841 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('9b76185f-6c61-3f97-8df4-6e567dfe33ee', 'AMZN', 'Wealthy Families Are Worried About Geopolitics. But Theyre Not Rushing to AI, Crypto, or Gold', 'Barrons.com', 'https://www.barrons.com/articles/wealthy-families-are-worried-about-geopolitics-but-they-arent-rushing-to-ai-crypto-or-gold-62ce6f59?siteid=yhoof2&yptr=yahoo', '2026-02-07 02:46:00.000000', None)
2026-02-07 11:45:29,841 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:29,841 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('1cda57ba-07e6-3345-9255-94ea1af797fe', 'AMZN', "Alphabet CEO Sundar Pichai Says AI Capacity Is What 'Keeps Us Up At Night' As Power, Land And Supply Chain Limits Test Growth", 'Benzinga', 'https://finance.yahoo.com/news/alphabet-ceo-sundar-pichai-says-023155412.html', '2026-02-07 02:31:55.000000', None)
2026-02-07 11:45:29,842 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:29,842 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('b8769aee-6d1f-37d6-9581-ef01292a4d18', 'AMZN', 'Why Amazon Stock Fell Today', 'Motley Fool', 'https://finance.yahoo.com/news/why-amazon-stock-fell-today-023111041.html', '2026-02-07 02:31:11.000000', None)
2026-02-07 11:45:29,843 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:29,843 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('64b111b4-8509-35ce-b58e-eeb2748e6aa9', 'AMZN', 'Amazons Massive 2026 AI Spend Meets Growing German Regulatory Pressure', 'Simply Wall St.', 'https://finance.yahoo.com/news/amazon-massive-2026-ai-spend-020635309.html', '2026-02-07 02:06:35.000000', None)
2026-02-07 11:45:29,843 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:29,843 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('8ad51648-a7a7-3b17-8c27-e01b63b2753a', 'AMZN', 'Review & Preview: 50,000 Sighs of Relief', 'Barrons.com', 'https://www.barrons.com/articles/dow-hits-50000-stocks-today-e7592566?siteid=yhoof2&yptr=yahoo', '2026-02-07 00:55:00.000000', None)
2026-02-07 11:45:29,845 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:29,845 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ('2e28b0dd-9702-398b-abda-3fdcf2fffcff', 'AMZN', 'Breaking Down Mag 7 Earnings: Good or Bad?', 'Zacks', 'https://finance.yahoo.com/news/breaking-down-mag-7-earnings-003400473.html', '2026-02-07 00:34:00.000000', None)
2026-02-07 11:45:29,846 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:45:29,846 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('a87d2ff8-5aa8-3061-b69f-d6ea76ef204f', 'AMZN', 'Buy the Dip in Amazon Stock After Mixed Q4 Results & CapEx Concerns?', 'Zacks', 'https://finance.yahoo.com/news/buy-dip-amazon-stock-mixed-002000273.html', '2026-02-07 00:20:00.000000', None)
2026-02-07 11:45:29,847 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 11:45:29,847 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('2026-02-07 03:45:29.487617', 'AMZN')
2026-02-07 11:45:29,848 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 11:45:29,850 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:29,850 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 11:45:29,850 - sqlalchemy.engine.Engine - INFO - [cached since 38.36s ago] ('AMZN',)
2026-02-07 11:45:29,851 - api_logger - INFO - rid=/api/portfolio/AMZN/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=369.52ms
2026-02-07 11:45:29,851 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:45:29,859 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:45:29,859 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:45:29,859 - sqlalchemy.engine.Engine - INFO - [cached since 81.81s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:29,860 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 11:45:29,861 - sqlalchemy.engine.Engine - INFO - [cached since 81.81s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:45:29,863 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.50ms
2026-02-07 11:45:29,863 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:20,296 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:20,297 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:20,297 - sqlalchemy.engine.Engine - INFO - [cached since 132.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:20,298 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:20,298 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:20,298 - sqlalchemy.engine.Engine - INFO - [cached since 132.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:20,299 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:20,299 - sqlalchemy.engine.Engine - INFO - [cached since 132.2s ago] ('ASTS', 20, 0)
2026-02-07 11:46:20,300 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:20,300 - sqlalchemy.engine.Engine - INFO - [cached since 132.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:20,301 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.43ms
2026-02-07 11:46:20,301 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.86ms
2026-02-07 11:46:20,302 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:20,302 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:20,354 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:20,354 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:20,354 - sqlalchemy.engine.Engine - INFO - [cached since 132.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:20,355 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:20,356 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:20,356 - sqlalchemy.engine.Engine - INFO - [cached since 132.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:20,357 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:20,358 - sqlalchemy.engine.Engine - INFO - [cached since 132.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:20,358 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:20,358 - sqlalchemy.engine.Engine - INFO - [cached since 132.3s ago] ('AMZN', 20, 0)
2026-02-07 11:46:20,359 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.35ms
2026-02-07 11:46:20,359 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:20,359 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.55ms
2026-02-07 11:46:20,360 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:20,401 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:20,401 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:20,401 - sqlalchemy.engine.Engine - INFO - [cached since 132.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:20,402 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:20,402 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:20,402 - sqlalchemy.engine.Engine - INFO - [cached since 132.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:20,403 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:20,403 - sqlalchemy.engine.Engine - INFO - [cached since 132.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:20,403 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:20,403 - sqlalchemy.engine.Engine - INFO - [cached since 132.3s ago] ('ASTS', 20, 0)
2026-02-07 11:46:20,403 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.76ms
2026-02-07 11:46:20,404 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:20,404 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.78ms
2026-02-07 11:46:20,405 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:23,260 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:23,261 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:23,261 - sqlalchemy.engine.Engine - INFO - [cached since 135.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:23,261 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:23,261 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:23,261 - sqlalchemy.engine.Engine - INFO - [cached since 135.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:23,262 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:23,262 - sqlalchemy.engine.Engine - INFO - [cached since 135.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:23,263 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:23,263 - sqlalchemy.engine.Engine - INFO - [cached since 135.2s ago] ('FRO', 20, 0)
2026-02-07 11:46:23,263 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.44ms
2026-02-07 11:46:23,264 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:23,264 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.32ms
2026-02-07 11:46:23,265 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:23,312 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:23,315 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:23,316 - sqlalchemy.engine.Engine - INFO - [cached since 135.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:23,317 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:23,319 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:23,319 - sqlalchemy.engine.Engine - INFO - [cached since 135.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:23,320 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:23,320 - sqlalchemy.engine.Engine - INFO - [cached since 135.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:23,321 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:23,321 - sqlalchemy.engine.Engine - INFO - [cached since 135.3s ago] ('ASTS', 20, 0)
2026-02-07 11:46:23,321 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.00ms
2026-02-07 11:46:23,322 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:23,322 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.59ms
2026-02-07 11:46:23,323 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:23,360 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:23,360 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:23,360 - sqlalchemy.engine.Engine - INFO - [cached since 135.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:23,360 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:23,360 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:23,360 - sqlalchemy.engine.Engine - INFO - [cached since 135.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:23,361 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:23,361 - sqlalchemy.engine.Engine - INFO - [cached since 135.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:23,362 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:23,362 - sqlalchemy.engine.Engine - INFO - [cached since 135.3s ago] ('FRO', 20, 0)
2026-02-07 11:46:23,362 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.91ms
2026-02-07 11:46:23,363 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.65ms
2026-02-07 11:46:23,363 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:23,363 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:25,179 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:25,179 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:25,179 - sqlalchemy.engine.Engine - INFO - [cached since 137.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:25,180 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:25,180 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:25,180 - sqlalchemy.engine.Engine - INFO - [cached since 137.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:25,181 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:25,181 - sqlalchemy.engine.Engine - INFO - [cached since 137.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:25,181 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:25,181 - sqlalchemy.engine.Engine - INFO - [cached since 137.1s ago] ('GOOGL', 20, 0)
2026-02-07 11:46:25,182 - api_logger - INFO - rid=/api/portfolio/GOOGL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.32ms
2026-02-07 11:46:25,182 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:25,182 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:25,183 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.48ms
2026-02-07 11:46:25,231 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:25,231 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:25,231 - sqlalchemy.engine.Engine - INFO - [cached since 137.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:25,232 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:25,232 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:25,232 - sqlalchemy.engine.Engine - INFO - [cached since 137.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:25,233 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:25,233 - sqlalchemy.engine.Engine - INFO - [cached since 137.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:25,234 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:25,234 - sqlalchemy.engine.Engine - INFO - [cached since 137.2s ago] ('FRO', 20, 0)
2026-02-07 11:46:25,235 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.22ms
2026-02-07 11:46:25,235 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.35ms
2026-02-07 11:46:25,235 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:25,235 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:25,286 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:25,288 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:25,289 - sqlalchemy.engine.Engine - INFO - [cached since 137.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:25,290 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:25,291 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:25,291 - sqlalchemy.engine.Engine - INFO - [cached since 137.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:25,292 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:25,292 - sqlalchemy.engine.Engine - INFO - [cached since 137.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:25,292 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:25,292 - sqlalchemy.engine.Engine - INFO - [cached since 137.2s ago] ('GOOGL', 20, 0)
2026-02-07 11:46:25,293 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:25,293 - api_logger - INFO - rid=/api/portfolio/GOOGL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.80ms
2026-02-07 11:46:25,293 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:25,294 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.24ms
2026-02-07 11:46:31,593 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:31,593 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:31,593 - sqlalchemy.engine.Engine - INFO - [cached since 143.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:31,594 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:31,594 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:31,594 - sqlalchemy.engine.Engine - INFO - [cached since 143.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:31,595 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:31,595 - sqlalchemy.engine.Engine - INFO - [cached since 143.5s ago] ('NDX', 20, 0)
2026-02-07 11:46:31,595 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:31,595 - sqlalchemy.engine.Engine - INFO - [cached since 143.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:31,596 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:31,596 - api_logger - INFO - rid=/api/portfolio/NDX/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.58ms
2026-02-07 11:46:31,597 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:31,597 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.41ms
2026-02-07 11:46:31,631 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:31,632 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:31,632 - sqlalchemy.engine.Engine - INFO - [cached since 143.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:31,633 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:31,633 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:31,633 - sqlalchemy.engine.Engine - INFO - [cached since 143.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:31,634 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:31,634 - sqlalchemy.engine.Engine - INFO - [cached since 143.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:31,634 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:31,634 - sqlalchemy.engine.Engine - INFO - [cached since 143.6s ago] ('GOOGL', 20, 0)
2026-02-07 11:46:31,635 - api_logger - INFO - rid=/api/portfolio/GOOGL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.29ms
2026-02-07 11:46:31,636 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:31,636 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:31,636 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.56ms
2026-02-07 11:46:31,682 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:31,682 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:31,682 - sqlalchemy.engine.Engine - INFO - [cached since 143.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:31,683 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:31,684 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:31,684 - sqlalchemy.engine.Engine - INFO - [cached since 143.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:31,684 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:31,684 - sqlalchemy.engine.Engine - INFO - [cached since 143.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:31,685 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:31,685 - sqlalchemy.engine.Engine - INFO - [cached since 143.6s ago] ('NDX', 20, 0)
2026-02-07 11:46:31,685 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:31,686 - api_logger - INFO - rid=/api/portfolio/NDX/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.91ms
2026-02-07 11:46:31,687 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:31,687 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.21ms
2026-02-07 11:46:33,068 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:33,069 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:33,069 - sqlalchemy.engine.Engine - INFO - [cached since 145s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:33,069 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:33,070 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:33,070 - sqlalchemy.engine.Engine - INFO - [cached since 145s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:33,071 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:33,071 - sqlalchemy.engine.Engine - INFO - [cached since 145s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:33,072 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:33,072 - sqlalchemy.engine.Engine - INFO - [cached since 145s ago] ('MSFT', 20, 0)
2026-02-07 11:46:33,073 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:33,073 - api_logger - INFO - rid=/api/portfolio/MSFT/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.19ms
2026-02-07 11:46:33,074 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:33,074 - api_logger - INFO - rid=/api/analysis/MSFT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.05ms
2026-02-07 11:46:33,116 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:33,116 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:33,116 - sqlalchemy.engine.Engine - INFO - [cached since 145.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:33,117 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:33,117 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:33,117 - sqlalchemy.engine.Engine - INFO - [cached since 145.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:33,118 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:33,118 - sqlalchemy.engine.Engine - INFO - [cached since 145.1s ago] ('NDX', 20, 0)
2026-02-07 11:46:33,118 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:33,118 - sqlalchemy.engine.Engine - INFO - [cached since 145.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:33,119 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:33,119 - api_logger - INFO - rid=/api/portfolio/NDX/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.48ms
2026-02-07 11:46:33,120 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:33,120 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.82ms
2026-02-07 11:46:33,168 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:33,168 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:33,171 - sqlalchemy.engine.Engine - INFO - [cached since 145.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:33,172 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:33,172 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:33,172 - sqlalchemy.engine.Engine - INFO - [cached since 145.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:33,173 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:33,173 - sqlalchemy.engine.Engine - INFO - [cached since 145.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:33,173 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:33,173 - sqlalchemy.engine.Engine - INFO - [cached since 145.1s ago] ('MSFT', 20, 0)
2026-02-07 11:46:33,174 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:33,174 - api_logger - INFO - rid=/api/portfolio/MSFT/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.15ms
2026-02-07 11:46:33,175 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:33,175 - api_logger - INFO - rid=/api/analysis/MSFT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.28ms
2026-02-07 11:46:37,789 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:37,789 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:37,789 - sqlalchemy.engine.Engine - INFO - [cached since 149.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:37,790 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:37,790 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:37,790 - sqlalchemy.engine.Engine - INFO - [cached since 149.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:37,792 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:37,792 - sqlalchemy.engine.Engine - INFO - [cached since 149.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'PG', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:37,792 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:37,792 - sqlalchemy.engine.Engine - INFO - [cached since 149.7s ago] ('PG', 20, 0)
2026-02-07 11:46:37,793 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:37,794 - api_logger - INFO - rid=/api/portfolio/PG/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.78ms
2026-02-07 11:46:37,794 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:37,794 - api_logger - INFO - rid=/api/analysis/PG method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.52ms
2026-02-07 11:46:37,839 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:37,840 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:37,840 - sqlalchemy.engine.Engine - INFO - [cached since 149.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:37,840 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:37,840 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:37,840 - sqlalchemy.engine.Engine - INFO - [cached since 149.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:37,841 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:37,841 - sqlalchemy.engine.Engine - INFO - [cached since 149.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:37,841 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:37,841 - sqlalchemy.engine.Engine - INFO - [cached since 149.8s ago] ('MSFT', 20, 0)
2026-02-07 11:46:37,842 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:37,842 - api_logger - INFO - rid=/api/portfolio/MSFT/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.99ms
2026-02-07 11:46:37,842 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:37,842 - api_logger - INFO - rid=/api/analysis/MSFT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.65ms
2026-02-07 11:46:37,886 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:37,886 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:37,886 - sqlalchemy.engine.Engine - INFO - [cached since 149.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:37,887 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:37,887 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:37,887 - sqlalchemy.engine.Engine - INFO - [cached since 149.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:37,887 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:37,888 - sqlalchemy.engine.Engine - INFO - [cached since 149.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'PG', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:37,888 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:37,888 - sqlalchemy.engine.Engine - INFO - [cached since 149.8s ago] ('PG', 20, 0)
2026-02-07 11:46:37,888 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:37,889 - api_logger - INFO - rid=/api/portfolio/PG/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.24ms
2026-02-07 11:46:37,889 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:37,889 - api_logger - INFO - rid=/api/analysis/PG method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.26ms
2026-02-07 11:46:40,091 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:40,091 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:40,091 - sqlalchemy.engine.Engine - INFO - [cached since 152s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:40,092 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:40,092 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:40,092 - sqlalchemy.engine.Engine - INFO - [cached since 152s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:40,093 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:40,093 - sqlalchemy.engine.Engine - INFO - [cached since 152s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:40,093 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:40,093 - sqlalchemy.engine.Engine - INFO - [cached since 152s ago] ('SIDU', 20, 0)
2026-02-07 11:46:40,093 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:40,094 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.33ms
2026-02-07 11:46:40,095 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.13ms
2026-02-07 11:46:40,095 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:40,130 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:40,130 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:40,130 - sqlalchemy.engine.Engine - INFO - [cached since 152.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:40,131 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:40,131 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:40,131 - sqlalchemy.engine.Engine - INFO - [cached since 152.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:40,131 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:40,131 - sqlalchemy.engine.Engine - INFO - [cached since 152.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'PG', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:40,132 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:40,132 - sqlalchemy.engine.Engine - INFO - [cached since 152.1s ago] ('PG', 20, 0)
2026-02-07 11:46:40,132 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:40,132 - api_logger - INFO - rid=/api/analysis/PG method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.06ms
2026-02-07 11:46:40,133 - api_logger - INFO - rid=/api/portfolio/PG/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.19ms
2026-02-07 11:46:40,133 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:40,174 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:40,175 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:40,176 - sqlalchemy.engine.Engine - INFO - [cached since 152.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:40,180 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:40,180 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:40,180 - sqlalchemy.engine.Engine - INFO - [cached since 152.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:40,182 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:40,182 - sqlalchemy.engine.Engine - INFO - [cached since 152.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:40,182 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:40,182 - sqlalchemy.engine.Engine - INFO - [cached since 152.1s ago] ('SIDU', 20, 0)
2026-02-07 11:46:40,183 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:40,183 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.28ms
2026-02-07 11:46:40,184 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:40,184 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.25ms
2026-02-07 11:46:41,459 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:41,460 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:41,460 - sqlalchemy.engine.Engine - INFO - [cached since 153.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:41,460 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:41,460 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:41,460 - sqlalchemy.engine.Engine - INFO - [cached since 153.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:41,461 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:41,461 - sqlalchemy.engine.Engine - INFO - [cached since 153.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:41,462 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:41,462 - sqlalchemy.engine.Engine - INFO - [cached since 153.4s ago] ('SNDK', 20, 0)
2026-02-07 11:46:41,462 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.85ms
2026-02-07 11:46:41,463 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:41,463 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.64ms
2026-02-07 11:46:41,464 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:41,497 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:41,498 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:41,498 - sqlalchemy.engine.Engine - INFO - [cached since 153.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:41,498 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:41,498 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:41,498 - sqlalchemy.engine.Engine - INFO - [cached since 153.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:41,500 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:41,500 - sqlalchemy.engine.Engine - INFO - [cached since 153.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:41,500 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:41,500 - sqlalchemy.engine.Engine - INFO - [cached since 153.4s ago] ('SIDU', 20, 0)
2026-02-07 11:46:41,501 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:41,501 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.31ms
2026-02-07 11:46:41,501 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.47ms
2026-02-07 11:46:41,502 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:41,546 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:41,546 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:41,546 - sqlalchemy.engine.Engine - INFO - [cached since 153.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:41,547 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:41,548 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:41,548 - sqlalchemy.engine.Engine - INFO - [cached since 153.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:41,549 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:41,549 - sqlalchemy.engine.Engine - INFO - [cached since 153.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:41,550 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:41,550 - sqlalchemy.engine.Engine - INFO - [cached since 153.5s ago] ('SNDK', 20, 0)
2026-02-07 11:46:41,551 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.93ms
2026-02-07 11:46:41,552 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:41,552 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.83ms
2026-02-07 11:46:41,553 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:51,200 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:51,201 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:51,201 - sqlalchemy.engine.Engine - INFO - [cached since 163.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:51,202 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 11:46:51,203 - sqlalchemy.engine.Engine - INFO - [cached since 120.9s ago] ('SNDK',)
2026-02-07 11:46:51,732 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 11:46:51,732 - sqlalchemy.engine.Engine - INFO - [cached since 120.3s ago] ('SNDK',)
2026-02-07 11:46:51,734 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:46:51,735 - sqlalchemy.engine.Engine - INFO - [no key 0.00028s] ('357d1240-5aed-3992-8375-bd269a0b5d6a', 'SNDK', 'Is Sandisk the Next Micron?', 'Motley Fool', 'https://finance.yahoo.com/news/sandisk-next-micron-184700660.html', '2026-02-06 18:47:00.000000', None)
2026-02-07 11:46:51,740 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:46:51,740 - sqlalchemy.engine.Engine - INFO - [no key 0.00042s] ('3c07fb63-0b8b-3b47-8fe0-cab7efe13313', 'SNDK', 'Industry Analysts Just Upgraded Their Sandisk Corporation (NASDAQ:SNDK) Revenue Forecasts By 38%', 'Simply Wall St.', 'https://finance.yahoo.com/news/industry-analysts-just-upgraded-sandisk-102335247.html', '2026-02-06 10:23:35.000000', None)
2026-02-07 11:46:51,741 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:46:51,741 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('5078431c-a00c-3181-90ac-85a26d65f899', 'SNDK', 'Sandisk Stock Gained +1,500% Since Its Debut. Why This Trader Is Looking Elsewhere.', "Investor's Business Daily", 'https://www.investors.com/news/sandisk-stock-gained-1500-debut-why-trader-looking-elsewhere/?src=A00220&yptr=yahoo', '2026-02-05 22:39:40.000000', None)
2026-02-07 11:46:51,742 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:46:51,742 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('f4564621-0a09-3f01-947e-b49f9b9d931c', 'SNDK', 'High Growth Tech Stocks to Watch in US February 2026', 'Simply Wall St.', 'https://finance.yahoo.com/news/high-growth-tech-stocks-watch-173856420.html', '2026-02-05 17:38:56.000000', None)
2026-02-07 11:46:51,743 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:46:51,743 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('9cd46a10-f4ea-3bc3-8a57-2566118719f7', 'SNDK', 'Should You Invest in Sandisk Stock Post Its Q2 Earnings Release?', 'Zacks', 'https://finance.yahoo.com/news/invest-sandisk-stock-post-q2-125700527.html', '2026-02-05 12:57:00.000000', None)
2026-02-07 11:46:51,744 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:46:51,744 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('d217c156-7707-3fc2-a392-0136dbccd027', 'SNDK', 'High Growth Tech Stocks In The US For February 2026', 'Simply Wall St.', 'https://finance.yahoo.com/news/high-growth-tech-stocks-us-113812494.html', '2026-02-05 11:38:12.000000', None)
2026-02-07 11:46:51,745 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:46:51,745 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('60e7d86b-6361-3434-8349-310c8137c30c', 'SNDK', 'SanDisk and Seagate: Analysts Bang the Drum on the Hottest Tech Stocks Today', 'TipRanks', 'https://finance.yahoo.com/news/sandisk-seagate-analysts-bang-drum-105828632.html', '2026-02-05 10:58:28.000000', None)
2026-02-07 11:46:51,746 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:46:51,746 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('4c646afb-6040-3b99-944d-be20936555f6', 'SNDK', 'A Look At Sandisk (SNDK) Valuation After Strong AI Data Center Driven Q2 Results', 'Simply Wall St.', 'https://finance.yahoo.com/news/look-sandisk-sndk-valuation-strong-021144012.html', '2026-02-05 02:11:44.000000', None)
2026-02-07 11:46:51,747 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:46:51,747 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ('4fe36802-c216-3391-8158-494a2e43c261', 'SNDK', 'Stock Market Today, Feb. 4: AMD Plunges Over 17% As Tech Fallout Continues', 'Motley Fool', 'https://finance.yahoo.com/news/stock-market-today-feb-4-230351262.html', '2026-02-04 23:03:51.000000', None)
2026-02-07 11:46:51,748 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:46:51,748 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('3fe40497-5ee4-3bb0-a227-70699e91357d', 'SNDK', 'Jim Cramer on Marvell: Theyre an Excellent Company, But Theyre a Derivative Company', 'Insider Monkey', 'https://finance.yahoo.com/news/jim-cramer-marvell-excellent-company-193640261.html', '2026-02-04 19:36:40.000000', None)
2026-02-07 11:46:51,749 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-07 11:46:51,749 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (88237834240.0, 8.114735, -7.77, 'SNDK')
2026-02-07 11:46:51,750 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 11:46:51,751 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (597.95, 3.77473, 68.87737351454734, 500.68499755859375, 344.3967990112305, 150.05247507095336, 80.95396253813198, 76.86264135975982, 4.091321178372155, 688.7503267887024, 500.68499755859375, 312.6196683284851, 59.40179006004783, 70.29532049176736, 37.61472919660878, 20601310.0, 1.0213331093993536, '2026-02-07 03:46:51.204063', 'SNDK')
2026-02-07 11:46:51,751 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 11:46:51,752 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:51,753 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 11:46:51,753 - sqlalchemy.engine.Engine - INFO - [cached since 120.3s ago] ('SNDK',)
2026-02-07 11:46:51,754 - api_logger - INFO - rid=/api/portfolio/SNDK/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=554.24ms
2026-02-07 11:46:51,754 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:51,763 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:51,763 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:51,763 - sqlalchemy.engine.Engine - INFO - [cached since 163.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:51,764 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 11:46:51,764 - sqlalchemy.engine.Engine - INFO - [cached since 163.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:51,766 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.52ms
2026-02-07 11:46:51,766 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:46:53,244 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:46:53,245 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:46:53,245 - sqlalchemy.engine.Engine - INFO - [cached since 165.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:46:53,246 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 11:46:53,246 - sqlalchemy.engine.Engine - INFO - [cached since 121.8s ago] ('SNDK',)
2026-02-07 11:46:53,246 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 11:46:53,246 - sqlalchemy.engine.Engine - INFO - [cached since 123s ago] ('SNDK',)
2026-02-07 11:46:53,247 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:53,247 - sqlalchemy.engine.Engine - INFO - [cached since 165.2s ago] ('SNDK', 5, 0)
2026-02-07 11:46:53,248 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 11:46:53,248 - sqlalchemy.engine.Engine - INFO - [cached since 120.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-07 11:46:53,248 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:46:53,248 - sqlalchemy.engine.Engine - INFO - [cached since 165.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:46:53,249 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR SNDK ---

         [SNDK] 
        
        **1.  (Fundamental Context)**:
        - /: Technology / Computer Hardware
        - : 88237834240.0
        - PE (TTM): None | Forward PE: 8.11
        - 52: [27.89, 725.0]
        - Beta: None
        
        **2.  (Portfolio Context)**:
        - : $480.0
        - : 5.0
        - : $589.7500000000002 (24.572916666666675%)
        
        **3.  (Technical Data)**:
        - : $597.95
        - : 3.77%
        - RSI (14): 68.88
        - MACD: 80.95 (: 4.09)
        - : [312.62, 688.75]
        - MA : [20: 500.68, 50: 344.4, 200: 150.05]
        - KDJ (K): 59.4 | ATR: 62.63
        
        **4.  (Recent News)**:
        [{'title': 'Is Sandisk the Next Micron?', 'publisher': 'Motley Fool', 'time': '2026-02-06T18:47:00'}, {'title': 'Industry Analysts Just Upgraded Their Sandisk Corporation (NASDAQ:SNDK) Revenue Forecasts By 38%', 'publisher': 'Simply Wall St.', 'time': '2026-02-06T10:23:35'}, {'title': 'Sandisk Stock Gained +1,500% Since Its Debut. Why This Trader Is Looking Elsewhere.', 'publisher': "Investor's Business Daily", 'time': '2026-02-05T22:39:40'}, {'title': 'High Growth Tech Stocks to Watch in US February 2026', 'publisher': 'Simply Wall St.', 'time': '2026-02-05T17:38:56'}, {'title': 'Should You Invest in Sandisk Stock Post Its Q2 Earnings Release?', 'publisher': 'Zacks', 'time': '2026-02-05T12:57:00'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (344.4)  (312.62)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": "2"
        }
        
--------------------------------------
2026-02-07 11:47:02,836 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 11:47:02,840 - app.api.v1.endpoints.analysis - INFO - AI Response for SNDK: {
    "sentiment_score": 88.75,
    "summary_status": "",
    "risk_level": "",
    "technical_analysis": "597.95(688.75)RSI(14)68.8880MACD4.09MA50(344.40)...
2026-02-07 11:47:02,842 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 11:47:02,842 - sqlalchemy.engine.Engine - INFO - [cached since 106s ago] ('5c683ddf-77c9-4b81-a064-2cf6570f4971', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', '{"market_data": {"current_price": 597.95, "change_percent": 3.77, "rsi_14": 68.88, "ma_20": 500.68, "ma_50": 344.4, "ma_200": 150.05, "macd_val": 80. ... (97 characters truncated) ... arket_status": "OPEN"}, "portfolio_data": {"avg_cost": 480.0, "quantity": 5.0, "unrealized_pl": 589.7500000000002, "pl_percent": 24.572916666666675}}', '{\n    "sentiment_score": 88.75,\n    "summary_status": "",\n    "risk_level": "",\n    "technical_analysis": "597.95(688.75)RSI(14) ... (313 characters truncated) ... ",\n    "action_advice": "312.6224.57%597.953.00%615.901/3688.75725.00MA50344.40"\n}', '88.75', '', '', '597.95(688.75)RSI(14)68.8880MACD4.09MA50(344.40)MA200(150.05)5500.68688.7552[27.89, 725.00]ATR(62.63)', 'Forward PE 8.112026Q238%HVX52130%882.38688.75', '312.6224.57%597.953.00%615.901/3688.75725.00MA50344.40', 'qwen-3-vl-thinking', '2026-02-07 03:47:02.841987')
2026-02-07 11:47:02,843 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 11:47:02,845 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:47:02,845 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 11:47:02,846 - sqlalchemy.engine.Engine - INFO - [cached since 106s ago] ('5c683ddf-77c9-4b81-a064-2cf6570f4971',)
2026-02-07 11:47:02,847 - api_logger - INFO - rid=/api/analysis/SNDK method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9603.33ms
2026-02-07 11:47:02,848 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:47:02,856 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:47:02,857 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:47:02,857 - sqlalchemy.engine.Engine - INFO - [cached since 174.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:47:02,858 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:47:02,858 - sqlalchemy.engine.Engine - INFO - [cached since 174.8s ago] ('SNDK', 20, 0)
2026-02-07 11:47:02,860 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.32ms
2026-02-07 11:47:02,861 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:53:55,269 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 11:54:11,080 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 11:54:19,820 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 11:54:32,803 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 11:54:49,741 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 11:56:15,352 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:56:15,393 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:56:15,394 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:56:15,394 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:56:15,394 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:56:15,394 - sqlalchemy.engine.Engine - INFO - [cached since 0.000626s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:56:15,394 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:56:15,394 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:56:15,394 - sqlalchemy.engine.Engine - INFO - [cached since 0.000989s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:56:15,395 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:56:15,396 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:56:15,396 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:56:15,396 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('SNDK', 20, 0)
2026-02-07 11:56:15,398 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 11:56:15,398 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:56:15,398 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=73.74ms
2026-02-07 11:56:15,399 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:56:15,400 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=66.59ms
2026-02-07 11:56:15,400 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:56:15,402 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=51.57ms
2026-02-07 11:56:15,402 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:57:25,692 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:57:25,693 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:57:25,693 - sqlalchemy.engine.Engine - INFO - [cached since 70.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:57:25,693 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:57:25,693 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:57:25,694 - sqlalchemy.engine.Engine - INFO - [cached since 70.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:57:25,694 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:57:25,694 - sqlalchemy.engine.Engine - INFO - [cached since 70.3s ago] ('AAPL', 20, 0)
2026-02-07 11:57:25,695 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:57:25,695 - sqlalchemy.engine.Engine - INFO - [cached since 70.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:57:25,695 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.74ms
2026-02-07 11:57:25,696 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:57:25,696 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.21ms
2026-02-07 11:57:25,697 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:57:25,735 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:57:25,735 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:57:25,735 - sqlalchemy.engine.Engine - INFO - [cached since 70.34s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:57:25,736 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:57:25,736 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:57:25,736 - sqlalchemy.engine.Engine - INFO - [cached since 70.34s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:57:25,736 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:57:25,736 - sqlalchemy.engine.Engine - INFO - [cached since 70.34s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:57:25,737 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:57:25,737 - sqlalchemy.engine.Engine - INFO - [cached since 70.34s ago] ('SNDK', 20, 0)
2026-02-07 11:57:25,738 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.45ms
2026-02-07 11:57:25,738 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.96ms
2026-02-07 11:57:25,739 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:57:25,739 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:57:25,789 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:57:25,792 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:57:25,792 - sqlalchemy.engine.Engine - INFO - [cached since 70.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:57:25,795 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:57:25,795 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:57:25,795 - sqlalchemy.engine.Engine - INFO - [cached since 70.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:57:25,796 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:57:25,796 - sqlalchemy.engine.Engine - INFO - [cached since 70.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:57:25,796 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:57:25,797 - sqlalchemy.engine.Engine - INFO - [cached since 70.4s ago] ('AAPL', 20, 0)
2026-02-07 11:57:25,800 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.05ms
2026-02-07 11:57:25,800 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=13.78ms
2026-02-07 11:57:25,801 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:57:25,801 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:57:26,675 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:57:26,675 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:57:26,676 - sqlalchemy.engine.Engine - INFO - [cached since 71.28s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:57:26,679 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 11:57:26,679 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('AAPL',)
2026-02-07 11:57:27,997 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 11:57:27,997 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('AAPL',)
2026-02-07 11:57:28,000 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:57:28,000 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('981503ee-3a91-3e34-a07b-308dadbf6a2a', 'AAPL', 'Dow Jones Tops 50,000 As Apple, Boeing, JPMorgan Flash Buy Signals; Is AI Trade Reviving?', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-futures-weekend-what-to-do-now/?src=A00220&yptr=yahoo', '2026-02-06 22:01:00.000000', None)
2026-02-07 11:57:28,002 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:57:28,002 - sqlalchemy.engine.Engine - INFO - [no key 0.00032s] ('ee889a3f-d2f2-3d33-88e5-1b565308845f', 'AAPL', 'Apple to Allow Third-Party AI Chatbots in CarPlay', '24/7 Wall St.', 'https://finance.yahoo.com/news/apple-allow-third-party-ai-215048959.html', '2026-02-06 21:50:48.000000', None)
2026-02-07 11:57:28,004 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:57:28,004 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('55b21566-7a1f-33fd-932c-c9c2d5224eb9', 'AAPL', 'Dow Hits Record as Tech Stocks Bounce to Cap Mixed Week for Wall Street', 'MT Newswires', 'https://finance.yahoo.com/news/dow-hits-record-tech-stocks-214909926.html', '2026-02-06 21:49:09.000000', None)
2026-02-07 11:57:28,005 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:57:28,005 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('83746cf4-83ed-3eb7-a000-56ff95bcfe38', 'AAPL', 'Corning Stock Has First Record Close Since the Dot-Com Bubble', 'Barrons.com', 'https://www.barrons.com/articles/corning-stock-price-record-high-bubble-dot-com-ai-e59c4fd7?siteid=yhoof2&yptr=yahoo', '2026-02-06 21:35:00.000000', None)
2026-02-07 11:57:28,005 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:57:28,006 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('d4d07bd1-e873-3a77-8c7a-e7616a7fd512', 'AAPL', 'The Dow Surged Past 50,000. How Caterpillar and These Other Stocks Got It There.', 'Barrons.com', 'https://www.barrons.com/articles/dow-jones-industrial-average-50000-first-time-caterpillar-stock-ff67c63d?siteid=yhoof2&yptr=yahoo', '2026-02-06 21:24:00.000000', None)
2026-02-07 11:57:28,006 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:57:28,006 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('b20ff39c-4cc8-37f8-bdf8-dad8f96592c4', 'AAPL', 'The Stocks That Punch Above Their Weight in the Dow', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-06-2026/card/the-stocks-that-punch-above-their-weight-in-the-dow-zruDHmDpvw8tNvQvU4vA?siteid=yhoof2&yptr=yahoo', '2026-02-06 20:53:21.000000', None)
2026-02-07 11:57:28,007 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:57:28,007 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('72517330-5ddd-3e7e-ba93-6a39cfa78135', 'AAPL', 'Why Is Nvidia (NVDA) Stock Soaring Today', 'StockStory', 'https://finance.yahoo.com/news/why-nvidia-nvda-stock-soaring-205042983.html', '2026-02-06 20:50:42.000000', None)
2026-02-07 11:57:28,008 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:57:28,008 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('348e4094-3776-36d0-bb79-fe66af31586d', 'AAPL', 'Sector Update: Tech Stocks Gain Late Afternoon', 'MT Newswires', 'https://finance.yahoo.com/news/sector-tech-stocks-gain-afternoon-204658758.html', '2026-02-06 20:46:58.000000', None)
2026-02-07 11:57:28,008 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:57:28,008 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('1b882369-7dff-30f5-a716-9c5bcbfc0e17', 'AAPL', 'Top Dow Contributors Over the Past 10,000 Points: Goldman, Caterpillar, IBM', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-06-2026/card/top-dow-contributors-over-the-past-10-000-points-goldman-caterpillar-ibm-V6aLHsCVj9F0quy67BsO?siteid=yhoof2&yptr=yahoo', '2026-02-06 19:32:56.000000', None)
2026-02-07 11:57:28,009 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 11:57:28,009 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('262de3c4-fdc1-3647-a4ed-3b2c13af286b', 'AAPL', 'Apple Stock Is Steady as a Rock Amid AI Selloff: How to Play AAPL Stock', 'Barchart', 'https://finance.yahoo.com/news/apple-stock-steady-rock-amid-192518495.html', '2026-02-06 19:25:18.000000', None)
2026-02-07 11:57:28,011 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=? WHERE stocks.ticker = ?
2026-02-07 11:57:28,011 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (4087787028480.0, 35.205063, 29.974737, 7.9, 0.37, 'AAPL')
2026-02-07 11:57:28,012 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 11:57:28,012 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (278.12, 0.800983, 74.16043966230238, 260.1499984741211, 268.70219848632814, 238.31397354125977, 2.2089976855562554, -1.1003241695020913, 3.3093218550583465, 279.15632364442695, 260.1499984741211, 241.14367330381526, 6.945001874651227, 88.36269632646352, 82.9468855665266, 99.19431784633738, 56885135.0, 0.8863598548197169, '2026-02-07 03:57:26.680268', 'AAPL')
2026-02-07 11:57:28,013 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 11:57:28,015 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:57:28,016 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 11:57:28,016 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ('AAPL',)
2026-02-07 11:57:28,017 - api_logger - INFO - rid=/api/portfolio/AAPL/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1343.67ms
2026-02-07 11:57:28,018 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:57:28,028 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:57:28,029 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:57:28,029 - sqlalchemy.engine.Engine - INFO - [cached since 72.64s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:57:28,029 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 11:57:28,030 - sqlalchemy.engine.Engine - INFO - [cached since 72.63s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:57:28,031 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.80ms
2026-02-07 11:57:28,032 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:57:37,385 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:57:37,386 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:57:37,386 - sqlalchemy.engine.Engine - INFO - [cached since 81.99s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:57:37,388 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 11:57:37,389 - sqlalchemy.engine.Engine - INFO - [cached since 9.392s ago] ('AAPL',)
2026-02-07 11:57:37,390 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 11:57:37,390 - sqlalchemy.engine.Engine - INFO - [cached since 10.71s ago] ('AAPL',)
2026-02-07 11:57:37,391 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:57:37,391 - sqlalchemy.engine.Engine - INFO - [cached since 82s ago] ('AAPL', 5, 0)
2026-02-07 11:57:37,393 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 11:57:37,393 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL')
2026-02-07 11:57:37,394 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:57:37,394 - sqlalchemy.engine.Engine - INFO - [cached since 82s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:57:37,394 - app.api.v1.endpoints.analysis - INFO - Returning latest report for AAPL (model: qwen-3-vl-thinking)
2026-02-07 11:57:37,395 - api_logger - INFO - rid=/api/analysis/AAPL method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.86ms
2026-02-07 11:57:37,395 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:57:37,399 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:57:37,399 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:57:37,399 - sqlalchemy.engine.Engine - INFO - [cached since 82.01s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:57:37,400 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:57:37,400 - sqlalchemy.engine.Engine - INFO - [cached since 82s ago] ('AAPL', 20, 0)
2026-02-07 11:57:37,401 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.56ms
2026-02-07 11:57:37,402 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:57:39,517 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:57:39,518 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:57:39,518 - sqlalchemy.engine.Engine - INFO - [cached since 84.12s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:57:39,519 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 11:57:39,519 - sqlalchemy.engine.Engine - INFO - [cached since 11.52s ago] ('AAPL',)
2026-02-07 11:57:39,520 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 11:57:39,520 - sqlalchemy.engine.Engine - INFO - [cached since 12.84s ago] ('AAPL',)
2026-02-07 11:57:39,521 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:57:39,521 - sqlalchemy.engine.Engine - INFO - [cached since 84.13s ago] ('AAPL', 5, 0)
2026-02-07 11:57:39,523 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 11:57:39,523 - sqlalchemy.engine.Engine - INFO - [cached since 2.13s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL')
2026-02-07 11:57:39,524 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:57:39,524 - sqlalchemy.engine.Engine - INFO - [cached since 84.13s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:57:39,525 - app.api.v1.endpoints.analysis - INFO - Returning latest report for AAPL (model: qwen-3-vl-thinking)
2026-02-07 11:57:39,526 - api_logger - INFO - rid=/api/analysis/AAPL method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.81ms
2026-02-07 11:57:39,527 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:57:39,530 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:57:39,530 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:57:39,530 - sqlalchemy.engine.Engine - INFO - [cached since 84.14s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:57:39,531 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:57:39,531 - sqlalchemy.engine.Engine - INFO - [cached since 84.14s ago] ('AAPL', 20, 0)
2026-02-07 11:57:39,532 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.22ms
2026-02-07 11:57:39,533 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:57:47,112 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:57:47,112 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:57:47,112 - sqlalchemy.engine.Engine - INFO - [cached since 91.72s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:57:47,114 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 11:57:47,114 - sqlalchemy.engine.Engine - INFO - [cached since 19.12s ago] ('AAPL',)
2026-02-07 11:57:47,115 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 11:57:47,115 - sqlalchemy.engine.Engine - INFO - [cached since 20.44s ago] ('AAPL',)
2026-02-07 11:57:47,116 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:57:47,116 - sqlalchemy.engine.Engine - INFO - [cached since 91.72s ago] ('AAPL', 5, 0)
2026-02-07 11:57:47,117 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 11:57:47,117 - sqlalchemy.engine.Engine - INFO - [cached since 9.725s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL')
2026-02-07 11:57:47,118 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 11:57:47,118 - sqlalchemy.engine.Engine - INFO - [cached since 91.72s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 11:57:47,119 - app.api.v1.endpoints.analysis - INFO - Returning latest report for AAPL (model: qwen-3-vl-thinking)
2026-02-07 11:57:47,119 - api_logger - INFO - rid=/api/analysis/AAPL method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.97ms
2026-02-07 11:57:47,120 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 11:57:47,124 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 11:57:47,124 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 11:57:47,124 - sqlalchemy.engine.Engine - INFO - [cached since 91.73s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 11:57:47,125 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 11:57:47,125 - sqlalchemy.engine.Engine - INFO - [cached since 91.73s ago] ('AAPL', 20, 0)
2026-02-07 11:57:47,126 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.41ms
2026-02-07 11:57:47,127 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 12:00:58,216 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 12:01:04,645 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 12:05:31,558 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 12:05:31,597 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 12:05:31,597 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 12:05:31,598 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 12:05:31,598 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 12:05:31,598 - sqlalchemy.engine.Engine - INFO - [cached since 0.0008685s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 12:05:31,601 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 12:05:31,602 - sqlalchemy.engine.Engine - INFO - [generated in 0.00054s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 12:05:31,602 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 12:05:31,602 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 12:05:31,602 - sqlalchemy.engine.Engine - INFO - [cached since 0.00498s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 12:05:31,604 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 12:05:31,604 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 12:05:31,605 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 12:05:31,605 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('AAPL', 20, 0)
2026-02-07 12:05:31,605 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=61.37ms
2026-02-07 12:05:31,606 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 12:05:31,607 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=55.74ms
2026-02-07 12:05:31,608 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 12:05:31,608 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=56.72ms
2026-02-07 12:05:31,609 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 12:05:34,092 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 12:05:34,092 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 12:05:34,092 - sqlalchemy.engine.Engine - INFO - [cached since 2.495s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 12:05:34,095 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 12:05:34,095 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('AAPL',)
2026-02-07 12:05:35,463 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 12:05:35,464 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('AAPL',)
2026-02-07 12:05:35,468 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 12:05:35,469 - sqlalchemy.engine.Engine - INFO - [no key 0.00193s] ('981503ee-3a91-3e34-a07b-308dadbf6a2a', 'AAPL', 'Dow Jones Tops 50,000 As Apple, Boeing, JPMorgan Flash Buy Signals; Is AI Trade Reviving?', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-futures-weekend-what-to-do-now/?src=A00220&yptr=yahoo', '2026-02-06 22:01:00.000000', None)
2026-02-07 12:05:35,472 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 12:05:35,472 - sqlalchemy.engine.Engine - INFO - [no key 0.00043s] ('ee889a3f-d2f2-3d33-88e5-1b565308845f', 'AAPL', 'Apple to Allow Third-Party AI Chatbots in CarPlay', '24/7 Wall St.', 'https://finance.yahoo.com/news/apple-allow-third-party-ai-215048959.html', '2026-02-06 21:50:48.000000', None)
2026-02-07 12:05:35,473 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 12:05:35,473 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ('55b21566-7a1f-33fd-932c-c9c2d5224eb9', 'AAPL', 'Dow Hits Record as Tech Stocks Bounce to Cap Mixed Week for Wall Street', 'MT Newswires', 'https://finance.yahoo.com/news/dow-hits-record-tech-stocks-214909926.html', '2026-02-06 21:49:09.000000', None)
2026-02-07 12:05:35,475 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 12:05:35,475 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('83746cf4-83ed-3eb7-a000-56ff95bcfe38', 'AAPL', 'Corning Stock Has First Record Close Since the Dot-Com Bubble', 'Barrons.com', 'https://www.barrons.com/articles/corning-stock-price-record-high-bubble-dot-com-ai-e59c4fd7?siteid=yhoof2&yptr=yahoo', '2026-02-06 21:35:00.000000', None)
2026-02-07 12:05:35,475 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 12:05:35,475 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('d4d07bd1-e873-3a77-8c7a-e7616a7fd512', 'AAPL', 'The Dow Surged Past 50,000. How Caterpillar and These Other Stocks Got It There.', 'Barrons.com', 'https://www.barrons.com/articles/dow-jones-industrial-average-50000-first-time-caterpillar-stock-ff67c63d?siteid=yhoof2&yptr=yahoo', '2026-02-06 21:24:00.000000', None)
2026-02-07 12:05:35,476 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 12:05:35,476 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('b20ff39c-4cc8-37f8-bdf8-dad8f96592c4', 'AAPL', 'The Stocks That Punch Above Their Weight in the Dow', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-06-2026/card/the-stocks-that-punch-above-their-weight-in-the-dow-zruDHmDpvw8tNvQvU4vA?siteid=yhoof2&yptr=yahoo', '2026-02-06 20:53:21.000000', None)
2026-02-07 12:05:35,477 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 12:05:35,477 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('72517330-5ddd-3e7e-ba93-6a39cfa78135', 'AAPL', 'Why Is Nvidia (NVDA) Stock Soaring Today', 'StockStory', 'https://finance.yahoo.com/news/why-nvidia-nvda-stock-soaring-205042983.html', '2026-02-06 20:50:42.000000', None)
2026-02-07 12:05:35,477 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 12:05:35,477 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('348e4094-3776-36d0-bb79-fe66af31586d', 'AAPL', 'Sector Update: Tech Stocks Gain Late Afternoon', 'MT Newswires', 'https://finance.yahoo.com/news/sector-tech-stocks-gain-afternoon-204658758.html', '2026-02-06 20:46:58.000000', None)
2026-02-07 12:05:35,478 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 12:05:35,478 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('1b882369-7dff-30f5-a716-9c5bcbfc0e17', 'AAPL', 'Top Dow Contributors Over the Past 10,000 Points: Goldman, Caterpillar, IBM', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-06-2026/card/top-dow-contributors-over-the-past-10-000-points-goldman-caterpillar-ibm-V6aLHsCVj9F0quy67BsO?siteid=yhoof2&yptr=yahoo', '2026-02-06 19:32:56.000000', None)
2026-02-07 12:05:35,479 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 12:05:35,479 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('262de3c4-fdc1-3647-a4ed-3b2c13af286b', 'AAPL', 'Apple Stock Is Steady as a Rock Amid AI Selloff: How to Play AAPL Stock', 'Barchart', 'https://finance.yahoo.com/news/apple-stock-steady-rock-amid-192518495.html', '2026-02-06 19:25:18.000000', None)
2026-02-07 12:05:35,481 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_lower=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 12:05:35,481 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (2.208997685390216, -1.1003241697463013, 3.309321855136517, 279.15632364442763, 241.1436733038146, '2026-02-07 04:05:34.096670', 'AAPL')
2026-02-07 12:05:35,483 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 12:05:35,484 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 12:05:35,485 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 12:05:35,485 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('AAPL',)
2026-02-07 12:05:35,486 - api_logger - INFO - rid=/api/portfolio/AAPL/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1396.90ms
2026-02-07 12:05:35,487 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 12:05:35,494 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 12:05:35,494 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 12:05:35,494 - sqlalchemy.engine.Engine - INFO - [cached since 3.897s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 12:05:35,495 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 12:05:35,495 - sqlalchemy.engine.Engine - INFO - [cached since 3.892s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 12:05:35,497 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.11ms
2026-02-07 12:05:35,498 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 12:05:38,849 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 12:05:38,850 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 12:05:38,850 - sqlalchemy.engine.Engine - INFO - [cached since 7.252s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 12:05:38,852 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 12:05:38,852 - sqlalchemy.engine.Engine - INFO - [cached since 3.389s ago] ('AAPL',)
2026-02-07 12:05:38,853 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 12:05:38,853 - sqlalchemy.engine.Engine - INFO - [cached since 4.758s ago] ('AAPL',)
2026-02-07 12:05:38,854 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 12:05:38,854 - sqlalchemy.engine.Engine - INFO - [cached since 7.249s ago] ('AAPL', 5, 0)
2026-02-07 12:05:38,856 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 12:05:38,856 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL')
2026-02-07 12:05:38,856 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for AAPL. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-07 12:05:38,859 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR AAPL ---

         [AAPL] 
        
        **1.  (Fundamental Context)**:
        - /: Technology / Consumer Electronics
        - : 4087787028480.0
        - PE (TTM): 35.21 | Forward PE: 29.97
        - 52: [169.21, 288.62]
        - Beta: 1.11
        
        **2.  (Portfolio Context)**:
        - : $200.0
        - : 100.0
        - : $7812.0 (39.06%)
        
        **3.  (Technical Data)**:
        - : $278.12
        - : 0.8%
        - RSI (14): 74.16
        - MACD: 2.21 (: 3.31)
        - : [241.14, 279.16]
        - MA : [20: 260.15, 50: 268.7, 200: 238.31]
        - KDJ (K): 88.36 | ATR: 6.95
        
        **4.  (Recent News)**:
        [{'title': 'Dow Jones Tops 50,000 As Apple, Boeing, JPMorgan Flash Buy Signals; Is AI Trade Reviving?', 'publisher': "Investor's Business Daily", 'time': '2026-02-06T22:01:00'}, {'title': 'Apple to Allow Third-Party AI Chatbots in CarPlay', 'publisher': '24/7 Wall St.', 'time': '2026-02-06T21:50:48'}, {'title': 'Dow Hits Record as Tech Stocks Bounce to Cap Mixed Week for Wall Street', 'publisher': 'MT Newswires', 'time': '2026-02-06T21:49:09'}, {'title': 'Corning Stock Has First Record Close Since the Dot-Com Bubble', 'publisher': 'Barrons.com', 'time': '2026-02-06T21:35:00'}, {'title': 'The Dow Surged Past 50,000. How Caterpillar and These Other Stocks Got It There.', 'publisher': 'Barrons.com', 'time': '2026-02-06T21:24:00'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (268.7)  (241.14)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "investment_horizon": " ( 2-5 /   /  -)",
            "confidence_level": 0-100 (AI ),
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": "2"
        }
        
--------------------------------------
2026-02-07 12:05:43,107 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 12:05:43,110 - app.api.v1.endpoints.analysis - INFO - AI Response for AAPL: {
    "sentiment_score": 88.42,
    "summary_status": "",
    "risk_level": "",
    "investment_horizon": " ",
    "confidence_level": 89.76,
    "technical_analysis": "278.12279...
2026-02-07 12:05:43,113 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 12:05:43,113 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] ('47b647b3-89e0-49f3-9823-de72b7eb593e', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', '{"market_data": {"current_price": 278.12, "change_percent": 0.8, "rsi_14": 74.16, "ma_20": 260.15, "ma_50": 268.7, "ma_200": 238.31, "macd_val": 2.21 ... (73 characters truncated) ... 36, "atr_14": 6.95, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 200.0, "quantity": 100.0, "unrealized_pl": 7812.0, "pl_percent": 39.06}}', '{\n    "sentiment_score": 88.42,\n    "summary_status": "",\n    "risk_level": "",\n    "investment_horizon": " ",\n    "confidence_level" ... (440 characters truncated) ...  "action_advice": "39.06%+7812.01. 241.142. MA50(268.7)268.003. +3%287.55MA50(268.7)150.0"\n}', '88.42', '', '', '278.12279.16RSI 74.1675MACD2.21MA50(268.7)MA200(238.31)6.95ATR279.16MA50(268.7)KDJ(88.36)268.7', 'PE(TTM)35.2135.02Forward PE 29.9743.12CarPlayAI2026-02-06AI50,000Dow JonesBeta(1.11)52(169.21-288.62)', '39.06%+7812.01. 241.142. MA50(268.7)268.003. +3%287.55MA50(268.7)150.0', ' ', 89.76, 'qwen-3-vl-thinking', '2026-02-07 04:05:43.112898')
2026-02-07 12:05:43,116 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 12:05:43,118 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 12:05:43,120 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 12:05:43,120 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('47b647b3-89e0-49f3-9823-de72b7eb593e',)
2026-02-07 12:05:43,121 - api_logger - INFO - rid=/api/analysis/AAPL method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4275.35ms
2026-02-07 12:05:43,122 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 12:05:43,131 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 12:05:43,131 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 12:05:43,131 - sqlalchemy.engine.Engine - INFO - [cached since 11.53s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 12:05:43,133 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 12:05:43,133 - sqlalchemy.engine.Engine - INFO - [cached since 11.53s ago] ('AAPL', 20, 0)
2026-02-07 12:05:43,135 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.15ms
2026-02-07 12:05:43,136 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 13:17:28,897 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 13:17:44,289 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 13:17:55,184 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 13:18:06,163 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 13:45:54,700 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 13:46:48,118 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:46:48,123 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 13:46:48,123 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:46:48,123 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:46:48,123 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 13:46:48,124 - sqlalchemy.engine.Engine - INFO - [cached since 0.0007042s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:46:48,126 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 13:46:48,126 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 13:46:48,129 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 13:46:48,129 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('SNDK', 20, 0)
2026-02-07 13:46:48,131 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=22.78ms
2026-02-07 13:46:48,131 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 13:46:48,132 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=15.41ms
2026-02-07 13:46:48,133 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 13:46:48,148 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:46:48,148 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 13:46:48,148 - sqlalchemy.engine.Engine - INFO - [cached since 0.02566s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:46:48,149 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:46:48,150 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 13:46:48,150 - sqlalchemy.engine.Engine - INFO - [cached since 0.02683s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:46:48,150 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 13:46:48,150 - sqlalchemy.engine.Engine - INFO - [cached since 0.02466s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 13:46:48,151 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 13:46:48,151 - sqlalchemy.engine.Engine - INFO - [cached since 0.02216s ago] ('AAPL', 20, 0)
2026-02-07 13:46:48,152 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.69ms
2026-02-07 13:46:48,152 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.46ms
2026-02-07 13:46:48,153 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 13:46:48,154 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 13:46:48,252 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:46:48,253 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 13:46:48,253 - sqlalchemy.engine.Engine - INFO - [cached since 0.1299s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:46:48,253 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:46:48,253 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 13:46:48,253 - sqlalchemy.engine.Engine - INFO - [cached since 0.1304s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:46:48,254 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 13:46:48,254 - sqlalchemy.engine.Engine - INFO - [cached since 0.1283s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 13:46:48,254 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 13:46:48,254 - sqlalchemy.engine.Engine - INFO - [cached since 0.1259s ago] ('SNDK', 20, 0)
2026-02-07 13:46:48,255 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.44ms
2026-02-07 13:46:48,255 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 13:46:48,256 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.73ms
2026-02-07 13:46:48,256 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 13:46:49,892 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:46:49,893 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 13:46:49,893 - sqlalchemy.engine.Engine - INFO - [cached since 1.77s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:46:49,896 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 13:46:49,897 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('SNDK',)
2026-02-07 13:46:51,204 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 13:46:51,204 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('SNDK',)
2026-02-07 13:46:51,207 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 13:46:51,207 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ('357d1240-5aed-3992-8375-bd269a0b5d6a', 'SNDK', 'Is Sandisk the Next Micron?', 'Motley Fool', 'https://finance.yahoo.com/news/sandisk-next-micron-184700660.html', '2026-02-06 18:47:00.000000', None)
2026-02-07 13:46:51,208 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 13:46:51,209 - sqlalchemy.engine.Engine - INFO - [no key 0.00030s] ('3c07fb63-0b8b-3b47-8fe0-cab7efe13313', 'SNDK', 'Industry Analysts Just Upgraded Their Sandisk Corporation (NASDAQ:SNDK) Revenue Forecasts By 38%', 'Simply Wall St.', 'https://finance.yahoo.com/news/industry-analysts-just-upgraded-sandisk-102335247.html', '2026-02-06 10:23:35.000000', None)
2026-02-07 13:46:51,210 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 13:46:51,210 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('5078431c-a00c-3181-90ac-85a26d65f899', 'SNDK', 'Sandisk Stock Gained +1,500% Since Its Debut. Why This Trader Is Looking Elsewhere.', "Investor's Business Daily", 'https://www.investors.com/news/sandisk-stock-gained-1500-debut-why-trader-looking-elsewhere/?src=A00220&yptr=yahoo', '2026-02-05 22:39:40.000000', None)
2026-02-07 13:46:51,210 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 13:46:51,211 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('f4564621-0a09-3f01-947e-b49f9b9d931c', 'SNDK', 'High Growth Tech Stocks to Watch in US February 2026', 'Simply Wall St.', 'https://finance.yahoo.com/news/high-growth-tech-stocks-watch-173856420.html', '2026-02-05 17:38:56.000000', None)
2026-02-07 13:46:51,212 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 13:46:51,212 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ('9cd46a10-f4ea-3bc3-8a57-2566118719f7', 'SNDK', 'Should You Invest in Sandisk Stock Post Its Q2 Earnings Release?', 'Zacks', 'https://finance.yahoo.com/news/invest-sandisk-stock-post-q2-125700527.html', '2026-02-05 12:57:00.000000', None)
2026-02-07 13:46:51,213 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 13:46:51,213 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('d217c156-7707-3fc2-a392-0136dbccd027', 'SNDK', 'High Growth Tech Stocks In The US For February 2026', 'Simply Wall St.', 'https://finance.yahoo.com/news/high-growth-tech-stocks-us-113812494.html', '2026-02-05 11:38:12.000000', None)
2026-02-07 13:46:51,214 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 13:46:51,214 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('60e7d86b-6361-3434-8349-310c8137c30c', 'SNDK', 'SanDisk and Seagate: Analysts Bang the Drum on the Hottest Tech Stocks Today', 'TipRanks', 'https://finance.yahoo.com/news/sandisk-seagate-analysts-bang-drum-105828632.html', '2026-02-05 10:58:28.000000', None)
2026-02-07 13:46:51,214 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 13:46:51,215 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('4c646afb-6040-3b99-944d-be20936555f6', 'SNDK', 'A Look At Sandisk (SNDK) Valuation After Strong AI Data Center Driven Q2 Results', 'Simply Wall St.', 'https://finance.yahoo.com/news/look-sandisk-sndk-valuation-strong-021144012.html', '2026-02-05 02:11:44.000000', None)
2026-02-07 13:46:51,215 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 13:46:51,215 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('4fe36802-c216-3391-8158-494a2e43c261', 'SNDK', 'Stock Market Today, Feb. 4: AMD Plunges Over 17% As Tech Fallout Continues', 'Motley Fool', 'https://finance.yahoo.com/news/stock-market-today-feb-4-230351262.html', '2026-02-04 23:03:51.000000', None)
2026-02-07 13:46:51,216 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 13:46:51,216 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('3fe40497-5ee4-3bb0-a227-70699e91357d', 'SNDK', 'Jim Cramer on Marvell: Theyre an Excellent Company, But Theyre a Derivative Company', 'Insider Monkey', 'https://finance.yahoo.com/news/jim-cramer-marvell-excellent-company-193640261.html', '2026-02-04 19:36:40.000000', None)
2026-02-07 13:46:51,218 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 13:46:51,218 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('2026-02-07 05:46:49.898646', 'SNDK')
2026-02-07 13:46:51,219 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 13:46:51,220 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:46:51,221 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 13:46:51,221 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('SNDK',)
2026-02-07 13:46:51,222 - api_logger - INFO - rid=/api/portfolio/SNDK/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1331.41ms
2026-02-07 13:46:51,223 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 13:46:51,240 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:46:51,241 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 13:46:51,241 - sqlalchemy.engine.Engine - INFO - [cached since 3.118s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:46:51,243 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 13:46:51,243 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:46:51,246 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.90ms
2026-02-07 13:46:51,247 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 13:46:52,943 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:46:52,943 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 13:46:52,944 - sqlalchemy.engine.Engine - INFO - [cached since 4.821s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:46:52,945 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 13:46:52,945 - sqlalchemy.engine.Engine - INFO - [cached since 1.742s ago] ('SNDK',)
2026-02-07 13:46:52,947 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 13:46:52,947 - sqlalchemy.engine.Engine - INFO - [cached since 3.051s ago] ('SNDK',)
2026-02-07 13:46:52,948 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 13:46:52,949 - sqlalchemy.engine.Engine - INFO - [cached since 4.82s ago] ('SNDK', 5, 0)
2026-02-07 13:46:52,950 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 13:46:52,951 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-07 13:46:52,951 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for SNDK. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-07 13:46:52,954 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR SNDK ---

         [SNDK] 
        
        **1.  (Fundamental Context)**:
        - /: Technology / Computer Hardware
        - : 88237834240.0
        - PE (TTM): None | Forward PE: 8.11
        - 52: [27.89, 725.0]
        - Beta: None
        
        **2.  (Portfolio Context)**:
        - : $480.0
        - : 5.0
        - : $589.7500000000002 (24.572916666666675%)
        
        **3.  (Technical Data)**:
        - : $597.95
        - : 3.77%
        - RSI (14): 68.88
        - MACD: 80.95 (: 4.09)
        - : [312.62, 688.75]
        - MA : [20: 500.68, 50: 344.4, 200: 150.05]
        - KDJ (K): 59.4 | ATR: 62.63
        
        **4.  (Recent News)**:
        [{'title': 'Is Sandisk the Next Micron?', 'publisher': 'Motley Fool', 'time': '2026-02-06T18:47:00'}, {'title': 'Industry Analysts Just Upgraded Their Sandisk Corporation (NASDAQ:SNDK) Revenue Forecasts By 38%', 'publisher': 'Simply Wall St.', 'time': '2026-02-06T10:23:35'}, {'title': 'Sandisk Stock Gained +1,500% Since Its Debut. Why This Trader Is Looking Elsewhere.', 'publisher': "Investor's Business Daily", 'time': '2026-02-05T22:39:40'}, {'title': 'High Growth Tech Stocks to Watch in US February 2026', 'publisher': 'Simply Wall St.', 'time': '2026-02-05T17:38:56'}, {'title': 'Should You Invest in Sandisk Stock Post Its Q2 Earnings Release?', 'publisher': 'Zacks', 'time': '2026-02-05T12:57:00'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (344.4)  (312.62)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "investment_horizon": " ( 2-5 /   /  -)",
            "confidence_level": 0-100 (AI ),
            "immediate_action": " (///)",
            "target_price": "/ (2)",
            "stop_loss_price": "/ (2)",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-07 13:47:02,037 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 13:47:02,039 - app.api.v1.endpoints.analysis - INFO - AI Response for SNDK: {
    "sentiment_score": 72,
    "summary_status": "",
    "risk_level": "",
    "investment_horizon": " ",
    "confidence_level": 85,
    "immediate_action": "",
    "target_price": 6...
2026-02-07 13:47:02,042 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 13:47:02,042 - sqlalchemy.engine.Engine - INFO - [generated in 0.00074s] ('0cccaf6c-303e-49ee-8407-98ad34d69379', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', '{"market_data": {"current_price": 597.95, "change_percent": 3.77, "rsi_14": 68.88, "ma_20": 500.68, "ma_50": 344.4, "ma_200": 150.05, "macd_val": 80. ... (97 characters truncated) ... arket_status": "OPEN"}, "portfolio_data": {"avg_cost": 480.0, "quantity": 5.0, "unrealized_pl": 589.7500000000002, "pl_percent": 24.572916666666675}}', '{\n    "sentiment_score": 72,\n    "summary_status": "",\n    "risk_level": "",\n    "investment_horizon": " ",\n    "confidence_level": 8 ... (322 characters truncated) ... 725.0",\n    "action_advice": "24.57%688.7530%20500.682.00%"\n}', '72', '', '', '597.95688.75RSI68.88MACD4.0920500.68MA50(344.40)MA200(150.05)', 'Forward PE 8.1138%52725.0', '24.57%688.7530%20500.682.00%', ' ', 85.0, '', 688.75, 500.68, 'qwen-3-vl-thinking', '2026-02-07 05:47:02.042175')
2026-02-07 13:47:02,047 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 13:47:02,049 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:47:02,051 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 13:47:02,051 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('0cccaf6c-303e-49ee-8407-98ad34d69379',)
2026-02-07 13:47:02,053 - api_logger - INFO - rid=/api/analysis/SNDK method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9114.72ms
2026-02-07 13:47:02,054 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 13:47:02,065 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:47:02,066 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 13:47:02,066 - sqlalchemy.engine.Engine - INFO - [cached since 13.94s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:47:02,067 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 13:47:02,067 - sqlalchemy.engine.Engine - INFO - [cached since 13.94s ago] ('SNDK', 20, 0)
2026-02-07 13:47:02,069 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.15ms
2026-02-07 13:47:02,069 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 13:53:51,117 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:53:51,118 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 13:53:51,118 - sqlalchemy.engine.Engine - INFO - [cached since 423s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:53:51,120 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:53:51,120 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 13:53:51,120 - sqlalchemy.engine.Engine - INFO - [cached since 423s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:53:51,121 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 13:53:51,122 - sqlalchemy.engine.Engine - INFO - [cached since 423s ago] ('RKLB', 20, 0)
2026-02-07 13:53:51,122 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 13:53:51,122 - sqlalchemy.engine.Engine - INFO - [cached since 423s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 13:53:51,123 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.94ms
2026-02-07 13:53:51,125 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.95ms
2026-02-07 13:53:51,126 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 13:53:51,127 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 13:53:51,160 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:53:51,160 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 13:53:51,160 - sqlalchemy.engine.Engine - INFO - [cached since 423s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:53:51,161 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:53:51,162 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 13:53:51,162 - sqlalchemy.engine.Engine - INFO - [cached since 423s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:53:51,163 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 13:53:51,163 - sqlalchemy.engine.Engine - INFO - [cached since 423s ago] ('SNDK', 20, 0)
2026-02-07 13:53:51,164 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 13:53:51,164 - sqlalchemy.engine.Engine - INFO - [cached since 423s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 13:53:51,166 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.93ms
2026-02-07 13:53:51,167 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 13:53:51,167 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.52ms
2026-02-07 13:53:51,168 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 13:53:51,232 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:53:51,232 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 13:53:51,232 - sqlalchemy.engine.Engine - INFO - [cached since 423.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:53:51,233 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:53:51,234 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 13:53:51,234 - sqlalchemy.engine.Engine - INFO - [cached since 423.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:53:51,234 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 13:53:51,234 - sqlalchemy.engine.Engine - INFO - [cached since 423.1s ago] ('RKLB', 20, 0)
2026-02-07 13:53:51,234 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 13:53:51,234 - sqlalchemy.engine.Engine - INFO - [cached since 423.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 13:53:51,235 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.05ms
2026-02-07 13:53:51,236 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.23ms
2026-02-07 13:53:51,237 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 13:53:51,238 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 13:54:00,797 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:54:00,798 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 13:54:00,798 - sqlalchemy.engine.Engine - INFO - [cached since 432.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:54:00,800 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 13:54:00,800 - sqlalchemy.engine.Engine - INFO - [cached since 430.9s ago] ('RKLB',)
2026-02-07 13:54:01,616 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 13:54:01,617 - sqlalchemy.engine.Engine - INFO - [cached since 430.4s ago] ('RKLB',)
2026-02-07 13:54:01,620 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 13:54:01,620 - sqlalchemy.engine.Engine - INFO - [no key 0.00037s] ('1b7e3474-6d7f-3568-bc2d-b99c156ecd9c', 'RKLB', 'A Look At Rocket Lab (RKLB) Valuation After Recent Share Price Swings', 'Simply Wall St.', 'https://finance.yahoo.com/news/look-rocket-lab-rklb-valuation-001950101.html', '2026-02-07 00:19:50.000000', None)
2026-02-07 13:54:01,622 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 13:54:01,622 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('d1b80c5a-d34c-3d91-acf9-7aea2de32fef', 'RKLB', 'Rocket Lab (RKLB) Is Down 9.7% After Winning US$816 Million Missile-Defense Deal - Has The Bull Case Changed?', 'Simply Wall St.', 'https://finance.yahoo.com/news/rocket-lab-rklb-down-9-230644791.html', '2026-02-06 23:06:44.000000', None)
2026-02-07 13:54:01,624 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 13:54:01,624 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('67fd47d0-bad8-3d72-ab7c-402b580f8a44', 'RKLB', 'Rocket Lab, Redwire, Kratos, Vertiv, and nLIGHT Stocks Trade Up, What You Need To Know', 'StockStory', 'https://finance.yahoo.com/news/rocket-lab-redwire-kratos-vertiv-211553727.html', '2026-02-06 21:15:53.000000', None)
2026-02-07 13:54:01,625 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 13:54:01,625 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('315ffab6-714f-3efe-ab9f-4ba42f6c9d3a', 'RKLB', 'Rocket Lab Corporation (RKLB) Falls More Steeply Than Broader Market: What Investors Need to Know', 'Zacks', 'https://finance.yahoo.com/news/rocket-lab-corporation-rklb-falls-231503481.html', '2026-02-04 23:15:03.000000', None)
2026-02-07 13:54:01,625 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 13:54:01,626 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('7df33355-0a87-3b1e-8f3b-ed6951482c7e', 'RKLB', 'Rocket Lab Stock Tanks Again. The Mini SpaceX Is Having a Wild Ride.', 'Barrons.com', 'https://www.barrons.com/articles/rocket-lab-stock-spacex-mars-384a062d?siteid=yhoof2&yptr=yahoo', '2026-02-04 21:14:00.000000', None)
2026-02-07 13:54:01,626 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 13:54:01,626 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('76d81207-0350-369c-8f92-76fb4f9f5066', 'RKLB', 'How & Why SpaceX is Moving the AI Data Center Race to Space', 'Zacks', 'https://finance.yahoo.com/news/why-spacex-moving-ai-data-184100765.html', '2026-02-03 18:41:00.000000', None)
2026-02-07 13:54:01,627 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 13:54:01,627 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('be0b2201-588d-3b1f-b314-9d16274fb7fa', 'RKLB', 'Rocket Lab Balances Rapid Electron Launches With Neutron Program Setbacks', 'Simply Wall St.', 'https://finance.yahoo.com/news/rocket-lab-balances-rapid-electron-112301299.html', '2026-02-03 11:23:01.000000', None)
2026-02-07 13:54:01,628 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 13:54:01,628 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('5aeb5e78-794b-3aaa-b277-c15863b8198d', 'RKLB', '3 Reasons to Avoid RKLB and 1 Stock to Buy Instead', 'StockStory', 'https://finance.yahoo.com/news/3-reasons-avoid-rklb-1-040427868.html', '2026-02-03 04:04:27.000000', None)
2026-02-07 13:54:01,629 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 13:54:01,629 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('edfb9cfe-2eba-3234-9efa-82b99a80c85e', 'RKLB', "Space Stock Sinks After Congress Won't Fund Mars Mission In 2031", "Investor's Business Daily", 'https://www.investors.com/news/rocket-lab-stock-congress-mars-mission-rover/?src=A00220&yptr=yahoo', '2026-02-02 21:34:25.000000', None)
2026-02-07 13:54:01,629 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 13:54:01,629 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('9f6897dd-9e0b-3f74-801b-2891969c0b9c', 'RKLB', 'Rocket Lab Stock Falls. The Reason Is Odd.', 'Barrons.com', 'https://www.barrons.com/articles/rocket-lab-stock-falls-3a575366?siteid=yhoof2&yptr=yahoo', '2026-02-02 21:21:00.000000', None)
2026-02-07 13:54:01,631 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-07 13:54:01,631 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (38630182912.0, -463.58972, 'RKLB')
2026-02-07 13:54:01,632 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 13:54:01,632 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (72.32, 9.04704, 32.511663594395685, 84.0510009765625, 70.72290046691894, 49.46822505950928, -0.2643730706335816, 2.739456113555037, -3.0038291841886187, 99.22749246043452, 84.0510009765625, 68.87450949269049, 8.028499603271484, 20.365593830345144, 21.82218712245095, 17.452407246133532, 23576400.0, 0.8442255815137171, '2026-02-07 05:54:00.801813', 'RKLB')
2026-02-07 13:54:01,633 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 13:54:01,634 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:54:01,634 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 13:54:01,634 - sqlalchemy.engine.Engine - INFO - [cached since 430.4s ago] ('RKLB',)
2026-02-07 13:54:01,635 - api_logger - INFO - rid=/api/portfolio/RKLB/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=838.85ms
2026-02-07 13:54:01,635 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 13:54:01,646 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:54:01,647 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 13:54:01,647 - sqlalchemy.engine.Engine - INFO - [cached since 433.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:54:01,648 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 13:54:01,648 - sqlalchemy.engine.Engine - INFO - [cached since 430.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:54:01,650 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.25ms
2026-02-07 13:54:01,650 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 13:54:03,758 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:54:03,759 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 13:54:03,759 - sqlalchemy.engine.Engine - INFO - [cached since 435.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:54:03,761 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 13:54:03,761 - sqlalchemy.engine.Engine - INFO - [cached since 432.6s ago] ('RKLB',)
2026-02-07 13:54:03,762 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 13:54:03,762 - sqlalchemy.engine.Engine - INFO - [cached since 433.9s ago] ('RKLB',)
2026-02-07 13:54:03,763 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 13:54:03,763 - sqlalchemy.engine.Engine - INFO - [cached since 435.6s ago] ('RKLB', 5, 0)
2026-02-07 13:54:03,764 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 13:54:03,764 - sqlalchemy.engine.Engine - INFO - [cached since 430.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB')
2026-02-07 13:54:03,765 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for RKLB. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-07 13:54:03,766 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR RKLB ---

         [RKLB] 
        
        **1.  (Fundamental Context)**:
        - /: Industrials / Aerospace & Defense
        - : 38630182912.0
        - PE (TTM): None | Forward PE: -463.59
        - 52: [14.71, 99.58]
        - Beta: 2.18
        
        **2.  (Portfolio Context)**:
        - : $0.0
        - : 0.0
        - : $0.0 (0%)
        
        **3.  (Technical Data)**:
        - : $72.32
        - : 9.05%
        - RSI (14): 32.51
        - MACD: -0.26 (: -3.0)
        - : [68.87, 99.23]
        - MA : [20: 84.05, 50: 70.72, 200: 49.47]
        - KDJ (K): 20.37 | ATR: 8.03
        
        **4.  (Recent News)**:
        [{'title': 'A Look At Rocket Lab (RKLB) Valuation After Recent Share Price Swings', 'publisher': 'Simply Wall St.', 'time': '2026-02-07T00:19:50'}, {'title': 'Rocket Lab (RKLB) Is Down 9.7% After Winning US$816 Million Missile-Defense Deal - Has The Bull Case Changed?', 'publisher': 'Simply Wall St.', 'time': '2026-02-06T23:06:44'}, {'title': 'Rocket Lab, Redwire, Kratos, Vertiv, and nLIGHT Stocks Trade Up, What You Need To Know', 'publisher': 'StockStory', 'time': '2026-02-06T21:15:53'}, {'title': 'Rocket Lab Corporation (RKLB) Falls More Steeply Than Broader Market: What Investors Need to Know', 'publisher': 'Zacks', 'time': '2026-02-04T23:15:03'}, {'title': 'Rocket Lab Stock Tanks Again. The Mini SpaceX Is Having a Wild Ride.', 'publisher': 'Barrons.com', 'time': '2026-02-04T21:14:00'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (70.72)  (68.87)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "investment_horizon": " ( 2-5 /   /  -)",
            "confidence_level": 0-100 (AI ),
            "immediate_action": " (///)",
            "target_price": "/ (2)",
            "stop_loss_price": "/ (2)",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-07 13:54:25,316 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 13:54:25,319 - app.api.v1.endpoints.analysis - INFO - AI Response for RKLB: {
    "sentiment_score": 58,
    "summary_status": "",
    "risk_level": "",
    "investment_horizon": " ",
    "confidence_level": 72,
    "immediate_action": "",
    "target_price":...
2026-02-07 13:54:25,320 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 13:54:25,320 - sqlalchemy.engine.Engine - INFO - [cached since 443.3s ago] ('a01ef447-6905-4c88-b662-77a9fd2e9ada', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', '{"market_data": {"current_price": 72.32, "change_percent": 9.05, "rsi_14": 32.51, "ma_20": 84.05, "ma_50": 70.72, "ma_200": 49.47, "macd_val": -0.26, ... (59 characters truncated) ... kdj_k": 20.37, "atr_14": 8.03, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 0.0, "quantity": 0.0, "unrealized_pl": 0.0, "pl_percent": 0}}', '{\n    "sentiment_score": 58,\n    "summary_status": "",\n    "risk_level": "",\n    "investment_horizon": " ",\n    "confidence_level":  ... (462 characters truncated) ... dvice": "MA5070.72MACD84.05MA2068.8768.8710%210"\n}', '58', '', '', '72.32MA50(70.72)MA20(84.05)RSI(32.51)MACD(-0.26)(-3.00)99.2368.87MA50', 'Forward PE(-463.59)8.165299.5827.38%Beta(2.18)PE', 'MA5070.72MACD84.05MA2068.8768.8710%210', ' ', 72.0, '', 84.05, 68.87, 'qwen-3-vl-thinking', '2026-02-07 05:54:25.320690')
2026-02-07 13:54:25,322 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 13:54:25,323 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:54:25,323 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 13:54:25,323 - sqlalchemy.engine.Engine - INFO - [cached since 443.3s ago] ('a01ef447-6905-4c88-b662-77a9fd2e9ada',)
2026-02-07 13:54:25,325 - api_logger - INFO - rid=/api/analysis/RKLB method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=21569.20ms
2026-02-07 13:54:25,326 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 13:54:25,334 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 13:54:25,335 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 13:54:25,335 - sqlalchemy.engine.Engine - INFO - [cached since 457.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 13:54:25,336 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 13:54:25,336 - sqlalchemy.engine.Engine - INFO - [cached since 457.2s ago] ('RKLB', 20, 0)
2026-02-07 13:54:25,337 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.16ms
2026-02-07 13:54:25,337 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:00:15,879 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:00:15,880 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:00:15,880 - sqlalchemy.engine.Engine - INFO - [cached since 807.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:00:15,881 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:00:15,881 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:00:15,881 - sqlalchemy.engine.Engine - INFO - [cached since 807.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:00:15,882 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:00:15,882 - sqlalchemy.engine.Engine - INFO - [cached since 807.8s ago] ('SLV', 20, 0)
2026-02-07 14:00:15,882 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:00:15,882 - sqlalchemy.engine.Engine - INFO - [cached since 807.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:00:15,883 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.58ms
2026-02-07 14:00:15,884 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.75ms
2026-02-07 14:00:15,884 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:00:15,884 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:00:15,924 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:00:15,924 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:00:15,924 - sqlalchemy.engine.Engine - INFO - [cached since 807.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:00:15,924 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:00:15,925 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:00:15,925 - sqlalchemy.engine.Engine - INFO - [cached since 807.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:00:15,926 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:00:15,926 - sqlalchemy.engine.Engine - INFO - [cached since 807.8s ago] ('RKLB', 20, 0)
2026-02-07 14:00:15,927 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:00:15,927 - sqlalchemy.engine.Engine - INFO - [cached since 807.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:00:15,927 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.04ms
2026-02-07 14:00:15,928 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:00:15,928 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.44ms
2026-02-07 14:00:15,929 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:00:15,986 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:00:15,986 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:00:15,986 - sqlalchemy.engine.Engine - INFO - [cached since 807.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:00:15,986 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:00:15,987 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:00:15,987 - sqlalchemy.engine.Engine - INFO - [cached since 807.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:00:15,988 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:00:15,988 - sqlalchemy.engine.Engine - INFO - [cached since 807.9s ago] ('SLV', 20, 0)
2026-02-07 14:00:15,988 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:00:15,988 - sqlalchemy.engine.Engine - INFO - [cached since 807.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:00:15,991 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.50ms
2026-02-07 14:00:15,991 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.58ms
2026-02-07 14:00:15,991 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:00:15,991 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:00:17,926 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:00:17,926 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:00:17,926 - sqlalchemy.engine.Engine - INFO - [cached since 809.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:00:17,927 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:00:17,927 - sqlalchemy.engine.Engine - INFO - [cached since 808s ago] ('SLV',)
2026-02-07 14:00:18,744 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 14:00:18,745 - sqlalchemy.engine.Engine - INFO - [cached since 807.5s ago] ('SLV',)
2026-02-07 14:00:18,747 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:00:18,747 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ('be0eebba-92ad-3039-8a1d-12f75a96d52e', 'SLV', 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Friday Ahead of Consumer Sentiment Report', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-135747111.html', '2026-02-06 13:57:47.000000', None)
2026-02-07 14:00:18,748 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:00:18,748 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('e75bcefc-abe7-3823-ad57-38457d154c66', 'SLV', 'SLV Plunged 35.6% in Five Days After Fed Chair Nomination Rattled Silver Markets', '24/7 Wall St.', 'https://finance.yahoo.com/news/slv-plunged-35-6-five-153200847.html', '2026-02-05 15:32:00.000000', None)
2026-02-07 14:00:18,752 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:00:18,752 - sqlalchemy.engine.Engine - INFO - [no key 0.00042s] ('2a4b51c1-a2f9-38be-a7da-2b150aec99b5', 'SLV', 'Silver Prices Go on Another Wild Ride', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-05-2026/card/silver-prices-go-on-another-wild-ride-mFGeM0HcvqRBxVnrQA8S?siteid=yhoof2&yptr=yahoo', '2026-02-05 14:37:34.000000', None)
2026-02-07 14:00:18,754 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:00:18,754 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('80ee7f1c-7be6-3f8e-9529-1315fedd335a', 'SLV', 'Exchange-Traded Funds, Equity Futures Lower Pre-Bell Thursday Ahead of Amazon Earnings', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-141706475.html', '2026-02-05 14:17:06.000000', None)
2026-02-07 14:00:18,755 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:00:18,755 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('fd206287-a85b-3fc2-a6e8-4fa912457e35', 'SLV', 'Why GLDs 74% Rally Turned Into a Mousetrap and What the Fed Chair Pick Means Now', '24/7 Wall St.', 'https://finance.yahoo.com/news/why-gld-74-rally-turned-130816537.html', '2026-02-05 13:08:16.000000', None)
2026-02-07 14:00:18,756 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:00:18,756 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('79de7eeb-68c1-3a22-8dc6-29aa0d832707', 'SLV', 'Exchange-Traded Funds, Equity Futures Mixed Pre-Bell Wednesday Ahead of Alphabet Earnings', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-140310603.html', '2026-02-04 14:03:10.000000', None)
2026-02-07 14:00:18,756 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:00:18,757 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('267a5d36-ee97-304a-b868-ceb8592ad222', 'SLV', 'Top-Performing ETF Stories of January: Winning Investing Areas', 'Zacks', 'https://finance.yahoo.com/news/top-performing-etf-stories-january-130000947.html', '2026-02-04 13:00:00.000000', None)
2026-02-07 14:00:18,757 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:00:18,757 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('57491ac4-a2f9-3f77-9055-e641926dd6bb', 'SLV', 'Daily ETF Flows: $3.4B Flows Into SLV', 'etf.com', 'https://finance.yahoo.com/news/daily-etf-flows-3-4b-230005689.html', '2026-02-03 23:00:05.000000', None)
2026-02-07 14:00:18,758 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:00:18,758 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('c192d55e-4add-3941-8d89-ebeb9f3a249c', 'SLV', 'Zacks Investment Ideas feature highlights: Ark Invest, BlackRock, IBIT, GLD and SLV', 'Zacks', 'https://finance.yahoo.com/news/zacks-investment-ideas-feature-highlights-152000677.html', '2026-02-03 15:20:00.000000', None)
2026-02-07 14:00:18,758 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:00:18,759 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('11bf817f-bd41-38a9-a525-45cefc988e19', 'SLV', 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Tuesday as Earnings Deluge Continues', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-142855032.html', '2026-02-03 14:28:55.000000', None)
2026-02-07 14:00:18,760 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=? WHERE stocks.ticker = ?
2026-02-07 14:00:18,760 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (23966375936.0, 'SLV')
2026-02-07 14:00:18,760 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 14:00:18,760 - sqlalchemy.engine.Engine - INFO - [cached since 377.1s ago] (70.19, 5.24816, 43.50174309657855, 83.92499961853028, 69.48999977111816, 44.95834991455078, 1.4823731200852706, 5.127349259707502, -3.6449761396222318, 106.99286947958154, 83.92499961853028, 60.85712975747902, 9.678570883614677, 19.127431468938525, 33.83668500891036, -10.291075611005141, 179988620.0, 0.39478051445696954, '2026-02-07 06:00:17.928260', 'SLV')
2026-02-07 14:00:18,761 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 14:00:18,762 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:00:18,762 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:00:18,762 - sqlalchemy.engine.Engine - INFO - [cached since 807.5s ago] ('SLV',)
2026-02-07 14:00:18,763 - api_logger - INFO - rid=/api/portfolio/SLV/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=837.73ms
2026-02-07 14:00:18,764 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:00:18,777 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:00:18,777 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:00:18,777 - sqlalchemy.engine.Engine - INFO - [cached since 810.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:00:18,778 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 14:00:18,778 - sqlalchemy.engine.Engine - INFO - [cached since 807.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:00:18,780 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.66ms
2026-02-07 14:00:18,780 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:00:20,069 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:00:20,070 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:00:20,070 - sqlalchemy.engine.Engine - INFO - [cached since 812s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:00:20,072 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 14:00:20,073 - sqlalchemy.engine.Engine - INFO - [cached since 808.9s ago] ('SLV',)
2026-02-07 14:00:20,074 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:00:20,074 - sqlalchemy.engine.Engine - INFO - [cached since 810.2s ago] ('SLV',)
2026-02-07 14:00:20,075 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:00:20,075 - sqlalchemy.engine.Engine - INFO - [cached since 811.9s ago] ('SLV', 5, 0)
2026-02-07 14:00:20,077 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 14:00:20,077 - sqlalchemy.engine.Engine - INFO - [cached since 807.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV')
2026-02-07 14:00:20,078 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for SLV. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-07 14:00:20,078 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR SLV ---

         [SLV] 
        
        **1.  (Fundamental Context)**:
        - /: None / None
        - : 23966375936.0
        - PE (TTM): None | Forward PE: None
        - 52: [26.57, 109.83]
        - Beta: None
        
        **2.  (Portfolio Context)**:
        - : $78.0
        - : 35.0
        - : $-273.3500000000001 (-10.012820512820515%)
        
        **3.  (Technical Data)**:
        - : $70.19
        - : 5.25%
        - RSI (14): 43.5
        - MACD: 1.48 (: -3.64)
        - : [60.86, 106.99]
        - MA : [20: 83.92, 50: 69.49, 200: 44.96]
        - KDJ (K): 19.13 | ATR: 9.68
        
        **4.  (Recent News)**:
        [{'title': 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Friday Ahead of Consumer Sentiment Report', 'publisher': 'MT Newswires', 'time': '2026-02-06T13:57:47'}, {'title': 'SLV Plunged 35.6% in Five Days After Fed Chair Nomination Rattled Silver Markets', 'publisher': '24/7 Wall St.', 'time': '2026-02-05T15:32:00'}, {'title': 'Silver Prices Go on Another Wild Ride', 'publisher': 'The Wall Street Journal', 'time': '2026-02-05T14:37:34'}, {'title': 'Exchange-Traded Funds, Equity Futures Lower Pre-Bell Thursday Ahead of Amazon Earnings', 'publisher': 'MT Newswires', 'time': '2026-02-05T14:17:06'}, {'title': 'Why GLDs 74% Rally Turned Into a Mousetrap and What the Fed Chair Pick Means Now', 'publisher': '24/7 Wall St.', 'time': '2026-02-05T13:08:16'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (69.49)  (60.86)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "investment_horizon": " ( 2-5 /   /  -)",
            "confidence_level": 0-100 (AI ),
            "immediate_action": " (///)",
            "target_price": "/ (2)",
            "stop_loss_price": "/ (2)",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-07 14:00:42,207 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 14:00:42,210 - app.api.v1.endpoints.analysis - INFO - AI Response for SLV: {
    "sentiment_score": 52,
    "summary_status": "",
    "risk_level": "",
    "investment_horizon": " 2-5",
    "confidence_level": 68,
    "immediate_action": "",
    "target_price...
2026-02-07 14:00:42,211 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 14:00:42,211 - sqlalchemy.engine.Engine - INFO - [cached since 820.2s ago] ('41f63883-f9af-45b7-b727-ec4eb3b4d5f3', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', '{"market_data": {"current_price": 70.19, "change_percent": 5.25, "rsi_14": 43.5, "ma_20": 83.92, "ma_50": 69.49, "ma_200": 44.96, "macd_val": 1.48, " ... (94 characters truncated) ... ket_status": "OPEN"}, "portfolio_data": {"avg_cost": 78.0, "quantity": 35.0, "unrealized_pl": -273.3500000000001, "pl_percent": -10.012820512820515}}', '{\n    "sentiment_score": 52,\n    "summary_status": "",\n    "risk_level": "",\n    "investment_horizon": " 2-5",\n    "confidence_level ... (430 characters truncated) ... 01%5069.4960.86-13.27%ATR9.6822083.92+19.50%106.99"\n}', '52', '', '', '70.195069.490.70RSI 43.5MACD-3.64KDJK19.13106.9960.862083.92', '35.6%24/7 Wall St.PEBetaSLVETF', '10.01%5069.4960.86-13.27%ATR9.6822083.92+19.50%106.99', ' 2-5', 68.0, '', 83.92, 60.86, 'qwen-3-vl-thinking', '2026-02-07 06:00:42.211460')
2026-02-07 14:00:42,212 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 14:00:42,214 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:00:42,214 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 14:00:42,214 - sqlalchemy.engine.Engine - INFO - [cached since 820.2s ago] ('41f63883-f9af-45b7-b727-ec4eb3b4d5f3',)
2026-02-07 14:00:42,216 - api_logger - INFO - rid=/api/analysis/SLV method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=22149.78ms
2026-02-07 14:00:42,217 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:00:42,227 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:00:42,228 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:00:42,228 - sqlalchemy.engine.Engine - INFO - [cached since 834.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:00:42,229 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:00:42,229 - sqlalchemy.engine.Engine - INFO - [cached since 834.1s ago] ('SLV', 20, 0)
2026-02-07 14:00:42,231 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.71ms
2026-02-07 14:00:42,232 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:35,801 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:35,801 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:35,801 - sqlalchemy.engine.Engine - INFO - [cached since 887.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:35,802 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:35,802 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:35,802 - sqlalchemy.engine.Engine - INFO - [cached since 887.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:35,803 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:35,803 - sqlalchemy.engine.Engine - INFO - [cached since 887.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:35,804 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:35,804 - sqlalchemy.engine.Engine - INFO - [cached since 887.7s ago] ('SIDU', 20, 0)
2026-02-07 14:01:35,805 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:35,805 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.02ms
2026-02-07 14:01:35,806 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:35,807 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.12ms
2026-02-07 14:01:35,845 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:35,845 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:35,846 - sqlalchemy.engine.Engine - INFO - [cached since 887.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:35,846 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:35,846 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:35,846 - sqlalchemy.engine.Engine - INFO - [cached since 887.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:35,852 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:35,852 - sqlalchemy.engine.Engine - INFO - [cached since 887.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:35,853 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:35,853 - sqlalchemy.engine.Engine - INFO - [cached since 887.7s ago] ('SLV', 20, 0)
2026-02-07 14:01:35,855 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.49ms
2026-02-07 14:01:35,856 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.88ms
2026-02-07 14:01:35,856 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:35,856 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:35,900 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:35,900 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:35,900 - sqlalchemy.engine.Engine - INFO - [cached since 887.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:35,901 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:35,901 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:35,901 - sqlalchemy.engine.Engine - INFO - [cached since 887.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:35,902 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:35,902 - sqlalchemy.engine.Engine - INFO - [cached since 887.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:35,902 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:35,902 - sqlalchemy.engine.Engine - INFO - [cached since 887.8s ago] ('SIDU', 20, 0)
2026-02-07 14:01:35,902 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:35,903 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.34ms
2026-02-07 14:01:35,903 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:35,903 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.80ms
2026-02-07 14:01:36,256 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:36,257 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:36,257 - sqlalchemy.engine.Engine - INFO - [cached since 888.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:36,259 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:36,259 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:36,259 - sqlalchemy.engine.Engine - INFO - [cached since 888.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:36,261 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:36,261 - sqlalchemy.engine.Engine - INFO - [cached since 888.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:36,261 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:36,261 - sqlalchemy.engine.Engine - INFO - [cached since 888.1s ago] ('SLV', 20, 0)
2026-02-07 14:01:36,263 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.82ms
2026-02-07 14:01:36,265 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:36,265 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.76ms
2026-02-07 14:01:36,266 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:36,272 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:36,272 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:36,272 - sqlalchemy.engine.Engine - INFO - [cached since 888.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:36,273 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:36,273 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:36,273 - sqlalchemy.engine.Engine - INFO - [cached since 888.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:36,274 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:36,274 - sqlalchemy.engine.Engine - INFO - [cached since 888.1s ago] ('SIDU', 20, 0)
2026-02-07 14:01:36,274 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:36,274 - sqlalchemy.engine.Engine - INFO - [cached since 888.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:36,275 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:36,275 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.56ms
2026-02-07 14:01:36,275 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:36,276 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.94ms
2026-02-07 14:01:36,312 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:36,313 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:36,313 - sqlalchemy.engine.Engine - INFO - [cached since 888.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:36,314 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:36,315 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:36,315 - sqlalchemy.engine.Engine - INFO - [cached since 888.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:36,315 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:36,315 - sqlalchemy.engine.Engine - INFO - [cached since 888.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:36,316 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:36,316 - sqlalchemy.engine.Engine - INFO - [cached since 888.2s ago] ('SLV', 20, 0)
2026-02-07 14:01:36,316 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.37ms
2026-02-07 14:01:36,317 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:36,317 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.78ms
2026-02-07 14:01:36,318 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:37,128 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:37,128 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:37,128 - sqlalchemy.engine.Engine - INFO - [cached since 889s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:37,129 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:37,130 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:37,130 - sqlalchemy.engine.Engine - INFO - [cached since 889s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:37,130 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:37,130 - sqlalchemy.engine.Engine - INFO - [cached since 889s ago] ('SIDU', 20, 0)
2026-02-07 14:01:37,131 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:37,131 - sqlalchemy.engine.Engine - INFO - [cached since 889s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:37,132 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.02ms
2026-02-07 14:01:37,132 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:37,132 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:37,133 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.82ms
2026-02-07 14:01:37,168 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:37,169 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:37,169 - sqlalchemy.engine.Engine - INFO - [cached since 889s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:37,170 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:37,171 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:37,171 - sqlalchemy.engine.Engine - INFO - [cached since 889.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:37,172 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:37,173 - sqlalchemy.engine.Engine - INFO - [cached since 889.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:37,173 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:37,173 - sqlalchemy.engine.Engine - INFO - [cached since 889s ago] ('SLV', 20, 0)
2026-02-07 14:01:37,175 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.11ms
2026-02-07 14:01:37,175 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.93ms
2026-02-07 14:01:37,175 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:37,176 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:37,218 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:37,218 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:37,218 - sqlalchemy.engine.Engine - INFO - [cached since 889.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:37,220 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:37,220 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:37,220 - sqlalchemy.engine.Engine - INFO - [cached since 889.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:37,222 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:37,224 - sqlalchemy.engine.Engine - INFO - [cached since 889.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:37,225 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:37,225 - sqlalchemy.engine.Engine - INFO - [cached since 889.1s ago] ('SIDU', 20, 0)
2026-02-07 14:01:37,226 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:37,227 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.62ms
2026-02-07 14:01:37,229 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:37,229 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.13ms
2026-02-07 14:01:38,609 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:38,610 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:38,610 - sqlalchemy.engine.Engine - INFO - [cached since 890.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:38,610 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:38,610 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:38,610 - sqlalchemy.engine.Engine - INFO - [cached since 890.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:38,612 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:38,612 - sqlalchemy.engine.Engine - INFO - [cached since 890.5s ago] ('RKLB', 20, 0)
2026-02-07 14:01:38,612 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:38,612 - sqlalchemy.engine.Engine - INFO - [cached since 890.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:38,613 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.98ms
2026-02-07 14:01:38,614 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.91ms
2026-02-07 14:01:38,614 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:38,614 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:38,649 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:38,650 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:38,650 - sqlalchemy.engine.Engine - INFO - [cached since 890.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:38,650 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:38,651 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:38,651 - sqlalchemy.engine.Engine - INFO - [cached since 890.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:38,651 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:38,651 - sqlalchemy.engine.Engine - INFO - [cached since 890.5s ago] ('SIDU', 20, 0)
2026-02-07 14:01:38,652 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:38,652 - sqlalchemy.engine.Engine - INFO - [cached since 890.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:38,652 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.50ms
2026-02-07 14:01:38,653 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:38,653 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:38,653 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.46ms
2026-02-07 14:01:38,696 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:38,696 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:38,696 - sqlalchemy.engine.Engine - INFO - [cached since 890.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:38,696 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:38,697 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:38,697 - sqlalchemy.engine.Engine - INFO - [cached since 890.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:38,697 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:38,697 - sqlalchemy.engine.Engine - INFO - [cached since 890.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:38,698 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:38,698 - sqlalchemy.engine.Engine - INFO - [cached since 890.6s ago] ('RKLB', 20, 0)
2026-02-07 14:01:38,699 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.68ms
2026-02-07 14:01:38,699 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:38,700 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.64ms
2026-02-07 14:01:38,700 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:39,340 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:39,341 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:39,341 - sqlalchemy.engine.Engine - INFO - [cached since 891.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:39,342 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:39,342 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:39,343 - sqlalchemy.engine.Engine - INFO - [cached since 891.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:39,344 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:39,344 - sqlalchemy.engine.Engine - INFO - [cached since 891.2s ago] ('SIDU', 20, 0)
2026-02-07 14:01:39,345 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:39,345 - sqlalchemy.engine.Engine - INFO - [cached since 891.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:39,346 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:39,346 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.16ms
2026-02-07 14:01:39,347 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:39,347 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.49ms
2026-02-07 14:01:39,355 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:39,355 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:39,355 - sqlalchemy.engine.Engine - INFO - [cached since 891.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:39,355 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:39,355 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:39,355 - sqlalchemy.engine.Engine - INFO - [cached since 891.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:39,356 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:39,356 - sqlalchemy.engine.Engine - INFO - [cached since 891.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:39,356 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:39,356 - sqlalchemy.engine.Engine - INFO - [cached since 891.2s ago] ('RKLB', 20, 0)
2026-02-07 14:01:39,357 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.45ms
2026-02-07 14:01:39,358 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.47ms
2026-02-07 14:01:39,358 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:39,358 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:39,390 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:39,390 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:39,391 - sqlalchemy.engine.Engine - INFO - [cached since 891.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:39,392 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:39,393 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:39,393 - sqlalchemy.engine.Engine - INFO - [cached since 891.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:39,394 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:39,394 - sqlalchemy.engine.Engine - INFO - [cached since 891.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:39,394 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:39,394 - sqlalchemy.engine.Engine - INFO - [cached since 891.3s ago] ('SIDU', 20, 0)
2026-02-07 14:01:39,395 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:39,396 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.69ms
2026-02-07 14:01:39,397 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=13.91ms
2026-02-07 14:01:39,398 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:41,209 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:41,210 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:41,210 - sqlalchemy.engine.Engine - INFO - [cached since 893.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:41,211 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:41,211 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:41,211 - sqlalchemy.engine.Engine - INFO - [cached since 893.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:41,212 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:41,212 - sqlalchemy.engine.Engine - INFO - [cached since 893.1s ago] ('SLV', 20, 0)
2026-02-07 14:01:41,212 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:41,213 - sqlalchemy.engine.Engine - INFO - [cached since 893.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:41,213 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.27ms
2026-02-07 14:01:41,214 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.76ms
2026-02-07 14:01:41,214 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:41,215 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:41,251 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:41,251 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:41,251 - sqlalchemy.engine.Engine - INFO - [cached since 893.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:41,252 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:41,252 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:41,252 - sqlalchemy.engine.Engine - INFO - [cached since 893.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:41,253 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:41,253 - sqlalchemy.engine.Engine - INFO - [cached since 893.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:41,254 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:41,254 - sqlalchemy.engine.Engine - INFO - [cached since 893.1s ago] ('SIDU', 20, 0)
2026-02-07 14:01:41,255 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.14ms
2026-02-07 14:01:41,255 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:41,255 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:41,255 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.41ms
2026-02-07 14:01:41,297 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:41,298 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:41,298 - sqlalchemy.engine.Engine - INFO - [cached since 893.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:41,298 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:41,298 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:41,298 - sqlalchemy.engine.Engine - INFO - [cached since 893.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:41,299 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:41,299 - sqlalchemy.engine.Engine - INFO - [cached since 893.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:41,299 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:41,299 - sqlalchemy.engine.Engine - INFO - [cached since 893.2s ago] ('SLV', 20, 0)
2026-02-07 14:01:41,300 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.17ms
2026-02-07 14:01:41,300 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:41,301 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.74ms
2026-02-07 14:01:41,301 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:42,976 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:42,976 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:42,976 - sqlalchemy.engine.Engine - INFO - [cached since 894.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:42,977 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:42,977 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:42,977 - sqlalchemy.engine.Engine - INFO - [cached since 894.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:42,978 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:42,978 - sqlalchemy.engine.Engine - INFO - [cached since 894.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:42,978 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:42,978 - sqlalchemy.engine.Engine - INFO - [cached since 894.9s ago] ('SNDK', 20, 0)
2026-02-07 14:01:42,981 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.24ms
2026-02-07 14:01:42,983 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:42,984 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.52ms
2026-02-07 14:01:42,988 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:43,022 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:43,022 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:43,022 - sqlalchemy.engine.Engine - INFO - [cached since 894.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:43,023 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:43,023 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:43,023 - sqlalchemy.engine.Engine - INFO - [cached since 894.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:43,024 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:43,024 - sqlalchemy.engine.Engine - INFO - [cached since 894.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:43,025 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:43,025 - sqlalchemy.engine.Engine - INFO - [cached since 894.9s ago] ('SLV', 20, 0)
2026-02-07 14:01:43,025 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.22ms
2026-02-07 14:01:43,026 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.54ms
2026-02-07 14:01:43,026 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:43,026 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:43,073 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:43,073 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:43,073 - sqlalchemy.engine.Engine - INFO - [cached since 895s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:43,074 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:43,074 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:43,074 - sqlalchemy.engine.Engine - INFO - [cached since 895s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:43,076 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:43,076 - sqlalchemy.engine.Engine - INFO - [cached since 895s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:43,076 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:43,077 - sqlalchemy.engine.Engine - INFO - [cached since 895s ago] ('SNDK', 20, 0)
2026-02-07 14:01:43,077 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.41ms
2026-02-07 14:01:43,078 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:43,078 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.59ms
2026-02-07 14:01:43,078 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:44,113 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:44,113 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:44,113 - sqlalchemy.engine.Engine - INFO - [cached since 896s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:44,113 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:44,113 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:44,113 - sqlalchemy.engine.Engine - INFO - [cached since 896s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:44,114 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:44,114 - sqlalchemy.engine.Engine - INFO - [cached since 896s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'PG', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:44,114 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:44,114 - sqlalchemy.engine.Engine - INFO - [cached since 896s ago] ('PG', 20, 0)
2026-02-07 14:01:44,115 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:44,115 - api_logger - INFO - rid=/api/portfolio/PG/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.95ms
2026-02-07 14:01:44,115 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:44,115 - api_logger - INFO - rid=/api/analysis/PG method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.71ms
2026-02-07 14:01:44,147 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:44,147 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:44,148 - sqlalchemy.engine.Engine - INFO - [cached since 896s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:44,148 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:44,148 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:44,148 - sqlalchemy.engine.Engine - INFO - [cached since 896s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:44,149 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:44,150 - sqlalchemy.engine.Engine - INFO - [cached since 896s ago] ('SNDK', 20, 0)
2026-02-07 14:01:44,150 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:44,150 - sqlalchemy.engine.Engine - INFO - [cached since 896s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:44,151 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.61ms
2026-02-07 14:01:44,152 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:44,152 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.54ms
2026-02-07 14:01:44,153 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:44,193 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:44,193 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:44,193 - sqlalchemy.engine.Engine - INFO - [cached since 896.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:44,195 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:44,195 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:44,195 - sqlalchemy.engine.Engine - INFO - [cached since 896.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:44,196 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:44,197 - sqlalchemy.engine.Engine - INFO - [cached since 896.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'PG', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:44,197 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:44,198 - sqlalchemy.engine.Engine - INFO - [cached since 896.1s ago] ('PG', 20, 0)
2026-02-07 14:01:44,198 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:44,199 - api_logger - INFO - rid=/api/analysis/PG method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.32ms
2026-02-07 14:01:44,200 - api_logger - INFO - rid=/api/portfolio/PG/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.90ms
2026-02-07 14:01:44,200 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:44,893 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:44,893 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:44,893 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:44,894 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:44,894 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:44,894 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:44,895 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:44,896 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:44,896 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:44,896 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] ('RKLB', 20, 0)
2026-02-07 14:01:44,897 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.74ms
2026-02-07 14:01:44,898 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:44,899 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.03ms
2026-02-07 14:01:44,900 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:44,909 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:44,909 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:44,909 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:44,909 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:44,909 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:44,909 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:44,911 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:44,911 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] ('PG', 20, 0)
2026-02-07 14:01:44,911 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:44,911 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'PG', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:44,912 - api_logger - INFO - rid=/api/portfolio/PG/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.99ms
2026-02-07 14:01:44,912 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:44,913 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:44,913 - api_logger - INFO - rid=/api/analysis/PG method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.12ms
2026-02-07 14:01:44,959 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:44,959 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:44,959 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:44,959 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:44,960 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:44,960 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:44,963 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:44,964 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] ('RKLB', 20, 0)
2026-02-07 14:01:44,964 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:44,965 - sqlalchemy.engine.Engine - INFO - [cached since 896.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:44,966 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.10ms
2026-02-07 14:01:44,966 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.93ms
2026-02-07 14:01:44,966 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:44,967 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:45,625 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:45,626 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:45,626 - sqlalchemy.engine.Engine - INFO - [cached since 897.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:45,627 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:45,630 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:45,630 - sqlalchemy.engine.Engine - INFO - [cached since 897.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:45,632 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:45,632 - sqlalchemy.engine.Engine - INFO - [cached since 897.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'PG', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:45,632 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:45,632 - sqlalchemy.engine.Engine - INFO - [cached since 897.5s ago] ('PG', 20, 0)
2026-02-07 14:01:45,634 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:45,635 - api_logger - INFO - rid=/api/portfolio/PG/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.85ms
2026-02-07 14:01:45,638 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:45,638 - api_logger - INFO - rid=/api/analysis/PG method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.81ms
2026-02-07 14:01:45,668 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:45,668 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:45,668 - sqlalchemy.engine.Engine - INFO - [cached since 897.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:45,669 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:45,670 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:45,670 - sqlalchemy.engine.Engine - INFO - [cached since 897.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:45,671 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:45,671 - sqlalchemy.engine.Engine - INFO - [cached since 897.5s ago] ('RKLB', 20, 0)
2026-02-07 14:01:45,671 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:45,671 - sqlalchemy.engine.Engine - INFO - [cached since 897.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:45,671 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.48ms
2026-02-07 14:01:45,672 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.45ms
2026-02-07 14:01:45,672 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:45,673 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:45,718 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:45,719 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:45,720 - sqlalchemy.engine.Engine - INFO - [cached since 897.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:45,722 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:45,722 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:45,722 - sqlalchemy.engine.Engine - INFO - [cached since 897.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:45,724 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:45,724 - sqlalchemy.engine.Engine - INFO - [cached since 897.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'PG', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:45,725 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:45,726 - sqlalchemy.engine.Engine - INFO - [cached since 897.6s ago] ('PG', 20, 0)
2026-02-07 14:01:45,726 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:45,727 - api_logger - INFO - rid=/api/portfolio/PG/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.72ms
2026-02-07 14:01:45,727 - api_logger - INFO - rid=/api/analysis/PG method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.27ms
2026-02-07 14:01:45,728 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:46,291 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:46,291 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:46,291 - sqlalchemy.engine.Engine - INFO - [cached since 898.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:46,292 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:46,293 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:46,293 - sqlalchemy.engine.Engine - INFO - [cached since 898.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:46,294 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:46,294 - sqlalchemy.engine.Engine - INFO - [cached since 898.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:46,295 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:46,295 - sqlalchemy.engine.Engine - INFO - [cached since 898.2s ago] ('SIDU', 20, 0)
2026-02-07 14:01:46,297 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.95ms
2026-02-07 14:01:46,297 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:46,298 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:46,298 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.62ms
2026-02-07 14:01:46,303 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:46,303 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:46,303 - sqlalchemy.engine.Engine - INFO - [cached since 898.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:46,304 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:46,304 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:46,304 - sqlalchemy.engine.Engine - INFO - [cached since 898.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:46,305 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:46,305 - sqlalchemy.engine.Engine - INFO - [cached since 898.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'PG', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:46,305 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:46,305 - sqlalchemy.engine.Engine - INFO - [cached since 898.2s ago] ('PG', 20, 0)
2026-02-07 14:01:46,306 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:46,308 - api_logger - INFO - rid=/api/portfolio/PG/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.83ms
2026-02-07 14:01:46,309 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:46,310 - api_logger - INFO - rid=/api/analysis/PG method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.18ms
2026-02-07 14:01:46,326 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:46,327 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:46,327 - sqlalchemy.engine.Engine - INFO - [cached since 898.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:46,327 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:46,328 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:46,328 - sqlalchemy.engine.Engine - INFO - [cached since 898.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:46,329 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:46,329 - sqlalchemy.engine.Engine - INFO - [cached since 898.2s ago] ('SIDU', 20, 0)
2026-02-07 14:01:46,330 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:46,330 - sqlalchemy.engine.Engine - INFO - [cached since 898.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:46,332 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:46,332 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.19ms
2026-02-07 14:01:46,333 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:46,333 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.46ms
2026-02-07 14:01:46,992 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:46,992 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:46,992 - sqlalchemy.engine.Engine - INFO - [cached since 898.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:46,992 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:46,992 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:46,992 - sqlalchemy.engine.Engine - INFO - [cached since 898.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:46,994 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:46,994 - sqlalchemy.engine.Engine - INFO - [cached since 898.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:46,994 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:46,994 - sqlalchemy.engine.Engine - INFO - [cached since 898.9s ago] ('SLV', 20, 0)
2026-02-07 14:01:46,995 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.01ms
2026-02-07 14:01:46,996 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:46,996 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.79ms
2026-02-07 14:01:46,996 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:47,033 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:47,033 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:47,033 - sqlalchemy.engine.Engine - INFO - [cached since 898.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:47,034 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:47,034 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:47,034 - sqlalchemy.engine.Engine - INFO - [cached since 898.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:47,035 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:47,035 - sqlalchemy.engine.Engine - INFO - [cached since 898.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:47,035 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:47,035 - sqlalchemy.engine.Engine - INFO - [cached since 898.9s ago] ('SIDU', 20, 0)
2026-02-07 14:01:47,037 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:47,038 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.14ms
2026-02-07 14:01:47,039 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:47,039 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.92ms
2026-02-07 14:01:47,090 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:47,091 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:47,091 - sqlalchemy.engine.Engine - INFO - [cached since 899s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:47,091 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:47,091 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:47,091 - sqlalchemy.engine.Engine - INFO - [cached since 899s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:47,092 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:47,092 - sqlalchemy.engine.Engine - INFO - [cached since 899s ago] ('SLV', 20, 0)
2026-02-07 14:01:47,093 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:47,093 - sqlalchemy.engine.Engine - INFO - [cached since 899s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:47,093 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.92ms
2026-02-07 14:01:47,096 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:47,096 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.04ms
2026-02-07 14:01:47,096 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:49,128 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:49,128 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:49,128 - sqlalchemy.engine.Engine - INFO - [cached since 901s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:49,129 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:49,129 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:49,129 - sqlalchemy.engine.Engine - INFO - [cached since 901s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:49,130 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:49,130 - sqlalchemy.engine.Engine - INFO - [cached since 901s ago] ('SIDU', 20, 0)
2026-02-07 14:01:49,131 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:49,131 - sqlalchemy.engine.Engine - INFO - [cached since 901s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:49,132 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.92ms
2026-02-07 14:01:49,133 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:49,133 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:49,133 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.24ms
2026-02-07 14:01:49,182 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:49,182 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:49,182 - sqlalchemy.engine.Engine - INFO - [cached since 901.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:49,183 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:49,183 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:49,183 - sqlalchemy.engine.Engine - INFO - [cached since 901.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:49,185 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:49,185 - sqlalchemy.engine.Engine - INFO - [cached since 901.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:49,185 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:49,185 - sqlalchemy.engine.Engine - INFO - [cached since 901.1s ago] ('SLV', 20, 0)
2026-02-07 14:01:49,187 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.43ms
2026-02-07 14:01:49,189 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:49,189 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.96ms
2026-02-07 14:01:49,190 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:49,231 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:49,232 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:49,232 - sqlalchemy.engine.Engine - INFO - [cached since 901.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:49,233 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:49,234 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:49,234 - sqlalchemy.engine.Engine - INFO - [cached since 901.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:49,236 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:49,237 - sqlalchemy.engine.Engine - INFO - [cached since 901.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:49,238 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:49,238 - sqlalchemy.engine.Engine - INFO - [cached since 901.1s ago] ('SIDU', 20, 0)
2026-02-07 14:01:49,239 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:49,241 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.58ms
2026-02-07 14:01:49,241 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.04ms
2026-02-07 14:01:49,242 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:50,176 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:50,177 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:50,177 - sqlalchemy.engine.Engine - INFO - [cached since 902.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:50,178 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:50,178 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:50,178 - sqlalchemy.engine.Engine - INFO - [cached since 902.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:50,179 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:50,179 - sqlalchemy.engine.Engine - INFO - [cached since 902.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:50,179 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:50,179 - sqlalchemy.engine.Engine - INFO - [cached since 902.1s ago] ('SLV', 20, 0)
2026-02-07 14:01:50,181 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.72ms
2026-02-07 14:01:50,181 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:50,182 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.52ms
2026-02-07 14:01:50,182 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:50,215 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:50,216 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:50,216 - sqlalchemy.engine.Engine - INFO - [cached since 902.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:50,216 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:50,216 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:50,216 - sqlalchemy.engine.Engine - INFO - [cached since 902.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:50,217 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:50,217 - sqlalchemy.engine.Engine - INFO - [cached since 902.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:50,217 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:50,217 - sqlalchemy.engine.Engine - INFO - [cached since 902.1s ago] ('SIDU', 20, 0)
2026-02-07 14:01:50,218 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:50,218 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.24ms
2026-02-07 14:01:50,219 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:50,219 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.72ms
2026-02-07 14:01:50,262 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:50,262 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:50,262 - sqlalchemy.engine.Engine - INFO - [cached since 902.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:50,263 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:50,263 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:50,264 - sqlalchemy.engine.Engine - INFO - [cached since 902.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:50,266 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:50,266 - sqlalchemy.engine.Engine - INFO - [cached since 902.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:50,266 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:50,266 - sqlalchemy.engine.Engine - INFO - [cached since 902.1s ago] ('SLV', 20, 0)
2026-02-07 14:01:50,267 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.61ms
2026-02-07 14:01:50,270 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:50,270 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.56ms
2026-02-07 14:01:50,271 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:51,009 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:51,010 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:51,010 - sqlalchemy.engine.Engine - INFO - [cached since 902.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:51,011 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:51,011 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:51,011 - sqlalchemy.engine.Engine - INFO - [cached since 902.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:51,012 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:51,012 - sqlalchemy.engine.Engine - INFO - [cached since 902.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:51,013 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:51,013 - sqlalchemy.engine.Engine - INFO - [cached since 902.9s ago] ('SIDU', 20, 0)
2026-02-07 14:01:51,014 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:51,015 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.24ms
2026-02-07 14:01:51,016 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.62ms
2026-02-07 14:01:51,016 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:51,025 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:51,025 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:51,025 - sqlalchemy.engine.Engine - INFO - [cached since 902.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:51,025 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:51,025 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:51,025 - sqlalchemy.engine.Engine - INFO - [cached since 902.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:51,026 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:51,026 - sqlalchemy.engine.Engine - INFO - [cached since 902.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:51,026 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:51,026 - sqlalchemy.engine.Engine - INFO - [cached since 902.9s ago] ('SLV', 20, 0)
2026-02-07 14:01:51,027 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.36ms
2026-02-07 14:01:51,028 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.67ms
2026-02-07 14:01:51,028 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:51,028 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:51,080 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:51,080 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:51,081 - sqlalchemy.engine.Engine - INFO - [cached since 903s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:51,082 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:51,082 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:51,082 - sqlalchemy.engine.Engine - INFO - [cached since 903s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:51,083 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:51,083 - sqlalchemy.engine.Engine - INFO - [cached since 903s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:51,084 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:51,084 - sqlalchemy.engine.Engine - INFO - [cached since 903s ago] ('SIDU', 20, 0)
2026-02-07 14:01:51,085 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:51,085 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.08ms
2026-02-07 14:01:51,086 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:51,086 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.30ms
2026-02-07 14:01:51,926 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:51,927 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:51,927 - sqlalchemy.engine.Engine - INFO - [cached since 903.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:51,928 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:51,928 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:51,928 - sqlalchemy.engine.Engine - INFO - [cached since 903.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:51,929 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:51,929 - sqlalchemy.engine.Engine - INFO - [cached since 903.8s ago] ('SLV', 20, 0)
2026-02-07 14:01:51,929 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:51,929 - sqlalchemy.engine.Engine - INFO - [cached since 903.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:51,930 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.61ms
2026-02-07 14:01:51,931 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:51,931 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.19ms
2026-02-07 14:01:51,932 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:51,971 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:51,971 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:51,971 - sqlalchemy.engine.Engine - INFO - [cached since 903.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:51,972 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:51,972 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:51,972 - sqlalchemy.engine.Engine - INFO - [cached since 903.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:51,972 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:51,973 - sqlalchemy.engine.Engine - INFO - [cached since 903.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:51,973 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:51,973 - sqlalchemy.engine.Engine - INFO - [cached since 903.8s ago] ('SIDU', 20, 0)
2026-02-07 14:01:51,974 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:51,974 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.35ms
2026-02-07 14:01:51,974 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:51,974 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.02ms
2026-02-07 14:01:52,024 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:52,025 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:52,025 - sqlalchemy.engine.Engine - INFO - [cached since 903.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:52,026 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:52,026 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:52,026 - sqlalchemy.engine.Engine - INFO - [cached since 903.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:52,027 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:52,027 - sqlalchemy.engine.Engine - INFO - [cached since 903.9s ago] ('SLV', 20, 0)
2026-02-07 14:01:52,027 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:52,027 - sqlalchemy.engine.Engine - INFO - [cached since 903.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:52,028 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.13ms
2026-02-07 14:01:52,029 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.87ms
2026-02-07 14:01:52,030 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:52,031 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:53,778 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:53,779 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:53,779 - sqlalchemy.engine.Engine - INFO - [cached since 905.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:53,780 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:53,781 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:53,781 - sqlalchemy.engine.Engine - INFO - [cached since 905.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:53,782 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:53,782 - sqlalchemy.engine.Engine - INFO - [cached since 905.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:53,783 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:53,783 - sqlalchemy.engine.Engine - INFO - [cached since 905.7s ago] ('SNDK', 20, 0)
2026-02-07 14:01:53,784 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.90ms
2026-02-07 14:01:53,785 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:53,787 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.87ms
2026-02-07 14:01:53,788 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:53,830 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:53,830 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:53,830 - sqlalchemy.engine.Engine - INFO - [cached since 905.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:53,831 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:53,831 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:53,831 - sqlalchemy.engine.Engine - INFO - [cached since 905.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:53,833 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:53,833 - sqlalchemy.engine.Engine - INFO - [cached since 905.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:53,833 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:53,833 - sqlalchemy.engine.Engine - INFO - [cached since 905.7s ago] ('SLV', 20, 0)
2026-02-07 14:01:53,834 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.05ms
2026-02-07 14:01:53,834 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:53,834 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.98ms
2026-02-07 14:01:53,835 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:53,880 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:53,880 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:53,880 - sqlalchemy.engine.Engine - INFO - [cached since 905.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:53,880 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:53,881 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:53,881 - sqlalchemy.engine.Engine - INFO - [cached since 905.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:53,882 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:53,882 - sqlalchemy.engine.Engine - INFO - [cached since 905.8s ago] ('SNDK', 20, 0)
2026-02-07 14:01:53,882 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:53,882 - sqlalchemy.engine.Engine - INFO - [cached since 905.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:53,883 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.83ms
2026-02-07 14:01:53,884 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:53,884 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.85ms
2026-02-07 14:01:53,885 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:54,897 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:54,898 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:54,898 - sqlalchemy.engine.Engine - INFO - [cached since 906.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:54,900 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:54,900 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:54,900 - sqlalchemy.engine.Engine - INFO - [cached since 906.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:54,901 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:54,901 - sqlalchemy.engine.Engine - INFO - [cached since 906.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:54,901 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:54,901 - sqlalchemy.engine.Engine - INFO - [cached since 906.8s ago] ('SLV', 20, 0)
2026-02-07 14:01:54,903 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.36ms
2026-02-07 14:01:54,904 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.04ms
2026-02-07 14:01:54,904 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:54,904 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:54,938 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:54,938 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:54,938 - sqlalchemy.engine.Engine - INFO - [cached since 906.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:54,939 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:54,939 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:54,939 - sqlalchemy.engine.Engine - INFO - [cached since 906.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:54,939 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:54,939 - sqlalchemy.engine.Engine - INFO - [cached since 906.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:54,940 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:54,940 - sqlalchemy.engine.Engine - INFO - [cached since 906.8s ago] ('SNDK', 20, 0)
2026-02-07 14:01:54,940 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.11ms
2026-02-07 14:01:54,941 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:54,941 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.60ms
2026-02-07 14:01:54,941 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:54,986 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:54,987 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:54,987 - sqlalchemy.engine.Engine - INFO - [cached since 906.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:54,988 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:54,988 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:54,988 - sqlalchemy.engine.Engine - INFO - [cached since 906.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:54,990 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:54,990 - sqlalchemy.engine.Engine - INFO - [cached since 906.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:54,990 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:54,991 - sqlalchemy.engine.Engine - INFO - [cached since 906.9s ago] ('SLV', 20, 0)
2026-02-07 14:01:54,992 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.99ms
2026-02-07 14:01:54,993 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:54,993 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.46ms
2026-02-07 14:01:54,994 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:56,444 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:56,444 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:56,444 - sqlalchemy.engine.Engine - INFO - [cached since 908.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:56,445 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:56,445 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:56,445 - sqlalchemy.engine.Engine - INFO - [cached since 908.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:56,446 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:56,446 - sqlalchemy.engine.Engine - INFO - [cached since 908.3s ago] ('SIDU', 20, 0)
2026-02-07 14:01:56,447 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:56,447 - sqlalchemy.engine.Engine - INFO - [cached since 908.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:56,448 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:56,448 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.32ms
2026-02-07 14:01:56,448 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:56,449 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.08ms
2026-02-07 14:01:56,495 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:56,496 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:56,496 - sqlalchemy.engine.Engine - INFO - [cached since 908.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:56,496 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:56,496 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:56,496 - sqlalchemy.engine.Engine - INFO - [cached since 908.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:56,497 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:56,498 - sqlalchemy.engine.Engine - INFO - [cached since 908.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:56,498 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:56,498 - sqlalchemy.engine.Engine - INFO - [cached since 908.4s ago] ('SLV', 20, 0)
2026-02-07 14:01:56,499 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.81ms
2026-02-07 14:01:56,499 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:56,499 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.77ms
2026-02-07 14:01:56,500 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:56,542 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:56,543 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:56,543 - sqlalchemy.engine.Engine - INFO - [cached since 908.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:56,544 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:56,544 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:56,544 - sqlalchemy.engine.Engine - INFO - [cached since 908.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:56,545 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:56,545 - sqlalchemy.engine.Engine - INFO - [cached since 908.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:56,546 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:56,546 - sqlalchemy.engine.Engine - INFO - [cached since 908.4s ago] ('SIDU', 20, 0)
2026-02-07 14:01:56,547 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:56,548 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.15ms
2026-02-07 14:01:56,548 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.06ms
2026-02-07 14:01:56,548 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:57,484 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:57,484 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:57,485 - sqlalchemy.engine.Engine - INFO - [cached since 909.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:57,485 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:57,486 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:57,486 - sqlalchemy.engine.Engine - INFO - [cached since 909.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:57,487 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:57,487 - sqlalchemy.engine.Engine - INFO - [cached since 909.4s ago] ('SLV', 20, 0)
2026-02-07 14:01:57,488 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:57,488 - sqlalchemy.engine.Engine - INFO - [cached since 909.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:57,488 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.09ms
2026-02-07 14:01:57,489 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:57,489 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.68ms
2026-02-07 14:01:57,490 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:57,527 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:57,527 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:57,527 - sqlalchemy.engine.Engine - INFO - [cached since 909.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:57,527 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:57,527 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:57,527 - sqlalchemy.engine.Engine - INFO - [cached since 909.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:57,528 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:57,528 - sqlalchemy.engine.Engine - INFO - [cached since 909.4s ago] ('SIDU', 20, 0)
2026-02-07 14:01:57,528 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:57,528 - sqlalchemy.engine.Engine - INFO - [cached since 909.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:57,529 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:57,529 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.57ms
2026-02-07 14:01:57,530 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:57,530 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.34ms
2026-02-07 14:01:57,575 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:57,575 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:57,575 - sqlalchemy.engine.Engine - INFO - [cached since 909.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:57,576 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:57,576 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:57,576 - sqlalchemy.engine.Engine - INFO - [cached since 909.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:57,578 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:57,578 - sqlalchemy.engine.Engine - INFO - [cached since 909.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:57,579 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:57,579 - sqlalchemy.engine.Engine - INFO - [cached since 909.5s ago] ('SLV', 20, 0)
2026-02-07 14:01:57,581 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.30ms
2026-02-07 14:01:57,581 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.48ms
2026-02-07 14:01:57,582 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:57,582 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:58,458 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:58,458 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:58,459 - sqlalchemy.engine.Engine - INFO - [cached since 910.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:58,460 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:58,460 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:58,460 - sqlalchemy.engine.Engine - INFO - [cached since 910.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:58,462 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:58,462 - sqlalchemy.engine.Engine - INFO - [cached since 910.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:58,463 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:58,463 - sqlalchemy.engine.Engine - INFO - [cached since 910.3s ago] ('SIDU', 20, 0)
2026-02-07 14:01:58,464 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:58,465 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.53ms
2026-02-07 14:01:58,466 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:58,466 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.24ms
2026-02-07 14:01:58,498 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:58,499 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:58,499 - sqlalchemy.engine.Engine - INFO - [cached since 910.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:58,500 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:58,500 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:58,500 - sqlalchemy.engine.Engine - INFO - [cached since 910.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:58,502 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:58,502 - sqlalchemy.engine.Engine - INFO - [cached since 910.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:58,503 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:58,503 - sqlalchemy.engine.Engine - INFO - [cached since 910.4s ago] ('SLV', 20, 0)
2026-02-07 14:01:58,504 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.91ms
2026-02-07 14:01:58,505 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:58,505 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.18ms
2026-02-07 14:01:58,505 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:58,567 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:58,567 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:58,567 - sqlalchemy.engine.Engine - INFO - [cached since 910.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:58,569 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:58,570 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:58,570 - sqlalchemy.engine.Engine - INFO - [cached since 910.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:58,572 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:58,572 - sqlalchemy.engine.Engine - INFO - [cached since 910.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:58,573 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:58,573 - sqlalchemy.engine.Engine - INFO - [cached since 910.4s ago] ('SIDU', 20, 0)
2026-02-07 14:01:58,574 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:58,575 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.74ms
2026-02-07 14:01:58,576 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:58,577 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.06ms
2026-02-07 14:01:59,094 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:59,094 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:59,094 - sqlalchemy.engine.Engine - INFO - [cached since 911s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:59,095 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:59,095 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:59,095 - sqlalchemy.engine.Engine - INFO - [cached since 911s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:59,097 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:59,097 - sqlalchemy.engine.Engine - INFO - [cached since 911s ago] ('SLV', 20, 0)
2026-02-07 14:01:59,098 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:59,098 - sqlalchemy.engine.Engine - INFO - [cached since 911s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:59,099 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.93ms
2026-02-07 14:01:59,101 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:59,101 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.48ms
2026-02-07 14:01:59,101 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:59,109 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:59,109 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:59,109 - sqlalchemy.engine.Engine - INFO - [cached since 911s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:59,109 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:59,109 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:59,109 - sqlalchemy.engine.Engine - INFO - [cached since 911s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:59,110 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:59,110 - sqlalchemy.engine.Engine - INFO - [cached since 911s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:59,111 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:59,111 - sqlalchemy.engine.Engine - INFO - [cached since 911s ago] ('SIDU', 20, 0)
2026-02-07 14:01:59,111 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:59,112 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.65ms
2026-02-07 14:01:59,112 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:59,112 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.79ms
2026-02-07 14:01:59,155 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:59,155 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:59,155 - sqlalchemy.engine.Engine - INFO - [cached since 911s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:59,157 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:59,157 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:59,157 - sqlalchemy.engine.Engine - INFO - [cached since 911s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:59,158 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:59,158 - sqlalchemy.engine.Engine - INFO - [cached since 911s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:59,159 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:59,159 - sqlalchemy.engine.Engine - INFO - [cached since 911s ago] ('SLV', 20, 0)
2026-02-07 14:01:59,159 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.32ms
2026-02-07 14:01:59,160 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:59,160 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.66ms
2026-02-07 14:01:59,161 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:59,976 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:59,976 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:59,976 - sqlalchemy.engine.Engine - INFO - [cached since 911.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:59,977 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:01:59,977 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:01:59,977 - sqlalchemy.engine.Engine - INFO - [cached since 911.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:01:59,978 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:59,978 - sqlalchemy.engine.Engine - INFO - [cached since 911.9s ago] ('SIDU', 20, 0)
2026-02-07 14:01:59,979 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:01:59,979 - sqlalchemy.engine.Engine - INFO - [cached since 911.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:01:59,979 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:59,980 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.89ms
2026-02-07 14:01:59,980 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:01:59,980 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.82ms
2026-02-07 14:02:00,016 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:00,016 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:00,016 - sqlalchemy.engine.Engine - INFO - [cached since 911.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:00,016 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:00,017 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:00,017 - sqlalchemy.engine.Engine - INFO - [cached since 911.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:00,017 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:00,017 - sqlalchemy.engine.Engine - INFO - [cached since 911.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:02:00,018 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:00,018 - sqlalchemy.engine.Engine - INFO - [cached since 911.9s ago] ('SLV', 20, 0)
2026-02-07 14:02:00,018 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.95ms
2026-02-07 14:02:00,020 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:00,020 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.55ms
2026-02-07 14:02:00,020 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:00,061 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:00,061 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:00,061 - sqlalchemy.engine.Engine - INFO - [cached since 911.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:00,062 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:00,062 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:00,062 - sqlalchemy.engine.Engine - INFO - [cached since 911.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:00,064 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:00,064 - sqlalchemy.engine.Engine - INFO - [cached since 911.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:02:00,065 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:00,065 - sqlalchemy.engine.Engine - INFO - [cached since 911.9s ago] ('SIDU', 20, 0)
2026-02-07 14:02:00,065 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:00,066 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.06ms
2026-02-07 14:02:00,067 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.28ms
2026-02-07 14:02:00,067 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:01,068 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:01,068 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:01,068 - sqlalchemy.engine.Engine - INFO - [cached since 912.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:01,069 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:01,069 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:01,069 - sqlalchemy.engine.Engine - INFO - [cached since 912.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:01,071 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:01,071 - sqlalchemy.engine.Engine - INFO - [cached since 912.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:02:01,071 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:01,071 - sqlalchemy.engine.Engine - INFO - [cached since 912.9s ago] ('SLV', 20, 0)
2026-02-07 14:02:01,072 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.22ms
2026-02-07 14:02:01,072 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:01,073 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.86ms
2026-02-07 14:02:01,074 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:01,112 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:01,112 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:01,112 - sqlalchemy.engine.Engine - INFO - [cached since 913s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:01,113 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:01,113 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:01,113 - sqlalchemy.engine.Engine - INFO - [cached since 913s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:01,114 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:01,115 - sqlalchemy.engine.Engine - INFO - [cached since 913s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:02:01,115 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:01,115 - sqlalchemy.engine.Engine - INFO - [cached since 913s ago] ('SIDU', 20, 0)
2026-02-07 14:02:01,115 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:01,116 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.12ms
2026-02-07 14:02:01,116 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:01,116 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.68ms
2026-02-07 14:02:01,160 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:01,160 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:01,160 - sqlalchemy.engine.Engine - INFO - [cached since 913s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:01,161 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:01,162 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:01,162 - sqlalchemy.engine.Engine - INFO - [cached since 913s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:01,163 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:01,163 - sqlalchemy.engine.Engine - INFO - [cached since 913s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:02:01,164 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:01,164 - sqlalchemy.engine.Engine - INFO - [cached since 913s ago] ('SLV', 20, 0)
2026-02-07 14:02:01,165 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.65ms
2026-02-07 14:02:01,166 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:01,167 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.03ms
2026-02-07 14:02:01,167 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:02,162 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:02,163 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:02,163 - sqlalchemy.engine.Engine - INFO - [cached since 914s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:02,164 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:02,164 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:02,164 - sqlalchemy.engine.Engine - INFO - [cached since 914s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:02,165 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:02,165 - sqlalchemy.engine.Engine - INFO - [cached since 914s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:02:02,165 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:02,165 - sqlalchemy.engine.Engine - INFO - [cached since 914s ago] ('SIDU', 20, 0)
2026-02-07 14:02:02,166 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:02,166 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.89ms
2026-02-07 14:02:02,166 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.07ms
2026-02-07 14:02:02,167 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:02,201 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:02,202 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:02,202 - sqlalchemy.engine.Engine - INFO - [cached since 914.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:02,202 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:02,202 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:02,202 - sqlalchemy.engine.Engine - INFO - [cached since 914.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:02,203 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:02,203 - sqlalchemy.engine.Engine - INFO - [cached since 914.1s ago] ('SLV', 20, 0)
2026-02-07 14:02:02,203 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:02,203 - sqlalchemy.engine.Engine - INFO - [cached since 914.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:02:02,204 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.80ms
2026-02-07 14:02:02,204 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:02,204 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.70ms
2026-02-07 14:02:02,205 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:02,244 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:02,245 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:02,246 - sqlalchemy.engine.Engine - INFO - [cached since 914.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:02,248 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:02,248 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:02,248 - sqlalchemy.engine.Engine - INFO - [cached since 914.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:02,250 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:02,250 - sqlalchemy.engine.Engine - INFO - [cached since 914.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:02:02,251 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:02,251 - sqlalchemy.engine.Engine - INFO - [cached since 914.1s ago] ('SIDU', 20, 0)
2026-02-07 14:02:02,252 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:02,253 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.54ms
2026-02-07 14:02:02,254 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:02,254 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.48ms
2026-02-07 14:02:03,533 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:03,533 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:03,533 - sqlalchemy.engine.Engine - INFO - [cached since 915.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:03,534 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:03,534 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:03,534 - sqlalchemy.engine.Engine - INFO - [cached since 915.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:03,536 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:03,536 - sqlalchemy.engine.Engine - INFO - [cached since 915.4s ago] ('RKLB', 20, 0)
2026-02-07 14:02:03,537 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:03,537 - sqlalchemy.engine.Engine - INFO - [cached since 915.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:02:03,539 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.65ms
2026-02-07 14:02:03,539 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.74ms
2026-02-07 14:02:03,540 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:03,540 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:03,582 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:03,582 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:03,582 - sqlalchemy.engine.Engine - INFO - [cached since 915.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:03,582 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:03,583 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:03,583 - sqlalchemy.engine.Engine - INFO - [cached since 915.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:03,583 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:03,584 - sqlalchemy.engine.Engine - INFO - [cached since 915.5s ago] ('SIDU', 20, 0)
2026-02-07 14:02:03,584 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:03,584 - sqlalchemy.engine.Engine - INFO - [cached since 915.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:02:03,584 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:03,585 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.53ms
2026-02-07 14:02:03,585 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:03,585 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.38ms
2026-02-07 14:02:03,628 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:03,629 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:03,629 - sqlalchemy.engine.Engine - INFO - [cached since 915.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:03,629 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:03,630 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:03,630 - sqlalchemy.engine.Engine - INFO - [cached since 915.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:03,631 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:03,631 - sqlalchemy.engine.Engine - INFO - [cached since 915.5s ago] ('RKLB', 20, 0)
2026-02-07 14:02:03,632 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:03,632 - sqlalchemy.engine.Engine - INFO - [cached since 915.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:02:03,634 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.30ms
2026-02-07 14:02:03,634 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.45ms
2026-02-07 14:02:03,634 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:03,635 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:05,178 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:05,178 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:05,178 - sqlalchemy.engine.Engine - INFO - [cached since 917.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:05,179 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:05,179 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:05,179 - sqlalchemy.engine.Engine - INFO - [cached since 917.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:05,179 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:05,179 - sqlalchemy.engine.Engine - INFO - [cached since 917.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:02:05,180 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:05,180 - sqlalchemy.engine.Engine - INFO - [cached since 917.1s ago] ('SLV', 20, 0)
2026-02-07 14:02:05,180 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.53ms
2026-02-07 14:02:05,180 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:05,181 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.42ms
2026-02-07 14:02:05,181 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:05,232 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:05,232 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:05,232 - sqlalchemy.engine.Engine - INFO - [cached since 917.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:05,233 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:05,233 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:05,233 - sqlalchemy.engine.Engine - INFO - [cached since 917.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:05,234 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:05,234 - sqlalchemy.engine.Engine - INFO - [cached since 917.1s ago] ('RKLB', 20, 0)
2026-02-07 14:02:05,234 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:05,234 - sqlalchemy.engine.Engine - INFO - [cached since 917.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:02:05,235 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.78ms
2026-02-07 14:02:05,236 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.47ms
2026-02-07 14:02:05,236 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:05,236 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:05,280 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:05,280 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:05,280 - sqlalchemy.engine.Engine - INFO - [cached since 917.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:05,281 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:05,281 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:05,281 - sqlalchemy.engine.Engine - INFO - [cached since 917.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:05,281 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:05,282 - sqlalchemy.engine.Engine - INFO - [cached since 917.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:02:05,282 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:05,282 - sqlalchemy.engine.Engine - INFO - [cached since 917.2s ago] ('SLV', 20, 0)
2026-02-07 14:02:05,282 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.39ms
2026-02-07 14:02:05,282 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:05,283 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.33ms
2026-02-07 14:02:05,283 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:07,225 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:07,226 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:07,226 - sqlalchemy.engine.Engine - INFO - [cached since 919.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:07,227 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:07,228 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:07,228 - sqlalchemy.engine.Engine - INFO - [cached since 919.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:07,228 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:07,228 - sqlalchemy.engine.Engine - INFO - [cached since 919.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'PG', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:02:07,229 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:07,229 - sqlalchemy.engine.Engine - INFO - [cached since 919.1s ago] ('PG', 20, 0)
2026-02-07 14:02:07,229 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:07,230 - api_logger - INFO - rid=/api/portfolio/PG/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.54ms
2026-02-07 14:02:07,230 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:07,230 - api_logger - INFO - rid=/api/analysis/PG method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.59ms
2026-02-07 14:02:07,266 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:07,267 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:07,267 - sqlalchemy.engine.Engine - INFO - [cached since 919.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:07,267 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:07,267 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:07,267 - sqlalchemy.engine.Engine - INFO - [cached since 919.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:07,268 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:07,268 - sqlalchemy.engine.Engine - INFO - [cached since 919.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:02:07,268 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:07,268 - sqlalchemy.engine.Engine - INFO - [cached since 919.1s ago] ('SLV', 20, 0)
2026-02-07 14:02:07,269 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.75ms
2026-02-07 14:02:07,269 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.60ms
2026-02-07 14:02:07,270 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:07,270 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:07,311 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:07,312 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:07,312 - sqlalchemy.engine.Engine - INFO - [cached since 919.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:07,313 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:07,313 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:07,313 - sqlalchemy.engine.Engine - INFO - [cached since 919.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:07,314 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:07,315 - sqlalchemy.engine.Engine - INFO - [cached since 919.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'PG', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:02:07,315 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:07,315 - sqlalchemy.engine.Engine - INFO - [cached since 919.2s ago] ('PG', 20, 0)
2026-02-07 14:02:07,316 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:07,317 - api_logger - INFO - rid=/api/portfolio/PG/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.57ms
2026-02-07 14:02:07,317 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:07,317 - api_logger - INFO - rid=/api/analysis/PG method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.17ms
2026-02-07 14:02:08,243 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:08,244 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:08,244 - sqlalchemy.engine.Engine - INFO - [cached since 920.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:08,245 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:08,245 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:08,245 - sqlalchemy.engine.Engine - INFO - [cached since 920.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:08,246 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:08,246 - sqlalchemy.engine.Engine - INFO - [cached since 920.1s ago] ('SNDK', 20, 0)
2026-02-07 14:02:08,247 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:08,247 - sqlalchemy.engine.Engine - INFO - [cached since 920.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:02:08,248 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.42ms
2026-02-07 14:02:08,248 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.68ms
2026-02-07 14:02:08,249 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:08,249 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:08,281 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:08,282 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:08,282 - sqlalchemy.engine.Engine - INFO - [cached since 920.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:08,282 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:08,282 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:08,282 - sqlalchemy.engine.Engine - INFO - [cached since 920.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:08,283 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:08,283 - sqlalchemy.engine.Engine - INFO - [cached since 920.2s ago] ('PG', 20, 0)
2026-02-07 14:02:08,283 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:08,283 - sqlalchemy.engine.Engine - INFO - [cached since 920.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'PG', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:02:08,284 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:08,284 - api_logger - INFO - rid=/api/portfolio/PG/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.05ms
2026-02-07 14:02:08,284 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:08,284 - api_logger - INFO - rid=/api/analysis/PG method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.08ms
2026-02-07 14:02:08,328 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:08,328 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:08,329 - sqlalchemy.engine.Engine - INFO - [cached since 920.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:08,329 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:08,329 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:08,330 - sqlalchemy.engine.Engine - INFO - [cached since 920.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:08,331 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:08,331 - sqlalchemy.engine.Engine - INFO - [cached since 920.2s ago] ('SNDK', 20, 0)
2026-02-07 14:02:08,332 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:08,332 - sqlalchemy.engine.Engine - INFO - [cached since 920.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:02:08,333 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.14ms
2026-02-07 14:02:08,334 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:08,335 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.45ms
2026-02-07 14:02:08,337 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:32,276 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:32,276 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:32,277 - sqlalchemy.engine.Engine - INFO - [cached since 944.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:32,278 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 14:02:32,278 - sqlalchemy.engine.Engine - INFO - [cached since 939.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-07 14:02:32,281 - sqlalchemy.engine.Engine - INFO - UPDATE portfolios SET avg_cost=?, updated_at=? WHERE portfolios.id = ?
2026-02-07 14:02:32,281 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] (280.0, '2026-02-07 06:02:32.281277', '57416cd4-f97b-4ac4-ab32-aaf9ad8218bd')
2026-02-07 14:02:32,283 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 14:02:32,284 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:32,284 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:02:32,285 - sqlalchemy.engine.Engine - INFO - [cached since 942.4s ago] ('SNDK',)
2026-02-07 14:02:32,286 - api_logger - INFO - rid=/api/portfolio/ method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=13.20ms
2026-02-07 14:02:32,287 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:32,294 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:32,294 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:32,294 - sqlalchemy.engine.Engine - INFO - [cached since 944.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:32,296 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 14:02:32,296 - sqlalchemy.engine.Engine - INFO - [cached since 941.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:32,298 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.13ms
2026-02-07 14:02:32,299 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:34,796 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:34,797 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:34,797 - sqlalchemy.engine.Engine - INFO - [cached since 946.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:34,799 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 14:02:34,799 - sqlalchemy.engine.Engine - INFO - [cached since 943.6s ago] ('SNDK',)
2026-02-07 14:02:34,800 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:02:34,801 - sqlalchemy.engine.Engine - INFO - [cached since 944.9s ago] ('SNDK',)
2026-02-07 14:02:35,428 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 14:02:35,428 - sqlalchemy.engine.Engine - INFO - [cached since 944.2s ago] ('SNDK',)
2026-02-07 14:02:35,430 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:02:35,430 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ('357d1240-5aed-3992-8375-bd269a0b5d6a', 'SNDK', 'Is Sandisk the Next Micron?', 'Motley Fool', 'https://finance.yahoo.com/news/sandisk-next-micron-184700660.html', '2026-02-06 18:47:00.000000', None)
2026-02-07 14:02:35,431 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:02:35,431 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('3c07fb63-0b8b-3b47-8fe0-cab7efe13313', 'SNDK', 'Industry Analysts Just Upgraded Their Sandisk Corporation (NASDAQ:SNDK) Revenue Forecasts By 38%', 'Simply Wall St.', 'https://finance.yahoo.com/news/industry-analysts-just-upgraded-sandisk-102335247.html', '2026-02-06 10:23:35.000000', None)
2026-02-07 14:02:35,432 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:02:35,432 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('5078431c-a00c-3181-90ac-85a26d65f899', 'SNDK', 'Sandisk Stock Gained +1,500% Since Its Debut. Why This Trader Is Looking Elsewhere.', "Investor's Business Daily", 'https://www.investors.com/news/sandisk-stock-gained-1500-debut-why-trader-looking-elsewhere/?src=A00220&yptr=yahoo', '2026-02-05 22:39:40.000000', None)
2026-02-07 14:02:35,433 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:02:35,433 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('f4564621-0a09-3f01-947e-b49f9b9d931c', 'SNDK', 'High Growth Tech Stocks to Watch in US February 2026', 'Simply Wall St.', 'https://finance.yahoo.com/news/high-growth-tech-stocks-watch-173856420.html', '2026-02-05 17:38:56.000000', None)
2026-02-07 14:02:35,433 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:02:35,433 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('9cd46a10-f4ea-3bc3-8a57-2566118719f7', 'SNDK', 'Should You Invest in Sandisk Stock Post Its Q2 Earnings Release?', 'Zacks', 'https://finance.yahoo.com/news/invest-sandisk-stock-post-q2-125700527.html', '2026-02-05 12:57:00.000000', None)
2026-02-07 14:02:35,434 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:02:35,434 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('d217c156-7707-3fc2-a392-0136dbccd027', 'SNDK', 'High Growth Tech Stocks In The US For February 2026', 'Simply Wall St.', 'https://finance.yahoo.com/news/high-growth-tech-stocks-us-113812494.html', '2026-02-05 11:38:12.000000', None)
2026-02-07 14:02:35,435 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:02:35,436 - sqlalchemy.engine.Engine - INFO - [no key 0.00043s] ('60e7d86b-6361-3434-8349-310c8137c30c', 'SNDK', 'SanDisk and Seagate: Analysts Bang the Drum on the Hottest Tech Stocks Today', 'TipRanks', 'https://finance.yahoo.com/news/sandisk-seagate-analysts-bang-drum-105828632.html', '2026-02-05 10:58:28.000000', None)
2026-02-07 14:02:35,437 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:02:35,437 - sqlalchemy.engine.Engine - INFO - [no key 0.00032s] ('4c646afb-6040-3b99-944d-be20936555f6', 'SNDK', 'A Look At Sandisk (SNDK) Valuation After Strong AI Data Center Driven Q2 Results', 'Simply Wall St.', 'https://finance.yahoo.com/news/look-sandisk-sndk-valuation-strong-021144012.html', '2026-02-05 02:11:44.000000', None)
2026-02-07 14:02:35,439 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:02:35,439 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('4fe36802-c216-3391-8158-494a2e43c261', 'SNDK', 'Stock Market Today, Feb. 4: AMD Plunges Over 17% As Tech Fallout Continues', 'Motley Fool', 'https://finance.yahoo.com/news/stock-market-today-feb-4-230351262.html', '2026-02-04 23:03:51.000000', None)
2026-02-07 14:02:35,440 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:02:35,440 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('3fe40497-5ee4-3bb0-a227-70699e91357d', 'SNDK', 'Jim Cramer on Marvell: Theyre an Excellent Company, But Theyre a Derivative Company', 'Insider Monkey', 'https://finance.yahoo.com/news/jim-cramer-marvell-excellent-company-193640261.html', '2026-02-04 19:36:40.000000', None)
2026-02-07 14:02:35,441 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 14:02:35,441 - sqlalchemy.engine.Engine - INFO - [cached since 944.2s ago] ('2026-02-07 06:02:34.801665', 'SNDK')
2026-02-07 14:02:35,441 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 14:02:35,443 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:35,443 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:02:35,443 - sqlalchemy.engine.Engine - INFO - [cached since 944.2s ago] ('SNDK',)
2026-02-07 14:02:35,444 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:35,444 - sqlalchemy.engine.Engine - INFO - [cached since 947.3s ago] ('SNDK', 5, 0)
2026-02-07 14:02:35,445 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 14:02:35,445 - sqlalchemy.engine.Engine - INFO - [cached since 942.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-07 14:02:35,445 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for SNDK. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-07 14:02:35,446 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR SNDK ---

         [SNDK] 
        
        **1.  (Fundamental Context)**:
        - /: Technology / Computer Hardware
        - : 88237834240.0
        - PE (TTM): None | Forward PE: 8.11
        - 52: [27.89, 725.0]
        - Beta: None
        
        **2.  (Portfolio Context)**:
        - : $280.0
        - : 5.0
        - : $1589.7500000000002 (113.55357142857146%)
        
        **3.  (Technical Data)**:
        - : $597.95
        - : 3.77%
        - RSI (14): 68.88
        - MACD: 80.95 (: 4.09)
        - : [312.62, 688.75]
        - MA : [20: 500.68, 50: 344.4, 200: 150.05]
        - KDJ (K): 59.4 | ATR: 62.63
        
        **4.  (Recent News)**:
        [{'title': 'Is Sandisk the Next Micron?', 'publisher': 'Motley Fool', 'time': '2026-02-06T18:47:00'}, {'title': 'Industry Analysts Just Upgraded Their Sandisk Corporation (NASDAQ:SNDK) Revenue Forecasts By 38%', 'publisher': 'Simply Wall St.', 'time': '2026-02-06T10:23:35'}, {'title': 'Sandisk Stock Gained +1,500% Since Its Debut. Why This Trader Is Looking Elsewhere.', 'publisher': "Investor's Business Daily", 'time': '2026-02-05T22:39:40'}, {'title': 'High Growth Tech Stocks to Watch in US February 2026', 'publisher': 'Simply Wall St.', 'time': '2026-02-05T17:38:56'}, {'title': 'Should You Invest in Sandisk Stock Post Its Q2 Earnings Release?', 'publisher': 'Zacks', 'time': '2026-02-05T12:57:00'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (344.4)  (312.62)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "investment_horizon": " ( 2-5 /   /  -)",
            "confidence_level": 0-100 (AI ),
            "immediate_action": " (///)",
            "target_price": "/ (2)",
            "stop_loss_price": "/ (2)",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-07 14:02:54,760 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 14:02:54,763 - app.api.v1.endpoints.analysis - INFO - AI Response for SNDK: {
    "sentiment_score": 75,
    "summary_status": "",
    "risk_level": "",
    "investment_horizon": " ",
    "confidence_level": 85,
    "immediate_action": "",
    "target_price": 6...
2026-02-07 14:02:54,764 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 14:02:54,764 - sqlalchemy.engine.Engine - INFO - [cached since 952.7s ago] ('8b1526b8-7848-43eb-bbd5-cdd4f7ecea93', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', '{"market_data": {"current_price": 597.95, "change_percent": 3.77, "rsi_14": 68.88, "ma_20": 500.68, "ma_50": 344.4, "ma_200": 150.05, "macd_val": 80. ... (98 characters truncated) ... rket_status": "OPEN"}, "portfolio_data": {"avg_cost": 280.0, "quantity": 5.0, "unrealized_pl": 1589.7500000000002, "pl_percent": 113.55357142857146}}', '{\n    "sentiment_score": 75,\n    "summary_status": "",\n    "risk_level": "",\n    "investment_horizon": " ",\n    "confidence_level": 8 ... (428 characters truncated) ... dvice": "113.55%688.7530%MA20(500.68)RSI60MA20"\n}', '75', '', '', '597.95688.75RSI(14) 68.8870MACD4.09MA20(500.68)MA50(344.40)', 'Forward PE 8.1138%52725.088.24', '113.55%688.7530%MA20(500.68)RSI60MA20', ' ', 85.0, '', 688.75, 500.68, 'qwen-3-vl-thinking', '2026-02-07 06:02:54.764244')
2026-02-07 14:02:54,765 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 14:02:54,767 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:54,768 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 14:02:54,768 - sqlalchemy.engine.Engine - INFO - [cached since 952.7s ago] ('8b1526b8-7848-43eb-bbd5-cdd4f7ecea93',)
2026-02-07 14:02:54,770 - api_logger - INFO - rid=/api/analysis/SNDK method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=19975.61ms
2026-02-07 14:02:54,771 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:02:54,781 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:02:54,782 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:02:54,782 - sqlalchemy.engine.Engine - INFO - [cached since 966.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:02:54,784 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:02:54,784 - sqlalchemy.engine.Engine - INFO - [cached since 966.7s ago] ('SNDK', 20, 0)
2026-02-07 14:02:54,787 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.76ms
2026-02-07 14:02:54,788 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:06,866 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:06,866 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:06,866 - sqlalchemy.engine.Engine - INFO - [cached since 1039s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:06,866 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:06,867 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:06,867 - sqlalchemy.engine.Engine - INFO - [cached since 1039s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:06,868 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:06,868 - sqlalchemy.engine.Engine - INFO - [cached since 1039s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:04:06,869 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:06,869 - sqlalchemy.engine.Engine - INFO - [cached since 1039s ago] ('AAPL', 20, 0)
2026-02-07 14:04:06,869 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.23ms
2026-02-07 14:04:06,870 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:06,871 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.69ms
2026-02-07 14:04:06,872 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:06,911 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:06,911 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:06,911 - sqlalchemy.engine.Engine - INFO - [cached since 1039s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:06,912 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:06,912 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:06,912 - sqlalchemy.engine.Engine - INFO - [cached since 1039s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:06,913 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:06,913 - sqlalchemy.engine.Engine - INFO - [cached since 1039s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:04:06,914 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:06,914 - sqlalchemy.engine.Engine - INFO - [cached since 1039s ago] ('SNDK', 20, 0)
2026-02-07 14:04:06,914 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.99ms
2026-02-07 14:04:06,915 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:06,915 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.57ms
2026-02-07 14:04:06,915 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:06,969 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:06,970 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:06,970 - sqlalchemy.engine.Engine - INFO - [cached since 1039s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:06,971 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:06,971 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:06,971 - sqlalchemy.engine.Engine - INFO - [cached since 1039s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:06,973 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:06,973 - sqlalchemy.engine.Engine - INFO - [cached since 1039s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:04:06,974 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:06,974 - sqlalchemy.engine.Engine - INFO - [cached since 1039s ago] ('AAPL', 20, 0)
2026-02-07 14:04:06,975 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.37ms
2026-02-07 14:04:06,976 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.30ms
2026-02-07 14:04:06,976 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:06,976 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:08,699 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:08,699 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:08,700 - sqlalchemy.engine.Engine - INFO - [cached since 1041s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:08,701 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:08,701 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:08,701 - sqlalchemy.engine.Engine - INFO - [cached since 1041s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:08,703 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:08,708 - sqlalchemy.engine.Engine - INFO - [cached since 1041s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:04:08,712 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:08,713 - sqlalchemy.engine.Engine - INFO - [cached since 1041s ago] ('AMD', 20, 0)
2026-02-07 14:04:08,715 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=18.43ms
2026-02-07 14:04:08,717 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:08,717 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=17.40ms
2026-02-07 14:04:08,719 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:08,749 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:08,749 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:08,749 - sqlalchemy.engine.Engine - INFO - [cached since 1041s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:08,750 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:08,750 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:08,750 - sqlalchemy.engine.Engine - INFO - [cached since 1041s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:08,751 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:08,751 - sqlalchemy.engine.Engine - INFO - [cached since 1041s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:04:08,751 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:08,751 - sqlalchemy.engine.Engine - INFO - [cached since 1041s ago] ('AAPL', 20, 0)
2026-02-07 14:04:08,753 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.16ms
2026-02-07 14:04:08,754 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.24ms
2026-02-07 14:04:08,754 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:08,754 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:08,801 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:08,801 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:08,801 - sqlalchemy.engine.Engine - INFO - [cached since 1041s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:08,802 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:08,803 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:08,803 - sqlalchemy.engine.Engine - INFO - [cached since 1041s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:08,805 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:08,805 - sqlalchemy.engine.Engine - INFO - [cached since 1041s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:04:08,808 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:08,808 - sqlalchemy.engine.Engine - INFO - [cached since 1041s ago] ('AMD', 20, 0)
2026-02-07 14:04:08,810 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.10ms
2026-02-07 14:04:08,810 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.88ms
2026-02-07 14:04:08,814 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:08,814 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:11,406 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:11,407 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:11,407 - sqlalchemy.engine.Engine - INFO - [cached since 1043s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:11,407 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:11,407 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:11,407 - sqlalchemy.engine.Engine - INFO - [cached since 1043s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:11,409 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:11,409 - sqlalchemy.engine.Engine - INFO - [cached since 1043s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:04:11,409 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:11,409 - sqlalchemy.engine.Engine - INFO - [cached since 1043s ago] ('AAPL', 20, 0)
2026-02-07 14:04:11,410 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.82ms
2026-02-07 14:04:11,411 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:11,411 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.47ms
2026-02-07 14:04:11,412 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:11,448 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:11,448 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:11,448 - sqlalchemy.engine.Engine - INFO - [cached since 1043s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:11,448 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:11,449 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:11,449 - sqlalchemy.engine.Engine - INFO - [cached since 1043s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:11,450 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:11,450 - sqlalchemy.engine.Engine - INFO - [cached since 1043s ago] ('AMD', 20, 0)
2026-02-07 14:04:11,450 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:11,450 - sqlalchemy.engine.Engine - INFO - [cached since 1043s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:04:11,452 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.81ms
2026-02-07 14:04:11,453 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:11,454 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.13ms
2026-02-07 14:04:11,455 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:11,517 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:11,518 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:11,519 - sqlalchemy.engine.Engine - INFO - [cached since 1043s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:11,521 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:11,521 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:11,522 - sqlalchemy.engine.Engine - INFO - [cached since 1043s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:11,524 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:11,524 - sqlalchemy.engine.Engine - INFO - [cached since 1043s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:04:11,525 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:11,527 - sqlalchemy.engine.Engine - INFO - [cached since 1043s ago] ('AAPL', 20, 0)
2026-02-07 14:04:11,529 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.88ms
2026-02-07 14:04:11,531 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.74ms
2026-02-07 14:04:11,531 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:11,532 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:29,647 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:29,647 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:29,647 - sqlalchemy.engine.Engine - INFO - [cached since 1062s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:29,648 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:29,648 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:29,648 - sqlalchemy.engine.Engine - INFO - [cached since 1062s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:29,649 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:29,649 - sqlalchemy.engine.Engine - INFO - [cached since 1062s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:04:29,649 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:29,649 - sqlalchemy.engine.Engine - INFO - [cached since 1062s ago] ('AMZN', 20, 0)
2026-02-07 14:04:29,650 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.08ms
2026-02-07 14:04:29,651 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:29,652 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.01ms
2026-02-07 14:04:29,653 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:29,699 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:29,700 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:29,700 - sqlalchemy.engine.Engine - INFO - [cached since 1062s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:29,700 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:29,700 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:29,700 - sqlalchemy.engine.Engine - INFO - [cached since 1062s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:29,701 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:29,701 - sqlalchemy.engine.Engine - INFO - [cached since 1062s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:04:29,701 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:29,701 - sqlalchemy.engine.Engine - INFO - [cached since 1062s ago] ('AAPL', 20, 0)
2026-02-07 14:04:29,702 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.76ms
2026-02-07 14:04:29,702 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:29,702 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.73ms
2026-02-07 14:04:29,703 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:29,744 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:29,745 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:29,745 - sqlalchemy.engine.Engine - INFO - [cached since 1062s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:29,745 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:29,746 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:29,746 - sqlalchemy.engine.Engine - INFO - [cached since 1062s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:29,747 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:29,747 - sqlalchemy.engine.Engine - INFO - [cached since 1062s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:04:29,748 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:29,748 - sqlalchemy.engine.Engine - INFO - [cached since 1062s ago] ('AMZN', 20, 0)
2026-02-07 14:04:29,749 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.64ms
2026-02-07 14:04:29,750 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.19ms
2026-02-07 14:04:29,750 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:29,750 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:32,176 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:32,176 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:32,176 - sqlalchemy.engine.Engine - INFO - [cached since 1064s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:32,176 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:32,177 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:32,177 - sqlalchemy.engine.Engine - INFO - [cached since 1064s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:32,178 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:32,178 - sqlalchemy.engine.Engine - INFO - [cached since 1064s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:04:32,178 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:32,179 - sqlalchemy.engine.Engine - INFO - [cached since 1064s ago] ('AAPL', 20, 0)
2026-02-07 14:04:32,179 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.36ms
2026-02-07 14:04:32,180 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:32,180 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.35ms
2026-02-07 14:04:32,181 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:32,233 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:32,233 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:32,233 - sqlalchemy.engine.Engine - INFO - [cached since 1064s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:32,233 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:32,234 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:32,234 - sqlalchemy.engine.Engine - INFO - [cached since 1064s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:32,235 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:32,235 - sqlalchemy.engine.Engine - INFO - [cached since 1064s ago] ('AMZN', 20, 0)
2026-02-07 14:04:32,235 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:32,235 - sqlalchemy.engine.Engine - INFO - [cached since 1064s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:04:32,236 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.77ms
2026-02-07 14:04:32,237 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.64ms
2026-02-07 14:04:32,237 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:32,237 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:32,278 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:32,278 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:32,279 - sqlalchemy.engine.Engine - INFO - [cached since 1064s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:32,280 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:04:32,280 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:04:32,280 - sqlalchemy.engine.Engine - INFO - [cached since 1064s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:04:32,281 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:32,282 - sqlalchemy.engine.Engine - INFO - [cached since 1064s ago] ('AAPL', 20, 0)
2026-02-07 14:04:32,282 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:04:32,283 - sqlalchemy.engine.Engine - INFO - [cached since 1064s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:04:32,284 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.11ms
2026-02-07 14:04:32,285 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.96ms
2026-02-07 14:04:32,285 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:04:32,286 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:05:02,038 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:05:02,039 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:05:02,039 - sqlalchemy.engine.Engine - INFO - [cached since 1094s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:05:02,039 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:05:02,040 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:05:02,040 - sqlalchemy.engine.Engine - INFO - [cached since 1094s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:05:02,041 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:05:02,041 - sqlalchemy.engine.Engine - INFO - [cached since 1094s ago] ('AMD', 20, 0)
2026-02-07 14:05:02,042 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:05:02,042 - sqlalchemy.engine.Engine - INFO - [cached since 1094s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:05:02,043 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.18ms
2026-02-07 14:05:02,045 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.87ms
2026-02-07 14:05:02,045 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:05:02,046 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:05:02,082 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:05:02,082 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:05:02,082 - sqlalchemy.engine.Engine - INFO - [cached since 1094s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:05:02,083 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:05:02,083 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:05:02,083 - sqlalchemy.engine.Engine - INFO - [cached since 1094s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:05:02,084 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:05:02,084 - sqlalchemy.engine.Engine - INFO - [cached since 1094s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:05:02,085 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:05:02,085 - sqlalchemy.engine.Engine - INFO - [cached since 1094s ago] ('AAPL', 20, 0)
2026-02-07 14:05:02,085 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.99ms
2026-02-07 14:05:02,087 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:05:02,089 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.99ms
2026-02-07 14:05:02,089 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:05:02,137 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:05:02,138 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:05:02,138 - sqlalchemy.engine.Engine - INFO - [cached since 1094s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:05:02,138 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:05:02,138 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:05:02,139 - sqlalchemy.engine.Engine - INFO - [cached since 1094s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:05:02,139 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:05:02,139 - sqlalchemy.engine.Engine - INFO - [cached since 1094s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:05:02,140 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:05:02,140 - sqlalchemy.engine.Engine - INFO - [cached since 1094s ago] ('AMD', 20, 0)
2026-02-07 14:05:02,141 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.15ms
2026-02-07 14:05:02,141 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.15ms
2026-02-07 14:05:02,141 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:05:02,141 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:05:06,229 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:05:06,230 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:05:06,230 - sqlalchemy.engine.Engine - INFO - [cached since 1098s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:05:06,232 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:05:06,232 - sqlalchemy.engine.Engine - INFO - [cached since 1096s ago] ('AMD',)
2026-02-07 14:05:07,014 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 14:05:07,015 - sqlalchemy.engine.Engine - INFO - [cached since 1096s ago] ('AMD',)
2026-02-07 14:05:07,017 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:05:07,018 - sqlalchemy.engine.Engine - INFO - [no key 0.00062s] ('19cd1080-a43d-4393-8ed1-77d2b30d3322', 'AMD', 'Earnings live: Amazon, Reddit stocks sink to cap jam-packed earnings week', 'Yahoo Finance', 'https://finance.yahoo.com/news/live/earnings-live-amazon-reddit-stocks-sink-to-cap-jam-packed-earnings-week-213155571.html', '2026-02-06 21:31:55.000000', None)
2026-02-07 14:05:07,020 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:05:07,020 - sqlalchemy.engine.Engine - INFO - [no key 0.00039s] ('9b76185f-6c61-3f97-8df4-6e567dfe33ee', 'AMD', 'Wealthy Families Are Worried About Geopolitics. But Theyre Not Rushing to AI, Crypto, or Gold', 'Barrons.com', 'https://www.barrons.com/articles/wealthy-families-are-worried-about-geopolitics-but-they-arent-rushing-to-ai-crypto-or-gold-62ce6f59?siteid=yhoof2&yptr=yahoo', '2026-02-07 02:46:00.000000', None)
2026-02-07 14:05:07,021 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:05:07,021 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('75b27b05-5116-3a18-b07c-48ec76f249ae', 'AMD', 'Dow closes above 50,000, Nvidia soars as traders focus on AI spending', 'Reuters Videos', 'https://finance.yahoo.com/video/dow-closes-above-50-000-235453952.html', '2026-02-06 23:54:53.000000', None)
2026-02-07 14:05:07,022 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:05:07,022 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('d5f6d70b-adbf-3412-b185-ebea8f943d91', 'AMD', 'Stock Market Today: Dow Closes Above 50,000 As Nvidia Lands Atop Blue Chips (Live Coverage)', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-sp500-nasdaq-bitcoin-price-amazon-stock-amzn/?src=A00220&yptr=yahoo', '2026-02-06 22:49:24.000000', None)
2026-02-07 14:05:07,023 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:05:07,023 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('e608d768-a741-31f4-bef4-23f3eb8b7c5c', 'AMD', 'Top Analyst Reports for AMD, Constellation Energy & Freeport-McMoRan', 'Zacks', 'https://finance.yahoo.com/news/top-analyst-reports-amd-constellation-220900607.html', '2026-02-06 22:09:00.000000', None)
2026-02-07 14:05:07,024 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:05:07,024 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('2004fd3c-71c1-33d9-a88a-cfbd9adb2167', 'AMD', 'Technology Joins Value-Style Investing to Lift US Equity Indexes', 'MT Newswires', 'https://finance.yahoo.com/news/technology-joins-value-style-investing-214713127.html', '2026-02-06 21:47:13.000000', None)
2026-02-07 14:05:07,024 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:05:07,024 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('9e3bdcb8-bbba-3f96-923f-8c6e2100af7a', 'AMD', 'US Equity Markets Rise Amid Gains in Semiconductor, Cyclical Stocks', 'MT Newswires', 'https://finance.yahoo.com/news/us-equity-markets-rise-amid-211351258.html', '2026-02-06 21:13:51.000000', None)
2026-02-07 14:05:07,025 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:05:07,025 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('da3245ba-9015-31b0-a441-d953bc51dce7', 'AMD', 'Top Funds Like Google  But Go Bonkers For These Three Stocks', "Investor's Business Daily", 'https://www.investors.com/etfs-and-funds/mutual-funds/best-mutual-funds-bet-big-on-asml-santander-aar-corp-google-stock-and-more/?src=A00220&yptr=yahoo', '2026-02-06 21:00:24.000000', None)
2026-02-07 14:05:07,026 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:05:07,026 - sqlalchemy.engine.Engine - INFO - [no key 0.00035s] ('7b36b1a9-81a7-38ba-bdcc-e53cd0b232ea', 'AMD', "Chip Stocks Soar as Nvidia CEO Huang Says Demand Is 'Through the Roof'", 'Investopedia', 'https://finance.yahoo.com/news/chip-stocks-soar-nvidia-ceo-204556636.html', '2026-02-06 20:45:56.000000', None)
2026-02-07 14:05:07,028 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:05:07,028 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('4b7cb33d-21a7-31b2-b615-f4877eda7855', 'AMD', 'Technology Boosts US Equity Indexes After Midday', 'MT Newswires', 'https://finance.yahoo.com/news/technology-boosts-us-equity-indexes-185041376.html', '2026-02-06 18:50:41.000000', None)
2026-02-07 14:05:07,029 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 14:05:07,029 - sqlalchemy.engine.Engine - INFO - [cached since 1096s ago] ('2026-02-07 06:05:06.234582', 'AMD')
2026-02-07 14:05:07,030 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 14:05:07,031 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:05:07,032 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:05:07,032 - sqlalchemy.engine.Engine - INFO - [cached since 1096s ago] ('AMD',)
2026-02-07 14:05:07,033 - api_logger - INFO - rid=/api/portfolio/AMD/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=804.60ms
2026-02-07 14:05:07,033 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:05:07,044 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:05:07,044 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:05:07,044 - sqlalchemy.engine.Engine - INFO - [cached since 1099s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:05:07,045 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 14:05:07,045 - sqlalchemy.engine.Engine - INFO - [cached since 1096s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:05:07,048 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.36ms
2026-02-07 14:05:07,048 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:05:08,316 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:05:08,316 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:05:08,316 - sqlalchemy.engine.Engine - INFO - [cached since 1100s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:05:08,319 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 14:05:08,319 - sqlalchemy.engine.Engine - INFO - [cached since 1097s ago] ('AMD',)
2026-02-07 14:05:08,320 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:05:08,320 - sqlalchemy.engine.Engine - INFO - [cached since 1098s ago] ('AMD',)
2026-02-07 14:05:08,321 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:05:08,322 - sqlalchemy.engine.Engine - INFO - [cached since 1100s ago] ('AMD', 5, 0)
2026-02-07 14:05:08,323 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 14:05:08,323 - sqlalchemy.engine.Engine - INFO - [cached since 1095s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD')
2026-02-07 14:05:08,324 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for AMD. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-07 14:05:08,324 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR AMD ---

         [AMD] 
        
        **1.  (Fundamental Context)**:
        - /: Technology / Semiconductors
        - : 339842859008.0
        - PE (TTM): 79.86 | Forward PE: 19.75
        - 52: [76.48, 267.08]
        - Beta: 1.95
        
        **2.  (Portfolio Context)**:
        - : $220.0
        - : 3.0
        - : $-34.68000000000001 (-5.254545454545456%)
        
        **3.  (Technical Data)**:
        - : $208.44
        - : 8.28%
        - RSI (14): 41.2
        - MACD: -1.51 (: -5.71)
        - : [190.56, 273.92]
        - MA : [20: 232.24, 50: 221.47, 200: 179.04]
        - KDJ (K): 21.32 | ATR: 15.91
        
        **4.  (Recent News)**:
        [{'title': 'Wealthy Families Are Worried About Geopolitics. But Theyre Not Rushing to AI, Crypto, or Gold', 'publisher': 'Barrons.com', 'time': '2026-02-07T02:46:00'}, {'title': 'Dow closes above 50,000, Nvidia soars as traders focus on AI spending', 'publisher': 'Reuters Videos', 'time': '2026-02-06T23:54:53'}, {'title': 'Stock Market Today: Dow Closes Above 50,000 As Nvidia Lands Atop Blue Chips (Live Coverage)', 'publisher': "Investor's Business Daily", 'time': '2026-02-06T22:49:24'}, {'title': 'Top Analyst Reports for AMD, Constellation Energy & Freeport-McMoRan', 'publisher': 'Zacks', 'time': '2026-02-06T22:09:00'}, {'title': 'Technology Joins Value-Style Investing to Lift US Equity Indexes', 'publisher': 'MT Newswires', 'time': '2026-02-06T21:47:13'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (221.47)  (190.56)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "investment_horizon": " ( 2-5 /   /  -)",
            "confidence_level": 0-100 (AI ),
            "immediate_action": " (///)",
            "target_price": "/ (2)",
            "stop_loss_price": "/ (2)",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-07 14:05:30,921 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 14:05:30,925 - app.api.v1.endpoints.analysis - INFO - AI Response for AMD: {
    "sentiment_score": 58,
    "summary_status": "",
    "risk_level": "",
    "investment_horizon": " ",
    "confidence_level": 75,
    "immediate_action": "",
    "target_price": ...
2026-02-07 14:05:30,927 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 14:05:30,927 - sqlalchemy.engine.Engine - INFO - [cached since 1109s ago] ('96f76150-9591-4367-b76c-1c414c737944', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', '{"market_data": {"current_price": 208.44, "change_percent": 8.28, "rsi_14": 41.2, "ma_20": 232.24, "ma_50": 221.47, "ma_200": 179.04, "macd_val": -1. ... (100 characters truncated) ... rket_status": "OPEN"}, "portfolio_data": {"avg_cost": 220.0, "quantity": 3.0, "unrealized_pl": -34.68000000000001, "pl_percent": -5.254545454545456}}', '{\n    "sentiment_score": 58,\n    "summary_status": "",\n    "risk_level": "",\n    "investment_horizon": " ",\n    "confidence_level":  ... (459 characters truncated) ... 08.445.25%MA50(221.47)1/3MACD190.56-8.6%20232.24+11.4%5MA5025%"\n}', '58', '', '', '208.44190.56232.24RSI(41.2)MACD(-5.71)DIF(-1.51)MA50(221.47)MA200(179.04)MA50', 'Forward PE(19.75)TTM(79.86)Dow5AI', '220.0208.445.25%MA50(221.47)1/3MACD190.56-8.6%20232.24+11.4%5MA5025%', ' ', 75.0, '', 232.24, 190.56, 'qwen-3-vl-thinking', '2026-02-07 06:05:30.926906')
2026-02-07 14:05:30,928 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 14:05:30,929 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:05:30,930 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 14:05:30,930 - sqlalchemy.engine.Engine - INFO - [cached since 1109s ago] ('96f76150-9591-4367-b76c-1c414c737944',)
2026-02-07 14:05:30,931 - api_logger - INFO - rid=/api/analysis/AMD method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=22616.62ms
2026-02-07 14:05:30,932 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:05:30,944 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:05:30,944 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:05:30,945 - sqlalchemy.engine.Engine - INFO - [cached since 1123s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:05:30,946 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:05:30,946 - sqlalchemy.engine.Engine - INFO - [cached since 1123s ago] ('AMD', 20, 0)
2026-02-07 14:05:30,948 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.72ms
2026-02-07 14:05:30,949 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:07:30,547 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:07:30,547 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:07:30,547 - sqlalchemy.engine.Engine - INFO - [cached since 1242s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:07:30,548 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:07:30,548 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:07:30,548 - sqlalchemy.engine.Engine - INFO - [cached since 1242s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:07:30,549 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:07:30,550 - sqlalchemy.engine.Engine - INFO - [cached since 1242s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:07:30,551 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:07:30,551 - sqlalchemy.engine.Engine - INFO - [cached since 1242s ago] ('FRO', 20, 0)
2026-02-07 14:07:30,552 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.26ms
2026-02-07 14:07:30,552 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:07:30,554 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.25ms
2026-02-07 14:07:30,555 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:07:30,591 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:07:30,591 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:07:30,591 - sqlalchemy.engine.Engine - INFO - [cached since 1242s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:07:30,592 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:07:30,592 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:07:30,592 - sqlalchemy.engine.Engine - INFO - [cached since 1242s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:07:30,594 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:07:30,594 - sqlalchemy.engine.Engine - INFO - [cached since 1242s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:07:30,594 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:07:30,594 - sqlalchemy.engine.Engine - INFO - [cached since 1242s ago] ('AMD', 20, 0)
2026-02-07 14:07:30,595 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.04ms
2026-02-07 14:07:30,596 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:07:30,596 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.79ms
2026-02-07 14:07:30,596 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:07:30,645 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:07:30,646 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:07:30,646 - sqlalchemy.engine.Engine - INFO - [cached since 1243s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:07:30,646 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:07:30,646 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:07:30,646 - sqlalchemy.engine.Engine - INFO - [cached since 1243s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:07:30,652 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:07:30,652 - sqlalchemy.engine.Engine - INFO - [cached since 1243s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:07:30,654 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:07:30,654 - sqlalchemy.engine.Engine - INFO - [cached since 1243s ago] ('FRO', 20, 0)
2026-02-07 14:07:30,655 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.73ms
2026-02-07 14:07:30,655 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.23ms
2026-02-07 14:07:30,656 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:07:30,656 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:07:32,943 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:07:32,944 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:07:32,944 - sqlalchemy.engine.Engine - INFO - [cached since 1245s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:07:32,946 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:07:32,946 - sqlalchemy.engine.Engine - INFO - [cached since 1243s ago] ('FRO',)
2026-02-07 14:07:33,728 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 14:07:33,728 - sqlalchemy.engine.Engine - INFO - [cached since 1243s ago] ('FRO',)
2026-02-07 14:07:33,730 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:07:33,730 - sqlalchemy.engine.Engine - INFO - [no key 0.00035s] ('b6d9ce1c-6169-3c6c-ad2b-778afc83a630', 'FRO', 'Insiders Favor These 3 High Growth Companies', 'Simply Wall St.', 'https://finance.yahoo.com/news/insiders-favor-3-high-growth-113601957.html', '2026-02-06 11:36:01.000000', None)
2026-02-07 14:07:33,732 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:07:33,732 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('05ba4f7c-7f54-327b-86be-1131398186c6', 'FRO', 'Investors more bullish on Frontline (NYSE:FRO) this week as stock rises 6.7%, despite earnings trending downwards over past five years', 'Simply Wall St.', 'https://finance.yahoo.com/news/investors-more-bullish-frontline-nyse-182029674.html', '2026-02-04 18:20:29.000000', None)
2026-02-07 14:07:33,734 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:07:33,735 - sqlalchemy.engine.Engine - INFO - [no key 0.00040s] ('58b364ac-1e25-31c3-a91b-844fdce12402', 'FRO', 'Here is Why Frontline (FRO) Gained This Week', 'Insider Monkey', 'https://finance.yahoo.com/news/why-frontline-fro-gained-week-173842236.html', '2026-01-31 17:38:42.000000', None)
2026-02-07 14:07:33,736 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:07:33,736 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('ac4b763a-1815-3d75-b3fb-bd072c4b1e82', 'FRO', "January 2026's Top Growth Companies With Insider Confidence", 'Simply Wall St.', 'https://finance.yahoo.com/news/january-2026s-top-growth-companies-173612842.html', '2026-01-08 17:36:12.000000', None)
2026-02-07 14:07:33,737 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:07:33,737 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('ddd8a47e-f00b-39bb-9267-ba9a23a1faef', 'FRO', 'Frontline PLC (FRO) Jumps 9.5% on Venezuela Oil Seizure', 'Insider Monkey', 'https://finance.yahoo.com/news/frontline-plc-fro-jumps-9-015505286.html', '2026-01-08 01:55:05.000000', None)
2026-02-07 14:07:33,738 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:07:33,738 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('cbff1281-6f54-39ff-92b7-953421747edd', 'FRO', "Individual investors are Frontline plc's (NYSE:FRO) biggest owners and were hit after market cap dropped US$345m", 'Simply Wall St.', 'https://finance.yahoo.com/news/individual-investors-frontline-plcs-nyse-183606714.html', '2026-01-05 18:36:06.000000', None)
2026-02-07 14:07:33,738 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:07:33,738 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('9336728b-f1f9-3305-83f1-9b5a6459ce11', 'FRO', '5 Under $35 Dividend Stocks to Buy Now', '24/7 Wall St.', 'https://finance.yahoo.com/news/5-under-35-dividend-stocks-191720390.html', '2025-12-09 19:17:20.000000', None)
2026-02-07 14:07:33,739 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:07:33,739 - sqlalchemy.engine.Engine - INFO - [no key 0.00032s] ('d2900d23-27f1-3e29-a369-3f089a44aee8', 'FRO', 'Frontline (NYSE:FRO) Will Pay A Smaller Dividend Than Last Year', 'Simply Wall St.', 'https://finance.yahoo.com/news/frontline-nyse-fro-pay-smaller-175418119.html', '2025-12-09 17:54:18.000000', None)
2026-02-07 14:07:33,741 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:07:33,741 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('ed10202e-de30-3be2-a563-3a0fb5bfeeb3', 'FRO', '3 Growth Companies With High Insider Ownership And 25% Return On Equity', 'Simply Wall St.', 'https://finance.yahoo.com/news/3-growth-companies-high-insider-173547980.html', '2025-12-08 17:35:47.000000', None)
2026-02-07 14:07:33,742 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:07:33,742 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('2679188b-75ba-397e-8f88-586e8e18ad50', 'FRO', 'We Think That There Are More Issues For Frontline (NYSE:FRO) Than Just Sluggish Earnings', 'Simply Wall St.', 'https://finance.yahoo.com/news/think-more-issues-frontline-nyse-113051973.html', '2025-11-28 11:30:51.000000', None)
2026-02-07 14:07:33,743 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, dividend_yield=?, fifty_two_week_high=? WHERE stocks.ticker = ?
2026-02-07 14:07:33,743 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (6538434560.0, 29.969389, 9.750834, 3.17, 29.4, 'FRO')
2026-02-07 14:07:33,744 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 14:07:33,744 - sqlalchemy.engine.Engine - INFO - [cached since 812.1s ago] (29.37, 4.89286, 70.10442352670498, 26.991500186920167, 24.346600074768066, 21.351142129898072, 1.3588897340154737, 1.2359904357590306, 0.12289929825644319, 29.720936400521104, 26.991500186920167, 24.26206397331923, 0.9807142530168805, 83.27466990302946, 82.59246112092988, 84.63908746722862, 3111425.0, 0.899619949058711, '2026-02-07 06:07:32.947196', 'FRO')
2026-02-07 14:07:33,745 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 14:07:33,746 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:07:33,746 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:07:33,747 - sqlalchemy.engine.Engine - INFO - [cached since 1243s ago] ('FRO',)
2026-02-07 14:07:33,747 - api_logger - INFO - rid=/api/portfolio/FRO/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=805.56ms
2026-02-07 14:07:33,748 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:07:33,759 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:07:33,759 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:07:33,759 - sqlalchemy.engine.Engine - INFO - [cached since 1246s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:07:33,760 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 14:07:33,760 - sqlalchemy.engine.Engine - INFO - [cached since 1243s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:07:33,762 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.74ms
2026-02-07 14:07:33,763 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:07:36,615 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:07:36,615 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:07:36,616 - sqlalchemy.engine.Engine - INFO - [cached since 1248s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:07:36,618 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 14:07:36,618 - sqlalchemy.engine.Engine - INFO - [cached since 1245s ago] ('FRO',)
2026-02-07 14:07:36,619 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:07:36,619 - sqlalchemy.engine.Engine - INFO - [cached since 1247s ago] ('FRO',)
2026-02-07 14:07:36,620 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:07:36,621 - sqlalchemy.engine.Engine - INFO - [cached since 1248s ago] ('FRO', 5, 0)
2026-02-07 14:07:36,622 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 14:07:36,622 - sqlalchemy.engine.Engine - INFO - [cached since 1244s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO')
2026-02-07 14:07:36,622 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for FRO. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-07 14:07:36,623 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR FRO ---

         [FRO] 
        
        **1.  (Fundamental Context)**:
        - /: Energy / Oil & Gas Midstream
        - : 6538434560.0
        - PE (TTM): 29.97 | Forward PE: 9.75
        - 52: [12.4, 29.4]
        - Beta: 0.05
        
        **2.  (Portfolio Context)**:
        - : $27.32
        - : 30.0
        - : $61.50000000000002 (7.503660322108348%)
        
        **3.  (Technical Data)**:
        - : $29.37
        - : 4.89%
        - RSI (14): 70.1
        - MACD: 1.36 (: 0.12)
        - : [24.26, 29.72]
        - MA : [20: 26.99, 50: 24.35, 200: 21.35]
        - KDJ (K): 83.27 | ATR: 0.98
        
        **4.  (Recent News)**:
        [{'title': 'Insiders Favor These 3 High Growth Companies', 'publisher': 'Simply Wall St.', 'time': '2026-02-06T11:36:01'}, {'title': 'Investors more bullish on Frontline (NYSE:FRO) this week as stock rises 6.7%, despite earnings trending downwards over past five years', 'publisher': 'Simply Wall St.', 'time': '2026-02-04T18:20:29'}, {'title': 'Here is Why Frontline (FRO) Gained This Week', 'publisher': 'Insider Monkey', 'time': '2026-01-31T17:38:42'}, {'title': "January 2026's Top Growth Companies With Insider Confidence", 'publisher': 'Simply Wall St.', 'time': '2026-01-08T17:36:12'}, {'title': 'Frontline PLC (FRO) Jumps 9.5% on Venezuela Oil Seizure', 'publisher': 'Insider Monkey', 'time': '2026-01-08T01:55:05'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (24.35)  (24.26)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "investment_horizon": " ( 2-5 /   /  -)",
            "confidence_level": 0-100 (AI ),
            "immediate_action": " (///)",
            "target_price": "/ (2)",
            "stop_loss_price": "/ (2)",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-07 14:07:59,874 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 14:07:59,877 - app.api.v1.endpoints.analysis - INFO - AI Response for FRO: {
    "sentiment_score": 68,
    "summary_status": "",
    "risk_level": "",
    "investment_horizon": " 2-5",
    "confidence_level": 75,
    "immediate_action": "",
    "target_price"...
2026-02-07 14:07:59,878 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 14:07:59,878 - sqlalchemy.engine.Engine - INFO - [cached since 1258s ago] ('c6a138d8-a200-42f2-94b5-9ed46722f723', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', '{"market_data": {"current_price": 29.37, "change_percent": 4.89, "rsi_14": 70.1, "ma_20": 26.99, "ma_50": 24.35, "ma_200": 21.35, "macd_val": 1.36, " ... (90 characters truncated) ... arket_status": "OPEN"}, "portfolio_data": {"avg_cost": 27.32, "quantity": 30.0, "unrealized_pl": 61.50000000000002, "pl_percent": 7.503660322108348}}', '{\n    "sentiment_score": 68,\n    "summary_status": "",\n    "risk_level": "",\n    "investment_horizon": " 2-5",\n    "confidence_level" ... (481 characters truncated) ... 29.7229.50-29.7250%24.26MA50MA20(26.99)RSI70MACD"\n}', '68', '', '', '29.3729.72RSI(70.1)MACD0.12MA20(26.99)MA50(24.35)MA200(21.35)54.89%ATR(0.98)KDJ83.27', "Forward PE(9.75)TTM PE(29.97)65.38Beta(0.05)''", '7.5%Bollinger29.7229.50-29.7250%24.26MA50MA20(26.99)RSI70MACD', ' 2-5', 75.0, '', 29.72, 24.26, 'qwen-3-vl-thinking', '2026-02-07 06:07:59.877968')
2026-02-07 14:07:59,879 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 14:07:59,880 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:07:59,880 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 14:07:59,880 - sqlalchemy.engine.Engine - INFO - [cached since 1258s ago] ('c6a138d8-a200-42f2-94b5-9ed46722f723',)
2026-02-07 14:07:59,881 - api_logger - INFO - rid=/api/analysis/FRO method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=23267.49ms
2026-02-07 14:07:59,882 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:07:59,892 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:07:59,892 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:07:59,892 - sqlalchemy.engine.Engine - INFO - [cached since 1272s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:07:59,893 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:07:59,893 - sqlalchemy.engine.Engine - INFO - [cached since 1272s ago] ('FRO', 20, 0)
2026-02-07 14:07:59,894 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.71ms
2026-02-07 14:07:59,894 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:08:29,667 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:08:29,667 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:08:29,667 - sqlalchemy.engine.Engine - INFO - [cached since 1302s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:08:29,668 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:08:29,668 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:08:29,668 - sqlalchemy.engine.Engine - INFO - [cached since 1302s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:08:29,669 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:08:29,669 - sqlalchemy.engine.Engine - INFO - [cached since 1302s ago] ('AMZN', 20, 0)
2026-02-07 14:08:29,669 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:08:29,669 - sqlalchemy.engine.Engine - INFO - [cached since 1302s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:08:29,671 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.29ms
2026-02-07 14:08:29,671 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.83ms
2026-02-07 14:08:29,671 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:08:29,671 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:08:29,721 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:08:29,721 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:08:29,721 - sqlalchemy.engine.Engine - INFO - [cached since 1302s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:08:29,722 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:08:29,723 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:08:29,723 - sqlalchemy.engine.Engine - INFO - [cached since 1302s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:08:29,723 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:08:29,723 - sqlalchemy.engine.Engine - INFO - [cached since 1302s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:08:29,724 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:08:29,724 - sqlalchemy.engine.Engine - INFO - [cached since 1302s ago] ('FRO', 20, 0)
2026-02-07 14:08:29,724 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.88ms
2026-02-07 14:08:29,725 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.48ms
2026-02-07 14:08:29,725 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:08:29,725 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:08:29,766 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:08:29,766 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:08:29,766 - sqlalchemy.engine.Engine - INFO - [cached since 1302s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:08:29,767 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:08:29,767 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:08:29,767 - sqlalchemy.engine.Engine - INFO - [cached since 1302s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:08:29,768 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:08:29,768 - sqlalchemy.engine.Engine - INFO - [cached since 1302s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:08:29,769 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:08:29,769 - sqlalchemy.engine.Engine - INFO - [cached since 1302s ago] ('AMZN', 20, 0)
2026-02-07 14:08:29,770 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.79ms
2026-02-07 14:08:29,770 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.86ms
2026-02-07 14:08:29,770 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:08:29,771 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:11:01,138 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:11:01,139 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:11:01,139 - sqlalchemy.engine.Engine - INFO - [cached since 1453s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:11:01,139 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:11:01,139 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:11:01,139 - sqlalchemy.engine.Engine - INFO - [cached since 1453s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:11:01,140 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:11:01,140 - sqlalchemy.engine.Engine - INFO - [cached since 1453s ago] ('META', 20, 0)
2026-02-07 14:11:01,140 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:11:01,140 - sqlalchemy.engine.Engine - INFO - [cached since 1453s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'META', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:11:01,141 - api_logger - INFO - rid=/api/portfolio/META/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.84ms
2026-02-07 14:11:01,141 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:11:01,141 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:11:01,142 - api_logger - INFO - rid=/api/analysis/META method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.60ms
2026-02-07 14:11:01,183 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:11:01,183 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:11:01,183 - sqlalchemy.engine.Engine - INFO - [cached since 1453s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:11:01,184 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:11:01,184 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:11:01,184 - sqlalchemy.engine.Engine - INFO - [cached since 1453s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:11:01,185 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:11:01,185 - sqlalchemy.engine.Engine - INFO - [cached since 1453s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:11:01,185 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:11:01,185 - sqlalchemy.engine.Engine - INFO - [cached since 1453s ago] ('AMZN', 20, 0)
2026-02-07 14:11:01,186 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.62ms
2026-02-07 14:11:01,187 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:11:01,188 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.29ms
2026-02-07 14:11:01,189 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:11:01,233 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:11:01,233 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:11:01,233 - sqlalchemy.engine.Engine - INFO - [cached since 1453s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:11:01,234 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:11:01,240 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:11:01,240 - sqlalchemy.engine.Engine - INFO - [cached since 1453s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:11:01,243 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:11:01,243 - sqlalchemy.engine.Engine - INFO - [cached since 1453s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'META', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:11:01,244 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:11:01,244 - sqlalchemy.engine.Engine - INFO - [cached since 1453s ago] ('META', 20, 0)
2026-02-07 14:11:01,245 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:11:01,245 - api_logger - INFO - rid=/api/portfolio/META/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.80ms
2026-02-07 14:11:01,246 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:11:01,246 - api_logger - INFO - rid=/api/analysis/META method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=13.55ms
2026-02-07 14:11:06,171 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:11:06,171 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:11:06,171 - sqlalchemy.engine.Engine - INFO - [cached since 1458s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:11:06,173 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:11:06,173 - sqlalchemy.engine.Engine - INFO - [cached since 1456s ago] ('META',)
2026-02-07 14:11:06,946 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 14:11:06,946 - sqlalchemy.engine.Engine - INFO - [cached since 1456s ago] ('META',)
2026-02-07 14:11:06,948 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:11:06,948 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('f9af2084-3302-4faa-8e26-cbeb75d1d310', 'META', 'Amazon stock sinks after company touts $200 billion AI spending plans, offers cautious profit outlook', 'Yahoo Finance', 'https://finance.yahoo.com/news/amazon-stock-sinks-after-company-touts-200-billion-ai-spending-plans-offers-cautious-profit-outlook-173054116.html', '2026-02-04 17:30:54.000000', None)
2026-02-07 14:11:06,949 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:11:06,949 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('54e604c4-ce1b-459c-8886-e2d863f40f97', 'META', 'Big Tech set to spend $650 billion in 2026 as AI investments soar', 'Yahoo Finance', 'https://finance.yahoo.com/news/big-tech-set-to-spend-650-billion-in-2026-as-ai-investments-soar-163907630.html', '2026-02-06 16:39:07.000000', None)
2026-02-07 14:11:06,950 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:11:06,950 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('fe09553a-3a5a-3969-9cd6-a6c627cd66e8', 'META', 'Why a 175-Year-Old Glassmaker Is Suddenly an AI Superstar', 'The Wall Street Journal', 'https://www.wsj.com/tech/corning-fiber-optics-ai-e045ba3b?siteid=yhoof2&yptr=yahoo', '2026-02-07 03:00:00.000000', None)
2026-02-07 14:11:06,951 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:11:06,951 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('1cda57ba-07e6-3345-9255-94ea1af797fe', 'META', "Alphabet CEO Sundar Pichai Says AI Capacity Is What 'Keeps Us Up At Night' As Power, Land And Supply Chain Limits Test Growth", 'Benzinga', 'https://finance.yahoo.com/news/alphabet-ceo-sundar-pichai-says-023155412.html', '2026-02-07 02:31:55.000000', None)
2026-02-07 14:11:06,951 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:11:06,951 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('a87d2ff8-5aa8-3061-b69f-d6ea76ef204f', 'META', 'Buy the Dip in Amazon Stock After Mixed Q4 Results & CapEx Concerns?', 'Zacks', 'https://finance.yahoo.com/news/buy-dip-amazon-stock-mixed-002000273.html', '2026-02-07 00:20:00.000000', None)
2026-02-07 14:11:06,952 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:11:06,952 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('d6bfb1cd-5d51-322c-b6b9-ffa072965481', 'META', "Trump's 'One Big Beautiful Bill' Could Drive A 15% Earnings Boom In 2026 As US Manufacturing Roars Back, Says Analyst", 'Benzinga', 'https://finance.yahoo.com/news/trumps-one-big-beautiful-bill-230107127.html', '2026-02-06 23:01:07.000000', None)
2026-02-07 14:11:06,952 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:11:06,952 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('eef392d6-b88e-3133-b4ec-4479c02d7155', 'META', "Stock Market Today, Feb. 6: Snap's Fallen Almost 25% This Week, Even After Today's Gains", 'Motley Fool', 'https://finance.yahoo.com/news/stock-market-today-feb-6-225937496.html', '2026-02-06 22:59:37.000000', None)
2026-02-07 14:11:06,953 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:11:06,953 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('77e26f50-92b3-3cb6-8f5c-01a438e44f5b', 'META', 'Stocks rebound after a dramatic week sparked by ongoing AI uncertainty', 'NBC News', 'https://finance.yahoo.com/news/stocks-rebound-dramatic-week-sparked-225745288.html', '2026-02-06 22:57:45.000000', None)
2026-02-07 14:11:06,953 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:11:06,953 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('83746cf4-83ed-3eb7-a000-56ff95bcfe38', 'META', 'Corning Stock Has First Record Close Since the Dot-Com Bubble', 'Barrons.com', 'https://www.barrons.com/articles/corning-stock-price-record-high-bubble-dot-com-ai-e59c4fd7?siteid=yhoof2&yptr=yahoo', '2026-02-06 21:35:00.000000', None)
2026-02-07 14:11:06,954 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:11:06,954 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('2f1a7cd8-e612-3203-b13c-5f8b6d6bce44', 'META', 'Amazon Stock Slides As $200 Billion AI Spending Plan Spooks Investors', "Investor's Business Daily", 'https://www.investors.com/news/technology/amazon-stock-amzn-q4-2025-earnings/?src=A00220&yptr=yahoo', '2026-02-06 21:31:46.000000', None)
2026-02-07 14:11:06,955 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=? WHERE stocks.ticker = ?
2026-02-07 14:11:06,955 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (1673199747072.0, 28.171211, 18.65693, 23.48, 0.32, 'META')
2026-02-07 14:11:06,956 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 14:11:06,956 - sqlalchemy.engine.Engine - INFO - [cached since 1025s ago] (661.46, -1.30556, 58.65429403258302, 658.6899993896484, 656.0400598144531, 685.0569100952148, 9.035577241669557, 8.559459518249723, 0.4761177234198346, 730.9871220398239, 658.6899993896484, 586.3928767394729, 26.745714460100448, 34.30738192684658, 51.96817826048602, -1.01421074043229, 19157125.0, 0.9466138577683237, '2026-02-07 06:11:06.173669', 'META')
2026-02-07 14:11:06,956 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 14:11:06,958 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:11:06,958 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:11:06,958 - sqlalchemy.engine.Engine - INFO - [cached since 1456s ago] ('META',)
2026-02-07 14:11:06,959 - api_logger - INFO - rid=/api/portfolio/META/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=789.71ms
2026-02-07 14:11:06,961 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:11:06,969 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:11:06,969 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:11:06,969 - sqlalchemy.engine.Engine - INFO - [cached since 1459s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:11:06,970 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 14:11:06,970 - sqlalchemy.engine.Engine - INFO - [cached since 1456s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:11:06,972 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.55ms
2026-02-07 14:11:06,972 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:11:10,481 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:11:10,482 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:11:10,482 - sqlalchemy.engine.Engine - INFO - [cached since 1462s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:11:10,483 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 14:11:10,484 - sqlalchemy.engine.Engine - INFO - [cached since 1459s ago] ('META',)
2026-02-07 14:11:10,484 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:11:10,484 - sqlalchemy.engine.Engine - INFO - [cached since 1461s ago] ('META',)
2026-02-07 14:11:10,485 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:11:10,485 - sqlalchemy.engine.Engine - INFO - [cached since 1462s ago] ('META', 5, 0)
2026-02-07 14:11:10,486 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 14:11:10,486 - sqlalchemy.engine.Engine - INFO - [cached since 1458s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'META')
2026-02-07 14:11:10,487 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for META. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-07 14:11:10,487 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR META ---

         [META] 
        
        **1.  (Fundamental Context)**:
        - /: Communication Services / Internet Content & Information
        - : 1673199747072.0
        - PE (TTM): 28.17 | Forward PE: 18.66
        - 52: [479.8, 796.25]
        - Beta: 1.28
        
        **2.  (Portfolio Context)**:
        - : $0.0
        - : 0.0
        - : $0.0 (0%)
        
        **3.  (Technical Data)**:
        - : $661.46
        - : -1.31%
        - RSI (14): 58.65
        - MACD: 9.04 (: 0.48)
        - : [586.39, 730.99]
        - MA : [20: 658.69, 50: 656.04, 200: 685.06]
        - KDJ (K): 34.31 | ATR: 26.75
        
        **4.  (Recent News)**:
        [{'title': 'Why a 175-Year-Old Glassmaker Is Suddenly an AI Superstar', 'publisher': 'The Wall Street Journal', 'time': '2026-02-07T03:00:00'}, {'title': "Trump's 'One Big Beautiful Bill' Could Drive A 15% Earnings Boom In 2026 As US Manufacturing Roars Back, Says Analyst", 'publisher': 'Benzinga', 'time': '2026-02-06T23:01:07'}, {'title': "Stock Market Today, Feb. 6: Snap's Fallen Almost 25% This Week, Even After Today's Gains", 'publisher': 'Motley Fool', 'time': '2026-02-06T22:59:37'}, {'title': 'Stocks rebound after a dramatic week sparked by ongoing AI uncertainty', 'publisher': 'NBC News', 'time': '2026-02-06T22:57:45'}, {'title': 'Amazon Stock Slides As $200 Billion AI Spending Plan Spooks Investors', 'publisher': "Investor's Business Daily", 'time': '2026-02-06T21:31:46'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (656.04)  (586.39)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "investment_horizon": " ( 2-5 /   /  -)",
            "confidence_level": 0-100 (AI ),
            "immediate_action": " (///)",
            "target_price": "/ (2)",
            "stop_loss_price": "/ (2)",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-07 14:11:32,613 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 14:11:32,617 - app.api.v1.endpoints.analysis - INFO - AI Response for META: {
    "sentiment_score": 62,
    "summary_status": "",
    "risk_level": "",
    "investment_horizon": " ",
    "confidence_level": 78,
    "immediate_action": "",
    "target_price": 7...
2026-02-07 14:11:32,619 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 14:11:32,619 - sqlalchemy.engine.Engine - INFO - [cached since 1471s ago] ('7ad6e79e-32ab-4613-b5ea-edf4c44a8b8a', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'META', '{"market_data": {"current_price": 661.46, "change_percent": -1.31, "rsi_14": 58.65, "ma_20": 658.69, "ma_50": 656.04, "ma_200": 685.06, "macd_val": 9 ... (66 characters truncated) ... dj_k": 34.31, "atr_14": 26.75, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 0.0, "quantity": 0.0, "unrealized_pl": 0.0, "pl_percent": 0}}', '{\n    "sentiment_score": 62,\n    "summary_status": "",\n    "risk_level": "",\n    "investment_horizon": " ",\n    "confidence_level": 7 ... (469 characters truncated) ... MA50(656.04)0.5%658.691%665.00730.99586.393%MA2001.5%685.06"\n}', '62', '', '', '661.46(658.67)RSI 58.65MACD 9.040.48MA20(658.69)MA50(656.04)MA200(685.06)730.99', 'Forward PE 18.66TTM 28.171.28AIAIForward PE', 'MA50(656.04)0.5%658.691%665.00730.99586.393%MA2001.5%685.06', ' ', 78.0, '', 730.99, 586.39, 'qwen-3-vl-thinking', '2026-02-07 06:11:32.618981')
2026-02-07 14:11:32,620 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 14:11:32,621 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:11:32,622 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 14:11:32,622 - sqlalchemy.engine.Engine - INFO - [cached since 1471s ago] ('7ad6e79e-32ab-4613-b5ea-edf4c44a8b8a',)
2026-02-07 14:11:32,623 - api_logger - INFO - rid=/api/analysis/META method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=22142.25ms
2026-02-07 14:11:32,623 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:11:32,634 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:11:32,634 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:11:32,634 - sqlalchemy.engine.Engine - INFO - [cached since 1485s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:11:32,635 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:11:32,635 - sqlalchemy.engine.Engine - INFO - [cached since 1484s ago] ('META', 20, 0)
2026-02-07 14:11:32,636 - api_logger - INFO - rid=/api/portfolio/META/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.82ms
2026-02-07 14:11:32,637 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:14:39,027 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:14:39,028 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:14:39,028 - sqlalchemy.engine.Engine - INFO - [cached since 1671s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:14:39,029 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:14:39,030 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:14:39,030 - sqlalchemy.engine.Engine - INFO - [cached since 1671s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:14:39,031 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:14:39,031 - sqlalchemy.engine.Engine - INFO - [cached since 1671s ago] ('GOOGL', 20, 0)
2026-02-07 14:14:39,032 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:14:39,032 - sqlalchemy.engine.Engine - INFO - [cached since 1671s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:14:39,034 - api_logger - INFO - rid=/api/portfolio/GOOGL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.52ms
2026-02-07 14:14:39,036 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:14:39,036 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:14:39,038 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=17.25ms
2026-02-07 14:14:39,060 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:14:39,060 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:14:39,060 - sqlalchemy.engine.Engine - INFO - [cached since 1671s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:14:39,060 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:14:39,060 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:14:39,060 - sqlalchemy.engine.Engine - INFO - [cached since 1671s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:14:39,061 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:14:39,061 - sqlalchemy.engine.Engine - INFO - [cached since 1671s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'META', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:14:39,063 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:14:39,063 - sqlalchemy.engine.Engine - INFO - [cached since 1671s ago] ('META', 20, 0)
2026-02-07 14:14:39,071 - api_logger - INFO - rid=/api/portfolio/META/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.75ms
2026-02-07 14:14:39,072 - api_logger - INFO - rid=/api/analysis/META method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.40ms
2026-02-07 14:14:39,072 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:14:39,073 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:14:39,134 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:14:39,134 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:14:39,134 - sqlalchemy.engine.Engine - INFO - [cached since 1671s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:14:39,135 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:14:39,135 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:14:39,135 - sqlalchemy.engine.Engine - INFO - [cached since 1671s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:14:39,136 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:14:39,136 - sqlalchemy.engine.Engine - INFO - [cached since 1671s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:14:39,136 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:14:39,136 - sqlalchemy.engine.Engine - INFO - [cached since 1671s ago] ('GOOGL', 20, 0)
2026-02-07 14:14:39,136 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:14:39,137 - api_logger - INFO - rid=/api/portfolio/GOOGL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.43ms
2026-02-07 14:14:39,137 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:14:39,137 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.66ms
2026-02-07 14:14:43,560 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:14:43,560 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:14:43,560 - sqlalchemy.engine.Engine - INFO - [cached since 1675s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:14:43,562 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:14:43,562 - sqlalchemy.engine.Engine - INFO - [cached since 1674s ago] ('GOOGL',)
2026-02-07 14:14:44,437 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 14:14:44,437 - sqlalchemy.engine.Engine - INFO - [cached since 1673s ago] ('GOOGL',)
2026-02-07 14:14:44,441 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:14:44,442 - sqlalchemy.engine.Engine - INFO - [no key 0.00096s] ('19cd1080-a43d-4393-8ed1-77d2b30d3322', 'GOOGL', 'Earnings live: Amazon, Reddit stocks sink to cap jam-packed earnings week', 'Yahoo Finance', 'https://finance.yahoo.com/news/live/earnings-live-amazon-reddit-stocks-sink-to-cap-jam-packed-earnings-week-213155571.html', '2026-02-06 21:31:55.000000', None)
2026-02-07 14:14:44,444 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:14:44,444 - sqlalchemy.engine.Engine - INFO - [no key 0.00029s] ('54e604c4-ce1b-459c-8886-e2d863f40f97', 'GOOGL', 'Big Tech set to spend $650 billion in 2026 as AI investments soar', 'Yahoo Finance', 'https://finance.yahoo.com/news/big-tech-set-to-spend-650-billion-in-2026-as-ai-investments-soar-163907630.html', '2026-02-06 16:39:07.000000', None)
2026-02-07 14:14:44,446 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:14:44,446 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ('f47cd64f-bfb9-3d0a-93b7-63cba374b0cb', 'GOOGL', 'Jim Cramer on Take-Two: I Do Think That Youre Getting a Chance to Buy It', 'Insider Monkey', 'https://finance.yahoo.com/news/jim-cramer-two-think-getting-055651902.html', '2026-02-07 05:56:51.000000', None)
2026-02-07 14:14:44,448 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:14:44,448 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ('222bae51-211e-3ed9-8779-8621d5a8d5f4', 'GOOGL', 'Jim Cramer Says Google Spent to Defeat Bing and All Other Comers, I Think Its Doing It Again.', 'Insider Monkey', 'https://finance.yahoo.com/news/jim-cramer-says-google-spent-055645495.html', '2026-02-07 05:56:45.000000', None)
2026-02-07 14:14:44,449 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:14:44,449 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('1b429303-2213-3226-84c3-c0f9e9511be4', 'GOOGL', 'The Shaky Pillars of Artificial Intelligence', 'Barrons.com', 'https://www.barrons.com/articles/the-shaky-pillars-of-artificial-intelligence-95a12d33?siteid=yhoof2&yptr=yahoo', '2026-02-07 03:32:00.000000', None)
2026-02-07 14:14:44,450 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:14:44,450 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('1f64fc6a-fbc1-3ce8-a6c6-f2ce7023622d', 'GOOGL', 'Could Nvidia Be the Best Way to Play the AI Boom in 2026?', 'Motley Fool', 'https://finance.yahoo.com/news/could-nvidia-best-way-play-032500597.html', '2026-02-07 03:25:00.000000', None)
2026-02-07 14:14:44,451 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:14:44,451 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('669d0140-4377-35a3-b036-33e4331529fa', 'GOOGL', 'Broadcoms AI Role Expands With Alphabet Capex And New Wi Fi 8', 'Simply Wall St.', 'https://finance.yahoo.com/news/broadcom-ai-role-expands-alphabet-030916291.html', '2026-02-07 03:09:16.000000', None)
2026-02-07 14:14:44,451 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:14:44,452 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('1cda57ba-07e6-3345-9255-94ea1af797fe', 'GOOGL', "Alphabet CEO Sundar Pichai Says AI Capacity Is What 'Keeps Us Up At Night' As Power, Land And Supply Chain Limits Test Growth", 'Benzinga', 'https://finance.yahoo.com/news/alphabet-ceo-sundar-pichai-says-023155412.html', '2026-02-07 02:31:55.000000', None)
2026-02-07 14:14:44,452 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:14:44,452 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('b7a84e9c-492b-38de-9af8-26bd7bb0a57a', 'GOOGL', "Why AppLovin (APP) Is Down 14.0% After New AI Rivals Challenge Its Ad Tech Platform  And What's Next", 'Simply Wall St.', 'https://finance.yahoo.com/news/why-applovin-app-down-14-020803766.html', '2026-02-07 02:08:03.000000', None)
2026-02-07 14:14:44,453 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:14:44,453 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('2e28b0dd-9702-398b-abda-3fdcf2fffcff', 'GOOGL', 'Breaking Down Mag 7 Earnings: Good or Bad?', 'Zacks', 'https://finance.yahoo.com/news/breaking-down-mag-7-earnings-003400473.html', '2026-02-07 00:34:00.000000', None)
2026-02-07 14:14:44,455 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=? WHERE stocks.ticker = ?
2026-02-07 14:14:44,455 - sqlalchemy.engine.Engine - INFO - [cached since 217.5s ago] (3905637318656.0, 29.839186, 24.257076, 10.82, 0.26, 'GOOGL')
2026-02-07 14:14:44,455 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 14:14:44,455 - sqlalchemy.engine.Engine - INFO - [cached since 1243s ago] (322.86, -2.53283, 43.652197600052965, 332.72449951171876, 321.70122619628904, 238.7781775665283, 4.025060016028874, 5.68631642200026, -1.6612564059713861, 343.4725137079955, 332.72449951171876, 321.976485315442, 10.834997994559151, 52.38923289634134, 61.78017673060484, 33.60734522781432, 37240025.0, 1.5116719175134818, '2026-02-07 06:14:43.563391', 'GOOGL')
2026-02-07 14:14:44,456 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 14:14:44,457 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:14:44,458 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:14:44,458 - sqlalchemy.engine.Engine - INFO - [cached since 1673s ago] ('GOOGL',)
2026-02-07 14:14:44,459 - api_logger - INFO - rid=/api/portfolio/GOOGL/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=900.04ms
2026-02-07 14:14:44,459 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:14:44,467 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:14:44,467 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:14:44,467 - sqlalchemy.engine.Engine - INFO - [cached since 1676s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:14:44,468 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 14:14:44,468 - sqlalchemy.engine.Engine - INFO - [cached since 1673s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:14:44,470 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.60ms
2026-02-07 14:14:44,470 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:14:46,737 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:14:46,737 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:14:46,737 - sqlalchemy.engine.Engine - INFO - [cached since 1679s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:14:46,739 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 14:14:46,739 - sqlalchemy.engine.Engine - INFO - [cached since 1676s ago] ('GOOGL',)
2026-02-07 14:14:46,740 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:14:46,740 - sqlalchemy.engine.Engine - INFO - [cached since 1677s ago] ('GOOGL',)
2026-02-07 14:14:46,741 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:14:46,742 - sqlalchemy.engine.Engine - INFO - [cached since 1679s ago] ('GOOGL', 5, 0)
2026-02-07 14:14:46,744 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 14:14:46,744 - sqlalchemy.engine.Engine - INFO - [cached since 1674s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL')
2026-02-07 14:14:46,745 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for GOOGL. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-07 14:14:46,746 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR GOOGL ---

         [GOOGL] 
        
        **1.  (Fundamental Context)**:
        - /: Communication Services / Internet Content & Information
        - : 3905637318656.0
        - PE (TTM): 29.84 | Forward PE: 24.26
        - 52: [140.53, 349.0]
        - Beta: 1.09
        
        **2.  (Portfolio Context)**:
        - : $302.0
        - : 20.0
        - : $417.2000000000003 (6.907284768211926%)
        
        **3.  (Technical Data)**:
        - : $322.86
        - : -2.53%
        - RSI (14): 43.65
        - MACD: 4.03 (: -1.66)
        - : [321.98, 343.47]
        - MA : [20: 332.72, 50: 321.7, 200: 238.78]
        - KDJ (K): 52.39 | ATR: 10.83
        
        **4.  (Recent News)**:
        [{'title': 'Jim Cramer on Take-Two: I Do Think That Youre Getting a Chance to Buy It', 'publisher': 'Insider Monkey', 'time': '2026-02-07T05:56:51'}, {'title': 'Jim Cramer Says Google Spent to Defeat Bing and All Other Comers, I Think Its Doing It Again.', 'publisher': 'Insider Monkey', 'time': '2026-02-07T05:56:45'}, {'title': 'The Shaky Pillars of Artificial Intelligence', 'publisher': 'Barrons.com', 'time': '2026-02-07T03:32:00'}, {'title': 'Could Nvidia Be the Best Way to Play the AI Boom in 2026?', 'publisher': 'Motley Fool', 'time': '2026-02-07T03:25:00'}, {'title': 'Broadcoms AI Role Expands With Alphabet Capex And New Wi Fi 8', 'publisher': 'Simply Wall St.', 'time': '2026-02-07T03:09:16'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (321.7)  (321.98)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "investment_horizon": " ( 2-5 /   /  -)",
            "confidence_level": 0-100 (AI ),
            "immediate_action": " (///)",
            "target_price": "/ (2)",
            "stop_loss_price": "/ (2)",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-07 14:15:02,202 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 14:15:02,207 - app.api.v1.endpoints.analysis - INFO - AI Response for GOOGL: {
    "sentiment_score": 68,
    "summary_status": "",
    "risk_level": "",
    "investment_horizon": " ",
    "confidence_level": 85,
    "immediate_action": "",
    "target_price"...
2026-02-07 14:15:02,209 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 14:15:02,209 - sqlalchemy.engine.Engine - INFO - [cached since 1680s ago] ('fa7f1493-acf4-4355-9bc2-eeddd0cd7f9c', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', '{"market_data": {"current_price": 322.86, "change_percent": -2.53, "rsi_14": 43.65, "ma_20": 332.72, "ma_50": 321.7, "ma_200": 238.78, "macd_val": 4. ... (99 characters truncated) ... arket_status": "OPEN"}, "portfolio_data": {"avg_cost": 302.0, "quantity": 20.0, "unrealized_pl": 417.2000000000003, "pl_percent": 6.907284768211926}}', '{\n    "sentiment_score": 68,\n    "summary_status": "",\n    "risk_level": "",\n    "investment_horizon": " ",\n    "confidence_level": ... (477 characters truncated) ... ion_advice": "6.91%10343.4750321.70349.0321.70200238.78AIQ1"\n}', '68', '', '', '322.86321.980.88RSI 43.65MACD-1.664.0350321.70200238.78KDJ 52.39ATR 10.8310', 'Forward PE 24.26PE 29.84AIAlphabet capexBarronsAI1.09Beta52349.0', '6.91%10343.4750321.70349.0321.70200238.78AIQ1', ' ', 85.0, '', 343.47, 321.7, 'qwen-3-vl-thinking', '2026-02-07 06:15:02.209242')
2026-02-07 14:15:02,211 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 14:15:02,213 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:15:02,214 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 14:15:02,214 - sqlalchemy.engine.Engine - INFO - [cached since 1680s ago] ('fa7f1493-acf4-4355-9bc2-eeddd0cd7f9c',)
2026-02-07 14:15:02,215 - api_logger - INFO - rid=/api/analysis/GOOGL method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=15479.97ms
2026-02-07 14:15:02,216 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:15:02,228 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:15:02,228 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:15:02,228 - sqlalchemy.engine.Engine - INFO - [cached since 1694s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:15:02,229 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:15:02,230 - sqlalchemy.engine.Engine - INFO - [cached since 1694s ago] ('GOOGL', 20, 0)
2026-02-07 14:15:02,230 - api_logger - INFO - rid=/api/portfolio/GOOGL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.24ms
2026-02-07 14:15:02,231 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:15:39,604 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:15:39,605 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:15:39,605 - sqlalchemy.engine.Engine - INFO - [cached since 1731s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:15:39,607 - api_logger - INFO - rid=/api/user/me method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.92ms
2026-02-07 14:15:39,609 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:15:39,612 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:15:39,612 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:15:39,612 - sqlalchemy.engine.Engine - INFO - [cached since 1731s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:15:39,614 - api_logger - INFO - rid=/api/user/me method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.85ms
2026-02-07 14:15:39,616 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:15:49,057 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:15:49,058 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:15:49,058 - sqlalchemy.engine.Engine - INFO - [cached since 1741s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:15:49,059 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 14:15:49,059 - sqlalchemy.engine.Engine - INFO - [cached since 1738s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:15:49,061 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.72ms
2026-02-07 14:15:49,061 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:15:49,062 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:15:49,063 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:15:49,063 - sqlalchemy.engine.Engine - INFO - [cached since 1741s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:15:49,064 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 14:15:49,064 - sqlalchemy.engine.Engine - INFO - [cached since 1738s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:15:49,066 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.93ms
2026-02-07 14:15:49,067 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:15:49,090 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:15:49,091 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:15:49,091 - sqlalchemy.engine.Engine - INFO - [cached since 1741s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:15:49,092 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:15:49,092 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:15:49,092 - sqlalchemy.engine.Engine - INFO - [cached since 1741s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:15:49,092 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:15:49,093 - sqlalchemy.engine.Engine - INFO - [cached since 1741s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:15:49,093 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:15:49,093 - sqlalchemy.engine.Engine - INFO - [cached since 1741s ago] ('AAPL', 20, 0)
2026-02-07 14:15:49,093 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.82ms
2026-02-07 14:15:49,094 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:15:49,095 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.68ms
2026-02-07 14:15:49,095 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:17:44,306 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:17:44,310 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:17:44,310 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('%O%', '%O%', 10, 0)
2026-02-07 14:17:44,312 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.46ms
2026-02-07 14:17:44,313 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:17:44,401 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:17:44,401 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:17:44,401 - sqlalchemy.engine.Engine - INFO - [cached since 0.09142s ago] ('%O R%', '%O R%', 10, 0)
2026-02-07 14:17:44,403 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.12ms
2026-02-07 14:17:44,404 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:17:44,646 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:17:44,647 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:17:44,647 - sqlalchemy.engine.Engine - INFO - [cached since 0.3368s ago] ('%O R C%', '%O R C%', 10, 0)
2026-02-07 14:17:44,648 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.26ms
2026-02-07 14:17:44,649 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:17:44,793 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:17:44,794 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:17:44,794 - sqlalchemy.engine.Engine - INFO - [cached since 0.4839s ago] ('%O R C L%', '%O R C L%', 10, 0)
2026-02-07 14:17:44,796 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.57ms
2026-02-07 14:17:44,796 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:17:44,999 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:17:44,999 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:17:45,000 - sqlalchemy.engine.Engine - INFO - [cached since 0.6898s ago] ('%O R C L%', '%O R C L%', 10, 0)
2026-02-07 14:17:45,011 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:17:45,011 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:17:45,011 - sqlalchemy.engine.Engine - INFO - [cached since 0.7014s ago] ('%ORCL%', '%ORCL%', 10, 0)
2026-02-07 14:17:45,013 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.68ms
2026-02-07 14:17:45,013 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:17:45,836 - yfinance - ERROR - HTTP Error 404: {"quoteSummary":{"result":null,"error":{"code":"Not Found","description":"Quote not found for symbol: O R C L"}}}
2026-02-07 14:17:46,311 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1313.68ms
2026-02-07 14:17:46,313 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:17:50,042 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:17:50,043 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:17:50,043 - sqlalchemy.engine.Engine - INFO - [cached since 5.733s ago] ('%ORC%', '%ORC%', 10, 0)
2026-02-07 14:17:50,044 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.34ms
2026-02-07 14:17:50,048 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:17:53,063 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:17:53,064 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:17:53,064 - sqlalchemy.engine.Engine - INFO - [cached since 8.754s ago] ('%ORCL%', '%ORCL%', 10, 0)
2026-02-07 14:17:53,065 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.76ms
2026-02-07 14:17:53,066 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:17:53,540 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:17:53,541 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:17:53,541 - sqlalchemy.engine.Engine - INFO - [cached since 9.231s ago] ('%ORCL%', '%ORCL%', 10, 0)
2026-02-07 14:17:53,543 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.69ms
2026-02-07 14:17:53,543 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:17:57,286 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:17:57,287 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:17:57,287 - sqlalchemy.engine.Engine - INFO - [cached since 1869s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:17:57,289 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 14:17:57,289 - sqlalchemy.engine.Engine - INFO - [cached since 1864s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ORCL')
2026-02-07 14:17:57,292 - sqlalchemy.engine.Engine - INFO - INSERT INTO portfolios (id, user_id, ticker, quantity, avg_cost, target_price, stop_loss_price, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 14:17:57,292 - sqlalchemy.engine.Engine - INFO - [generated in 0.00059s] ('b393019c-0962-4b80-82dd-2d2573010d8c', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'ORCL', 0.0, 0.0, None, None, '2026-02-07 06:17:57.292162', '2026-02-07 06:17:57.292171')
2026-02-07 14:17:57,294 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 14:17:57,296 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:17:57,296 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:17:57,296 - sqlalchemy.engine.Engine - INFO - [cached since 1867s ago] ('ORCL',)
2026-02-07 14:17:57,297 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:17:57,297 - sqlalchemy.engine.Engine - INFO - [cached since 1867s ago] ('ORCL',)
2026-02-07 14:17:57,297 - api_logger - INFO - rid=/api/portfolio/ method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.83ms
2026-02-07 14:17:57,298 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:17:57,306 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:17:57,306 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:17:57,307 - sqlalchemy.engine.Engine - INFO - [cached since 1869s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:17:57,308 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 14:17:57,309 - sqlalchemy.engine.Engine - INFO - [cached since 1866s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:17:57,311 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.00ms
2026-02-07 14:17:57,311 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:17:58,136 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:17:58,136 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 14:17:58,136 - sqlalchemy.engine.Engine - INFO - [cached since 1867s ago] ('ORCL',)
2026-02-07 14:17:58,139 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:17:58,139 - sqlalchemy.engine.Engine - INFO - [no key 0.00037s] ('202149e5-d978-3156-a7bb-0198a84edb2a', 'ORCL', 'Blue Owl Capital Q4 Earnings Call Highlights', 'MarketBeat', 'https://finance.yahoo.com/news/blue-owl-capital-q4-earnings-030823377.html', '2026-02-07 03:08:23.000000', None)
2026-02-07 14:17:58,142 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:17:58,142 - sqlalchemy.engine.Engine - INFO - [no key 0.00040s] ('a0b47791-9fb8-39c6-894e-5607b803e974', 'ORCL', 'Are the Bond Markets and the Equity Markets Coming Into Agreement About an AI Bubble?', 'Motley Fool', 'https://finance.yahoo.com/news/bond-markets-equity-markets-coming-234200478.html', '2026-02-06 23:42:00.000000', None)
2026-02-07 14:17:58,143 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:17:58,143 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('d12c0c2d-8412-3277-bee2-ef5fc39ff530', 'ORCL', 'Why GE Vernova Crushed the Market Again Today', 'Motley Fool', 'https://finance.yahoo.com/news/why-ge-vernova-crushed-market-211348394.html', '2026-02-06 21:13:48.000000', None)
2026-02-07 14:17:58,144 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:17:58,144 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('8eb78c5c-8ba9-31f5-86a3-858a6ec236c1', 'ORCL', 'Bloom Energy, The Clean Energy Choice For AI Data Centers, Tops Outlook; Amazon Announces AI Spending', "Investor's Business Daily", 'https://www.investors.com/news/bloom-energy-stock-q4-earning-ai-data-centers-play/?src=A00220&yptr=yahoo', '2026-02-06 20:50:10.000000', None)
2026-02-07 14:17:58,145 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:17:58,145 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('3e325db6-aa69-3560-8987-b8337ab7de44', 'ORCL', 'Why Aehr Test Systems Soared Higher by 13% Today', 'Motley Fool', 'https://finance.yahoo.com/news/why-aehr-test-systems-soared-183552189.html', '2026-02-06 18:35:52.000000', None)
2026-02-07 14:17:58,146 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:17:58,146 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('e180ea93-417b-374d-a4bb-b12bcde9444d', 'ORCL', 'A $680 Billion Headwind Faces These 4 Tech Stocks. Should You Sell Them Now?', 'Barchart', 'https://finance.yahoo.com/news/680-billion-headwind-faces-4-180002939.html', '2026-02-06 18:00:02.000000', None)
2026-02-07 14:17:58,146 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:17:58,146 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('c119b61b-49cf-350c-a022-373089de9b6e', 'ORCL', 'Heard on the Street: Amazon Has Burned Cash Before. The AI Splurge Is Different', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-06-2026/card/amazon-has-burned-cash-before-the-ai-splurge-is-different-LubPDDpckNsTNfpcuBwH?siteid=yhoof2&yptr=yahoo', '2026-02-06 16:15:02.000000', None)
2026-02-07 14:17:58,147 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:17:58,147 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('f17c0bc0-d0da-3328-89b7-ad5f20481566', 'ORCL', 'Amazon Shares Sink as Company Boosts AI Spending by Nearly 60%', 'The Wall Street Journal', 'https://www.wsj.com/business/earnings/amazon-earnings-q4-2025-amzn-stock-996e5cc2?siteid=yhoof2&yptr=yahoo', '2026-02-06 14:47:00.000000', None)
2026-02-07 14:17:58,148 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:17:58,148 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ('ac6cabd9-8d5f-3ca9-9dc7-250c41f8722e', 'ORCL', 'Cloud AI Today - AI Producer Inc Advances With New Patent In Live Events', 'Simply Wall St.', 'https://finance.yahoo.com/news/cloud-ai-today-ai-producer-123847931.html', '2026-02-06 12:38:47.000000', None)
2026-02-07 14:17:58,149 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:17:58,149 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('79eb98b2-89c9-3d31-b06d-dad9c0b9f1d4', 'ORCL', '9 S&P 500 Stocks Spend On The Future Like They Know A Boom Is Near', "Investor's Business Daily", 'https://www.investors.com/etfs-and-funds/sectors/sp500-stocks-spend-on-their-futures-like-they-know-a-boom-is-coming/?src=A00220&yptr=yahoo', '2026-02-06 12:10:42.000000', None)
2026-02-07 14:17:58,151 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET sector=?, industry=?, market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=?, beta=?, fifty_two_week_high=?, fifty_two_week_low=? WHERE stocks.ticker = ?
2026-02-07 14:17:58,151 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('Technology', 'Software - Infrastructure', 410477690880.0, 26.896423, 18.066088, 5.31, 1.4, 1.633, 345.72, 118.86, 'ORCL')
2026-02-07 14:17:58,152 - sqlalchemy.engine.Engine - INFO - INSERT INTO market_data_cache (ticker, current_price, change_percent, rsi_14, ma_20, ma_50, ma_200, macd_val, macd_signal, macd_hist, bb_upper, bb_middle, bb_lower, atr_14, k_line, d_line, j_line, volume_ma_20, volume_ratio, market_status, last_updated) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 14:17:58,152 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('ORCL', 142.82, 4.64538, 19.872676419900003, 174.6804992675781, 188.8534848022461, 219.23478080749513, -13.692708243578068, -10.277247448468948, -3.4154607951091194, 213.62953661131397, 174.6804992675781, 135.73146192384226, 9.084284101213727, 9.838840618820493, 10.32679368928448, 8.86293447789252, 29570295.0, 1.0108421305908515, <MarketStatus.OPEN: 'OPEN'>, '2026-02-07 06:17:57.299020')
2026-02-07 14:17:58,153 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 14:17:58,154 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:17:58,154 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:17:58,154 - sqlalchemy.engine.Engine - INFO - [cached since 1867s ago] ('ORCL',)
2026-02-07 14:17:58,155 - app.api.v1.endpoints.portfolio - INFO -  Background fetch for ORCL completed
2026-02-07 14:18:07,970 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:18:07,970 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:18:07,970 - sqlalchemy.engine.Engine - INFO - [cached since 1880s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:18:07,972 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:18:07,972 - sqlalchemy.engine.Engine - INFO - [cached since 1880s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ORCL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:18:07,972 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:18:07,972 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:18:07,972 - sqlalchemy.engine.Engine - INFO - [cached since 1880s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:18:07,973 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:18:07,974 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:18:07,974 - sqlalchemy.engine.Engine - INFO - [cached since 1880s ago] ('ORCL', 20, 0)
2026-02-07 14:18:07,975 - api_logger - INFO - rid=/api/analysis/ORCL method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.63ms
2026-02-07 14:18:07,977 - api_logger - INFO - rid=/api/portfolio/ORCL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.36ms
2026-02-07 14:18:07,978 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:18:08,018 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:18:08,018 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:18:08,018 - sqlalchemy.engine.Engine - INFO - [cached since 1880s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:18:08,020 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:18:08,020 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:18:08,020 - sqlalchemy.engine.Engine - INFO - [cached since 1880s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:18:08,021 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:18:08,021 - sqlalchemy.engine.Engine - INFO - [cached since 1880s ago] ('AAPL', 20, 0)
2026-02-07 14:18:08,022 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:18:08,022 - sqlalchemy.engine.Engine - INFO - [cached since 1880s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:18:08,023 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.83ms
2026-02-07 14:18:08,024 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.36ms
2026-02-07 14:18:08,024 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:18:08,024 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:18:08,070 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:18:08,070 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:18:08,070 - sqlalchemy.engine.Engine - INFO - [cached since 1880s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:18:08,070 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:18:08,070 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:18:08,070 - sqlalchemy.engine.Engine - INFO - [cached since 1880s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:18:08,071 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:18:08,072 - sqlalchemy.engine.Engine - INFO - [cached since 1880s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ORCL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:18:08,072 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:18:08,072 - sqlalchemy.engine.Engine - INFO - [cached since 1880s ago] ('ORCL', 20, 0)
2026-02-07 14:18:08,073 - api_logger - INFO - rid=/api/portfolio/ORCL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.22ms
2026-02-07 14:18:08,074 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:18:08,074 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:18:08,075 - api_logger - INFO - rid=/api/analysis/ORCL method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.62ms
2026-02-07 14:18:09,762 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:18:09,763 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:18:09,763 - sqlalchemy.engine.Engine - INFO - [cached since 1882s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:18:09,765 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:18:09,765 - sqlalchemy.engine.Engine - INFO - [cached since 1880s ago] ('ORCL',)
2026-02-07 14:18:10,387 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 14:18:10,388 - sqlalchemy.engine.Engine - INFO - [cached since 1879s ago] ('ORCL',)
2026-02-07 14:18:10,393 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:18:10,393 - sqlalchemy.engine.Engine - INFO - [no key 0.00046s] ('202149e5-d978-3156-a7bb-0198a84edb2a', 'ORCL', 'Blue Owl Capital Q4 Earnings Call Highlights', 'MarketBeat', 'https://finance.yahoo.com/news/blue-owl-capital-q4-earnings-030823377.html', '2026-02-07 03:08:23.000000', None)
2026-02-07 14:18:10,394 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:18:10,394 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('a0b47791-9fb8-39c6-894e-5607b803e974', 'ORCL', 'Are the Bond Markets and the Equity Markets Coming Into Agreement About an AI Bubble?', 'Motley Fool', 'https://finance.yahoo.com/news/bond-markets-equity-markets-coming-234200478.html', '2026-02-06 23:42:00.000000', None)
2026-02-07 14:18:10,395 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:18:10,395 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('d12c0c2d-8412-3277-bee2-ef5fc39ff530', 'ORCL', 'Why GE Vernova Crushed the Market Again Today', 'Motley Fool', 'https://finance.yahoo.com/news/why-ge-vernova-crushed-market-211348394.html', '2026-02-06 21:13:48.000000', None)
2026-02-07 14:18:10,396 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:18:10,396 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('8eb78c5c-8ba9-31f5-86a3-858a6ec236c1', 'ORCL', 'Bloom Energy, The Clean Energy Choice For AI Data Centers, Tops Outlook; Amazon Announces AI Spending', "Investor's Business Daily", 'https://www.investors.com/news/bloom-energy-stock-q4-earning-ai-data-centers-play/?src=A00220&yptr=yahoo', '2026-02-06 20:50:10.000000', None)
2026-02-07 14:18:10,397 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:18:10,397 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('3e325db6-aa69-3560-8987-b8337ab7de44', 'ORCL', 'Why Aehr Test Systems Soared Higher by 13% Today', 'Motley Fool', 'https://finance.yahoo.com/news/why-aehr-test-systems-soared-183552189.html', '2026-02-06 18:35:52.000000', None)
2026-02-07 14:18:10,397 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:18:10,398 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('e180ea93-417b-374d-a4bb-b12bcde9444d', 'ORCL', 'A $680 Billion Headwind Faces These 4 Tech Stocks. Should You Sell Them Now?', 'Barchart', 'https://finance.yahoo.com/news/680-billion-headwind-faces-4-180002939.html', '2026-02-06 18:00:02.000000', None)
2026-02-07 14:18:10,398 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:18:10,398 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('c119b61b-49cf-350c-a022-373089de9b6e', 'ORCL', 'Heard on the Street: Amazon Has Burned Cash Before. The AI Splurge Is Different', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-06-2026/card/amazon-has-burned-cash-before-the-ai-splurge-is-different-LubPDDpckNsTNfpcuBwH?siteid=yhoof2&yptr=yahoo', '2026-02-06 16:15:02.000000', None)
2026-02-07 14:18:10,399 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:18:10,399 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('f17c0bc0-d0da-3328-89b7-ad5f20481566', 'ORCL', 'Amazon Shares Sink as Company Boosts AI Spending by Nearly 60%', 'The Wall Street Journal', 'https://www.wsj.com/business/earnings/amazon-earnings-q4-2025-amzn-stock-996e5cc2?siteid=yhoof2&yptr=yahoo', '2026-02-06 14:47:00.000000', None)
2026-02-07 14:18:10,400 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:18:10,400 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('ac6cabd9-8d5f-3ca9-9dc7-250c41f8722e', 'ORCL', 'Cloud AI Today - AI Producer Inc Advances With New Patent In Live Events', 'Simply Wall St.', 'https://finance.yahoo.com/news/cloud-ai-today-ai-producer-123847931.html', '2026-02-06 12:38:47.000000', None)
2026-02-07 14:18:10,400 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 14:18:10,400 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('79eb98b2-89c9-3d31-b06d-dad9c0b9f1d4', 'ORCL', '9 S&P 500 Stocks Spend On The Future Like They Know A Boom Is Near', "Investor's Business Daily", 'https://www.investors.com/etfs-and-funds/sectors/sp500-stocks-spend-on-their-futures-like-they-know-a-boom-is-coming/?src=A00220&yptr=yahoo', '2026-02-06 12:10:42.000000', None)
2026-02-07 14:18:10,402 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_lower=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 14:18:10,402 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] (219.2347804260254, -13.692708239185436, -10.277247442022135, -3.4154607971633, 213.62953661131144, 135.7314619238448, '2026-02-07 06:18:09.765998', 'ORCL')
2026-02-07 14:18:10,404 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 14:18:10,405 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:18:10,405 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:18:10,405 - sqlalchemy.engine.Engine - INFO - [cached since 1879s ago] ('ORCL',)
2026-02-07 14:18:10,406 - api_logger - INFO - rid=/api/portfolio/ORCL/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=645.75ms
2026-02-07 14:18:10,407 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:18:10,416 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:18:10,416 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:18:10,416 - sqlalchemy.engine.Engine - INFO - [cached since 1882s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:18:10,417 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 14:18:10,417 - sqlalchemy.engine.Engine - INFO - [cached since 1879s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:18:10,419 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.97ms
2026-02-07 14:18:10,419 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:18:14,898 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:18:14,899 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:18:14,899 - sqlalchemy.engine.Engine - INFO - [cached since 1887s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:18:14,901 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 14:18:14,901 - sqlalchemy.engine.Engine - INFO - [cached since 1884s ago] ('ORCL',)
2026-02-07 14:18:14,902 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:18:14,902 - sqlalchemy.engine.Engine - INFO - [cached since 1885s ago] ('ORCL',)
2026-02-07 14:18:14,903 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:18:14,903 - sqlalchemy.engine.Engine - INFO - [cached since 1887s ago] ('ORCL', 5, 0)
2026-02-07 14:18:14,904 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 14:18:14,904 - sqlalchemy.engine.Engine - INFO - [cached since 1882s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ORCL')
2026-02-07 14:18:14,905 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for ORCL. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-07 14:18:14,905 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR ORCL ---

         [ORCL] 
        
        **1.  (Fundamental Context)**:
        - /: Technology / Software - Infrastructure
        - : 410477690880.0
        - PE (TTM): 26.9 | Forward PE: 18.07
        - 52: [118.86, 345.72]
        - Beta: 1.63
        
        **2.  (Portfolio Context)**:
        - : $0.0
        - : 0.0
        - : $0.0 (0%)
        
        **3.  (Technical Data)**:
        - : $142.82
        - : 4.65%
        - RSI (14): 19.87
        - MACD: -13.69 (: -3.42)
        - : [135.73, 213.63]
        - MA : [20: 174.68, 50: 188.85, 200: 219.23]
        - KDJ (K): 9.84 | ATR: 9.08
        
        **4.  (Recent News)**:
        [{'title': 'Blue Owl Capital Q4 Earnings Call Highlights', 'publisher': 'MarketBeat', 'time': '2026-02-07T03:08:23'}, {'title': 'Are the Bond Markets and the Equity Markets Coming Into Agreement About an AI Bubble?', 'publisher': 'Motley Fool', 'time': '2026-02-06T23:42:00'}, {'title': 'Why GE Vernova Crushed the Market Again Today', 'publisher': 'Motley Fool', 'time': '2026-02-06T21:13:48'}, {'title': 'Bloom Energy, The Clean Energy Choice For AI Data Centers, Tops Outlook; Amazon Announces AI Spending', 'publisher': "Investor's Business Daily", 'time': '2026-02-06T20:50:10'}, {'title': 'Why Aehr Test Systems Soared Higher by 13% Today', 'publisher': 'Motley Fool', 'time': '2026-02-06T18:35:52'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (188.85)  (135.73)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "investment_horizon": " ( 2-5 /   /  -)",
            "confidence_level": 0-100 (AI ),
            "immediate_action": " (///)",
            "target_price": "/ (2)",
            "stop_loss_price": "/ (2)",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-07 14:18:39,438 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 14:18:39,443 - app.api.v1.endpoints.analysis - INFO - AI Response for ORCL: {
    "sentiment_score": 25,
    "summary_status": "",
    "risk_level": "",
    "investment_horizon": " 2-5",
    "confidence_level": 78,
    "immediate_action": "",
    "target_pric...
2026-02-07 14:18:39,445 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 14:18:39,445 - sqlalchemy.engine.Engine - INFO - [cached since 1897s ago] ('08832b01-abcd-4b5c-b03c-d9f4d55ce4c6', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'ORCL', '{"market_data": {"current_price": 142.82, "change_percent": 4.65, "rsi_14": 19.87, "ma_20": 174.68, "ma_50": 188.85, "ma_200": 219.23, "macd_val": -1 ... (66 characters truncated) ... "kdj_k": 9.84, "atr_14": 9.08, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 0.0, "quantity": 0.0, "unrealized_pl": 0.0, "pl_percent": 0}}', '{\n    "sentiment_score": 25,\n    "summary_status": "",\n    "risk_level": "",\n    "investment_horizon": " 2-5",\n    "confidence_level" ... (525 characters truncated) ... 174.68(20)135.7320174.6815%200219.2330%RSI<30MACD"\n}', '25', '', '', '142.82RSI(14)19.87MACD-3.42-13.69MACD20174.6850188.85135.73KDJK9.84ATR 9.08', 'TTM26.9Forward PE 18.071.63BetaAI52345.72142.82135.73', 'RSI30174.68(20)135.7320174.6815%200219.2330%RSI<30MACD', ' 2-5', 78.0, '', 174.68, 135.73, 'qwen-3-vl-thinking', '2026-02-07 06:18:39.445106')
2026-02-07 14:18:39,446 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 14:18:39,448 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:18:39,448 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 14:18:39,448 - sqlalchemy.engine.Engine - INFO - [cached since 1897s ago] ('08832b01-abcd-4b5c-b03c-d9f4d55ce4c6',)
2026-02-07 14:18:39,450 - api_logger - INFO - rid=/api/analysis/ORCL method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=24552.06ms
2026-02-07 14:18:39,450 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:18:39,461 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:18:39,462 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:18:39,462 - sqlalchemy.engine.Engine - INFO - [cached since 1911s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:18:39,463 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:18:39,464 - sqlalchemy.engine.Engine - INFO - [cached since 1911s ago] ('ORCL', 20, 0)
2026-02-07 14:18:39,465 - api_logger - INFO - rid=/api/portfolio/ORCL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.92ms
2026-02-07 14:18:39,466 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:35:46,992 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:35:46,993 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:35:46,993 - sqlalchemy.engine.Engine - INFO - [cached since 1083s ago] ('%D%', '%D%', 10, 0)
2026-02-07 14:35:46,996 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.04ms
2026-02-07 14:35:46,997 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:35:47,118 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:35:47,119 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:35:47,119 - sqlalchemy.engine.Engine - INFO - [cached since 1083s ago] ('%D J%', '%D J%', 10, 0)
2026-02-07 14:35:47,120 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.51ms
2026-02-07 14:35:47,121 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:35:47,190 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:35:47,190 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:35:47,190 - sqlalchemy.engine.Engine - INFO - [cached since 1083s ago] ('%D JI%', '%D JI%', 10, 0)
2026-02-07 14:35:47,191 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.14ms
2026-02-07 14:35:47,192 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:35:47,513 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:35:47,513 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:35:47,513 - sqlalchemy.engine.Engine - INFO - [cached since 1083s ago] ('%D JI%', '%D JI%', 10, 0)
2026-02-07 14:35:47,518 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:35:47,518 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:35:47,518 - sqlalchemy.engine.Engine - INFO - [cached since 1083s ago] ('%DJI%', '%DJI%', 10, 0)
2026-02-07 14:35:47,520 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.99ms
2026-02-07 14:35:47,520 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:35:48,257 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:35:48,258 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:35:48,258 - sqlalchemy.engine.Engine - INFO - [cached since 1084s ago] ('%DJI%', '%DJI%', 10, 0)
2026-02-07 14:35:48,488 - yfinance - ERROR - HTTP Error 404: {"quoteSummary":{"result":null,"error":{"code":"Not Found","description":"Quote not found for symbol: D JI"}}}
2026-02-07 14:35:48,840 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1327.35ms
2026-02-07 14:35:48,841 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:35:49,178 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=921.89ms
2026-02-07 14:35:49,178 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:35:51,902 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:35:51,903 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:35:51,903 - sqlalchemy.engine.Engine - INFO - [cached since 1088s ago] ('%D%', '%D%', 10, 0)
2026-02-07 14:35:51,904 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.25ms
2026-02-07 14:35:51,905 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:35:52,486 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:35:52,486 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:35:52,486 - sqlalchemy.engine.Engine - INFO - [cached since 1088s ago] ('%DJ%', '%DJ%', 10, 0)
2026-02-07 14:35:52,487 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.80ms
2026-02-07 14:35:52,488 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:35:52,556 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:35:52,557 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:35:52,557 - sqlalchemy.engine.Engine - INFO - [cached since 1088s ago] ('%DJI%', '%DJI%', 10, 0)
2026-02-07 14:35:52,558 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.90ms
2026-02-07 14:35:52,559 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:35:52,925 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:35:52,926 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:35:52,926 - sqlalchemy.engine.Engine - INFO - [cached since 1089s ago] ('%DJI%', '%DJI%', 10, 0)
2026-02-07 14:35:53,556 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=631.05ms
2026-02-07 14:35:53,557 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:35:53,558 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:35:53,559 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:35:53,559 - sqlalchemy.engine.Engine - INFO - [cached since 1089s ago] ('%DJI%', '%DJI%', 10, 0)
2026-02-07 14:35:53,896 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=337.84ms
2026-02-07 14:35:53,896 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:35:59,764 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:35:59,764 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:35:59,764 - sqlalchemy.engine.Engine - INFO - [cached since 1095s ago] ('%DJIA%', '%DJIA%', 10, 0)
2026-02-07 14:35:59,765 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.20ms
2026-02-07 14:35:59,766 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:35:59,992 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:35:59,992 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:35:59,992 - sqlalchemy.engine.Engine - INFO - [cached since 1096s ago] ('%DJIA%', '%DJIA%', 10, 0)
2026-02-07 14:36:00,629 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 14:36:00,629 - sqlalchemy.engine.Engine - INFO - [cached since 2949s ago] ('DJIA',)
2026-02-07 14:36:00,632 - sqlalchemy.engine.Engine - INFO - INSERT INTO stocks (ticker, name, sector, industry, market_cap, pe_ratio, forward_pe, eps, dividend_yield, beta, fifty_two_week_high, fifty_two_week_low, exchange, currency) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 14:36:00,632 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] ('DJIA', 'Global X Dow 30 Covered Call ET', None, None, None, None, None, None, None, None, None, None, None, 'USD')
2026-02-07 14:36:00,634 - sqlalchemy.engine.Engine - INFO - INSERT INTO market_data_cache (ticker, current_price, change_percent, rsi_14, ma_20, ma_50, ma_200, macd_val, macd_signal, macd_hist, bb_upper, bb_middle, bb_lower, atr_14, k_line, d_line, j_line, volume_ma_20, volume_ratio, market_status, last_updated) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 14:36:00,634 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('DJIA', 22.45, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, 'CLOSED', '2026-02-07 06:36:00.634593')
2026-02-07 14:36:00,635 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 14:36:00,637 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:36:00,637 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 14:36:00,637 - sqlalchemy.engine.Engine - INFO - [cached since 1096s ago] ('%DJIA%', '%DJIA%', 10, 0)
2026-02-07 14:36:00,638 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=647.14ms
2026-02-07 14:36:00,639 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:36:01,568 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:36:01,568 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:36:01,568 - sqlalchemy.engine.Engine - INFO - [cached since 2953s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:36:01,570 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 14:36:01,570 - sqlalchemy.engine.Engine - INFO - [cached since 2949s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA')
2026-02-07 14:36:01,571 - sqlalchemy.engine.Engine - INFO - INSERT INTO portfolios (id, user_id, ticker, quantity, avg_cost, target_price, stop_loss_price, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 14:36:01,572 - sqlalchemy.engine.Engine - INFO - [cached since 1084s ago] ('e3433898-d873-47cf-90f1-6705dc336ab1', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA', 0.0, 0.0, None, None, '2026-02-07 06:36:01.571867', '2026-02-07 06:36:01.571875')
2026-02-07 14:36:01,572 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 14:36:01,573 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:36:01,574 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:36:01,574 - sqlalchemy.engine.Engine - INFO - [cached since 2952s ago] ('DJIA',)
2026-02-07 14:36:01,575 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:36:01,575 - sqlalchemy.engine.Engine - INFO - [cached since 2952s ago] ('DJIA',)
2026-02-07 14:36:01,575 - api_logger - INFO - rid=/api/portfolio/ method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.20ms
2026-02-07 14:36:01,576 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:36:01,577 - app.api.v1.endpoints.portfolio - INFO -  Background fetch for DJIA completed
2026-02-07 14:36:01,580 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:36:01,580 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:36:01,580 - sqlalchemy.engine.Engine - INFO - [cached since 2953s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:36:01,581 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 14:36:01,582 - sqlalchemy.engine.Engine - INFO - [cached since 2950s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:36:01,585 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.55ms
2026-02-07 14:36:01,585 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:36:08,004 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:36:08,004 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:36:08,004 - sqlalchemy.engine.Engine - INFO - [cached since 2960s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:36:08,005 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:36:08,005 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:36:08,005 - sqlalchemy.engine.Engine - INFO - [cached since 2960s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:36:08,006 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:36:08,006 - sqlalchemy.engine.Engine - INFO - [cached since 2960s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:36:08,006 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:36:08,006 - sqlalchemy.engine.Engine - INFO - [cached since 2960s ago] ('DJIA', 20, 0)
2026-02-07 14:36:08,007 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:36:08,007 - api_logger - INFO - rid=/api/portfolio/DJIA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.91ms
2026-02-07 14:36:08,007 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:36:08,008 - api_logger - INFO - rid=/api/analysis/DJIA method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.86ms
2026-02-07 14:36:08,052 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:36:08,052 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:36:08,052 - sqlalchemy.engine.Engine - INFO - [cached since 2960s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:36:08,052 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:36:08,053 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:36:08,053 - sqlalchemy.engine.Engine - INFO - [cached since 2960s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:36:08,053 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:36:08,053 - sqlalchemy.engine.Engine - INFO - [cached since 2960s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ORCL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:36:08,053 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:36:08,053 - sqlalchemy.engine.Engine - INFO - [cached since 2960s ago] ('ORCL', 20, 0)
2026-02-07 14:36:08,054 - api_logger - INFO - rid=/api/analysis/ORCL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.91ms
2026-02-07 14:36:08,055 - api_logger - INFO - rid=/api/portfolio/ORCL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.42ms
2026-02-07 14:36:08,055 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:36:08,055 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:36:08,100 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:36:08,100 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:36:08,100 - sqlalchemy.engine.Engine - INFO - [cached since 2960s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:36:08,100 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:36:08,101 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:36:08,101 - sqlalchemy.engine.Engine - INFO - [cached since 2960s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:36:08,103 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:36:08,103 - sqlalchemy.engine.Engine - INFO - [cached since 2960s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:36:08,104 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:36:08,104 - sqlalchemy.engine.Engine - INFO - [cached since 2960s ago] ('DJIA', 20, 0)
2026-02-07 14:36:08,104 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:36:08,105 - api_logger - INFO - rid=/api/portfolio/DJIA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.77ms
2026-02-07 14:36:08,105 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:36:08,105 - api_logger - INFO - rid=/api/analysis/DJIA method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.49ms
2026-02-07 14:36:10,669 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:36:10,669 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:36:10,669 - sqlalchemy.engine.Engine - INFO - [cached since 2963s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:36:10,671 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:36:10,671 - sqlalchemy.engine.Engine - INFO - [cached since 2961s ago] ('DJIA',)
2026-02-07 14:36:11,057 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 14:36:11,057 - sqlalchemy.engine.Engine - INFO - [cached since 2960s ago] ('DJIA',)
2026-02-07 14:36:11,058 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET pe_ratio=?, dividend_yield=?, fifty_two_week_high=?, fifty_two_week_low=? WHERE stocks.ticker = ?
2026-02-07 14:36:11,058 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] (23.495518, 8.47, 23.206, 19.59, 'DJIA')
2026-02-07 14:36:11,059 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, market_status=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 14:36:11,059 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] (1.49186, 58.1242677349862, 22.20942916870117, 21.994657745361327, 20.73630295753479, 0.09230098254186814, 0.09542600424603873, -0.0031250217041705886, 22.40199879847671, 22.20942916870117, 22.01685953892563, 0.20757143838065012, 65.98828087952995, 65.44034955225291, 67.08414353408403, 62810.0, 1.6382741601655788, <MarketStatus.OPEN: 'OPEN'>, '2026-02-07 06:36:10.672274', 'DJIA')
2026-02-07 14:36:11,059 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 14:36:11,060 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:36:11,060 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:36:11,060 - sqlalchemy.engine.Engine - INFO - [cached since 2960s ago] ('DJIA',)
2026-02-07 14:36:11,060 - api_logger - INFO - rid=/api/portfolio/DJIA/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=392.00ms
2026-02-07 14:36:11,060 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:36:11,063 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:36:11,063 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:36:11,063 - sqlalchemy.engine.Engine - INFO - [cached since 2963s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:36:11,063 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 14:36:11,063 - sqlalchemy.engine.Engine - INFO - [cached since 2960s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:36:11,064 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.87ms
2026-02-07 14:36:11,065 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:36:12,115 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:36:12,116 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:36:12,116 - sqlalchemy.engine.Engine - INFO - [cached since 2964s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:36:12,117 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 14:36:12,117 - sqlalchemy.engine.Engine - INFO - [cached since 2961s ago] ('DJIA',)
2026-02-07 14:36:12,118 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 14:36:12,118 - sqlalchemy.engine.Engine - INFO - [cached since 2962s ago] ('DJIA',)
2026-02-07 14:36:12,119 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:36:12,119 - sqlalchemy.engine.Engine - INFO - [cached since 2964s ago] ('DJIA', 5, 0)
2026-02-07 14:36:12,120 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 14:36:12,121 - sqlalchemy.engine.Engine - INFO - [cached since 2959s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA')
2026-02-07 14:36:12,121 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for DJIA. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-07 14:36:12,122 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR DJIA ---

         [DJIA] 
        
        **1.  (Fundamental Context)**:
        - /: None / None
        - : None
        - PE (TTM): 23.5 | Forward PE: None
        - 52: [19.59, 23.21]
        - Beta: None
        
        **2.  (Portfolio Context)**:
        - : $0.0
        - : 0.0
        - : $0.0 (0%)
        
        **3.  (Technical Data)**:
        - : $22.45
        - : 1.49%
        - RSI (14): 58.12
        - MACD: 0.09 (: -0.0)
        - : [22.02, 22.4]
        - MA : [20: 22.21, 50: 21.99, 200: 20.74]
        - KDJ (K): 65.99 | ATR: 0.21
        
        **4.  (Recent News)**:
        
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (21.99)  (22.02)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "investment_horizon": " ( 2-5 /   /  -)",
            "confidence_level": 0-100 (AI ),
            "immediate_action": " (///)",
            "target_price": "/ (2)",
            "stop_loss_price": "/ (2)",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-07 14:36:31,894 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 14:36:31,895 - app.api.v1.endpoints.analysis - INFO - AI Response for DJIA: {
    "sentiment_score": 62,
    "summary_status": "",
    "risk_level": "",
    "investment_horizon": " ",
    "confidence_level": 75,
    "immediate_action": "",
    "target_price": 2...
2026-02-07 14:36:31,896 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 14:36:31,896 - sqlalchemy.engine.Engine - INFO - [cached since 2970s ago] ('28bb6501-674e-4f6d-9dba-f3efb3cfe13a', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA', '{"market_data": {"current_price": 22.45, "change_percent": 1.49, "rsi_14": 58.12, "ma_20": 22.21, "ma_50": 21.99, "ma_200": 20.74, "macd_val": 0.09,  ... (57 characters truncated) ... kdj_k": 65.99, "atr_14": 0.21, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 0.0, "quantity": 0.0, "unrealized_pl": 0.0, "pl_percent": 0}}', '{\n    "sentiment_score": 62,\n    "summary_status": "",\n    "risk_level": "",\n    "investment_horizon": " ",\n    "confidence_level": 7 ... (342 characters truncated) ... ",\n    "action_advice": "22.405223.2123.00MA50 21.99MA200RSI651/3"\n}', '62', '', '', '22.45MA5021.99MA20020.74RSI 58.12MACD-0.0022.40', 'PE(TTM)23.552[19.59,23.21]', '22.405223.2123.00MA50 21.99MA200RSI651/3', ' ', 75.0, '', 23.0, 21.99, 'qwen-3-vl-thinking', '2026-02-07 06:36:31.896839')
2026-02-07 14:36:31,897 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 14:36:31,898 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:36:31,898 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 14:36:31,898 - sqlalchemy.engine.Engine - INFO - [cached since 2970s ago] ('28bb6501-674e-4f6d-9dba-f3efb3cfe13a',)
2026-02-07 14:36:31,899 - api_logger - INFO - rid=/api/analysis/DJIA method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=19784.56ms
2026-02-07 14:36:31,899 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:36:31,905 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:36:31,905 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:36:31,905 - sqlalchemy.engine.Engine - INFO - [cached since 2984s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:36:31,905 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:36:31,905 - sqlalchemy.engine.Engine - INFO - [cached since 2984s ago] ('DJIA', 20, 0)
2026-02-07 14:36:31,906 - api_logger - INFO - rid=/api/portfolio/DJIA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.36ms
2026-02-07 14:36:31,906 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:41:26,989 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:41:26,990 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:41:26,990 - sqlalchemy.engine.Engine - INFO - [cached since 3279s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:41:26,991 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:41:26,991 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:41:26,991 - sqlalchemy.engine.Engine - INFO - [cached since 3279s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:41:26,993 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 14:41:26,993 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 14:41:26,993 - sqlalchemy.engine.Engine - INFO - [cached since 3279s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:41:26,996 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 14:41:26,996 - sqlalchemy.engine.Engine - INFO - [cached since 3276s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 14:41:27,002 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 14:41:27,003 - sqlalchemy.engine.Engine - INFO - [cached since 3279s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 14:41:27,013 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=27.17ms
2026-02-07 14:41:27,018 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 14:41:27,018 - sqlalchemy.engine.Engine - INFO - [cached since 3279s ago] ('DJIA', 20, 0)
2026-02-07 14:41:27,018 - api_logger - INFO - rid=/api/analysis/DJIA method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=33.54ms
2026-02-07 14:41:27,019 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:41:27,020 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 14:41:27,021 - api_logger - INFO - rid=/api/portfolio/DJIA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=35.27ms
2026-02-07 14:41:27,021 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:13:05,374 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 15:13:13,586 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 15:13:15,295 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 15:13:58,692 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 15:14:51,080 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:14:51,092 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:14:51,092 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:14:51,092 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:14:51,092 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:14:51,092 - sqlalchemy.engine.Engine - INFO - [cached since 0.0007934s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:14:51,094 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 15:14:51,094 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 15:14:51,094 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:14:51,094 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:14:51,095 - sqlalchemy.engine.Engine - INFO - [cached since 0.00305s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:14:51,097 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:14:51,097 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('DJIA', 20, 0)
2026-02-07 15:14:51,119 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 15:14:51,119 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:14:51,120 - api_logger - INFO - rid=/api/portfolio/DJIA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=41.99ms
2026-02-07 15:14:51,120 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:14:51,122 - api_logger - INFO - rid=/api/analysis/DJIA method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=58.59ms
2026-02-07 15:14:51,122 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:14:51,122 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:14:51,496 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:14:51,497 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:14:51,497 - sqlalchemy.engine.Engine - INFO - [cached since 0.4053s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:14:51,498 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:14:51,499 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:14:51,502 - sqlalchemy.engine.Engine - INFO - [cached since 0.4076s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:14:51,503 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:14:51,504 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:14:51,504 - sqlalchemy.engine.Engine - INFO - [cached since 0.4123s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:14:51,505 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 15:14:51,505 - sqlalchemy.engine.Engine - INFO - [cached since 0.4112s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 15:14:51,506 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 15:14:51,506 - sqlalchemy.engine.Engine - INFO - [cached since 0.3873s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:14:51,508 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:14:51,508 - sqlalchemy.engine.Engine - INFO - [cached since 0.4115s ago] ('DJIA', 20, 0)
2026-02-07 15:14:51,509 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:14:51,510 - api_logger - INFO - rid=/api/analysis/DJIA method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=18.74ms
2026-02-07 15:14:51,515 - api_logger - INFO - rid=/api/portfolio/DJIA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.26ms
2026-02-07 15:14:51,518 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:14:51,519 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:21:06,046 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:21:06,050 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:21:06,050 - sqlalchemy.engine.Engine - INFO - [cached since 375s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:21:06,051 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:21:06,051 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:21:06,051 - sqlalchemy.engine.Engine - INFO - [cached since 375s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:21:06,052 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:21:06,052 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:21:06,052 - sqlalchemy.engine.Engine - INFO - [cached since 375s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:21:06,054 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:21:06,054 - sqlalchemy.engine.Engine - INFO - [cached since 375s ago] ('DJIA', 20, 0)
2026-02-07 15:21:06,054 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 15:21:06,054 - sqlalchemy.engine.Engine - INFO - [cached since 374.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:21:06,055 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 15:21:06,055 - sqlalchemy.engine.Engine - INFO - [cached since 375s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 15:21:06,055 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:21:06,056 - api_logger - INFO - rid=/api/portfolio/DJIA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=19.11ms
2026-02-07 15:21:06,056 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:21:06,061 - api_logger - INFO - rid=/api/analysis/DJIA method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=25.15ms
2026-02-07 15:21:06,061 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:22:04,816 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 15:23:58,422 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:23:58,424 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:23:58,424 - sqlalchemy.engine.Engine - INFO - [cached since 547.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:23:58,425 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:23:58,426 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:23:58,426 - sqlalchemy.engine.Engine - INFO - [cached since 547.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:23:58,426 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:23:58,426 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:23:58,426 - sqlalchemy.engine.Engine - INFO - [cached since 547.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:23:58,430 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:23:58,430 - sqlalchemy.engine.Engine - INFO - [cached since 547.3s ago] ('DJIA', 20, 0)
2026-02-07 15:23:58,432 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 15:23:58,432 - sqlalchemy.engine.Engine - INFO - [cached since 547.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 15:23:58,432 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 15:23:58,432 - sqlalchemy.engine.Engine - INFO - [cached since 547.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:23:58,433 - api_logger - INFO - rid=/api/portfolio/DJIA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=15.85ms
2026-02-07 15:23:58,433 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:23:58,434 - api_logger - INFO - rid=/api/analysis/DJIA method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=17.50ms
2026-02-07 15:23:58,434 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:23:58,436 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=19.63ms
2026-02-07 15:23:58,437 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:24:04,065 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:24:04,065 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:24:04,065 - sqlalchemy.engine.Engine - INFO - [cached since 553s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:24:04,067 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:24:04,067 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:24:04,067 - sqlalchemy.engine.Engine - INFO - [cached since 553s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:24:04,068 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:24:04,068 - sqlalchemy.engine.Engine - INFO - [cached since 553s ago] ('AAPL', 20, 0)
2026-02-07 15:24:04,068 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 15:24:04,068 - sqlalchemy.engine.Engine - INFO - [cached since 553s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 15:24:04,070 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.20ms
2026-02-07 15:24:04,070 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:24:04,071 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.82ms
2026-02-07 15:24:04,071 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:24:04,109 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:24:04,110 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:24:04,110 - sqlalchemy.engine.Engine - INFO - [cached since 553s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:24:04,111 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:24:04,111 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:24:04,111 - sqlalchemy.engine.Engine - INFO - [cached since 553s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:24:04,112 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 15:24:04,113 - sqlalchemy.engine.Engine - INFO - [cached since 553s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 15:24:04,113 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:24:04,113 - sqlalchemy.engine.Engine - INFO - [cached since 553s ago] ('DJIA', 20, 0)
2026-02-07 15:24:04,114 - api_logger - INFO - rid=/api/analysis/DJIA method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.36ms
2026-02-07 15:24:04,114 - api_logger - INFO - rid=/api/portfolio/DJIA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.29ms
2026-02-07 15:24:04,115 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:24:04,115 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:24:04,166 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:24:04,167 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:24:04,167 - sqlalchemy.engine.Engine - INFO - [cached since 553.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:24:04,168 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:24:04,169 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:24:04,169 - sqlalchemy.engine.Engine - INFO - [cached since 553.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:24:04,170 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 15:24:04,170 - sqlalchemy.engine.Engine - INFO - [cached since 553.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 15:24:04,171 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:24:04,171 - sqlalchemy.engine.Engine - INFO - [cached since 553.1s ago] ('AAPL', 20, 0)
2026-02-07 15:24:04,172 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.76ms
2026-02-07 15:24:04,175 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.45ms
2026-02-07 15:24:04,175 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:24:04,176 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:24:29,674 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:24:29,674 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:24:29,675 - sqlalchemy.engine.Engine - INFO - [cached since 578.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:24:29,677 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 15:24:29,677 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('AAPL',)
2026-02-07 15:24:29,679 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 15:24:29,679 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('AAPL',)
2026-02-07 15:24:31,282 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 15:24:31,282 - sqlalchemy.engine.Engine - INFO - [cached since 1.605s ago] ('AAPL',)
2026-02-07 15:24:31,284 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:24:31,284 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('981503ee-3a91-3e34-a07b-308dadbf6a2a', 'AAPL', 'Dow Jones Tops 50,000 As Apple, Boeing, JPMorgan Flash Buy Signals; Is AI Trade Reviving?', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-futures-weekend-what-to-do-now/?src=A00220&yptr=yahoo', '2026-02-06 22:01:00.000000', None)
2026-02-07 15:24:31,285 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:24:31,285 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('ee889a3f-d2f2-3d33-88e5-1b565308845f', 'AAPL', 'Apple to Allow Third-Party AI Chatbots in CarPlay', '24/7 Wall St.', 'https://finance.yahoo.com/news/apple-allow-third-party-ai-215048959.html', '2026-02-06 21:50:48.000000', None)
2026-02-07 15:24:31,286 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:24:31,286 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('55b21566-7a1f-33fd-932c-c9c2d5224eb9', 'AAPL', 'Dow Hits Record as Tech Stocks Bounce to Cap Mixed Week for Wall Street', 'MT Newswires', 'https://finance.yahoo.com/news/dow-hits-record-tech-stocks-214909926.html', '2026-02-06 21:49:09.000000', None)
2026-02-07 15:24:31,286 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:24:31,287 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('83746cf4-83ed-3eb7-a000-56ff95bcfe38', 'AAPL', 'Corning Stock Has First Record Close Since the Dot-Com Bubble', 'Barrons.com', 'https://www.barrons.com/articles/corning-stock-price-record-high-bubble-dot-com-ai-e59c4fd7?siteid=yhoof2&yptr=yahoo', '2026-02-06 21:35:00.000000', None)
2026-02-07 15:24:31,287 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:24:31,287 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('d4d07bd1-e873-3a77-8c7a-e7616a7fd512', 'AAPL', 'The Dow Surged Past 50,000. How Caterpillar and These Other Stocks Got It There.', 'Barrons.com', 'https://www.barrons.com/articles/dow-jones-industrial-average-50000-first-time-caterpillar-stock-ff67c63d?siteid=yhoof2&yptr=yahoo', '2026-02-06 21:24:00.000000', None)
2026-02-07 15:24:31,287 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:24:31,287 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('b20ff39c-4cc8-37f8-bdf8-dad8f96592c4', 'AAPL', 'The Stocks That Punch Above Their Weight in the Dow', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-06-2026/card/the-stocks-that-punch-above-their-weight-in-the-dow-zruDHmDpvw8tNvQvU4vA?siteid=yhoof2&yptr=yahoo', '2026-02-06 20:53:21.000000', None)
2026-02-07 15:24:31,288 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:24:31,288 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('72517330-5ddd-3e7e-ba93-6a39cfa78135', 'AAPL', 'Why Is Nvidia (NVDA) Stock Soaring Today', 'StockStory', 'https://finance.yahoo.com/news/why-nvidia-nvda-stock-soaring-205042983.html', '2026-02-06 20:50:42.000000', None)
2026-02-07 15:24:31,288 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:24:31,288 - sqlalchemy.engine.Engine - INFO - [no key 0.00004s] ('348e4094-3776-36d0-bb79-fe66af31586d', 'AAPL', 'Sector Update: Tech Stocks Gain Late Afternoon', 'MT Newswires', 'https://finance.yahoo.com/news/sector-tech-stocks-gain-afternoon-204658758.html', '2026-02-06 20:46:58.000000', None)
2026-02-07 15:24:31,288 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:24:31,288 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('1b882369-7dff-30f5-a716-9c5bcbfc0e17', 'AAPL', 'Top Dow Contributors Over the Past 10,000 Points: Goldman, Caterpillar, IBM', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-06-2026/card/top-dow-contributors-over-the-past-10-000-points-goldman-caterpillar-ibm-V6aLHsCVj9F0quy67BsO?siteid=yhoof2&yptr=yahoo', '2026-02-06 19:32:56.000000', None)
2026-02-07 15:24:31,289 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:24:31,289 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('262de3c4-fdc1-3647-a4ed-3b2c13af286b', 'AAPL', 'Apple Stock Is Steady as a Rock Amid AI Selloff: How to Play AAPL Stock', 'Barchart', 'https://finance.yahoo.com/news/apple-stock-steady-rock-amid-192518495.html', '2026-02-06 19:25:18.000000', None)
2026-02-07 15:24:31,290 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_lower=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 15:24:31,290 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] (2.2089976855594955, -1.1003241694973838, 3.3093218550568793, 279.15632364442774, 241.14367330381447, '2026-02-07 07:24:29.680779', 'AAPL')
2026-02-07 15:24:31,290 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 15:24:31,291 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:24:31,292 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 15:24:31,292 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('AAPL',)
2026-02-07 15:24:31,292 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:24:31,292 - sqlalchemy.engine.Engine - INFO - [cached since 580.2s ago] ('AAPL', 5, 0)
2026-02-07 15:24:31,293 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 15:24:31,293 - sqlalchemy.engine.Engine - INFO - [generated in 0.00005s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL')
2026-02-07 15:24:31,293 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for AAPL. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-07 15:24:31,296 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR AAPL ---

         [AAPL] 
        
        **1.  (Fundamental Context)**:
        - /: Technology / Consumer Electronics
        - : 4087787028480.0
        - PE (TTM): 35.21 | Forward PE: 29.97
        - 52: [169.21, 288.62]
        - Beta: 1.11
        
        **2.  (Portfolio Context)**:
        - : $200.0
        - : 100.0
        - : $7812.0 (39.06%)
        
        **3.  (Technical Data)**:
        - : $278.12
        - : 0.8%
        - RSI (14): 74.16 | KDJ (K): None / (D): None / (J): None
        - MACD: 2.21 (: 3.31)
        -  (BB): : 279.16 | : None | : 241.14
        - MA : [20: 260.15, 50: 268.7, 200: 238.31]
        -  (ADX): None | ATR: 6.95
        -  (Pivots):  R1: None / R2: None |  S1: None / S2: None
        
        **4.  (Recent News)**:
        [{'title': 'Dow Jones Tops 50,000 As Apple, Boeing, JPMorgan Flash Buy Signals; Is AI Trade Reviving?', 'publisher': "Investor's Business Daily", 'time': '2026-02-06T22:01:00'}, {'title': 'Apple to Allow Third-Party AI Chatbots in CarPlay', 'publisher': '24/7 Wall St.', 'time': '2026-02-06T21:50:48'}, {'title': 'Dow Hits Record as Tech Stocks Bounce to Cap Mixed Week for Wall Street', 'publisher': 'MT Newswires', 'time': '2026-02-06T21:49:09'}, {'title': 'Corning Stock Has First Record Close Since the Dot-Com Bubble', 'publisher': 'Barrons.com', 'time': '2026-02-06T21:35:00'}, {'title': 'The Dow Surged Past 50,000. How Caterpillar and These Other Stocks Got It There.', 'publisher': 'Barrons.com', 'time': '2026-02-06T21:24:00'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (268.7)  (241.14)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "investment_horizon": " ( 2-5 /   /  -)",
            "confidence_level": 0-100 (AI ),
            "immediate_action": " (///)",
            "target_price": "/ (2)",
            "stop_loss_price": "/ (2)",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-07 15:24:53,827 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 15:24:53,831 - app.api.v1.endpoints.analysis - INFO - AI Response for AAPL: {
    "sentiment_score": 72,
    "summary_status": "",
    "risk_level": "",
    "investment_horizon": " ",
    "confidence_level": 85,
    "immediate_action": "",
    "target_pri...
2026-02-07 15:24:53,833 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 15:24:53,833 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] ('e218bec9-9688-49d6-b3a9-81dedbea9978', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', '{"market_data": {"current_price": 278.12, "change_percent": 0.8, "rsi_14": 74.16, "ma_20": 260.15, "ma_50": 268.7, "ma_200": 238.31, "macd_val": 2.21 ... (73 characters truncated) ... 36, "atr_14": 6.95, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 200.0, "quantity": 100.0, "unrealized_pl": 7812.0, "pl_percent": 39.06}}', '{\n    "sentiment_score": 72,\n    "summary_status": "",\n    "risk_level": "",\n    "investment_horizon": " ",\n    "confidence_level ... (489 characters truncated) ... 1279.16 220260.15 350268.720%MA200 238.31"\n}', '72', '', '', '278.12279.16RSI(74.16)MACD3.31 momentum 20260.1550268.7200238.31', 'Forward PE 29.97TTM PE 35.21NEWSCarPlayAIDow5000020039.06%', '200278.121279.16 220260.15 350268.720%MA200 238.31', ' ', 85.0, '', 279.16, 260.15, 'qwen-3-vl-thinking', '2026-02-07 07:24:53.833039')
2026-02-07 15:24:53,835 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 15:24:53,836 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:24:53,837 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 15:24:53,837 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('e218bec9-9688-49d6-b3a9-81dedbea9978',)
2026-02-07 15:24:53,838 - api_logger - INFO - rid=/api/analysis/AAPL method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=24167.88ms
2026-02-07 15:24:53,838 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:24:53,842 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:24:53,842 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:24:53,842 - sqlalchemy.engine.Engine - INFO - [cached since 602.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:24:53,843 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:24:53,843 - sqlalchemy.engine.Engine - INFO - [cached since 602.7s ago] ('AAPL', 20, 0)
2026-02-07 15:24:53,845 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.81ms
2026-02-07 15:24:53,846 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:28:40,690 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:28:40,692 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:28:40,692 - sqlalchemy.engine.Engine - INFO - [cached since 829.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:28:40,694 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 15:28:40,695 - sqlalchemy.engine.Engine - INFO - [cached since 251s ago] ('AAPL',)
2026-02-07 15:28:41,658 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 15:28:41,658 - sqlalchemy.engine.Engine - INFO - [cached since 252s ago] ('AAPL',)
2026-02-07 15:28:41,660 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:28:41,660 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('981503ee-3a91-3e34-a07b-308dadbf6a2a', 'AAPL', 'Dow Jones Tops 50,000 As Apple, Boeing, JPMorgan Flash Buy Signals; Is AI Trade Reviving?', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-futures-weekend-what-to-do-now/?src=A00220&yptr=yahoo', '2026-02-06 22:01:00.000000', None)
2026-02-07 15:28:41,663 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:28:41,663 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ('ee889a3f-d2f2-3d33-88e5-1b565308845f', 'AAPL', 'Apple to Allow Third-Party AI Chatbots in CarPlay', '24/7 Wall St.', 'https://finance.yahoo.com/news/apple-allow-third-party-ai-215048959.html', '2026-02-06 21:50:48.000000', None)
2026-02-07 15:28:41,664 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:28:41,664 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('55b21566-7a1f-33fd-932c-c9c2d5224eb9', 'AAPL', 'Dow Hits Record as Tech Stocks Bounce to Cap Mixed Week for Wall Street', 'MT Newswires', 'https://finance.yahoo.com/news/dow-hits-record-tech-stocks-214909926.html', '2026-02-06 21:49:09.000000', None)
2026-02-07 15:28:41,665 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:28:41,665 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('83746cf4-83ed-3eb7-a000-56ff95bcfe38', 'AAPL', 'Corning Stock Has First Record Close Since the Dot-Com Bubble', 'Barrons.com', 'https://www.barrons.com/articles/corning-stock-price-record-high-bubble-dot-com-ai-e59c4fd7?siteid=yhoof2&yptr=yahoo', '2026-02-06 21:35:00.000000', None)
2026-02-07 15:28:41,665 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:28:41,666 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('d4d07bd1-e873-3a77-8c7a-e7616a7fd512', 'AAPL', 'The Dow Surged Past 50,000. How Caterpillar and These Other Stocks Got It There.', 'Barrons.com', 'https://www.barrons.com/articles/dow-jones-industrial-average-50000-first-time-caterpillar-stock-ff67c63d?siteid=yhoof2&yptr=yahoo', '2026-02-06 21:24:00.000000', None)
2026-02-07 15:28:41,666 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:28:41,666 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('b20ff39c-4cc8-37f8-bdf8-dad8f96592c4', 'AAPL', 'The Stocks That Punch Above Their Weight in the Dow', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-06-2026/card/the-stocks-that-punch-above-their-weight-in-the-dow-zruDHmDpvw8tNvQvU4vA?siteid=yhoof2&yptr=yahoo', '2026-02-06 20:53:21.000000', None)
2026-02-07 15:28:41,666 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:28:41,666 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('72517330-5ddd-3e7e-ba93-6a39cfa78135', 'AAPL', 'Why Is Nvidia (NVDA) Stock Soaring Today', 'StockStory', 'https://finance.yahoo.com/news/why-nvidia-nvda-stock-soaring-205042983.html', '2026-02-06 20:50:42.000000', None)
2026-02-07 15:28:41,667 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:28:41,667 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('348e4094-3776-36d0-bb79-fe66af31586d', 'AAPL', 'Sector Update: Tech Stocks Gain Late Afternoon', 'MT Newswires', 'https://finance.yahoo.com/news/sector-tech-stocks-gain-afternoon-204658758.html', '2026-02-06 20:46:58.000000', None)
2026-02-07 15:28:41,667 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:28:41,667 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('1b882369-7dff-30f5-a716-9c5bcbfc0e17', 'AAPL', 'Top Dow Contributors Over the Past 10,000 Points: Goldman, Caterpillar, IBM', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-06-2026/card/top-dow-contributors-over-the-past-10-000-points-goldman-caterpillar-ibm-V6aLHsCVj9F0quy67BsO?siteid=yhoof2&yptr=yahoo', '2026-02-06 19:32:56.000000', None)
2026-02-07 15:28:41,667 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:28:41,667 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('262de3c4-fdc1-3647-a4ed-3b2c13af286b', 'AAPL', 'Apple Stock Is Steady as a Rock Amid AI Selloff: How to Play AAPL Stock', 'Barchart', 'https://finance.yahoo.com/news/apple-stock-steady-rock-amid-192518495.html', '2026-02-06 19:25:18.000000', None)
2026-02-07 15:28:41,668 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_lower=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 15:28:41,668 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] (238.3139736175537, 2.2089976853927737, -1.1003241697425528, 3.3093218551353267, 279.15632364442797, 241.14367330381427, '2026-02-07 07:28:40.696091', 'AAPL')
2026-02-07 15:28:41,669 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 15:28:41,669 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:28:41,669 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 15:28:41,669 - sqlalchemy.engine.Engine - INFO - [cached since 250.4s ago] ('AAPL',)
2026-02-07 15:28:41,670 - api_logger - INFO - rid=/api/portfolio/AAPL/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=985.57ms
2026-02-07 15:28:41,670 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:28:41,674 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:28:41,675 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:28:41,675 - sqlalchemy.engine.Engine - INFO - [cached since 830.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:28:41,675 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 15:28:41,675 - sqlalchemy.engine.Engine - INFO - [cached since 830.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:28:41,677 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.89ms
2026-02-07 15:28:41,677 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:43:09,739 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:43:09,741 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:43:09,741 - sqlalchemy.engine.Engine - INFO - [cached since 1699s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:43:09,743 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 15:43:09,744 - sqlalchemy.engine.Engine - INFO - [cached since 1120s ago] ('AAPL',)
2026-02-07 15:43:10,392 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 15:43:10,392 - sqlalchemy.engine.Engine - INFO - [cached since 1121s ago] ('AAPL',)
2026-02-07 15:43:10,394 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:43:10,394 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('981503ee-3a91-3e34-a07b-308dadbf6a2a', 'AAPL', 'Dow Jones Tops 50,000 As Apple, Boeing, JPMorgan Flash Buy Signals; Is AI Trade Reviving?', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-futures-weekend-what-to-do-now/?src=A00220&yptr=yahoo', '2026-02-06 22:01:00.000000', None)
2026-02-07 15:43:10,395 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:43:10,395 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('ee889a3f-d2f2-3d33-88e5-1b565308845f', 'AAPL', 'Apple to Allow Third-Party AI Chatbots in CarPlay', '24/7 Wall St.', 'https://finance.yahoo.com/news/apple-allow-third-party-ai-215048959.html', '2026-02-06 21:50:48.000000', None)
2026-02-07 15:43:10,396 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:43:10,396 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('55b21566-7a1f-33fd-932c-c9c2d5224eb9', 'AAPL', 'Dow Hits Record as Tech Stocks Bounce to Cap Mixed Week for Wall Street', 'MT Newswires', 'https://finance.yahoo.com/news/dow-hits-record-tech-stocks-214909926.html', '2026-02-06 21:49:09.000000', None)
2026-02-07 15:43:10,397 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:43:10,397 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('83746cf4-83ed-3eb7-a000-56ff95bcfe38', 'AAPL', 'Corning Stock Has First Record Close Since the Dot-Com Bubble', 'Barrons.com', 'https://www.barrons.com/articles/corning-stock-price-record-high-bubble-dot-com-ai-e59c4fd7?siteid=yhoof2&yptr=yahoo', '2026-02-06 21:35:00.000000', None)
2026-02-07 15:43:10,398 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:43:10,398 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('d4d07bd1-e873-3a77-8c7a-e7616a7fd512', 'AAPL', 'The Dow Surged Past 50,000. How Caterpillar and These Other Stocks Got It There.', 'Barrons.com', 'https://www.barrons.com/articles/dow-jones-industrial-average-50000-first-time-caterpillar-stock-ff67c63d?siteid=yhoof2&yptr=yahoo', '2026-02-06 21:24:00.000000', None)
2026-02-07 15:43:10,398 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:43:10,398 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('b20ff39c-4cc8-37f8-bdf8-dad8f96592c4', 'AAPL', 'The Stocks That Punch Above Their Weight in the Dow', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-06-2026/card/the-stocks-that-punch-above-their-weight-in-the-dow-zruDHmDpvw8tNvQvU4vA?siteid=yhoof2&yptr=yahoo', '2026-02-06 20:53:21.000000', None)
2026-02-07 15:43:10,399 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:43:10,399 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('72517330-5ddd-3e7e-ba93-6a39cfa78135', 'AAPL', 'Why Is Nvidia (NVDA) Stock Soaring Today', 'StockStory', 'https://finance.yahoo.com/news/why-nvidia-nvda-stock-soaring-205042983.html', '2026-02-06 20:50:42.000000', None)
2026-02-07 15:43:10,400 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:43:10,400 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('348e4094-3776-36d0-bb79-fe66af31586d', 'AAPL', 'Sector Update: Tech Stocks Gain Late Afternoon', 'MT Newswires', 'https://finance.yahoo.com/news/sector-tech-stocks-gain-afternoon-204658758.html', '2026-02-06 20:46:58.000000', None)
2026-02-07 15:43:10,400 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:43:10,400 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('1b882369-7dff-30f5-a716-9c5bcbfc0e17', 'AAPL', 'Top Dow Contributors Over the Past 10,000 Points: Goldman, Caterpillar, IBM', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-06-2026/card/top-dow-contributors-over-the-past-10-000-points-goldman-caterpillar-ibm-V6aLHsCVj9F0quy67BsO?siteid=yhoof2&yptr=yahoo', '2026-02-06 19:32:56.000000', None)
2026-02-07 15:43:10,401 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:43:10,401 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('262de3c4-fdc1-3647-a4ed-3b2c13af286b', 'AAPL', 'Apple Stock Is Steady as a Rock Amid AI Selloff: How to Play AAPL Stock', 'Barchart', 'https://finance.yahoo.com/news/apple-stock-steady-rock-amid-192518495.html', '2026-02-06 19:25:18.000000', None)
2026-02-07 15:43:10,401 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_lower=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 15:43:10,401 - sqlalchemy.engine.Engine - INFO - [cached since 868.7s ago] (238.31397354125977, 2.208997685393399, -1.1003241697415795, 3.3093218551349786, 279.15632364442763, 241.14367330381458, '2026-02-07 07:43:09.744721', 'AAPL')
2026-02-07 15:43:10,402 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 15:43:10,403 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:43:10,403 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 15:43:10,403 - sqlalchemy.engine.Engine - INFO - [cached since 1119s ago] ('AAPL',)
2026-02-07 15:43:10,403 - api_logger - INFO - rid=/api/portfolio/AAPL/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=668.72ms
2026-02-07 15:43:10,404 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:43:10,408 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:43:10,408 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:43:10,408 - sqlalchemy.engine.Engine - INFO - [cached since 1699s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:43:10,409 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 15:43:10,409 - sqlalchemy.engine.Engine - INFO - [cached since 1699s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:43:10,410 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.70ms
2026-02-07 15:43:10,410 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:44:17,781 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:44:17,781 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:44:17,781 - sqlalchemy.engine.Engine - INFO - [cached since 1767s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:44:17,782 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:44:17,782 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:44:17,782 - sqlalchemy.engine.Engine - INFO - [cached since 1767s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:44:17,783 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 15:44:17,783 - sqlalchemy.engine.Engine - INFO - [cached since 1767s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 15:44:17,783 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:44:17,783 - sqlalchemy.engine.Engine - INFO - [cached since 1767s ago] ('SNDK', 20, 0)
2026-02-07 15:44:17,784 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.59ms
2026-02-07 15:44:17,785 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:44:17,786 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.23ms
2026-02-07 15:44:17,786 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:44:17,833 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:44:17,833 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:44:17,833 - sqlalchemy.engine.Engine - INFO - [cached since 1767s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:44:17,836 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:44:17,841 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:44:17,842 - sqlalchemy.engine.Engine - INFO - [cached since 1767s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:44:17,845 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:44:17,845 - sqlalchemy.engine.Engine - INFO - [cached since 1767s ago] ('AAPL', 20, 0)
2026-02-07 15:44:17,849 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 15:44:17,849 - sqlalchemy.engine.Engine - INFO - [cached since 1767s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 15:44:17,849 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=15.80ms
2026-02-07 15:44:17,850 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:44:17,851 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=18.84ms
2026-02-07 15:44:17,852 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:44:17,925 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:44:17,925 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:44:17,927 - sqlalchemy.engine.Engine - INFO - [cached since 1767s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:44:17,928 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:44:17,928 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:44:17,929 - sqlalchemy.engine.Engine - INFO - [cached since 1767s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:44:17,930 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 15:44:17,930 - sqlalchemy.engine.Engine - INFO - [cached since 1767s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 15:44:17,931 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:44:17,931 - sqlalchemy.engine.Engine - INFO - [cached since 1767s ago] ('SNDK', 20, 0)
2026-02-07 15:44:17,933 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.43ms
2026-02-07 15:44:17,933 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.55ms
2026-02-07 15:44:17,934 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:44:17,934 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:44:24,713 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:44:24,713 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:44:24,713 - sqlalchemy.engine.Engine - INFO - [cached since 1774s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:44:24,714 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:44:24,714 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:44:24,714 - sqlalchemy.engine.Engine - INFO - [cached since 1774s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:44:24,714 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 15:44:24,714 - sqlalchemy.engine.Engine - INFO - [cached since 1774s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 15:44:24,715 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:44:24,715 - sqlalchemy.engine.Engine - INFO - [cached since 1774s ago] ('FRO', 20, 0)
2026-02-07 15:44:24,715 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.61ms
2026-02-07 15:44:24,716 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.15ms
2026-02-07 15:44:24,716 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:44:24,716 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:44:24,769 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:44:24,769 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:44:24,769 - sqlalchemy.engine.Engine - INFO - [cached since 1774s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:44:24,770 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:44:24,770 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:44:24,770 - sqlalchemy.engine.Engine - INFO - [cached since 1774s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:44:24,772 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:44:24,772 - sqlalchemy.engine.Engine - INFO - [cached since 1774s ago] ('SNDK', 20, 0)
2026-02-07 15:44:24,772 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 15:44:24,773 - sqlalchemy.engine.Engine - INFO - [cached since 1774s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 15:44:24,774 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.37ms
2026-02-07 15:44:24,775 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:44:24,777 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.30ms
2026-02-07 15:44:24,777 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:44:24,813 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:44:24,814 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:44:24,814 - sqlalchemy.engine.Engine - INFO - [cached since 1774s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:44:24,816 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:44:24,816 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:44:24,816 - sqlalchemy.engine.Engine - INFO - [cached since 1774s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:44:24,818 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 15:44:24,818 - sqlalchemy.engine.Engine - INFO - [cached since 1774s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 15:44:24,819 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:44:24,819 - sqlalchemy.engine.Engine - INFO - [cached since 1774s ago] ('FRO', 20, 0)
2026-02-07 15:44:24,820 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.26ms
2026-02-07 15:44:24,822 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:44:24,822 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.81ms
2026-02-07 15:44:24,823 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:44:25,810 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:44:25,810 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:44:25,810 - sqlalchemy.engine.Engine - INFO - [cached since 1775s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:44:25,811 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 15:44:25,811 - sqlalchemy.engine.Engine - INFO - [cached since 1196s ago] ('FRO',)
2026-02-07 15:44:25,812 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 15:44:25,812 - sqlalchemy.engine.Engine - INFO - [cached since 1196s ago] ('FRO',)
2026-02-07 15:44:26,479 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 15:44:26,479 - sqlalchemy.engine.Engine - INFO - [cached since 1197s ago] ('FRO',)
2026-02-07 15:44:26,480 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:44:26,481 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('b6d9ce1c-6169-3c6c-ad2b-778afc83a630', 'FRO', 'Insiders Favor These 3 High Growth Companies', 'Simply Wall St.', 'https://finance.yahoo.com/news/insiders-favor-3-high-growth-113601957.html', '2026-02-06 11:36:01.000000', None)
2026-02-07 15:44:26,482 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:44:26,482 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('05ba4f7c-7f54-327b-86be-1131398186c6', 'FRO', 'Investors more bullish on Frontline (NYSE:FRO) this week as stock rises 6.7%, despite earnings trending downwards over past five years', 'Simply Wall St.', 'https://finance.yahoo.com/news/investors-more-bullish-frontline-nyse-182029674.html', '2026-02-04 18:20:29.000000', None)
2026-02-07 15:44:26,483 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:44:26,483 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('58b364ac-1e25-31c3-a91b-844fdce12402', 'FRO', 'Here is Why Frontline (FRO) Gained This Week', 'Insider Monkey', 'https://finance.yahoo.com/news/why-frontline-fro-gained-week-173842236.html', '2026-01-31 17:38:42.000000', None)
2026-02-07 15:44:26,484 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:44:26,484 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('ac4b763a-1815-3d75-b3fb-bd072c4b1e82', 'FRO', "January 2026's Top Growth Companies With Insider Confidence", 'Simply Wall St.', 'https://finance.yahoo.com/news/january-2026s-top-growth-companies-173612842.html', '2026-01-08 17:36:12.000000', None)
2026-02-07 15:44:26,485 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:44:26,485 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('ddd8a47e-f00b-39bb-9267-ba9a23a1faef', 'FRO', 'Frontline PLC (FRO) Jumps 9.5% on Venezuela Oil Seizure', 'Insider Monkey', 'https://finance.yahoo.com/news/frontline-plc-fro-jumps-9-015505286.html', '2026-01-08 01:55:05.000000', None)
2026-02-07 15:44:26,485 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:44:26,485 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('cbff1281-6f54-39ff-92b7-953421747edd', 'FRO', "Individual investors are Frontline plc's (NYSE:FRO) biggest owners and were hit after market cap dropped US$345m", 'Simply Wall St.', 'https://finance.yahoo.com/news/individual-investors-frontline-plcs-nyse-183606714.html', '2026-01-05 18:36:06.000000', None)
2026-02-07 15:44:26,486 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:44:26,486 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('9336728b-f1f9-3305-83f1-9b5a6459ce11', 'FRO', '5 Under $35 Dividend Stocks to Buy Now', '24/7 Wall St.', 'https://finance.yahoo.com/news/5-under-35-dividend-stocks-191720390.html', '2025-12-09 19:17:20.000000', None)
2026-02-07 15:44:26,487 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:44:26,487 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('d2900d23-27f1-3e29-a369-3f089a44aee8', 'FRO', 'Frontline (NYSE:FRO) Will Pay A Smaller Dividend Than Last Year', 'Simply Wall St.', 'https://finance.yahoo.com/news/frontline-nyse-fro-pay-smaller-175418119.html', '2025-12-09 17:54:18.000000', None)
2026-02-07 15:44:26,487 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:44:26,488 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('ed10202e-de30-3be2-a563-3a0fb5bfeeb3', 'FRO', '3 Growth Companies With High Insider Ownership And 25% Return On Equity', 'Simply Wall St.', 'https://finance.yahoo.com/news/3-growth-companies-high-insider-173547980.html', '2025-12-08 17:35:47.000000', None)
2026-02-07 15:44:26,488 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:44:26,488 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('2679188b-75ba-397e-8f88-586e8e18ad50', 'FRO', 'We Think That There Are More Issues For Frontline (NYSE:FRO) Than Just Sluggish Earnings', 'Simply Wall St.', 'https://finance.yahoo.com/news/think-more-issues-frontline-nyse-113051973.html', '2025-11-28 11:30:51.000000', None)
2026-02-07 15:44:26,489 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 15:44:26,489 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('2026-02-07 07:44:25.812369', 'FRO')
2026-02-07 15:44:26,489 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 15:44:26,490 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:44:26,490 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 15:44:26,490 - sqlalchemy.engine.Engine - INFO - [cached since 1195s ago] ('FRO',)
2026-02-07 15:44:26,490 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:44:26,491 - sqlalchemy.engine.Engine - INFO - [cached since 1775s ago] ('FRO', 5, 0)
2026-02-07 15:44:26,491 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 15:44:26,491 - sqlalchemy.engine.Engine - INFO - [cached since 1195s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO')
2026-02-07 15:44:26,491 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for FRO. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-07 15:44:26,492 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR FRO ---

         [FRO] 
        
        **1.  (Fundamental Context)**:
        - /: Energy / Oil & Gas Midstream
        - : 6538434560.0
        - PE (TTM): 29.97 | Forward PE: 9.75
        - 52: [12.4, 29.4]
        - Beta: 0.05
        
        **2.  (Portfolio Context)**:
        - : $27.32
        - : 30.0
        - : $61.50000000000002 (7.503660322108348%)
        
        **3.  (Technical Data)**:
        - : $29.37
        - : 4.89%
        - RSI (14): 70.1 | KDJ (K): None / (D): None / (J): None
        - MACD: 1.36 (: 0.12)
        -  (BB): : 29.72 | : None | : 24.26
        - MA : [20: 26.99, 50: 24.35, 200: 21.35]
        -  (ADX): None | ATR: 0.98
        -  (Pivots):  R1: None / R2: None |  S1: None / S2: None
        
        **4.  (Recent News)**:
        [{'title': 'Insiders Favor These 3 High Growth Companies', 'publisher': 'Simply Wall St.', 'time': '2026-02-06T11:36:01'}, {'title': 'Investors more bullish on Frontline (NYSE:FRO) this week as stock rises 6.7%, despite earnings trending downwards over past five years', 'publisher': 'Simply Wall St.', 'time': '2026-02-04T18:20:29'}, {'title': 'Here is Why Frontline (FRO) Gained This Week', 'publisher': 'Insider Monkey', 'time': '2026-01-31T17:38:42'}, {'title': "January 2026's Top Growth Companies With Insider Confidence", 'publisher': 'Simply Wall St.', 'time': '2026-01-08T17:36:12'}, {'title': 'Frontline PLC (FRO) Jumps 9.5% on Venezuela Oil Seizure', 'publisher': 'Insider Monkey', 'time': '2026-01-08T01:55:05'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (24.35)  (24.26)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "investment_horizon": " ( 2-5 /   /  -)",
            "confidence_level": 0-100 (AI ),
            "immediate_action": " (///)",
            "target_price": "/ (2)",
            "stop_loss_price": "/ (2)",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-07 15:44:46,582 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 15:44:46,585 - app.api.v1.endpoints.analysis - INFO - AI Response for FRO: {
    "sentiment_score": 78,
    "summary_status": "",
    "risk_level": "",
    "investment_horizon": " ",
    "confidence_level": 85,
    "immediate_action": "",
    "target_price": 2...
2026-02-07 15:44:46,586 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 15:44:46,586 - sqlalchemy.engine.Engine - INFO - [cached since 1193s ago] ('37c7c1b3-223d-4482-8044-0109f40497d9', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', '{"market_data": {"current_price": 29.37, "change_percent": 4.89, "rsi_14": 70.1, "ma_20": 26.99, "ma_50": 24.35, "ma_200": 21.35, "macd_val": 1.36, " ... (90 characters truncated) ... arket_status": "OPEN"}, "portfolio_data": {"avg_cost": 27.32, "quantity": 30.0, "unrealized_pl": 61.50000000000002, "pl_percent": 7.503660322108348}}', '{\n    "sentiment_score": 78,\n    "summary_status": "",\n    "risk_level": "",\n    "investment_horizon": " ",\n    "confidence_level": 8 ... (432 characters truncated) ... action_advice": "27.327.50%29.7250%MA50 24.3510.9%50%"\n}', '78', '', '', '29.3729.72RSI70.1MACD0.12MA5024.3520021.35', "Forward PE 9.75TTM PE 29.97' earnings trending downwards over past five years'5212.4-29.4", '27.327.50%29.7250%MA50 24.3510.9%50%', ' ', 85.0, '', 29.72, 24.35, 'qwen-3-vl-thinking', '2026-02-07 07:44:46.586289')
2026-02-07 15:44:46,587 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 15:44:46,588 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:44:46,589 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 15:44:46,589 - sqlalchemy.engine.Engine - INFO - [cached since 1193s ago] ('37c7c1b3-223d-4482-8044-0109f40497d9',)
2026-02-07 15:44:46,590 - api_logger - INFO - rid=/api/analysis/FRO method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=20780.44ms
2026-02-07 15:44:46,590 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:44:46,593 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:44:46,594 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:44:46,594 - sqlalchemy.engine.Engine - INFO - [cached since 1795s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:44:46,595 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:44:46,595 - sqlalchemy.engine.Engine - INFO - [cached since 1795s ago] ('FRO', 20, 0)
2026-02-07 15:44:46,596 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.11ms
2026-02-07 15:44:46,596 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:45:05,155 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:45:05,155 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:45:05,155 - sqlalchemy.engine.Engine - INFO - [cached since 1814s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:45:05,156 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 15:45:05,156 - sqlalchemy.engine.Engine - INFO - [cached since 1234s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO')
2026-02-07 15:45:05,158 - sqlalchemy.engine.Engine - INFO - UPDATE portfolios SET quantity=?, updated_at=? WHERE portfolios.id = ?
2026-02-07 15:45:05,158 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] (0.0, '2026-02-07 07:45:05.158617', '4a167c78-6d5a-4edc-9086-2d932400c7e6')
2026-02-07 15:45:05,159 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 15:45:05,160 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:45:05,161 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 15:45:05,161 - sqlalchemy.engine.Engine - INFO - [cached since 1235s ago] ('FRO',)
2026-02-07 15:45:05,161 - api_logger - INFO - rid=/api/portfolio/ method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.68ms
2026-02-07 15:45:05,162 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:45:05,164 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:45:05,165 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:45:05,165 - sqlalchemy.engine.Engine - INFO - [cached since 1814s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:45:05,166 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 15:45:05,166 - sqlalchemy.engine.Engine - INFO - [cached since 1814s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:45:05,168 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:46:02,954 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 15:46:32,325 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:46:32,337 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:46:32,337 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:46:32,338 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:46:32,338 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:46:32,338 - sqlalchemy.engine.Engine - INFO - [cached since 0.001206s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:46:32,338 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:46:32,339 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:46:32,339 - sqlalchemy.engine.Engine - INFO - [cached since 0.002134s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:46:32,342 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 15:46:32,342 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 15:46:32,382 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 15:46:32,383 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:46:32,384 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:46:32,384 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ('FRO', 20, 0)
2026-02-07 15:46:32,385 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=71.88ms
2026-02-07 15:46:32,386 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:46:32,387 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=72.73ms
2026-02-07 15:46:32,387 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:46:32,389 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=74.82ms
2026-02-07 15:46:32,390 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:46:47,719 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:46:47,720 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:46:47,720 - sqlalchemy.engine.Engine - INFO - [cached since 15.38s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:46:47,722 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 15:46:47,722 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL')
2026-02-07 15:46:47,725 - sqlalchemy.engine.Engine - INFO - UPDATE portfolios SET quantity=?, updated_at=? WHERE portfolios.id = ?
2026-02-07 15:46:47,725 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (0.0, '2026-02-07 07:46:47.725272', '0a3d628c-f0fa-4016-8b4f-fc72dd0c3052')
2026-02-07 15:46:47,726 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 15:46:47,727 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:46:47,728 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 15:46:47,728 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('GOOGL',)
2026-02-07 15:46:47,729 - api_logger - INFO - rid=/api/portfolio/ method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.05ms
2026-02-07 15:46:47,730 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:46:47,733 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:46:47,733 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:46:47,733 - sqlalchemy.engine.Engine - INFO - [cached since 15.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:46:47,734 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 15:46:47,734 - sqlalchemy.engine.Engine - INFO - [cached since 15.35s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:46:47,737 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.90ms
2026-02-07 15:46:47,737 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:46:48,908 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:46:48,908 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:46:48,909 - sqlalchemy.engine.Engine - INFO - [cached since 16.57s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:46:48,910 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:46:48,910 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:46:48,910 - sqlalchemy.engine.Engine - INFO - [cached since 16.57s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:46:48,910 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 15:46:48,910 - sqlalchemy.engine.Engine - INFO - [cached since 16.57s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 15:46:48,911 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:46:48,911 - sqlalchemy.engine.Engine - INFO - [cached since 16.53s ago] ('GOOGL', 20, 0)
2026-02-07 15:46:48,911 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.91ms
2026-02-07 15:46:48,911 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:46:48,912 - api_logger - INFO - rid=/api/portfolio/GOOGL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.49ms
2026-02-07 15:46:48,912 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:46:48,951 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:46:48,951 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:46:48,951 - sqlalchemy.engine.Engine - INFO - [cached since 16.61s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:46:48,952 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:46:48,953 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:46:48,953 - sqlalchemy.engine.Engine - INFO - [cached since 16.62s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:46:48,954 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:46:48,954 - sqlalchemy.engine.Engine - INFO - [cached since 16.57s ago] ('FRO', 20, 0)
2026-02-07 15:46:48,954 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 15:46:48,954 - sqlalchemy.engine.Engine - INFO - [cached since 16.61s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 15:46:48,955 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.67ms
2026-02-07 15:46:48,955 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.86ms
2026-02-07 15:46:48,956 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:46:48,956 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:46:48,995 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:46:48,996 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:46:48,996 - sqlalchemy.engine.Engine - INFO - [cached since 16.66s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:46:48,996 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:46:48,996 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:46:48,996 - sqlalchemy.engine.Engine - INFO - [cached since 16.66s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:46:48,997 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:46:48,997 - sqlalchemy.engine.Engine - INFO - [cached since 16.61s ago] ('GOOGL', 20, 0)
2026-02-07 15:46:48,997 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 15:46:48,997 - sqlalchemy.engine.Engine - INFO - [cached since 16.66s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 15:46:48,998 - api_logger - INFO - rid=/api/portfolio/GOOGL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.16ms
2026-02-07 15:46:48,998 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.03ms
2026-02-07 15:46:48,998 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:46:48,999 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:46:52,030 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:46:52,030 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:46:52,031 - sqlalchemy.engine.Engine - INFO - [cached since 19.69s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:46:52,032 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 15:46:52,032 - sqlalchemy.engine.Engine - INFO - [cached since 4.304s ago] ('GOOGL',)
2026-02-07 15:46:53,258 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 15:46:53,258 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('GOOGL',)
2026-02-07 15:46:53,260 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:46:53,260 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('19cd1080-a43d-4393-8ed1-77d2b30d3322', 'GOOGL', 'Earnings live: Amazon, Reddit stocks sink to cap jam-packed earnings week', 'Yahoo Finance', 'https://finance.yahoo.com/news/live/earnings-live-amazon-reddit-stocks-sink-to-cap-jam-packed-earnings-week-213155571.html', '2026-02-06 21:31:55.000000', None)
2026-02-07 15:46:53,262 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:46:53,262 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('54e604c4-ce1b-459c-8886-e2d863f40f97', 'GOOGL', 'Big Tech set to spend $650 billion in 2026 as AI investments soar', 'Yahoo Finance', 'https://finance.yahoo.com/news/big-tech-set-to-spend-650-billion-in-2026-as-ai-investments-soar-163907630.html', '2026-02-06 16:39:07.000000', None)
2026-02-07 15:46:53,262 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:46:53,263 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('f47cd64f-bfb9-3d0a-93b7-63cba374b0cb', 'GOOGL', 'Jim Cramer on Take-Two: I Do Think That Youre Getting a Chance to Buy It', 'Insider Monkey', 'https://finance.yahoo.com/news/jim-cramer-two-think-getting-055651902.html', '2026-02-07 05:56:51.000000', None)
2026-02-07 15:46:53,263 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:46:53,263 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('222bae51-211e-3ed9-8779-8621d5a8d5f4', 'GOOGL', 'Jim Cramer Says Google Spent to Defeat Bing and All Other Comers, I Think Its Doing It Again.', 'Insider Monkey', 'https://finance.yahoo.com/news/jim-cramer-says-google-spent-055645495.html', '2026-02-07 05:56:45.000000', None)
2026-02-07 15:46:53,264 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:46:53,264 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('1b429303-2213-3226-84c3-c0f9e9511be4', 'GOOGL', 'The Shaky Pillars of Artificial Intelligence', 'Barrons.com', 'https://www.barrons.com/articles/the-shaky-pillars-of-artificial-intelligence-95a12d33?siteid=yhoof2&yptr=yahoo', '2026-02-07 03:32:00.000000', None)
2026-02-07 15:46:53,264 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:46:53,264 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('1f64fc6a-fbc1-3ce8-a6c6-f2ce7023622d', 'GOOGL', 'Could Nvidia Be the Best Way to Play the AI Boom in 2026?', 'Motley Fool', 'https://finance.yahoo.com/news/could-nvidia-best-way-play-032500597.html', '2026-02-07 03:25:00.000000', None)
2026-02-07 15:46:53,264 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:46:53,264 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('669d0140-4377-35a3-b036-33e4331529fa', 'GOOGL', 'Broadcoms AI Role Expands With Alphabet Capex And New Wi Fi 8', 'Simply Wall St.', 'https://finance.yahoo.com/news/broadcom-ai-role-expands-alphabet-030916291.html', '2026-02-07 03:09:16.000000', None)
2026-02-07 15:46:53,265 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:46:53,265 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('1cda57ba-07e6-3345-9255-94ea1af797fe', 'GOOGL', "Alphabet CEO Sundar Pichai Says AI Capacity Is What 'Keeps Us Up At Night' As Power, Land And Supply Chain Limits Test Growth", 'Benzinga', 'https://finance.yahoo.com/news/alphabet-ceo-sundar-pichai-says-023155412.html', '2026-02-07 02:31:55.000000', None)
2026-02-07 15:46:53,265 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:46:53,265 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('b7a84e9c-492b-38de-9af8-26bd7bb0a57a', 'GOOGL', "Why AppLovin (APP) Is Down 14.0% After New AI Rivals Challenge Its Ad Tech Platform  And What's Next", 'Simply Wall St.', 'https://finance.yahoo.com/news/why-applovin-app-down-14-020803766.html', '2026-02-07 02:08:03.000000', None)
2026-02-07 15:46:53,265 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:46:53,265 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('2e28b0dd-9702-398b-abda-3fdcf2fffcff', 'GOOGL', 'Breaking Down Mag 7 Earnings: Good or Bad?', 'Zacks', 'https://finance.yahoo.com/news/breaking-down-mag-7-earnings-003400473.html', '2026-02-07 00:34:00.000000', None)
2026-02-07 15:46:53,266 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_lower=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 15:46:53,266 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] (238.77817779541016, 4.025060016451846, 5.686316422622078, -1.6612564061702324, 343.47251370799665, 321.97648531544087, '2026-02-07 07:46:52.033331', 'GOOGL')
2026-02-07 15:46:53,267 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 15:46:53,267 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:46:53,268 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 15:46:53,268 - sqlalchemy.engine.Engine - INFO - [generated in 0.00005s] ('GOOGL',)
2026-02-07 15:46:53,268 - api_logger - INFO - rid=/api/portfolio/GOOGL/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1239.09ms
2026-02-07 15:46:53,268 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:46:53,271 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:46:53,271 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:46:53,271 - sqlalchemy.engine.Engine - INFO - [cached since 20.93s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:46:53,272 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 15:46:53,272 - sqlalchemy.engine.Engine - INFO - [cached since 20.89s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:46:53,273 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.12ms
2026-02-07 15:46:53,273 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:46:54,643 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:46:54,644 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:46:54,644 - sqlalchemy.engine.Engine - INFO - [cached since 22.31s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:46:54,645 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 15:46:54,645 - sqlalchemy.engine.Engine - INFO - [cached since 1.387s ago] ('GOOGL',)
2026-02-07 15:46:54,646 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 15:46:54,646 - sqlalchemy.engine.Engine - INFO - [cached since 6.918s ago] ('GOOGL',)
2026-02-07 15:46:54,647 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:46:54,647 - sqlalchemy.engine.Engine - INFO - [cached since 22.26s ago] ('GOOGL', 5, 0)
2026-02-07 15:46:54,648 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 15:46:54,648 - sqlalchemy.engine.Engine - INFO - [cached since 6.926s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL')
2026-02-07 15:46:54,648 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:46:57,088 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:46:57,088 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:46:57,089 - sqlalchemy.engine.Engine - INFO - [cached since 24.75s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:46:57,091 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 15:46:57,091 - sqlalchemy.engine.Engine - INFO - [cached since 3.833s ago] ('GOOGL',)
2026-02-07 15:46:57,092 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 15:46:57,092 - sqlalchemy.engine.Engine - INFO - [cached since 9.364s ago] ('GOOGL',)
2026-02-07 15:46:57,093 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:46:57,093 - sqlalchemy.engine.Engine - INFO - [cached since 24.71s ago] ('GOOGL', 5, 0)
2026-02-07 15:46:57,094 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 15:46:57,094 - sqlalchemy.engine.Engine - INFO - [cached since 9.372s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL')
2026-02-07 15:46:57,095 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:47:44,750 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:47:44,751 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:47:44,751 - sqlalchemy.engine.Engine - INFO - [cached since 72.41s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:47:44,752 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:47:44,752 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:47:44,752 - sqlalchemy.engine.Engine - INFO - [cached since 72.42s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:47:44,753 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:47:44,753 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:47:44,753 - sqlalchemy.engine.Engine - INFO - [cached since 72.42s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:47:44,754 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 15:47:44,754 - sqlalchemy.engine.Engine - INFO - [cached since 72.41s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 15:47:44,754 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 15:47:44,755 - sqlalchemy.engine.Engine - INFO - [cached since 72.37s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:47:44,755 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:47:44,755 - sqlalchemy.engine.Engine - INFO - [cached since 72.37s ago] ('GOOGL', 20, 0)
2026-02-07 15:47:44,756 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=28.07ms
2026-02-07 15:47:44,758 - api_logger - INFO - rid=/api/portfolio/GOOGL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=27.04ms
2026-02-07 15:47:44,762 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:47:44,769 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:47:44,769 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=39.11ms
2026-02-07 15:47:44,770 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:47:46,423 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:47:46,423 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:47:46,423 - sqlalchemy.engine.Engine - INFO - [cached since 74.09s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:47:46,425 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 15:47:46,425 - sqlalchemy.engine.Engine - INFO - [cached since 53.17s ago] ('GOOGL',)
2026-02-07 15:47:46,426 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 15:47:46,426 - sqlalchemy.engine.Engine - INFO - [cached since 58.7s ago] ('GOOGL',)
2026-02-07 15:47:46,427 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:47:46,427 - sqlalchemy.engine.Engine - INFO - [cached since 74.04s ago] ('GOOGL', 5, 0)
2026-02-07 15:47:46,428 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 15:47:46,428 - sqlalchemy.engine.Engine - INFO - [cached since 58.71s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL')
2026-02-07 15:47:46,428 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:48:26,771 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 15:52:15,578 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:52:15,583 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:52:15,584 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:52:15,584 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:52:15,584 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:52:15,584 - sqlalchemy.engine.Engine - INFO - [cached since 0.0007128s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:52:15,584 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:52:15,584 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:52:15,584 - sqlalchemy.engine.Engine - INFO - [cached since 0.001062s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:52:15,586 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 15:52:15,586 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 15:52:15,608 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 15:52:15,608 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:52:15,609 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:52:15,609 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('GOOGL', 20, 0)
2026-02-07 15:52:15,609 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=42.72ms
2026-02-07 15:52:15,610 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:52:15,611 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=36.23ms
2026-02-07 15:52:15,612 - api_logger - INFO - rid=/api/portfolio/GOOGL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=36.41ms
2026-02-07 15:52:15,612 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:52:15,613 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:52:17,460 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:52:17,460 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:52:17,460 - sqlalchemy.engine.Engine - INFO - [cached since 1.877s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:52:17,462 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 15:52:17,462 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('GOOGL',)
2026-02-07 15:52:17,464 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 15:52:17,464 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('GOOGL',)
2026-02-07 15:52:18,586 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 15:52:18,586 - sqlalchemy.engine.Engine - INFO - [cached since 1.124s ago] ('GOOGL',)
2026-02-07 15:52:18,588 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:52:18,588 - sqlalchemy.engine.Engine - INFO - [no key 0.00028s] ('19cd1080-a43d-4393-8ed1-77d2b30d3322', 'GOOGL', 'Earnings live: Amazon, Reddit stocks sink to cap jam-packed earnings week', 'Yahoo Finance', 'https://finance.yahoo.com/news/live/earnings-live-amazon-reddit-stocks-sink-to-cap-jam-packed-earnings-week-213155571.html', '2026-02-06 21:31:55.000000', None)
2026-02-07 15:52:18,590 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:52:18,590 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ('54e604c4-ce1b-459c-8886-e2d863f40f97', 'GOOGL', 'Big Tech set to spend $650 billion in 2026 as AI investments soar', 'Yahoo Finance', 'https://finance.yahoo.com/news/big-tech-set-to-spend-650-billion-in-2026-as-ai-investments-soar-163907630.html', '2026-02-06 16:39:07.000000', None)
2026-02-07 15:52:18,591 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:52:18,591 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('f47cd64f-bfb9-3d0a-93b7-63cba374b0cb', 'GOOGL', 'Jim Cramer on Take-Two: I Do Think That Youre Getting a Chance to Buy It', 'Insider Monkey', 'https://finance.yahoo.com/news/jim-cramer-two-think-getting-055651902.html', '2026-02-07 05:56:51.000000', None)
2026-02-07 15:52:18,592 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:52:18,592 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('222bae51-211e-3ed9-8779-8621d5a8d5f4', 'GOOGL', 'Jim Cramer Says Google Spent to Defeat Bing and All Other Comers, I Think Its Doing It Again.', 'Insider Monkey', 'https://finance.yahoo.com/news/jim-cramer-says-google-spent-055645495.html', '2026-02-07 05:56:45.000000', None)
2026-02-07 15:52:18,593 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:52:18,593 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('1b429303-2213-3226-84c3-c0f9e9511be4', 'GOOGL', 'The Shaky Pillars of Artificial Intelligence', 'Barrons.com', 'https://www.barrons.com/articles/the-shaky-pillars-of-artificial-intelligence-95a12d33?siteid=yhoof2&yptr=yahoo', '2026-02-07 03:32:00.000000', None)
2026-02-07 15:52:18,593 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:52:18,593 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('1f64fc6a-fbc1-3ce8-a6c6-f2ce7023622d', 'GOOGL', 'Could Nvidia Be the Best Way to Play the AI Boom in 2026?', 'Motley Fool', 'https://finance.yahoo.com/news/could-nvidia-best-way-play-032500597.html', '2026-02-07 03:25:00.000000', None)
2026-02-07 15:52:18,593 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:52:18,593 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('669d0140-4377-35a3-b036-33e4331529fa', 'GOOGL', 'Broadcoms AI Role Expands With Alphabet Capex And New Wi Fi 8', 'Simply Wall St.', 'https://finance.yahoo.com/news/broadcom-ai-role-expands-alphabet-030916291.html', '2026-02-07 03:09:16.000000', None)
2026-02-07 15:52:18,594 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:52:18,594 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('1cda57ba-07e6-3345-9255-94ea1af797fe', 'GOOGL', "Alphabet CEO Sundar Pichai Says AI Capacity Is What 'Keeps Us Up At Night' As Power, Land And Supply Chain Limits Test Growth", 'Benzinga', 'https://finance.yahoo.com/news/alphabet-ceo-sundar-pichai-says-023155412.html', '2026-02-07 02:31:55.000000', None)
2026-02-07 15:52:18,594 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:52:18,594 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('b7a84e9c-492b-38de-9af8-26bd7bb0a57a', 'GOOGL', "Why AppLovin (APP) Is Down 14.0% After New AI Rivals Challenge Its Ad Tech Platform  And What's Next", 'Simply Wall St.', 'https://finance.yahoo.com/news/why-applovin-app-down-14-020803766.html', '2026-02-07 02:08:03.000000', None)
2026-02-07 15:52:18,594 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 15:52:18,594 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('2e28b0dd-9702-398b-abda-3fdcf2fffcff', 'GOOGL', 'Breaking Down Mag 7 Earnings: Good or Bad?', 'Zacks', 'https://finance.yahoo.com/news/breaking-down-mag-7-earnings-003400473.html', '2026-02-07 00:34:00.000000', None)
2026-02-07 15:52:18,595 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_lower=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 15:52:18,595 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] (4.025060016448094, 5.6863164226166, -1.6612564061685058, 343.4725137079911, 321.97648531544644, '2026-02-07 07:52:17.464961', 'GOOGL')
2026-02-07 15:52:18,596 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 15:52:18,597 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:52:18,597 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 15:52:18,597 - sqlalchemy.engine.Engine - INFO - [generated in 0.00005s] ('GOOGL',)
2026-02-07 15:52:18,597 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:52:18,598 - sqlalchemy.engine.Engine - INFO - [cached since 2.988s ago] ('GOOGL', 5, 0)
2026-02-07 15:52:18,598 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 15:52:18,598 - sqlalchemy.engine.Engine - INFO - [generated in 0.00006s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL')
2026-02-07 15:52:18,598 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for GOOGL. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-07 15:52:18,599 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR GOOGL ---

         [GOOGL] 
        
        **1.  (Fundamental Context)**:
        - /: Communication Services / Internet Content & Information
        - : 3905637318656.0
        - PE (TTM): 29.84 | Forward PE: 24.26
        - 52: [140.53, 349.0]
        - Beta: 1.09
        
        **2.  (Portfolio Context)**:
        - : $302.0
        - : 0.0
        - : $0.0 (0%)
        
        **3.  (Technical Data)**:
        - : $322.86
        - : -2.53%
        - RSI (14): 43.65 | KDJ (K): None / (D): None / (J): None
        - MACD: 4.03 (: -1.66)
        -  (BB): : 343.47 | : None | : 321.98
        - MA : [20: 332.72, 50: 321.7, 200: 238.78]
        -  (ADX): None | ATR: 10.83
        -  (Pivots):  R1: None / R2: None |  S1: None / S2: None
        
        **4.  (Recent News)**:
        [{'title': 'Jim Cramer on Take-Two: I Do Think That Youre Getting a Chance to Buy It', 'publisher': 'Insider Monkey', 'time': '2026-02-07T05:56:51'}, {'title': 'Jim Cramer Says Google Spent to Defeat Bing and All Other Comers, I Think Its Doing It Again.', 'publisher': 'Insider Monkey', 'time': '2026-02-07T05:56:45'}, {'title': 'The Shaky Pillars of Artificial Intelligence', 'publisher': 'Barrons.com', 'time': '2026-02-07T03:32:00'}, {'title': 'Could Nvidia Be the Best Way to Play the AI Boom in 2026?', 'publisher': 'Motley Fool', 'time': '2026-02-07T03:25:00'}, {'title': 'Broadcoms AI Role Expands With Alphabet Capex And New Wi Fi 8', 'publisher': 'Simply Wall St.', 'time': '2026-02-07T03:09:16'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (321.7)  (321.98)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "investment_horizon": " ( 2-5 /   /  -)",
            "confidence_level": 0-100 (AI ),
            "immediate_action": " (///)",
            "target_price": "/ (2)",
            "stop_loss_price": "/ (2)",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-07 15:52:40,328 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 15:52:40,331 - app.api.v1.endpoints.analysis - INFO - AI Response for GOOGL: {
    "sentiment_score": 62,
    "summary_status": "",
    "risk_level": "",
    "investment_horizon": " ",
    "confidence_level": 75,
    "immediate_action": "",
    "target_price": 3...
2026-02-07 15:52:40,333 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 15:52:40,333 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('d39677c0-c043-414d-be4c-0f12f6f58433', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', '{"market_data": {"current_price": 322.86, "change_percent": -2.53, "rsi_14": 43.65, "ma_20": 332.72, "ma_50": 321.7, "ma_200": 238.78, "macd_val": 4. ... (68 characters truncated) ... _k": 52.39, "atr_14": 10.83, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 302.0, "quantity": 0.0, "unrealized_pl": 0.0, "pl_percent": 0}}', '{\n    "sentiment_score": 62,\n    "summary_status": "",\n    "risk_level": "",\n    "investment_horizon": " ",\n    "confidence_level": 7 ... (442 characters truncated) ...   "action_advice": "321.70-321.98321.981%321.02343.4750%MA200(238.78)15%"\n}', '62', '', '', '322.86MA50(321.70)MA20(332.72)RSI 43.65MACD4.03-1.66321.98321.70343.47', 'PE TTM 29.84Forward PE 24.26Jim CramerBarronsAI3905.64Beta 1.0952349.08.06%', '321.70-321.98321.981%321.02343.4750%MA200(238.78)15%', ' ', 75.0, '', 343.47, 321.98, 'qwen-3-vl-thinking', '2026-02-07 07:52:40.333169')
2026-02-07 15:52:40,334 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 15:52:40,336 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:52:40,337 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 15:52:40,337 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('d39677c0-c043-414d-be4c-0f12f6f58433',)
2026-02-07 15:52:40,339 - api_logger - INFO - rid=/api/analysis/GOOGL method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=22883.39ms
2026-02-07 15:52:40,339 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 15:52:40,342 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 15:52:40,342 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 15:52:40,342 - sqlalchemy.engine.Engine - INFO - [cached since 24.76s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 15:52:40,343 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 15:52:40,344 - sqlalchemy.engine.Engine - INFO - [cached since 24.73s ago] ('GOOGL', 20, 0)
2026-02-07 15:52:40,344 - api_logger - INFO - rid=/api/portfolio/GOOGL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.89ms
2026-02-07 15:52:40,345 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 16:38:09,309 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 16:38:10,848 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 16:38:45,925 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 16:39:06,265 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 16:40:18,291 - api_logger - INFO - rid=/openapi.json method=GET status_code=200 user_id=anonymous time=43.76ms
2026-02-07 17:42:12,459 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:42:12,512 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:42:12,513 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:42:12,513 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:42:12,513 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:42:12,513 - sqlalchemy.engine.Engine - INFO - [cached since 0.001078s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:42:12,513 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:42:12,514 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:42:12,514 - sqlalchemy.engine.Engine - INFO - [cached since 0.001486s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:42:12,515 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 17:42:12,515 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 17:42:12,517 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 17:42:12,517 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:42:12,517 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 17:42:12,517 - sqlalchemy.engine.Engine - INFO - [generated in 0.00006s] ('GOOGL', 20, 0)
2026-02-07 17:42:12,518 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=77.53ms
2026-02-07 17:42:12,519 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:42:12,520 - api_logger - INFO - rid=/api/portfolio/GOOGL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=71.40ms
2026-02-07 17:42:12,522 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:42:12,522 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=74.24ms
2026-02-07 17:42:12,523 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:42:29,261 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:42:29,262 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:42:29,262 - sqlalchemy.engine.Engine - INFO - [cached since 16.75s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:42:29,262 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:42:29,262 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:42:29,262 - sqlalchemy.engine.Engine - INFO - [cached since 16.75s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:42:29,263 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:42:29,264 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:42:29,264 - sqlalchemy.engine.Engine - INFO - [cached since 16.75s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:42:29,265 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 17:42:29,265 - sqlalchemy.engine.Engine - INFO - [cached since 16.75s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 17:42:29,265 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 17:42:29,265 - sqlalchemy.engine.Engine - INFO - [cached since 16.75s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:42:29,266 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 17:42:29,266 - sqlalchemy.engine.Engine - INFO - [cached since 16.75s ago] ('GOOGL', 20, 0)
2026-02-07 17:42:29,267 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.84ms
2026-02-07 17:42:29,268 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:42:29,272 - api_logger - INFO - rid=/api/portfolio/GOOGL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.44ms
2026-02-07 17:42:29,272 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.04ms
2026-02-07 17:42:29,273 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:42:29,274 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:46:06,828 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:46:06,829 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:46:06,829 - sqlalchemy.engine.Engine - INFO - [cached since 234.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:46:06,833 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 17:46:06,833 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('GOOGL',)
2026-02-07 17:46:08,306 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 17:46:08,307 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('GOOGL',)
2026-02-07 17:46:08,309 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:46:08,309 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('19cd1080-a43d-4393-8ed1-77d2b30d3322', 'GOOGL', 'Earnings live: Amazon, Reddit stocks sink to cap jam-packed earnings week', 'Yahoo Finance', 'https://finance.yahoo.com/news/live/earnings-live-amazon-reddit-stocks-sink-to-cap-jam-packed-earnings-week-213155571.html', '2026-02-06 21:31:55.000000', None)
2026-02-07 17:46:08,310 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:46:08,310 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('54e604c4-ce1b-459c-8886-e2d863f40f97', 'GOOGL', 'Big Tech set to spend $650 billion in 2026 as AI investments soar', 'Yahoo Finance', 'https://finance.yahoo.com/news/big-tech-set-to-spend-650-billion-in-2026-as-ai-investments-soar-163907630.html', '2026-02-06 16:39:07.000000', None)
2026-02-07 17:46:08,310 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:46:08,310 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('534d0a7f-cd44-3131-9615-f70354c3277a', 'GOOGL', 'Roblox Q4 Results Beats Consensus, Guidance Ahead', 'Insider Monkey', 'https://finance.yahoo.com/news/roblox-q4-results-beats-consensus-081539987.html', '2026-02-07 08:15:39.000000', None)
2026-02-07 17:46:08,311 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:46:08,311 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('6fd2e20d-5089-3b1c-9eda-53c40588261a', 'GOOGL', 'Apples AI Partnerships Reframe Siri, CarPlay And Health For Investors', 'Simply Wall St.', 'https://finance.yahoo.com/news/apple-ai-partnerships-reframe-siri-080708063.html', '2026-02-07 08:07:08.000000', None)
2026-02-07 17:46:08,312 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:46:08,312 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('f47cd64f-bfb9-3d0a-93b7-63cba374b0cb', 'GOOGL', 'Jim Cramer on Take-Two: I Do Think That Youre Getting a Chance to Buy It', 'Insider Monkey', 'https://finance.yahoo.com/news/jim-cramer-two-think-getting-055651902.html', '2026-02-07 05:56:51.000000', None)
2026-02-07 17:46:08,312 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:46:08,312 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('222bae51-211e-3ed9-8779-8621d5a8d5f4', 'GOOGL', 'Jim Cramer Says Google Spent to Defeat Bing and All Other Comers, I Think Its Doing It Again.', 'Insider Monkey', 'https://finance.yahoo.com/news/jim-cramer-says-google-spent-055645495.html', '2026-02-07 05:56:45.000000', None)
2026-02-07 17:46:08,312 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:46:08,312 - sqlalchemy.engine.Engine - INFO - [no key 0.00004s] ('1b429303-2213-3226-84c3-c0f9e9511be4', 'GOOGL', 'The Shaky Pillars of Artificial Intelligence', 'Barrons.com', 'https://www.barrons.com/articles/the-shaky-pillars-of-artificial-intelligence-95a12d33?siteid=yhoof2&yptr=yahoo', '2026-02-07 03:32:00.000000', None)
2026-02-07 17:46:08,313 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:46:08,313 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('1f64fc6a-fbc1-3ce8-a6c6-f2ce7023622d', 'GOOGL', 'Could Nvidia Be the Best Way to Play the AI Boom in 2026?', 'Motley Fool', 'https://finance.yahoo.com/news/could-nvidia-best-way-play-032500597.html', '2026-02-07 03:25:00.000000', None)
2026-02-07 17:46:08,313 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:46:08,313 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('669d0140-4377-35a3-b036-33e4331529fa', 'GOOGL', 'Broadcoms AI Role Expands With Alphabet Capex And New Wi Fi 8', 'Simply Wall St.', 'https://finance.yahoo.com/news/broadcom-ai-role-expands-alphabet-030916291.html', '2026-02-07 03:09:16.000000', None)
2026-02-07 17:46:08,313 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:46:08,313 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('1cda57ba-07e6-3345-9255-94ea1af797fe', 'GOOGL', "Alphabet CEO Sundar Pichai Says AI Capacity Is What 'Keeps Us Up At Night' As Power, Land And Supply Chain Limits Test Growth", 'Benzinga', 'https://finance.yahoo.com/news/alphabet-ceo-sundar-pichai-says-023155412.html', '2026-02-07 02:31:55.000000', None)
2026-02-07 17:46:08,315 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_lower=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 17:46:08,315 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] (238.7781775665283, 4.025060016028874, 5.68631642200026, -1.6612564059713861, 343.4725137079955, 321.976485315442, '2026-02-07 09:46:06.834795', 'GOOGL')
2026-02-07 17:46:08,315 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 17:46:08,316 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:46:08,316 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 17:46:08,316 - sqlalchemy.engine.Engine - INFO - [generated in 0.00006s] ('GOOGL',)
2026-02-07 17:46:08,317 - api_logger - INFO - rid=/api/portfolio/GOOGL/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1502.30ms
2026-02-07 17:46:08,317 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:46:08,321 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:46:08,321 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:46:08,321 - sqlalchemy.engine.Engine - INFO - [cached since 235.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:46:08,321 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 17:46:08,321 - sqlalchemy.engine.Engine - INFO - [cached since 235.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:46:08,323 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.68ms
2026-02-07 17:46:08,323 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:46:52,683 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 17:51:02,274 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:51:02,280 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:51:02,280 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:51:02,281 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:51:02,282 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:51:02,282 - sqlalchemy.engine.Engine - INFO - [cached since 0.002161s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:51:02,289 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 17:51:02,290 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 17:51:02,293 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 17:51:02,293 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('AAPL', 20, 0)
2026-02-07 17:51:02,296 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=28.58ms
2026-02-07 17:51:02,298 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:51:02,300 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=27.67ms
2026-02-07 17:51:02,304 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:51:02,330 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:51:02,330 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:51:02,330 - sqlalchemy.engine.Engine - INFO - [cached since 0.05016s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:51:02,330 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:51:02,330 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:51:02,330 - sqlalchemy.engine.Engine - INFO - [cached since 0.05057s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:51:02,331 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 17:51:02,331 - sqlalchemy.engine.Engine - INFO - [cached since 0.04194s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 17:51:02,332 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 17:51:02,332 - sqlalchemy.engine.Engine - INFO - [cached since 0.03934s ago] ('GOOGL', 20, 0)
2026-02-07 17:51:02,333 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.81ms
2026-02-07 17:51:02,334 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:51:02,335 - api_logger - INFO - rid=/api/portfolio/GOOGL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.81ms
2026-02-07 17:51:02,335 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:51:02,414 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:51:02,414 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:51:02,414 - sqlalchemy.engine.Engine - INFO - [cached since 0.1343s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:51:02,415 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:51:02,415 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:51:02,415 - sqlalchemy.engine.Engine - INFO - [cached since 0.135s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:51:02,415 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 17:51:02,415 - sqlalchemy.engine.Engine - INFO - [cached since 0.1226s ago] ('AAPL', 20, 0)
2026-02-07 17:51:02,415 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 17:51:02,415 - sqlalchemy.engine.Engine - INFO - [cached since 0.1262s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 17:51:02,416 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.34ms
2026-02-07 17:51:02,418 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.32ms
2026-02-07 17:51:02,419 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:51:02,419 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:51:03,495 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:51:03,495 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:51:03,495 - sqlalchemy.engine.Engine - INFO - [cached since 1.215s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:51:03,497 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 17:51:03,498 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('AAPL',)
2026-02-07 17:51:04,836 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 17:51:04,836 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('AAPL',)
2026-02-07 17:51:04,838 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:51:04,838 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('6fd2e20d-5089-3b1c-9eda-53c40588261a', 'AAPL', 'Apples AI Partnerships Reframe Siri, CarPlay And Health For Investors', 'Simply Wall St.', 'https://finance.yahoo.com/news/apple-ai-partnerships-reframe-siri-080708063.html', '2026-02-07 08:07:08.000000', None)
2026-02-07 17:51:04,839 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:51:04,839 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('981503ee-3a91-3e34-a07b-308dadbf6a2a', 'AAPL', 'Dow Jones Tops 50,000 As Apple, Boeing, JPMorgan Flash Buy Signals; Is AI Trade Reviving?', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-futures-weekend-what-to-do-now/?src=A00220&yptr=yahoo', '2026-02-06 22:01:00.000000', None)
2026-02-07 17:51:04,840 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:51:04,840 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('ee889a3f-d2f2-3d33-88e5-1b565308845f', 'AAPL', 'Apple to Allow Third-Party AI Chatbots in CarPlay', '24/7 Wall St.', 'https://finance.yahoo.com/news/apple-allow-third-party-ai-215048959.html', '2026-02-06 21:50:48.000000', None)
2026-02-07 17:51:04,841 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:51:04,841 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('55b21566-7a1f-33fd-932c-c9c2d5224eb9', 'AAPL', 'Dow Hits Record as Tech Stocks Bounce to Cap Mixed Week for Wall Street', 'MT Newswires', 'https://finance.yahoo.com/news/dow-hits-record-tech-stocks-214909926.html', '2026-02-06 21:49:09.000000', None)
2026-02-07 17:51:04,842 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:51:04,842 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('83746cf4-83ed-3eb7-a000-56ff95bcfe38', 'AAPL', 'Corning Stock Has First Record Close Since the Dot-Com Bubble', 'Barrons.com', 'https://www.barrons.com/articles/corning-stock-price-record-high-bubble-dot-com-ai-e59c4fd7?siteid=yhoof2&yptr=yahoo', '2026-02-06 21:35:00.000000', None)
2026-02-07 17:51:04,842 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:51:04,842 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('d4d07bd1-e873-3a77-8c7a-e7616a7fd512', 'AAPL', 'The Dow Surged Past 50,000. How Caterpillar and These Other Stocks Got It There.', 'Barrons.com', 'https://www.barrons.com/articles/dow-jones-industrial-average-50000-first-time-caterpillar-stock-ff67c63d?siteid=yhoof2&yptr=yahoo', '2026-02-06 21:24:00.000000', None)
2026-02-07 17:51:04,842 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:51:04,842 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('b20ff39c-4cc8-37f8-bdf8-dad8f96592c4', 'AAPL', 'The Stocks That Punch Above Their Weight in the Dow', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-06-2026/card/the-stocks-that-punch-above-their-weight-in-the-dow-zruDHmDpvw8tNvQvU4vA?siteid=yhoof2&yptr=yahoo', '2026-02-06 20:53:21.000000', None)
2026-02-07 17:51:04,843 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:51:04,843 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('72517330-5ddd-3e7e-ba93-6a39cfa78135', 'AAPL', 'Why Is Nvidia (NVDA) Stock Soaring Today', 'StockStory', 'https://finance.yahoo.com/news/why-nvidia-nvda-stock-soaring-205042983.html', '2026-02-06 20:50:42.000000', None)
2026-02-07 17:51:04,843 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:51:04,843 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('348e4094-3776-36d0-bb79-fe66af31586d', 'AAPL', 'Sector Update: Tech Stocks Gain Late Afternoon', 'MT Newswires', 'https://finance.yahoo.com/news/sector-tech-stocks-gain-afternoon-204658758.html', '2026-02-06 20:46:58.000000', None)
2026-02-07 17:51:04,843 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:51:04,844 - sqlalchemy.engine.Engine - INFO - [no key 0.00004s] ('1b882369-7dff-30f5-a716-9c5bcbfc0e17', 'AAPL', 'Top Dow Contributors Over the Past 10,000 Points: Goldman, Caterpillar, IBM', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-06-2026/card/top-dow-contributors-over-the-past-10-000-points-goldman-caterpillar-ibm-V6aLHsCVj9F0quy67BsO?siteid=yhoof2&yptr=yahoo', '2026-02-06 19:32:56.000000', None)
2026-02-07 17:51:04,844 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET macd_hist_slope=?, adx_14=?, pivot_point=?, resistance_1=?, resistance_2=?, support_1=?, support_2=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 17:51:04,844 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] (0.1398176950283636, nan, 276.2133382161458, 279.1966654459635, 282.4833272298177, 272.92667643229163, 269.94334920247394, '2026-02-07 09:51:03.498848', 'AAPL')
2026-02-07 17:51:04,845 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 17:51:04,846 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:51:04,846 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 17:51:04,846 - sqlalchemy.engine.Engine - INFO - [generated in 0.00006s] ('AAPL',)
2026-02-07 17:51:04,847 - api_logger - INFO - rid=/api/portfolio/AAPL/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1353.22ms
2026-02-07 17:51:04,847 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:51:04,850 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:51:04,851 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:51:04,851 - sqlalchemy.engine.Engine - INFO - [cached since 2.571s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:51:04,852 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 17:51:04,852 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:51:04,854 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.05ms
2026-02-07 17:51:04,854 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:51:41,794 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:51:41,795 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:51:41,795 - sqlalchemy.engine.Engine - INFO - [cached since 39.52s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:51:41,796 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:51:41,796 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:51:41,796 - sqlalchemy.engine.Engine - INFO - [cached since 39.52s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:51:41,797 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 17:51:41,797 - sqlalchemy.engine.Engine - INFO - [cached since 39.51s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 17:51:41,797 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 17:51:41,797 - sqlalchemy.engine.Engine - INFO - [cached since 39.5s ago] ('AMD', 20, 0)
2026-02-07 17:51:41,799 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.99ms
2026-02-07 17:51:41,800 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:51:41,802 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.20ms
2026-02-07 17:51:41,803 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:51:41,836 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:51:41,837 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:51:41,837 - sqlalchemy.engine.Engine - INFO - [cached since 39.56s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:51:41,838 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:51:41,838 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:51:41,838 - sqlalchemy.engine.Engine - INFO - [cached since 39.56s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:51:41,839 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 17:51:41,839 - sqlalchemy.engine.Engine - INFO - [cached since 39.55s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 17:51:41,839 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 17:51:41,839 - sqlalchemy.engine.Engine - INFO - [cached since 39.55s ago] ('AAPL', 20, 0)
2026-02-07 17:51:41,840 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.52ms
2026-02-07 17:51:41,840 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.12ms
2026-02-07 17:51:41,840 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:51:41,841 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:51:41,884 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:51:41,884 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:51:41,884 - sqlalchemy.engine.Engine - INFO - [cached since 39.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:51:41,888 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:51:41,888 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:51:41,888 - sqlalchemy.engine.Engine - INFO - [cached since 39.61s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:51:41,890 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 17:51:41,890 - sqlalchemy.engine.Engine - INFO - [cached since 39.6s ago] ('AMD', 20, 0)
2026-02-07 17:51:41,891 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 17:51:41,891 - sqlalchemy.engine.Engine - INFO - [cached since 39.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 17:51:41,891 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.05ms
2026-02-07 17:51:41,892 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:51:41,893 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.61ms
2026-02-07 17:51:41,893 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:54:08,104 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:54:08,113 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:54:08,114 - sqlalchemy.engine.Engine - INFO - [cached since 185.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:54:08,115 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:54:08,115 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:54:08,115 - sqlalchemy.engine.Engine - INFO - [cached since 185.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:54:08,122 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 17:54:08,123 - sqlalchemy.engine.Engine - INFO - [cached since 185.8s ago] ('AAPL', 20, 0)
2026-02-07 17:54:08,124 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 17:54:08,124 - sqlalchemy.engine.Engine - INFO - [cached since 185.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 17:54:08,125 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=36.30ms
2026-02-07 17:54:08,127 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:54:08,128 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=38.07ms
2026-02-07 17:54:08,128 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:54:08,138 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:54:08,138 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:54:08,138 - sqlalchemy.engine.Engine - INFO - [cached since 185.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:54:08,138 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:54:08,138 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:54:08,138 - sqlalchemy.engine.Engine - INFO - [cached since 185.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:54:08,140 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 17:54:08,140 - sqlalchemy.engine.Engine - INFO - [cached since 185.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 17:54:08,140 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 17:54:08,140 - sqlalchemy.engine.Engine - INFO - [cached since 185.8s ago] ('AMD', 20, 0)
2026-02-07 17:54:08,141 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.74ms
2026-02-07 17:54:08,141 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:54:08,142 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.94ms
2026-02-07 17:54:08,142 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:54:08,217 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:54:08,217 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:54:08,218 - sqlalchemy.engine.Engine - INFO - [cached since 185.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:54:08,218 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:54:08,219 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:54:08,219 - sqlalchemy.engine.Engine - INFO - [cached since 185.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:54:08,220 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 17:54:08,220 - sqlalchemy.engine.Engine - INFO - [cached since 185.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 17:54:08,220 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 17:54:08,220 - sqlalchemy.engine.Engine - INFO - [cached since 185.9s ago] ('AAPL', 20, 0)
2026-02-07 17:54:08,221 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.85ms
2026-02-07 17:54:08,221 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:54:08,221 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.56ms
2026-02-07 17:54:08,222 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:54:22,590 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:54:22,590 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:54:22,590 - sqlalchemy.engine.Engine - INFO - [cached since 200.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:54:22,590 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:54:22,591 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:54:22,591 - sqlalchemy.engine.Engine - INFO - [cached since 200.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:54:22,591 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 17:54:22,591 - sqlalchemy.engine.Engine - INFO - [cached since 200.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 17:54:22,591 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 17:54:22,591 - sqlalchemy.engine.Engine - INFO - [cached since 200.3s ago] ('AMD', 20, 0)
2026-02-07 17:54:22,592 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.68ms
2026-02-07 17:54:22,592 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:54:22,593 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.36ms
2026-02-07 17:54:22,593 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:54:22,645 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:54:22,645 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:54:22,646 - sqlalchemy.engine.Engine - INFO - [cached since 200.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:54:22,646 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:54:22,647 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:54:22,647 - sqlalchemy.engine.Engine - INFO - [cached since 200.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:54:22,648 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 17:54:22,648 - sqlalchemy.engine.Engine - INFO - [cached since 200.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 17:54:22,648 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 17:54:22,648 - sqlalchemy.engine.Engine - INFO - [cached since 200.4s ago] ('AAPL', 20, 0)
2026-02-07 17:54:22,648 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.08ms
2026-02-07 17:54:22,649 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:54:22,649 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.53ms
2026-02-07 17:54:22,650 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:54:22,692 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:54:22,692 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:54:22,693 - sqlalchemy.engine.Engine - INFO - [cached since 200.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:54:22,696 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 17:54:22,696 - sqlalchemy.engine.Engine - INFO - [cached since 200.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 17:54:22,697 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:54:22,697 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:54:22,698 - sqlalchemy.engine.Engine - INFO - [cached since 200.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:54:22,701 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.17ms
2026-02-07 17:54:22,702 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 17:54:22,702 - sqlalchemy.engine.Engine - INFO - [cached since 200.4s ago] ('AMD', 20, 0)
2026-02-07 17:54:22,703 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:54:22,704 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.70ms
2026-02-07 17:54:22,705 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:55:36,339 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:55:36,339 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:55:36,340 - sqlalchemy.engine.Engine - INFO - [cached since 274.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:55:36,341 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 17:55:36,341 - sqlalchemy.engine.Engine - INFO - [cached since 272.8s ago] ('AMD',)
2026-02-07 17:55:37,196 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 17:55:37,196 - sqlalchemy.engine.Engine - INFO - [cached since 272.4s ago] ('AMD',)
2026-02-07 17:55:37,198 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:55:37,198 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('19cd1080-a43d-4393-8ed1-77d2b30d3322', 'AMD', 'Earnings live: Amazon, Reddit stocks sink to cap jam-packed earnings week', 'Yahoo Finance', 'https://finance.yahoo.com/news/live/earnings-live-amazon-reddit-stocks-sink-to-cap-jam-packed-earnings-week-213155571.html', '2026-02-06 21:31:55.000000', None)
2026-02-07 17:55:37,200 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:55:37,200 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('4f730e37-6386-353f-af15-e81d0a363b8f', 'AMD', 'AMD Record Results Meet AI Constraints And New OpenAI Ties', 'Simply Wall St.', 'https://finance.yahoo.com/news/amd-record-results-meet-ai-070344792.html', '2026-02-07 07:03:44.000000', None)
2026-02-07 17:55:37,201 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:55:37,201 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('9b76185f-6c61-3f97-8df4-6e567dfe33ee', 'AMD', 'Wealthy Families Are Worried About Geopolitics. But Theyre Not Rushing to AI, Crypto, or Gold', 'Barrons.com', 'https://www.barrons.com/articles/wealthy-families-are-worried-about-geopolitics-but-they-arent-rushing-to-ai-crypto-or-gold-62ce6f59?siteid=yhoof2&yptr=yahoo', '2026-02-07 02:46:00.000000', None)
2026-02-07 17:55:37,202 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:55:37,202 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('75b27b05-5116-3a18-b07c-48ec76f249ae', 'AMD', 'Dow closes above 50,000, Nvidia soars as traders focus on AI spending', 'Reuters Videos', 'https://finance.yahoo.com/video/dow-closes-above-50-000-235453952.html', '2026-02-06 23:54:53.000000', None)
2026-02-07 17:55:37,202 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:55:37,202 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('d5f6d70b-adbf-3412-b185-ebea8f943d91', 'AMD', 'Stock Market Today: Dow Closes Above 50,000 As Nvidia Lands Atop Blue Chips (Live Coverage)', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-sp500-nasdaq-bitcoin-price-amazon-stock-amzn/?src=A00220&yptr=yahoo', '2026-02-06 22:49:24.000000', None)
2026-02-07 17:55:37,203 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:55:37,203 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('e608d768-a741-31f4-bef4-23f3eb8b7c5c', 'AMD', 'Top Analyst Reports for AMD, Constellation Energy & Freeport-McMoRan', 'Zacks', 'https://finance.yahoo.com/news/top-analyst-reports-amd-constellation-220900607.html', '2026-02-06 22:09:00.000000', None)
2026-02-07 17:55:37,204 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:55:37,204 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('2004fd3c-71c1-33d9-a88a-cfbd9adb2167', 'AMD', 'Technology Joins Value-Style Investing to Lift US Equity Indexes', 'MT Newswires', 'https://finance.yahoo.com/news/technology-joins-value-style-investing-214713127.html', '2026-02-06 21:47:13.000000', None)
2026-02-07 17:55:37,204 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:55:37,204 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('9e3bdcb8-bbba-3f96-923f-8c6e2100af7a', 'AMD', 'US Equity Markets Rise Amid Gains in Semiconductor, Cyclical Stocks', 'MT Newswires', 'https://finance.yahoo.com/news/us-equity-markets-rise-amid-211351258.html', '2026-02-06 21:13:51.000000', None)
2026-02-07 17:55:37,205 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:55:37,205 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('da3245ba-9015-31b0-a441-d953bc51dce7', 'AMD', 'Top Funds Like Google  But Go Bonkers For These Three Stocks', "Investor's Business Daily", 'https://www.investors.com/etfs-and-funds/mutual-funds/best-mutual-funds-bet-big-on-asml-santander-aar-corp-google-stock-and-more/?src=A00220&yptr=yahoo', '2026-02-06 21:00:24.000000', None)
2026-02-07 17:55:37,205 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 17:55:37,205 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('7b36b1a9-81a7-38ba-bdcc-e53cd0b232ea', 'AMD', "Chip Stocks Soar as Nvidia CEO Huang Says Demand Is 'Through the Roof'", 'Investopedia', 'https://finance.yahoo.com/news/chip-stocks-soar-nvidia-ceo-204556636.html', '2026-02-06 20:45:56.000000', None)
2026-02-07 17:55:37,206 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET macd_hist_slope=?, adx_14=?, pivot_point=?, resistance_1=?, resistance_2=?, support_1=?, support_2=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 17:55:37,206 - sqlalchemy.engine.Engine - INFO - [cached since 272.4s ago] (-0.25530811842495904, nan, 195.75333150227866, 200.78666178385419, 209.07332356770834, 187.4666697184245, 182.43333943684897, '2026-02-07 09:55:36.342206', 'AMD')
2026-02-07 17:55:37,206 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 17:55:37,207 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:55:37,207 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 17:55:37,207 - sqlalchemy.engine.Engine - INFO - [cached since 272.4s ago] ('AMD',)
2026-02-07 17:55:37,207 - api_logger - INFO - rid=/api/portfolio/AMD/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=869.52ms
2026-02-07 17:55:37,208 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:55:37,212 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 17:55:37,212 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 17:55:37,212 - sqlalchemy.engine.Engine - INFO - [cached since 274.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:55:37,213 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 17:55:37,213 - sqlalchemy.engine.Engine - INFO - [cached since 272.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 17:55:37,214 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.42ms
2026-02-07 17:55:37,214 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 17:57:26,727 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 18:28:05,863 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:05,877 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:05,877 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:05,877 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:05,878 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:05,878 - sqlalchemy.engine.Engine - INFO - [cached since 0.000931s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:05,878 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:05,878 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:05,878 - sqlalchemy.engine.Engine - INFO - [cached since 0.001595s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:05,880 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:05,880 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:05,925 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 18:28:05,925 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:05,926 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:05,926 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ('AMD', 20, 0)
2026-02-07 18:28:05,927 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=82.10ms
2026-02-07 18:28:05,927 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:05,929 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=69.08ms
2026-02-07 18:28:05,929 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:05,930 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=69.87ms
2026-02-07 18:28:05,930 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:17,292 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:17,292 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:17,292 - sqlalchemy.engine.Engine - INFO - [cached since 11.42s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:17,293 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:17,294 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:17,294 - sqlalchemy.engine.Engine - INFO - [cached since 11.42s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:17,296 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:17,296 - sqlalchemy.engine.Engine - INFO - [cached since 11.42s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:17,297 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:17,297 - sqlalchemy.engine.Engine - INFO - [cached since 11.37s ago] ('AAPL', 20, 0)
2026-02-07 18:28:17,298 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.55ms
2026-02-07 18:28:17,299 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:17,300 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.43ms
2026-02-07 18:28:17,300 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:17,338 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:17,339 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:17,339 - sqlalchemy.engine.Engine - INFO - [cached since 11.46s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:17,340 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:17,340 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:17,340 - sqlalchemy.engine.Engine - INFO - [cached since 11.46s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:17,341 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:17,341 - sqlalchemy.engine.Engine - INFO - [cached since 11.46s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:17,341 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:17,341 - sqlalchemy.engine.Engine - INFO - [cached since 11.42s ago] ('AMD', 20, 0)
2026-02-07 18:28:17,342 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.86ms
2026-02-07 18:28:17,343 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.84ms
2026-02-07 18:28:17,343 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:17,343 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:17,389 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:17,390 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:17,390 - sqlalchemy.engine.Engine - INFO - [cached since 11.51s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:17,390 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:17,390 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:17,391 - sqlalchemy.engine.Engine - INFO - [cached since 11.51s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:17,393 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:17,393 - sqlalchemy.engine.Engine - INFO - [cached since 11.47s ago] ('AAPL', 20, 0)
2026-02-07 18:28:17,394 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:17,394 - sqlalchemy.engine.Engine - INFO - [cached since 11.51s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:17,397 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.51ms
2026-02-07 18:28:17,398 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.32ms
2026-02-07 18:28:17,399 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:17,399 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:27,008 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:27,009 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:27,009 - sqlalchemy.engine.Engine - INFO - [cached since 21.13s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:27,010 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:27,011 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:27,011 - sqlalchemy.engine.Engine - INFO - [cached since 21.13s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:27,011 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:27,011 - sqlalchemy.engine.Engine - INFO - [cached since 21.09s ago] ('AMD', 20, 0)
2026-02-07 18:28:27,012 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:27,012 - sqlalchemy.engine.Engine - INFO - [cached since 21.13s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:27,012 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.95ms
2026-02-07 18:28:27,013 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.32ms
2026-02-07 18:28:27,013 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:27,014 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:27,056 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:27,057 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:27,057 - sqlalchemy.engine.Engine - INFO - [cached since 21.18s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:27,058 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:27,058 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:27,058 - sqlalchemy.engine.Engine - INFO - [cached since 21.18s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:27,059 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:27,059 - sqlalchemy.engine.Engine - INFO - [cached since 21.18s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:27,060 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:27,060 - sqlalchemy.engine.Engine - INFO - [cached since 21.13s ago] ('AAPL', 20, 0)
2026-02-07 18:28:27,061 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.25ms
2026-02-07 18:28:27,061 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:27,062 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.39ms
2026-02-07 18:28:27,063 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:27,105 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:27,106 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:27,106 - sqlalchemy.engine.Engine - INFO - [cached since 21.23s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:27,107 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:27,107 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:27,107 - sqlalchemy.engine.Engine - INFO - [cached since 21.23s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:27,108 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:27,108 - sqlalchemy.engine.Engine - INFO - [cached since 21.23s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:27,109 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:27,109 - sqlalchemy.engine.Engine - INFO - [cached since 21.18s ago] ('AMD', 20, 0)
2026-02-07 18:28:27,109 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.14ms
2026-02-07 18:28:27,110 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:27,111 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.01ms
2026-02-07 18:28:27,112 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:42,828 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:42,828 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:42,828 - sqlalchemy.engine.Engine - INFO - [cached since 36.95s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:42,829 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:42,829 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:42,829 - sqlalchemy.engine.Engine - INFO - [cached since 36.95s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:42,830 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:42,830 - sqlalchemy.engine.Engine - INFO - [cached since 36.9s ago] ('ASTS', 20, 0)
2026-02-07 18:28:42,830 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:42,830 - sqlalchemy.engine.Engine - INFO - [cached since 36.95s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:42,831 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.21ms
2026-02-07 18:28:42,831 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:42,832 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.72ms
2026-02-07 18:28:42,832 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:42,868 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:42,869 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:42,869 - sqlalchemy.engine.Engine - INFO - [cached since 36.99s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:42,870 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:42,870 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:42,870 - sqlalchemy.engine.Engine - INFO - [cached since 36.99s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:42,871 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:42,871 - sqlalchemy.engine.Engine - INFO - [cached since 36.95s ago] ('AMD', 20, 0)
2026-02-07 18:28:42,872 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:42,872 - sqlalchemy.engine.Engine - INFO - [cached since 36.99s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:42,873 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.81ms
2026-02-07 18:28:42,873 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.17ms
2026-02-07 18:28:42,873 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:42,873 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:42,910 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:42,910 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:42,910 - sqlalchemy.engine.Engine - INFO - [cached since 37.03s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:42,912 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:42,912 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:42,912 - sqlalchemy.engine.Engine - INFO - [cached since 37.04s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:42,914 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:42,914 - sqlalchemy.engine.Engine - INFO - [cached since 36.99s ago] ('ASTS', 20, 0)
2026-02-07 18:28:42,914 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:42,914 - sqlalchemy.engine.Engine - INFO - [cached since 37.03s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:42,916 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.94ms
2026-02-07 18:28:42,918 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.97ms
2026-02-07 18:28:42,919 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:42,919 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:44,742 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:44,742 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:44,742 - sqlalchemy.engine.Engine - INFO - [cached since 38.87s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:44,743 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:44,743 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:44,743 - sqlalchemy.engine.Engine - INFO - [cached since 38.87s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:44,744 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:44,744 - sqlalchemy.engine.Engine - INFO - [cached since 38.86s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:44,744 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:44,744 - sqlalchemy.engine.Engine - INFO - [cached since 38.82s ago] ('DJIA', 20, 0)
2026-02-07 18:28:44,745 - api_logger - INFO - rid=/api/analysis/DJIA method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.19ms
2026-02-07 18:28:44,745 - api_logger - INFO - rid=/api/portfolio/DJIA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.88ms
2026-02-07 18:28:44,745 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:44,746 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:44,781 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:44,781 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:44,781 - sqlalchemy.engine.Engine - INFO - [cached since 38.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:44,782 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:44,782 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:44,782 - sqlalchemy.engine.Engine - INFO - [cached since 38.91s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:44,784 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:44,784 - sqlalchemy.engine.Engine - INFO - [cached since 38.86s ago] ('ASTS', 20, 0)
2026-02-07 18:28:44,784 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:44,784 - sqlalchemy.engine.Engine - INFO - [cached since 38.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:44,786 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.22ms
2026-02-07 18:28:44,787 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.07ms
2026-02-07 18:28:44,787 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:44,787 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:44,821 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:44,822 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:44,822 - sqlalchemy.engine.Engine - INFO - [cached since 38.95s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:44,823 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:44,823 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:44,823 - sqlalchemy.engine.Engine - INFO - [cached since 38.95s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:44,824 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:44,824 - sqlalchemy.engine.Engine - INFO - [cached since 38.94s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:44,825 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:44,825 - sqlalchemy.engine.Engine - INFO - [cached since 38.9s ago] ('DJIA', 20, 0)
2026-02-07 18:28:44,826 - api_logger - INFO - rid=/api/portfolio/DJIA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.78ms
2026-02-07 18:28:44,826 - api_logger - INFO - rid=/api/analysis/DJIA method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.93ms
2026-02-07 18:28:44,827 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:44,827 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:50,489 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:50,490 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:50,490 - sqlalchemy.engine.Engine - INFO - [cached since 44.61s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:50,491 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:50,492 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:50,492 - sqlalchemy.engine.Engine - INFO - [cached since 44.62s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:50,493 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:50,493 - sqlalchemy.engine.Engine - INFO - [cached since 44.57s ago] ('FRO', 20, 0)
2026-02-07 18:28:50,493 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:50,493 - sqlalchemy.engine.Engine - INFO - [cached since 44.61s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:50,494 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.76ms
2026-02-07 18:28:50,495 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.44ms
2026-02-07 18:28:50,495 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:50,495 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:50,535 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:50,535 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:50,535 - sqlalchemy.engine.Engine - INFO - [cached since 44.66s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:50,536 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:50,536 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:50,536 - sqlalchemy.engine.Engine - INFO - [cached since 44.66s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:50,538 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:50,539 - sqlalchemy.engine.Engine - INFO - [cached since 44.66s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:50,539 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:50,539 - sqlalchemy.engine.Engine - INFO - [cached since 44.61s ago] ('DJIA', 20, 0)
2026-02-07 18:28:50,541 - api_logger - INFO - rid=/api/portfolio/DJIA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.33ms
2026-02-07 18:28:50,541 - api_logger - INFO - rid=/api/analysis/DJIA method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.12ms
2026-02-07 18:28:50,541 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:50,541 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:50,585 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:50,586 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:50,586 - sqlalchemy.engine.Engine - INFO - [cached since 44.71s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:50,587 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:50,587 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:50,587 - sqlalchemy.engine.Engine - INFO - [cached since 44.71s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:50,590 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:50,590 - sqlalchemy.engine.Engine - INFO - [cached since 44.71s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:50,590 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:50,590 - sqlalchemy.engine.Engine - INFO - [cached since 44.66s ago] ('FRO', 20, 0)
2026-02-07 18:28:50,591 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.94ms
2026-02-07 18:28:50,594 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.69ms
2026-02-07 18:28:50,595 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:50,595 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:52,641 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:52,642 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:52,642 - sqlalchemy.engine.Engine - INFO - [cached since 46.77s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:52,643 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:52,643 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:52,643 - sqlalchemy.engine.Engine - INFO - [cached since 46.77s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:52,643 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:52,643 - sqlalchemy.engine.Engine - INFO - [cached since 46.72s ago] ('GOOGL', 20, 0)
2026-02-07 18:28:52,644 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:52,644 - sqlalchemy.engine.Engine - INFO - [cached since 46.76s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:52,644 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.89ms
2026-02-07 18:28:52,644 - api_logger - INFO - rid=/api/portfolio/GOOGL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.26ms
2026-02-07 18:28:52,645 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:52,645 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:52,681 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:52,682 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:52,682 - sqlalchemy.engine.Engine - INFO - [cached since 46.81s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:52,682 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:52,683 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:52,683 - sqlalchemy.engine.Engine - INFO - [cached since 46.81s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:52,684 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:52,684 - sqlalchemy.engine.Engine - INFO - [cached since 46.76s ago] ('FRO', 20, 0)
2026-02-07 18:28:52,684 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:52,684 - sqlalchemy.engine.Engine - INFO - [cached since 46.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:52,685 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.42ms
2026-02-07 18:28:52,685 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.91ms
2026-02-07 18:28:52,686 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:52,686 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:52,722 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:52,723 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:52,723 - sqlalchemy.engine.Engine - INFO - [cached since 46.85s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:52,724 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:52,724 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:52,724 - sqlalchemy.engine.Engine - INFO - [cached since 46.85s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:52,725 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:52,725 - sqlalchemy.engine.Engine - INFO - [cached since 46.85s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:52,726 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:52,726 - sqlalchemy.engine.Engine - INFO - [cached since 46.8s ago] ('GOOGL', 20, 0)
2026-02-07 18:28:52,727 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.69ms
2026-02-07 18:28:52,727 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:52,728 - api_logger - INFO - rid=/api/portfolio/GOOGL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.86ms
2026-02-07 18:28:52,729 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:53,909 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:53,909 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:53,909 - sqlalchemy.engine.Engine - INFO - [cached since 48.03s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:53,909 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:53,909 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:53,909 - sqlalchemy.engine.Engine - INFO - [cached since 48.03s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:53,910 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:53,910 - sqlalchemy.engine.Engine - INFO - [cached since 48.03s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'META', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:53,910 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:53,910 - sqlalchemy.engine.Engine - INFO - [cached since 47.98s ago] ('META', 20, 0)
2026-02-07 18:28:53,911 - api_logger - INFO - rid=/api/analysis/META method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.73ms
2026-02-07 18:28:53,911 - api_logger - INFO - rid=/api/portfolio/META/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.96ms
2026-02-07 18:28:53,911 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:53,912 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:53,949 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:53,949 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:53,949 - sqlalchemy.engine.Engine - INFO - [cached since 48.07s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:53,949 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:53,950 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:53,950 - sqlalchemy.engine.Engine - INFO - [cached since 48.07s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:53,951 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:53,951 - sqlalchemy.engine.Engine - INFO - [cached since 48.07s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:53,951 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:53,951 - sqlalchemy.engine.Engine - INFO - [cached since 48.03s ago] ('GOOGL', 20, 0)
2026-02-07 18:28:53,952 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.57ms
2026-02-07 18:28:53,953 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:53,953 - api_logger - INFO - rid=/api/portfolio/GOOGL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.48ms
2026-02-07 18:28:53,953 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:53,993 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:53,993 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:53,993 - sqlalchemy.engine.Engine - INFO - [cached since 48.12s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:53,993 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:53,994 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:53,994 - sqlalchemy.engine.Engine - INFO - [cached since 48.12s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:53,995 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:53,995 - sqlalchemy.engine.Engine - INFO - [cached since 48.11s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'META', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:53,995 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:53,995 - sqlalchemy.engine.Engine - INFO - [cached since 48.07s ago] ('META', 20, 0)
2026-02-07 18:28:53,996 - api_logger - INFO - rid=/api/portfolio/META/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.10ms
2026-02-07 18:28:53,996 - api_logger - INFO - rid=/api/analysis/META method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.15ms
2026-02-07 18:28:53,997 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:53,997 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:55,157 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:55,158 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:55,158 - sqlalchemy.engine.Engine - INFO - [cached since 49.28s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:55,159 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:55,159 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:55,159 - sqlalchemy.engine.Engine - INFO - [cached since 49.28s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:55,160 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:55,160 - sqlalchemy.engine.Engine - INFO - [cached since 49.28s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:55,160 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:55,160 - sqlalchemy.engine.Engine - INFO - [cached since 49.23s ago] ('MSFT', 20, 0)
2026-02-07 18:28:55,161 - api_logger - INFO - rid=/api/portfolio/MSFT/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.97ms
2026-02-07 18:28:55,161 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:55,161 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:55,162 - api_logger - INFO - rid=/api/analysis/MSFT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.22ms
2026-02-07 18:28:55,200 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:55,200 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:55,200 - sqlalchemy.engine.Engine - INFO - [cached since 49.32s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:55,201 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:55,201 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:55,201 - sqlalchemy.engine.Engine - INFO - [cached since 49.32s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:55,202 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:55,202 - sqlalchemy.engine.Engine - INFO - [cached since 49.28s ago] ('META', 20, 0)
2026-02-07 18:28:55,203 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:55,203 - sqlalchemy.engine.Engine - INFO - [cached since 49.32s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'META', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:55,204 - api_logger - INFO - rid=/api/portfolio/META/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.19ms
2026-02-07 18:28:55,205 - api_logger - INFO - rid=/api/analysis/META method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.32ms
2026-02-07 18:28:55,206 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:55,206 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:55,245 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:55,245 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:55,245 - sqlalchemy.engine.Engine - INFO - [cached since 49.37s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:55,246 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:55,247 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:55,247 - sqlalchemy.engine.Engine - INFO - [cached since 49.37s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:55,248 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:55,248 - sqlalchemy.engine.Engine - INFO - [cached since 49.37s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:28:55,248 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:28:55,248 - sqlalchemy.engine.Engine - INFO - [cached since 49.32s ago] ('MSFT', 20, 0)
2026-02-07 18:28:55,249 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:55,249 - api_logger - INFO - rid=/api/portfolio/MSFT/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.78ms
2026-02-07 18:28:55,250 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:28:55,250 - api_logger - INFO - rid=/api/analysis/MSFT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.16ms
2026-02-07 18:28:59,042 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:28:59,043 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:28:59,043 - sqlalchemy.engine.Engine - INFO - [cached since 53.17s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:28:59,045 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 18:28:59,045 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('MSFT',)
2026-02-07 18:29:00,425 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 18:29:00,425 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('MSFT',)
2026-02-07 18:29:00,427 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:29:00,427 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('f9af2084-3302-4faa-8e26-cbeb75d1d310', 'MSFT', 'Amazon stock sinks after company touts $200 billion AI spending plans, offers cautious profit outlook', 'Yahoo Finance', 'https://finance.yahoo.com/news/amazon-stock-sinks-after-company-touts-200-billion-ai-spending-plans-offers-cautious-profit-outlook-173054116.html', '2026-02-04 17:30:54.000000', None)
2026-02-07 18:29:00,429 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:29:00,429 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('54e604c4-ce1b-459c-8886-e2d863f40f97', 'MSFT', 'Big Tech set to spend $650 billion in 2026 as AI investments soar', 'Yahoo Finance', 'https://finance.yahoo.com/news/big-tech-set-to-spend-650-billion-in-2026-as-ai-investments-soar-163907630.html', '2026-02-06 16:39:07.000000', None)
2026-02-07 18:29:00,429 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:29:00,429 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('c7237d8b-3695-3abc-87de-d9989423c6ee', 'MSFT', 'WEC Energy Group Q4 Earnings Call Highlights', 'MarketBeat', 'https://finance.yahoo.com/news/wec-energy-group-q4-earnings-080645757.html', '2026-02-07 08:06:45.000000', None)
2026-02-07 18:29:00,430 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:29:00,430 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('a87d2ff8-5aa8-3061-b69f-d6ea76ef204f', 'MSFT', 'Buy the Dip in Amazon Stock After Mixed Q4 Results & CapEx Concerns?', 'Zacks', 'https://finance.yahoo.com/news/buy-dip-amazon-stock-mixed-002000273.html', '2026-02-07 00:20:00.000000', None)
2026-02-07 18:29:00,431 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:29:00,431 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('da443e0e-6c7d-3138-a0fb-8eec3f0704cf', 'MSFT', 'Stock Market Today, Feb. 6: Iren Rises on Microsoft Cloud Expansion and AI Data Center Pivot', 'Motley Fool', 'https://finance.yahoo.com/news/stock-market-today-feb-6-231655226.html', '2026-02-06 23:16:55.000000', None)
2026-02-07 18:29:00,431 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:29:00,431 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('77e26f50-92b3-3cb6-8f5c-01a438e44f5b', 'MSFT', 'Stocks rebound after a dramatic week sparked by ongoing AI uncertainty', 'NBC News', 'https://finance.yahoo.com/news/stocks-rebound-dramatic-week-sparked-225745288.html', '2026-02-06 22:57:45.000000', None)
2026-02-07 18:29:00,431 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:29:00,431 - sqlalchemy.engine.Engine - INFO - [no key 0.00004s] ('d5f6d70b-adbf-3412-b185-ebea8f943d91', 'MSFT', 'Stock Market Today: Dow Closes Above 50,000 As Nvidia Lands Atop Blue Chips (Live Coverage)', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-sp500-nasdaq-bitcoin-price-amazon-stock-amzn/?src=A00220&yptr=yahoo', '2026-02-06 22:49:24.000000', None)
2026-02-07 18:29:00,432 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:29:00,432 - sqlalchemy.engine.Engine - INFO - [no key 0.00004s] ('0b7e9b54-d972-39d4-b962-280200b544dc', 'MSFT', 'An AI Fight Is Threatening the Market. How to Avoid Getting Hurt.', 'Barrons.com', 'https://www.barrons.com/articles/tech-ai-stocks-market-volatility-safety-a39f04bf?siteid=yhoof2&yptr=yahoo', '2026-02-06 21:57:00.000000', None)
2026-02-07 18:29:00,432 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:29:00,432 - sqlalchemy.engine.Engine - INFO - [no key 0.00004s] ('55b21566-7a1f-33fd-932c-c9c2d5224eb9', 'MSFT', 'Dow Hits Record as Tech Stocks Bounce to Cap Mixed Week for Wall Street', 'MT Newswires', 'https://finance.yahoo.com/news/dow-hits-record-tech-stocks-214909926.html', '2026-02-06 21:49:09.000000', None)
2026-02-07 18:29:00,432 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:29:00,432 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('381e08a9-39c5-3e50-8071-1780420c60a8', 'MSFT', 'Dow Jones Sets Record and Breaks Past 50,000', '24/7 Wall St.', 'https://finance.yahoo.com/news/dow-jones-sets-record-breaks-214832389.html', '2026-02-06 21:48:32.000000', None)
2026-02-07 18:29:00,433 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=? WHERE stocks.ticker = ?
2026-02-07 18:29:00,433 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] (2981424267264.0, 25.118347, 21.256594, 15.97, 0.91, 'MSFT')
2026-02-07 18:29:00,434 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, macd_hist_slope=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, adx_14=?, pivot_point=?, resistance_1=?, resistance_2=?, support_1=?, support_2=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 18:29:00,434 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] (401.14, 1.89753, 31.016436788413344, 447.93050079345704, 468.87980102539063, 485.8388983154297, -18.78293473344229, -12.739177663226632, -6.043757070215657, 0.16279902849385763, 503.2614592904257, 447.93050079345704, 392.5995422964884, 16.04714093889509, 10.906345863939434, 19.46385595614175, -6.2086743204651995, 41741270.0, 1.279395667644995, nan, 398.09666951497394, 403.87333170572913, 414.07664998372394, 387.89335123697913, 382.11668904622394, '2026-02-07 10:28:59.046614', 'MSFT')
2026-02-07 18:29:00,435 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 18:29:00,435 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:00,436 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 18:29:00,436 - sqlalchemy.engine.Engine - INFO - [generated in 0.00005s] ('MSFT',)
2026-02-07 18:29:00,436 - api_logger - INFO - rid=/api/portfolio/MSFT/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1394.91ms
2026-02-07 18:29:00,437 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:00,440 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:00,440 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:00,440 - sqlalchemy.engine.Engine - INFO - [cached since 54.56s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:00,440 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 18:29:00,440 - sqlalchemy.engine.Engine - INFO - [cached since 54.52s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:00,442 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.27ms
2026-02-07 18:29:00,442 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:08,153 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:08,153 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:08,153 - sqlalchemy.engine.Engine - INFO - [cached since 62.28s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:08,155 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:08,156 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:08,156 - sqlalchemy.engine.Engine - INFO - [cached since 62.28s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:08,158 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:08,158 - sqlalchemy.engine.Engine - INFO - [cached since 62.28s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:08,159 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:08,159 - sqlalchemy.engine.Engine - INFO - [cached since 62.23s ago] ('NDX', 20, 0)
2026-02-07 18:29:08,159 - api_logger - INFO - rid=/api/portfolio/NDX/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.71ms
2026-02-07 18:29:08,160 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:08,160 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:08,160 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.17ms
2026-02-07 18:29:08,198 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:08,198 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:08,198 - sqlalchemy.engine.Engine - INFO - [cached since 62.32s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:08,199 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:08,199 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:08,199 - sqlalchemy.engine.Engine - INFO - [cached since 62.32s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:08,200 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:08,200 - sqlalchemy.engine.Engine - INFO - [cached since 62.27s ago] ('MSFT', 20, 0)
2026-02-07 18:29:08,201 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:08,201 - sqlalchemy.engine.Engine - INFO - [cached since 62.32s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:08,202 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:08,202 - api_logger - INFO - rid=/api/portfolio/MSFT/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.14ms
2026-02-07 18:29:08,203 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:08,203 - api_logger - INFO - rid=/api/analysis/MSFT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.35ms
2026-02-07 18:29:08,237 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:08,238 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:08,238 - sqlalchemy.engine.Engine - INFO - [cached since 62.36s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:08,239 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:08,240 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:08,240 - sqlalchemy.engine.Engine - INFO - [cached since 62.36s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:08,241 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:08,241 - sqlalchemy.engine.Engine - INFO - [cached since 62.31s ago] ('NDX', 20, 0)
2026-02-07 18:29:08,241 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:08,241 - sqlalchemy.engine.Engine - INFO - [cached since 62.36s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:08,242 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:08,243 - api_logger - INFO - rid=/api/portfolio/NDX/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.29ms
2026-02-07 18:29:08,243 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.81ms
2026-02-07 18:29:08,244 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:17,777 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:17,777 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:17,777 - sqlalchemy.engine.Engine - INFO - [cached since 71.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:17,778 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 18:29:17,779 - sqlalchemy.engine.Engine - INFO - [cached since 18.73s ago] ('NDX',)
2026-02-07 18:29:18,429 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 18:29:18,430 - sqlalchemy.engine.Engine - INFO - [cached since 18s ago] ('NDX',)
2026-02-07 18:29:18,431 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:29:18,431 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('52b9d956-c078-3efc-aa2c-80328cf9ae4a', 'NDX', 'Trump ally Kevin Hassett seen as frontrunner for Fed chair', 'Investing.com', 'https://finance.yahoo.com/news/trump-ally-kevin-hassett-seen-174023957.html', '2025-11-25 17:40:23.000000', None)
2026-02-07 18:29:18,432 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:29:18,432 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('c01627c7-1c5c-3dd5-a66d-a3cbe5c5e9ec', 'NDX', 'Cleveland Feds Hammack opposed rate cut, citing inflation risks', 'Investing.com', 'https://finance.yahoo.com/news/cleveland-fed-hammack-opposed-rate-170122987.html', '2025-10-31 17:01:22.000000', None)
2026-02-07 18:29:18,433 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:29:18,433 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('8afbcd89-60e5-366a-a5b7-203e7d2b5dd2', 'NDX', 'Feds Waller suggests balance sheet reduction target of $5.8 trillion', 'Investing.com', 'https://finance.yahoo.com/news/fed-waller-suggests-balance-sheet-173817257.html', '2025-07-10 17:38:17.000000', None)
2026-02-07 18:29:18,434 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:29:18,434 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('5ead9f8b-aa88-3746-96de-d39bfa9298c0', 'NDX', 'US stocks tumble after Trump threatens 25% tariffs on Japan, S. Korea', 'Investing.com', 'https://finance.yahoo.com/news/us-stocks-tumble-trump-threatens-170256874.html', '2025-07-07 17:02:56.000000', None)
2026-02-07 18:29:18,436 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, macd_hist_slope=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, adx_14=?, pivot_point=?, resistance_1=?, resistance_2=?, support_1=?, support_2=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 18:29:18,436 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] (44.260380714788226, 25497.07490234375, 25352.8055078125, 23635.222568959496, -87.95481112861671, 18.757858977746732, -106.71267010636345, 8.896404742323952, 26253.701429684304, 25497.07490234375, 24740.448375003194, 282.18038504464283, 25.83097938646088, 37.403509269050716, 2.685919621281201, nan, 24548.689453125, 24548.689453125, 24548.689453125, 24548.689453125, 24548.689453125, '2026-02-07 10:29:17.779974', 'NDX')
2026-02-07 18:29:18,436 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 18:29:18,438 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:18,438 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 18:29:18,438 - sqlalchemy.engine.Engine - INFO - [cached since 18s ago] ('NDX',)
2026-02-07 18:29:18,439 - api_logger - INFO - rid=/api/portfolio/NDX/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=662.88ms
2026-02-07 18:29:18,439 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:18,441 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:18,441 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:18,442 - sqlalchemy.engine.Engine - INFO - [cached since 72.56s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:18,442 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 18:29:18,442 - sqlalchemy.engine.Engine - INFO - [cached since 72.52s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:18,443 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.94ms
2026-02-07 18:29:18,443 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:24,420 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:24,420 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:24,420 - sqlalchemy.engine.Engine - INFO - [cached since 78.54s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:24,420 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:24,420 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:24,421 - sqlalchemy.engine.Engine - INFO - [cached since 78.54s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:24,421 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:24,422 - sqlalchemy.engine.Engine - INFO - [cached since 78.54s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NVDA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:24,422 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:24,423 - sqlalchemy.engine.Engine - INFO - [cached since 78.5s ago] ('NVDA', 20, 0)
2026-02-07 18:29:24,424 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:24,425 - api_logger - INFO - rid=/api/portfolio/NVDA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.43ms
2026-02-07 18:29:24,426 - api_logger - INFO - rid=/api/analysis/NVDA method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.96ms
2026-02-07 18:29:24,426 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:24,464 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:24,464 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:24,464 - sqlalchemy.engine.Engine - INFO - [cached since 78.59s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:24,465 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:24,465 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:24,465 - sqlalchemy.engine.Engine - INFO - [cached since 78.59s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:24,467 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:24,467 - sqlalchemy.engine.Engine - INFO - [cached since 78.59s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:24,467 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:24,467 - sqlalchemy.engine.Engine - INFO - [cached since 78.54s ago] ('NDX', 20, 0)
2026-02-07 18:29:24,469 - api_logger - INFO - rid=/api/portfolio/NDX/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.06ms
2026-02-07 18:29:24,469 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:24,469 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:24,470 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.35ms
2026-02-07 18:29:24,509 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:24,509 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:24,509 - sqlalchemy.engine.Engine - INFO - [cached since 78.63s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:24,511 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:24,512 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:24,513 - sqlalchemy.engine.Engine - INFO - [cached since 78.64s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:24,514 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:24,514 - sqlalchemy.engine.Engine - INFO - [cached since 78.63s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NVDA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:24,515 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:24,515 - sqlalchemy.engine.Engine - INFO - [cached since 78.59s ago] ('NVDA', 20, 0)
2026-02-07 18:29:24,518 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:24,518 - api_logger - INFO - rid=/api/portfolio/NVDA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.16ms
2026-02-07 18:29:24,518 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:24,519 - api_logger - INFO - rid=/api/analysis/NVDA method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.65ms
2026-02-07 18:29:25,801 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:25,801 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:25,801 - sqlalchemy.engine.Engine - INFO - [cached since 79.92s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:25,802 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:25,803 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:25,803 - sqlalchemy.engine.Engine - INFO - [cached since 79.93s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:25,805 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:25,805 - sqlalchemy.engine.Engine - INFO - [cached since 79.92s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:25,806 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:25,806 - sqlalchemy.engine.Engine - INFO - [cached since 79.88s ago] ('NDX', 20, 0)
2026-02-07 18:29:25,807 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:25,808 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.04ms
2026-02-07 18:29:25,808 - api_logger - INFO - rid=/api/portfolio/NDX/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.17ms
2026-02-07 18:29:25,809 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:25,842 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:25,842 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:25,842 - sqlalchemy.engine.Engine - INFO - [cached since 79.97s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:25,843 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:25,843 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:25,843 - sqlalchemy.engine.Engine - INFO - [cached since 79.97s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:25,845 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:25,845 - sqlalchemy.engine.Engine - INFO - [cached since 79.96s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NVDA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:25,845 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:25,845 - sqlalchemy.engine.Engine - INFO - [cached since 79.92s ago] ('NVDA', 20, 0)
2026-02-07 18:29:25,847 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:25,847 - api_logger - INFO - rid=/api/portfolio/NVDA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.34ms
2026-02-07 18:29:25,847 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:25,848 - api_logger - INFO - rid=/api/analysis/NVDA method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.71ms
2026-02-07 18:29:25,882 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:25,882 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:25,882 - sqlalchemy.engine.Engine - INFO - [cached since 80.01s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:25,883 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:25,883 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:25,883 - sqlalchemy.engine.Engine - INFO - [cached since 80.01s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:25,885 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:25,885 - sqlalchemy.engine.Engine - INFO - [cached since 79.96s ago] ('NDX', 20, 0)
2026-02-07 18:29:25,885 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:25,886 - sqlalchemy.engine.Engine - INFO - [cached since 80.01s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:25,887 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:25,887 - api_logger - INFO - rid=/api/portfolio/NDX/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.91ms
2026-02-07 18:29:25,888 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:25,889 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.48ms
2026-02-07 18:29:27,152 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:27,152 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:27,153 - sqlalchemy.engine.Engine - INFO - [cached since 81.28s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:27,153 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:27,153 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:27,153 - sqlalchemy.engine.Engine - INFO - [cached since 81.28s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:27,154 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:27,154 - sqlalchemy.engine.Engine - INFO - [cached since 81.27s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NVDA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:27,155 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:27,155 - sqlalchemy.engine.Engine - INFO - [cached since 81.23s ago] ('NVDA', 20, 0)
2026-02-07 18:29:27,157 - api_logger - INFO - rid=/api/portfolio/NVDA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.04ms
2026-02-07 18:29:27,157 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:27,157 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:27,158 - api_logger - INFO - rid=/api/analysis/NVDA method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.21ms
2026-02-07 18:29:27,197 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:27,198 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:27,198 - sqlalchemy.engine.Engine - INFO - [cached since 81.32s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:27,198 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:27,199 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:27,199 - sqlalchemy.engine.Engine - INFO - [cached since 81.32s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:27,200 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:27,200 - sqlalchemy.engine.Engine - INFO - [cached since 81.32s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:27,201 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:27,201 - sqlalchemy.engine.Engine - INFO - [cached since 81.27s ago] ('NDX', 20, 0)
2026-02-07 18:29:27,202 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:27,202 - api_logger - INFO - rid=/api/portfolio/NDX/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.43ms
2026-02-07 18:29:27,203 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:27,203 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.49ms
2026-02-07 18:29:27,239 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:27,239 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:27,239 - sqlalchemy.engine.Engine - INFO - [cached since 81.36s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:27,240 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:27,240 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:27,240 - sqlalchemy.engine.Engine - INFO - [cached since 81.36s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:27,241 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:27,241 - sqlalchemy.engine.Engine - INFO - [cached since 81.36s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NVDA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:27,241 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:27,242 - sqlalchemy.engine.Engine - INFO - [cached since 81.32s ago] ('NVDA', 20, 0)
2026-02-07 18:29:27,243 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:27,243 - api_logger - INFO - rid=/api/portfolio/NVDA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.57ms
2026-02-07 18:29:27,243 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:27,244 - api_logger - INFO - rid=/api/analysis/NVDA method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.20ms
2026-02-07 18:29:28,335 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:28,336 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:28,336 - sqlalchemy.engine.Engine - INFO - [cached since 82.46s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:28,337 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:28,337 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:28,337 - sqlalchemy.engine.Engine - INFO - [cached since 82.46s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:28,339 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:28,339 - sqlalchemy.engine.Engine - INFO - [cached since 82.41s ago] ('OKLO', 20, 0)
2026-02-07 18:29:28,339 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:28,340 - sqlalchemy.engine.Engine - INFO - [cached since 82.46s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'OKLO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:28,341 - api_logger - INFO - rid=/api/portfolio/OKLO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.46ms
2026-02-07 18:29:28,341 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:28,342 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:28,342 - api_logger - INFO - rid=/api/analysis/OKLO method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.68ms
2026-02-07 18:29:28,380 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:28,381 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:28,381 - sqlalchemy.engine.Engine - INFO - [cached since 82.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:28,382 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:28,382 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:28,382 - sqlalchemy.engine.Engine - INFO - [cached since 82.51s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:28,383 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:28,383 - sqlalchemy.engine.Engine - INFO - [cached since 82.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NVDA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:28,384 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:28,384 - sqlalchemy.engine.Engine - INFO - [cached since 82.46s ago] ('NVDA', 20, 0)
2026-02-07 18:29:28,385 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:28,385 - api_logger - INFO - rid=/api/portfolio/NVDA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.27ms
2026-02-07 18:29:28,386 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:28,386 - api_logger - INFO - rid=/api/analysis/NVDA method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.35ms
2026-02-07 18:29:28,420 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:28,421 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:28,421 - sqlalchemy.engine.Engine - INFO - [cached since 82.54s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:28,422 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:28,423 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:28,423 - sqlalchemy.engine.Engine - INFO - [cached since 82.55s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:28,424 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:28,424 - sqlalchemy.engine.Engine - INFO - [cached since 82.54s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'OKLO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:28,424 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:28,424 - sqlalchemy.engine.Engine - INFO - [cached since 82.5s ago] ('OKLO', 20, 0)
2026-02-07 18:29:28,425 - api_logger - INFO - rid=/api/portfolio/OKLO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.74ms
2026-02-07 18:29:28,426 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:28,426 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:28,427 - api_logger - INFO - rid=/api/analysis/OKLO method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.20ms
2026-02-07 18:29:30,135 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:30,135 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:30,136 - sqlalchemy.engine.Engine - INFO - [cached since 84.26s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:30,136 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:30,137 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:30,137 - sqlalchemy.engine.Engine - INFO - [cached since 84.26s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:30,139 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:30,139 - sqlalchemy.engine.Engine - INFO - [cached since 84.21s ago] ('ORCL', 20, 0)
2026-02-07 18:29:30,139 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:30,139 - sqlalchemy.engine.Engine - INFO - [cached since 84.26s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ORCL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:30,142 - api_logger - INFO - rid=/api/portfolio/ORCL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.78ms
2026-02-07 18:29:30,142 - api_logger - INFO - rid=/api/analysis/ORCL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.56ms
2026-02-07 18:29:30,142 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:30,142 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:30,183 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:30,184 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:30,184 - sqlalchemy.engine.Engine - INFO - [cached since 84.31s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:30,185 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:30,185 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:30,185 - sqlalchemy.engine.Engine - INFO - [cached since 84.31s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:30,186 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:30,186 - sqlalchemy.engine.Engine - INFO - [cached since 84.31s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'OKLO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:30,187 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:30,187 - sqlalchemy.engine.Engine - INFO - [cached since 84.26s ago] ('OKLO', 20, 0)
2026-02-07 18:29:30,187 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:30,187 - api_logger - INFO - rid=/api/portfolio/OKLO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.28ms
2026-02-07 18:29:30,188 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:30,188 - api_logger - INFO - rid=/api/analysis/OKLO method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.60ms
2026-02-07 18:29:30,232 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:30,232 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:30,232 - sqlalchemy.engine.Engine - INFO - [cached since 84.36s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:30,233 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:30,234 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:30,234 - sqlalchemy.engine.Engine - INFO - [cached since 84.36s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:30,235 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:30,235 - sqlalchemy.engine.Engine - INFO - [cached since 84.31s ago] ('ORCL', 20, 0)
2026-02-07 18:29:30,236 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:30,236 - sqlalchemy.engine.Engine - INFO - [cached since 84.36s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ORCL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:30,238 - api_logger - INFO - rid=/api/portfolio/ORCL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.55ms
2026-02-07 18:29:30,238 - api_logger - INFO - rid=/api/analysis/ORCL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.90ms
2026-02-07 18:29:30,239 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:30,239 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:35,972 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:35,972 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:35,972 - sqlalchemy.engine.Engine - INFO - [cached since 90.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:35,973 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:35,973 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:35,973 - sqlalchemy.engine.Engine - INFO - [cached since 90.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:35,975 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:35,975 - sqlalchemy.engine.Engine - INFO - [cached since 90.09s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:35,976 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:35,976 - sqlalchemy.engine.Engine - INFO - [cached since 90.05s ago] ('NDX', 20, 0)
2026-02-07 18:29:35,977 - api_logger - INFO - rid=/api/portfolio/NDX/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.33ms
2026-02-07 18:29:35,977 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:35,977 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:35,978 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.60ms
2026-02-07 18:29:36,014 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:36,015 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:36,015 - sqlalchemy.engine.Engine - INFO - [cached since 90.14s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:36,016 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:36,016 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:36,016 - sqlalchemy.engine.Engine - INFO - [cached since 90.14s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:36,017 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:36,018 - sqlalchemy.engine.Engine - INFO - [cached since 90.14s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ORCL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:36,018 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:36,018 - sqlalchemy.engine.Engine - INFO - [cached since 90.09s ago] ('ORCL', 20, 0)
2026-02-07 18:29:36,019 - api_logger - INFO - rid=/api/analysis/ORCL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.81ms
2026-02-07 18:29:36,020 - api_logger - INFO - rid=/api/portfolio/ORCL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.97ms
2026-02-07 18:29:36,021 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:36,021 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:36,062 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:36,062 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:36,062 - sqlalchemy.engine.Engine - INFO - [cached since 90.19s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:36,063 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:36,063 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:36,064 - sqlalchemy.engine.Engine - INFO - [cached since 90.19s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:36,065 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:36,066 - sqlalchemy.engine.Engine - INFO - [cached since 90.19s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:36,066 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:36,067 - sqlalchemy.engine.Engine - INFO - [cached since 90.14s ago] ('NDX', 20, 0)
2026-02-07 18:29:36,067 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:36,069 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.31ms
2026-02-07 18:29:36,070 - api_logger - INFO - rid=/api/portfolio/NDX/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.39ms
2026-02-07 18:29:36,070 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:38,970 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:38,970 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:38,970 - sqlalchemy.engine.Engine - INFO - [cached since 93.09s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:38,972 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:38,972 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:38,972 - sqlalchemy.engine.Engine - INFO - [cached since 93.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:38,973 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:38,973 - sqlalchemy.engine.Engine - INFO - [cached since 93.09s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'PG', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:38,974 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:38,974 - sqlalchemy.engine.Engine - INFO - [cached since 93.05s ago] ('PG', 20, 0)
2026-02-07 18:29:38,975 - api_logger - INFO - rid=/api/portfolio/PG/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.95ms
2026-02-07 18:29:38,976 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:38,976 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:38,976 - api_logger - INFO - rid=/api/analysis/PG method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.16ms
2026-02-07 18:29:39,013 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:39,014 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:39,014 - sqlalchemy.engine.Engine - INFO - [cached since 93.14s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:39,015 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:39,015 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:39,015 - sqlalchemy.engine.Engine - INFO - [cached since 93.14s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:39,016 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:39,016 - sqlalchemy.engine.Engine - INFO - [cached since 93.14s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:39,017 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:39,017 - sqlalchemy.engine.Engine - INFO - [cached since 93.09s ago] ('NDX', 20, 0)
2026-02-07 18:29:39,017 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:39,017 - api_logger - INFO - rid=/api/portfolio/NDX/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.13ms
2026-02-07 18:29:39,017 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:39,018 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.85ms
2026-02-07 18:29:39,061 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:39,061 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:39,061 - sqlalchemy.engine.Engine - INFO - [cached since 93.18s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:39,062 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:39,062 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:39,062 - sqlalchemy.engine.Engine - INFO - [cached since 93.19s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:39,064 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:39,064 - sqlalchemy.engine.Engine - INFO - [cached since 93.18s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'PG', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:39,066 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:39,066 - sqlalchemy.engine.Engine - INFO - [cached since 93.14s ago] ('PG', 20, 0)
2026-02-07 18:29:39,067 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:39,068 - api_logger - INFO - rid=/api/portfolio/PG/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.45ms
2026-02-07 18:29:39,069 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:39,069 - api_logger - INFO - rid=/api/analysis/PG method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.92ms
2026-02-07 18:29:41,703 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:41,703 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:41,703 - sqlalchemy.engine.Engine - INFO - [cached since 95.83s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:41,705 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:41,705 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:41,705 - sqlalchemy.engine.Engine - INFO - [cached since 95.83s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:41,707 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:41,707 - sqlalchemy.engine.Engine - INFO - [cached since 95.83s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:41,708 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:41,708 - sqlalchemy.engine.Engine - INFO - [cached since 95.78s ago] ('RKLB', 20, 0)
2026-02-07 18:29:41,709 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.82ms
2026-02-07 18:29:41,710 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:41,710 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.35ms
2026-02-07 18:29:41,710 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:41,746 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:41,746 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:41,746 - sqlalchemy.engine.Engine - INFO - [cached since 95.87s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:41,747 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:41,748 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:41,748 - sqlalchemy.engine.Engine - INFO - [cached since 95.87s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:41,749 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:41,749 - sqlalchemy.engine.Engine - INFO - [cached since 95.87s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'PG', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:41,750 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:41,750 - sqlalchemy.engine.Engine - INFO - [cached since 95.82s ago] ('PG', 20, 0)
2026-02-07 18:29:41,751 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:41,752 - api_logger - INFO - rid=/api/portfolio/PG/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.24ms
2026-02-07 18:29:41,752 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:41,753 - api_logger - INFO - rid=/api/analysis/PG method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.39ms
2026-02-07 18:29:41,786 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:41,787 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:41,787 - sqlalchemy.engine.Engine - INFO - [cached since 95.91s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:41,788 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:41,788 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:41,788 - sqlalchemy.engine.Engine - INFO - [cached since 95.91s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:41,790 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:41,790 - sqlalchemy.engine.Engine - INFO - [cached since 95.91s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:41,791 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:41,791 - sqlalchemy.engine.Engine - INFO - [cached since 95.86s ago] ('RKLB', 20, 0)
2026-02-07 18:29:41,791 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.84ms
2026-02-07 18:29:41,792 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:41,793 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.07ms
2026-02-07 18:29:41,794 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:57,077 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:57,078 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:57,078 - sqlalchemy.engine.Engine - INFO - [cached since 111.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:57,078 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:57,078 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:57,078 - sqlalchemy.engine.Engine - INFO - [cached since 111.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:57,079 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:57,079 - sqlalchemy.engine.Engine - INFO - [cached since 111.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:57,079 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:57,079 - sqlalchemy.engine.Engine - INFO - [cached since 111.2s ago] ('SIDU', 20, 0)
2026-02-07 18:29:57,079 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:57,080 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.94ms
2026-02-07 18:29:57,080 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.34ms
2026-02-07 18:29:57,081 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:57,124 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:57,124 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:57,124 - sqlalchemy.engine.Engine - INFO - [cached since 111.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:57,125 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:57,125 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:57,125 - sqlalchemy.engine.Engine - INFO - [cached since 111.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:57,126 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:57,126 - sqlalchemy.engine.Engine - INFO - [cached since 111.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:57,126 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:57,126 - sqlalchemy.engine.Engine - INFO - [cached since 111.2s ago] ('RKLB', 20, 0)
2026-02-07 18:29:57,126 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.34ms
2026-02-07 18:29:57,127 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:57,127 - api_logger - INFO - rid=/api/portfolio/RKLB/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.60ms
2026-02-07 18:29:57,127 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:57,160 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:57,160 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:57,161 - sqlalchemy.engine.Engine - INFO - [cached since 111.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:57,162 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:29:57,162 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:29:57,162 - sqlalchemy.engine.Engine - INFO - [cached since 111.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:29:57,164 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:57,164 - sqlalchemy.engine.Engine - INFO - [cached since 111.2s ago] ('SIDU', 20, 0)
2026-02-07 18:29:57,165 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:29:57,165 - sqlalchemy.engine.Engine - INFO - [cached since 111.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:29:57,166 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:57,167 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.22ms
2026-02-07 18:29:57,168 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:29:57,168 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.62ms
2026-02-07 18:30:10,024 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:30:10,024 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:30:10,024 - sqlalchemy.engine.Engine - INFO - [cached since 124.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:30:10,025 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:30:10,026 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:30:10,026 - sqlalchemy.engine.Engine - INFO - [cached since 124.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:30:10,027 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:30:10,027 - sqlalchemy.engine.Engine - INFO - [cached since 124.1s ago] ('SLV', 20, 0)
2026-02-07 18:30:10,028 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:30:10,028 - sqlalchemy.engine.Engine - INFO - [cached since 124.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:30:10,029 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.83ms
2026-02-07 18:30:10,029 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.59ms
2026-02-07 18:30:10,029 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:30:10,030 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:30:10,062 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:30:10,062 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:30:10,063 - sqlalchemy.engine.Engine - INFO - [cached since 124.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:30:10,064 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:30:10,064 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:30:10,064 - sqlalchemy.engine.Engine - INFO - [cached since 124.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:30:10,065 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:30:10,065 - sqlalchemy.engine.Engine - INFO - [cached since 124.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:30:10,066 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:30:10,066 - sqlalchemy.engine.Engine - INFO - [cached since 124.1s ago] ('SIDU', 20, 0)
2026-02-07 18:30:10,067 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:30:10,067 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.59ms
2026-02-07 18:30:10,068 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:30:10,068 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.08ms
2026-02-07 18:30:10,107 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:30:10,107 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:30:10,107 - sqlalchemy.engine.Engine - INFO - [cached since 124.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:30:10,108 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:30:10,108 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:30:10,108 - sqlalchemy.engine.Engine - INFO - [cached since 124.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:30:10,110 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:30:10,110 - sqlalchemy.engine.Engine - INFO - [cached since 124.2s ago] ('SLV', 20, 0)
2026-02-07 18:30:10,111 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:30:10,111 - sqlalchemy.engine.Engine - INFO - [cached since 124.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:30:10,112 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.93ms
2026-02-07 18:30:10,113 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:30:10,113 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.68ms
2026-02-07 18:30:10,114 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:30:12,796 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:30:12,797 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:30:12,797 - sqlalchemy.engine.Engine - INFO - [cached since 126.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:30:12,798 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 18:30:12,798 - sqlalchemy.engine.Engine - INFO - [cached since 73.75s ago] ('SLV',)
2026-02-07 18:30:13,437 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 18:30:13,437 - sqlalchemy.engine.Engine - INFO - [cached since 73.01s ago] ('SLV',)
2026-02-07 18:30:13,439 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:30:13,439 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ('be0eebba-92ad-3039-8a1d-12f75a96d52e', 'SLV', 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Friday Ahead of Consumer Sentiment Report', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-135747111.html', '2026-02-06 13:57:47.000000', None)
2026-02-07 18:30:13,441 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:30:13,441 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('e75bcefc-abe7-3823-ad57-38457d154c66', 'SLV', 'SLV Plunged 35.6% in Five Days After Fed Chair Nomination Rattled Silver Markets', '24/7 Wall St.', 'https://finance.yahoo.com/news/slv-plunged-35-6-five-153200847.html', '2026-02-05 15:32:00.000000', None)
2026-02-07 18:30:13,442 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:30:13,442 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('2a4b51c1-a2f9-38be-a7da-2b150aec99b5', 'SLV', 'Silver Prices Go on Another Wild Ride', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-05-2026/card/silver-prices-go-on-another-wild-ride-mFGeM0HcvqRBxVnrQA8S?siteid=yhoof2&yptr=yahoo', '2026-02-05 14:37:34.000000', None)
2026-02-07 18:30:13,443 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:30:13,443 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('80ee7f1c-7be6-3f8e-9529-1315fedd335a', 'SLV', 'Exchange-Traded Funds, Equity Futures Lower Pre-Bell Thursday Ahead of Amazon Earnings', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-141706475.html', '2026-02-05 14:17:06.000000', None)
2026-02-07 18:30:13,444 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:30:13,444 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('fd206287-a85b-3fc2-a6e8-4fa912457e35', 'SLV', 'Why GLDs 74% Rally Turned Into a Mousetrap and What the Fed Chair Pick Means Now', '24/7 Wall St.', 'https://finance.yahoo.com/news/why-gld-74-rally-turned-130816537.html', '2026-02-05 13:08:16.000000', None)
2026-02-07 18:30:13,444 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:30:13,444 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('79de7eeb-68c1-3a22-8dc6-29aa0d832707', 'SLV', 'Exchange-Traded Funds, Equity Futures Mixed Pre-Bell Wednesday Ahead of Alphabet Earnings', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-140310603.html', '2026-02-04 14:03:10.000000', None)
2026-02-07 18:30:13,445 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:30:13,445 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('267a5d36-ee97-304a-b868-ceb8592ad222', 'SLV', 'Top-Performing ETF Stories of January: Winning Investing Areas', 'Zacks', 'https://finance.yahoo.com/news/top-performing-etf-stories-january-130000947.html', '2026-02-04 13:00:00.000000', None)
2026-02-07 18:30:13,446 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:30:13,446 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('57491ac4-a2f9-3f77-9055-e641926dd6bb', 'SLV', 'Daily ETF Flows: $3.4B Flows Into SLV', 'etf.com', 'https://finance.yahoo.com/news/daily-etf-flows-3-4b-230005689.html', '2026-02-03 23:00:05.000000', None)
2026-02-07 18:30:13,446 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:30:13,446 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('c192d55e-4add-3941-8d89-ebeb9f3a249c', 'SLV', 'Zacks Investment Ideas feature highlights: Ark Invest, BlackRock, IBIT, GLD and SLV', 'Zacks', 'https://finance.yahoo.com/news/zacks-investment-ideas-feature-highlights-152000677.html', '2026-02-03 15:20:00.000000', None)
2026-02-07 18:30:13,447 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:30:13,447 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('11bf817f-bd41-38a9-a525-45cefc988e19', 'SLV', 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Tuesday as Earnings Deluge Continues', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-142855032.html', '2026-02-03 14:28:55.000000', None)
2026-02-07 18:30:13,447 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET macd_hist_slope=?, adx_14=?, pivot_point=?, resistance_1=?, resistance_2=?, support_1=?, support_2=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 18:30:13,447 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] (-0.2007201783119612, nan, 67.57333374023438, 69.63666534423828, 72.58332824707031, 64.62667083740234, 62.56333923339844, '2026-02-07 10:30:12.799659', 'SLV')
2026-02-07 18:30:13,448 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 18:30:13,448 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:30:13,448 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 18:30:13,448 - sqlalchemy.engine.Engine - INFO - [cached since 73.01s ago] ('SLV',)
2026-02-07 18:30:13,449 - api_logger - INFO - rid=/api/portfolio/SLV/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=653.13ms
2026-02-07 18:30:13,449 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:30:13,452 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:30:13,452 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:30:13,452 - sqlalchemy.engine.Engine - INFO - [cached since 127.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:30:13,452 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 18:30:13,452 - sqlalchemy.engine.Engine - INFO - [cached since 127.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:30:13,453 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.04ms
2026-02-07 18:30:13,454 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:30:47,943 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:30:47,943 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:30:47,944 - sqlalchemy.engine.Engine - INFO - [cached since 162.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:30:47,944 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:30:47,945 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:30:47,945 - sqlalchemy.engine.Engine - INFO - [cached since 162.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:30:47,945 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:30:47,945 - sqlalchemy.engine.Engine - INFO - [cached since 162.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:30:47,946 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:30:47,946 - sqlalchemy.engine.Engine - INFO - [cached since 162s ago] ('SNDK', 20, 0)
2026-02-07 18:30:47,947 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.11ms
2026-02-07 18:30:47,947 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.31ms
2026-02-07 18:30:47,948 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:30:47,948 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:30:47,984 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:30:47,984 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:30:47,984 - sqlalchemy.engine.Engine - INFO - [cached since 162.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:30:47,984 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:30:47,985 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:30:47,985 - sqlalchemy.engine.Engine - INFO - [cached since 162.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:30:47,986 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:30:47,986 - sqlalchemy.engine.Engine - INFO - [cached since 162.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:30:47,987 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:30:47,987 - sqlalchemy.engine.Engine - INFO - [cached since 162.1s ago] ('SLV', 20, 0)
2026-02-07 18:30:47,988 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.65ms
2026-02-07 18:30:47,988 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:30:47,988 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.55ms
2026-02-07 18:30:47,989 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:30:48,029 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:30:48,030 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:30:48,030 - sqlalchemy.engine.Engine - INFO - [cached since 162.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:30:48,032 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:30:48,032 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:30:48,032 - sqlalchemy.engine.Engine - INFO - [cached since 162.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:30:48,034 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:30:48,034 - sqlalchemy.engine.Engine - INFO - [cached since 162.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:30:48,034 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:30:48,034 - sqlalchemy.engine.Engine - INFO - [cached since 162.1s ago] ('SNDK', 20, 0)
2026-02-07 18:30:48,035 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.53ms
2026-02-07 18:30:48,036 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.77ms
2026-02-07 18:30:48,036 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:30:48,037 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:30:50,408 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:30:50,409 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:30:50,409 - sqlalchemy.engine.Engine - INFO - [cached since 164.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:30:50,409 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:30:50,409 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:30:50,409 - sqlalchemy.engine.Engine - INFO - [cached since 164.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:30:50,410 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:30:50,410 - sqlalchemy.engine.Engine - INFO - [cached since 164.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:30:50,410 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:30:50,410 - sqlalchemy.engine.Engine - INFO - [cached since 164.5s ago] ('SLV', 20, 0)
2026-02-07 18:30:50,411 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.87ms
2026-02-07 18:30:50,411 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:30:50,411 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.27ms
2026-02-07 18:30:50,412 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:30:50,459 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:30:50,459 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:30:50,459 - sqlalchemy.engine.Engine - INFO - [cached since 164.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:30:50,459 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:30:50,459 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:30:50,459 - sqlalchemy.engine.Engine - INFO - [cached since 164.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:30:50,460 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:30:50,460 - sqlalchemy.engine.Engine - INFO - [cached since 164.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:30:50,460 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:30:50,460 - sqlalchemy.engine.Engine - INFO - [cached since 164.5s ago] ('SNDK', 20, 0)
2026-02-07 18:30:50,461 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.93ms
2026-02-07 18:30:50,461 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:30:50,462 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.34ms
2026-02-07 18:30:50,462 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:30:50,495 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:30:50,495 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:30:50,495 - sqlalchemy.engine.Engine - INFO - [cached since 164.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:30:50,496 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:30:50,496 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:30:50,497 - sqlalchemy.engine.Engine - INFO - [cached since 164.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:30:50,498 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:30:50,498 - sqlalchemy.engine.Engine - INFO - [cached since 164.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:30:50,498 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:30:50,498 - sqlalchemy.engine.Engine - INFO - [cached since 164.6s ago] ('SLV', 20, 0)
2026-02-07 18:30:50,498 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.68ms
2026-02-07 18:30:50,499 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:30:50,499 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.71ms
2026-02-07 18:30:50,499 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:31:25,324 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:31:25,324 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:31:25,324 - sqlalchemy.engine.Engine - INFO - [cached since 199.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:31:25,325 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:31:25,325 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:31:25,325 - sqlalchemy.engine.Engine - INFO - [cached since 199.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:31:25,327 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:31:25,327 - sqlalchemy.engine.Engine - INFO - [cached since 199.4s ago] ('SNDK', 20, 0)
2026-02-07 18:31:25,328 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:31:25,328 - sqlalchemy.engine.Engine - INFO - [cached since 199.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:31:25,328 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.32ms
2026-02-07 18:31:25,329 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:31:25,329 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.04ms
2026-02-07 18:31:25,330 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:31:25,369 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:31:25,369 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:31:25,369 - sqlalchemy.engine.Engine - INFO - [cached since 199.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:31:25,370 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:31:25,370 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:31:25,371 - sqlalchemy.engine.Engine - INFO - [cached since 199.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:31:25,373 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:31:25,373 - sqlalchemy.engine.Engine - INFO - [cached since 199.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:31:25,373 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:31:25,373 - sqlalchemy.engine.Engine - INFO - [cached since 199.4s ago] ('SLV', 20, 0)
2026-02-07 18:31:25,374 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.25ms
2026-02-07 18:31:25,376 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.16ms
2026-02-07 18:31:25,376 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:31:25,376 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:31:25,417 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:31:25,418 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:31:25,418 - sqlalchemy.engine.Engine - INFO - [cached since 199.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:31:25,419 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:31:25,420 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:31:25,422 - sqlalchemy.engine.Engine - INFO - [cached since 199.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:31:25,424 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 18:31:25,424 - sqlalchemy.engine.Engine - INFO - [cached since 199.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 18:31:25,425 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 18:31:25,425 - sqlalchemy.engine.Engine - INFO - [cached since 199.5s ago] ('SNDK', 20, 0)
2026-02-07 18:31:25,426 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.56ms
2026-02-07 18:31:25,427 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:31:25,427 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.12ms
2026-02-07 18:31:25,427 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:31:28,681 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:31:28,681 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:31:28,681 - sqlalchemy.engine.Engine - INFO - [cached since 202.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:31:28,683 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 18:31:28,683 - sqlalchemy.engine.Engine - INFO - [cached since 149.6s ago] ('SNDK',)
2026-02-07 18:31:29,483 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 18:31:29,483 - sqlalchemy.engine.Engine - INFO - [cached since 149.1s ago] ('SNDK',)
2026-02-07 18:31:29,485 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:31:29,485 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('357d1240-5aed-3992-8375-bd269a0b5d6a', 'SNDK', 'Is Sandisk the Next Micron?', 'Motley Fool', 'https://finance.yahoo.com/news/sandisk-next-micron-184700660.html', '2026-02-06 18:47:00.000000', None)
2026-02-07 18:31:29,485 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:31:29,486 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('3c07fb63-0b8b-3b47-8fe0-cab7efe13313', 'SNDK', 'Industry Analysts Just Upgraded Their Sandisk Corporation (NASDAQ:SNDK) Revenue Forecasts By 38%', 'Simply Wall St.', 'https://finance.yahoo.com/news/industry-analysts-just-upgraded-sandisk-102335247.html', '2026-02-06 10:23:35.000000', None)
2026-02-07 18:31:29,486 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:31:29,486 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('5078431c-a00c-3181-90ac-85a26d65f899', 'SNDK', 'Sandisk Stock Gained +1,500% Since Its Debut. Why This Trader Is Looking Elsewhere.', "Investor's Business Daily", 'https://www.investors.com/news/sandisk-stock-gained-1500-debut-why-trader-looking-elsewhere/?src=A00220&yptr=yahoo', '2026-02-05 22:39:40.000000', None)
2026-02-07 18:31:29,487 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:31:29,488 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('f4564621-0a09-3f01-947e-b49f9b9d931c', 'SNDK', 'High Growth Tech Stocks to Watch in US February 2026', 'Simply Wall St.', 'https://finance.yahoo.com/news/high-growth-tech-stocks-watch-173856420.html', '2026-02-05 17:38:56.000000', None)
2026-02-07 18:31:29,488 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:31:29,489 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('9cd46a10-f4ea-3bc3-8a57-2566118719f7', 'SNDK', 'Should You Invest in Sandisk Stock Post Its Q2 Earnings Release?', 'Zacks', 'https://finance.yahoo.com/news/invest-sandisk-stock-post-q2-125700527.html', '2026-02-05 12:57:00.000000', None)
2026-02-07 18:31:29,489 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:31:29,489 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('d217c156-7707-3fc2-a392-0136dbccd027', 'SNDK', 'High Growth Tech Stocks In The US For February 2026', 'Simply Wall St.', 'https://finance.yahoo.com/news/high-growth-tech-stocks-us-113812494.html', '2026-02-05 11:38:12.000000', None)
2026-02-07 18:31:29,490 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:31:29,490 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('60e7d86b-6361-3434-8349-310c8137c30c', 'SNDK', 'SanDisk and Seagate: Analysts Bang the Drum on the Hottest Tech Stocks Today', 'TipRanks', 'https://finance.yahoo.com/news/sandisk-seagate-analysts-bang-drum-105828632.html', '2026-02-05 10:58:28.000000', None)
2026-02-07 18:31:29,490 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:31:29,490 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('4c646afb-6040-3b99-944d-be20936555f6', 'SNDK', 'A Look At Sandisk (SNDK) Valuation After Strong AI Data Center Driven Q2 Results', 'Simply Wall St.', 'https://finance.yahoo.com/news/look-sandisk-sndk-valuation-strong-021144012.html', '2026-02-05 02:11:44.000000', None)
2026-02-07 18:31:29,491 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:31:29,491 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('4fe36802-c216-3391-8158-494a2e43c261', 'SNDK', 'Stock Market Today, Feb. 4: AMD Plunges Over 17% As Tech Fallout Continues', 'Motley Fool', 'https://finance.yahoo.com/news/stock-market-today-feb-4-230351262.html', '2026-02-04 23:03:51.000000', None)
2026-02-07 18:31:29,491 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 18:31:29,491 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('3fe40497-5ee4-3bb0-a227-70699e91357d', 'SNDK', 'Jim Cramer on Marvell: Theyre an Excellent Company, But Theyre a Derivative Company', 'Insider Monkey', 'https://finance.yahoo.com/news/jim-cramer-marvell-excellent-company-193640261.html', '2026-02-04 19:36:40.000000', None)
2026-02-07 18:31:29,492 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET eps=? WHERE stocks.ticker = ?
2026-02-07 18:31:29,492 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] (-7.47, 'SNDK')
2026-02-07 18:31:29,492 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET macd_hist_slope=?, adx_14=?, pivot_point=?, resistance_1=?, resistance_2=?, support_1=?, support_2=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 18:31:29,492 - sqlalchemy.engine.Engine - INFO - [cached since 76.05s ago] (-3.3438279211789848, nan, 585.9033203125, 609.7066650390625, 643.2133178710938, 552.3966674804688, 528.5933227539062, '2026-02-07 10:31:28.684215', 'SNDK')
2026-02-07 18:31:29,492 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 18:31:29,493 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:31:29,493 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 18:31:29,493 - sqlalchemy.engine.Engine - INFO - [cached since 149.1s ago] ('SNDK',)
2026-02-07 18:31:29,494 - api_logger - INFO - rid=/api/portfolio/SNDK/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=813.85ms
2026-02-07 18:31:29,494 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:31:29,497 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 18:31:29,497 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 18:31:29,497 - sqlalchemy.engine.Engine - INFO - [cached since 203.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:31:29,497 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 18:31:29,497 - sqlalchemy.engine.Engine - INFO - [cached since 203.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 18:31:29,498 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.05ms
2026-02-07 18:31:29,499 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 18:33:00,922 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 18:33:02,667 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 19:04:39,392 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:04:39,398 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 19:04:39,398 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('%002050%', '%002050%', 10, 0)
2026-02-07 19:04:39,400 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=18.45ms
2026-02-07 19:04:39,400 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:04:40,578 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:04:40,579 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 19:04:40,579 - sqlalchemy.engine.Engine - INFO - [cached since 1.181s ago] ('%002050%', '%002050%', 10, 0)
2026-02-07 19:04:50,353 - app.services.market_providers.akshare - WARNING - AkShare spot_em failed for 002050: HTTPSConnectionPool(host='82.push2.eastmoney.com', port=443): Max retries exceeded with url: /api/qt/clist/get?pn=6&pz=100&po=1&np=1&ut=bd1d9ddb04089700cf9c27f6f7426281&fltt=2&invt=2&fid=f12&fs=m%3A0+t%3A6%2Cm%3A0+t%3A80%2Cm%3A1+t%3A2%2Cm%3A1+t%3A23%2Cm%3A0+t%3A81+s%3A2048&fields=f1%2Cf2%2Cf3%2Cf4%2Cf5%2Cf6%2Cf7%2Cf8%2Cf9%2Cf10%2Cf12%2Cf13%2Cf14%2Cf15%2Cf16%2Cf17%2Cf18%2Cf20%2Cf21%2Cf23%2Cf24%2Cf25%2Cf22%2Cf11%2Cf62%2Cf128%2Cf136%2Cf115%2Cf152 (Caused by ProxyError('Unable to connect to proxy', RemoteDisconnected('Remote end closed connection without response')))
2026-02-07 19:05:32,676 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 19:05:32,676 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('002050',)
2026-02-07 19:05:32,677 - sqlalchemy.engine.Engine - INFO - INSERT INTO stocks (ticker, name, sector, industry, market_cap, pe_ratio, forward_pe, eps, dividend_yield, beta, fifty_two_week_high, fifty_two_week_low, exchange, currency) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 19:05:32,678 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('002050', '', None, None, None, None, None, None, None, None, None, None, None, 'USD')
2026-02-07 19:05:32,679 - sqlalchemy.engine.Engine - INFO - INSERT INTO market_data_cache (ticker, current_price, change_percent, rsi_14, ma_20, ma_50, ma_200, macd_val, macd_signal, macd_hist, macd_hist_slope, bb_upper, bb_middle, bb_lower, atr_14, k_line, d_line, j_line, volume_ma_20, volume_ratio, adx_14, pivot_point, resistance_1, resistance_2, support_1, support_2, market_status, last_updated) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 19:05:32,679 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] ('002050', 51.12, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, 'CLOSED', '2026-02-07 11:05:32.679078')
2026-02-07 19:05:32,680 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 19:05:32,681 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:05:32,681 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 19:05:32,681 - sqlalchemy.engine.Engine - INFO - [cached since 53.28s ago] ('%002050%', '%002050%', 10, 0)
2026-02-07 19:05:32,682 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=52104.33ms
2026-02-07 19:05:32,682 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:06:19,035 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:06:19,037 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:06:19,037 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:06:19,039 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 19:06:19,039 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050')
2026-02-07 19:06:19,041 - sqlalchemy.engine.Engine - INFO - INSERT INTO portfolios (id, user_id, ticker, quantity, avg_cost, target_price, stop_loss_price, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 19:06:19,041 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('b9f1cf67-0f33-41cf-b374-ecd9adc7b782', '9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 0.0, 0.0, None, None, '2026-02-07 11:06:19.041475', '2026-02-07 11:06:19.041482')
2026-02-07 19:06:19,042 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 19:06:19,043 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:06:19,044 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 19:06:19,045 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('002050',)
2026-02-07 19:06:19,046 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 19:06:19,046 - sqlalchemy.engine.Engine - INFO - [cached since 0.001381s ago] ('002050',)
2026-02-07 19:06:19,046 - api_logger - INFO - rid=/api/portfolio/ method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.42ms
2026-02-07 19:06:19,047 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:06:19,047 - app.api.v1.endpoints.portfolio - INFO -  Background fetch for 002050 completed
2026-02-07 19:06:19,051 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:06:19,052 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:06:19,052 - sqlalchemy.engine.Engine - INFO - [cached since 0.01505s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:06:19,054 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 19:06:19,054 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:06:19,055 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.53ms
2026-02-07 19:06:19,056 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:06:24,255 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:06:24,255 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:06:24,255 - sqlalchemy.engine.Engine - INFO - [cached since 5.218s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:06:24,257 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:06:24,257 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:06:24,257 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:06:24,257 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:06:24,257 - sqlalchemy.engine.Engine - INFO - [cached since 5.221s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:06:24,258 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:06:24,258 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:06:24,259 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('002050', 20, 0)
2026-02-07 19:06:24,259 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.75ms
2026-02-07 19:06:24,260 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.50ms
2026-02-07 19:06:24,260 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:06:24,309 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:06:24,309 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:06:24,309 - sqlalchemy.engine.Engine - INFO - [cached since 5.272s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:06:24,310 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:06:24,310 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:06:24,310 - sqlalchemy.engine.Engine - INFO - [cached since 5.273s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:06:24,310 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:06:24,310 - sqlalchemy.engine.Engine - INFO - [cached since 0.05319s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:06:24,310 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:06:24,311 - sqlalchemy.engine.Engine - INFO - [cached since 0.05209s ago] ('SNDK', 20, 0)
2026-02-07 19:06:24,311 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.69ms
2026-02-07 19:06:24,311 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:06:24,313 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.12ms
2026-02-07 19:06:24,313 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:06:24,351 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:06:24,356 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:06:24,356 - sqlalchemy.engine.Engine - INFO - [cached since 5.319s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:06:24,358 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:06:24,358 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:06:24,358 - sqlalchemy.engine.Engine - INFO - [cached since 5.322s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:06:24,363 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:06:24,363 - sqlalchemy.engine.Engine - INFO - [cached since 0.1057s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:06:24,363 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:06:24,364 - sqlalchemy.engine.Engine - INFO - [cached since 0.1051s ago] ('002050', 20, 0)
2026-02-07 19:06:24,364 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:06:24,364 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.12ms
2026-02-07 19:06:24,365 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:06:24,365 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=15.68ms
2026-02-07 19:06:27,516 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:06:27,516 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:06:27,516 - sqlalchemy.engine.Engine - INFO - [cached since 8.479s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:06:27,516 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 19:06:27,516 - sqlalchemy.engine.Engine - INFO - [cached since 8.472s ago] ('002050',)
2026-02-07 19:06:27,517 - app.services.market_providers.tavily - WARNING - TAVILY_API_KEY not set. TavilyProvider will be disabled.
2026-02-07 19:06:33,096 - app.services.market_providers.akshare - WARNING - AkShare spot_em failed for 002050: HTTPSConnectionPool(host='82.push2.eastmoney.com', port=443): Max retries exceeded with url: /api/qt/clist/get?pn=1&pz=100&po=1&np=1&ut=bd1d9ddb04089700cf9c27f6f7426281&fltt=2&invt=2&fid=f12&fs=m%3A0+t%3A6%2Cm%3A0+t%3A80%2Cm%3A1+t%3A2%2Cm%3A1+t%3A23%2Cm%3A0+t%3A81+s%3A2048&fields=f1%2Cf2%2Cf3%2Cf4%2Cf5%2Cf6%2Cf7%2Cf8%2Cf9%2Cf10%2Cf12%2Cf13%2Cf14%2Cf15%2Cf16%2Cf17%2Cf18%2Cf20%2Cf21%2Cf23%2Cf24%2Cf25%2Cf22%2Cf11%2Cf62%2Cf128%2Cf136%2Cf115%2Cf152 (Caused by ProxyError('Unable to connect to proxy', RemoteDisconnected('Remote end closed connection without response')))
2026-02-07 19:06:33,259 - app.services.market_providers.akshare - WARNING - AkShare Sina spot failed for 002050: Can not decode value starting with character '<'
2026-02-07 19:06:33,307 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 19:06:33,307 - sqlalchemy.engine.Engine - INFO - [cached since 60.63s ago] ('002050',)
2026-02-07 19:06:33,309 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 19:06:33,309 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('6568432546436147766', '002050', '002050', '', 'http://finance.eastmoney.com/a/202601163621684791.html', '2026-01-16 11:13:05.000000', None)
2026-02-07 19:06:33,311 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 19:06:33,311 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('7160369860921732059', '002050', '2.1', '', 'http://finance.eastmoney.com/a/202602043641538358.html', '2026-02-04 18:12:22.000000', None)
2026-02-07 19:06:33,312 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 19:06:33,312 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('8351768537152078372', '002050', '0020503', '', 'http://finance.eastmoney.com/a/202512223598607016.html', '2025-12-22 22:24:39.000000', None)
2026-02-07 19:06:33,313 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 19:06:33,313 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('-168306666370009544', '002050', '23', '', 'http://finance.eastmoney.com/a/202602033639754212.html', '2026-02-03 09:57:39.000000', None)
2026-02-07 19:06:33,314 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 19:06:33,314 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('-1812779549247946714', '002050', '462', '', 'http://finance.eastmoney.com/a/202602043641856015.html', '2026-02-04 23:41:15.000000', None)
2026-02-07 19:06:33,315 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 19:06:33,315 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('4527312307242486702', '002050', '', '', 'http://finance.eastmoney.com/a/202602023638212355.html', '2026-02-02 09:42:06.000000', None)
2026-02-07 19:06:33,315 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 19:06:33,316 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('-3746633657228660474', '002050', '612', '', 'http://finance.eastmoney.com/a/202602033640238431.html', '2026-02-03 18:06:13.000000', None)
2026-02-07 19:06:33,316 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 19:06:33,316 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('-8635973812545080646', '002050', '1498CEO', '', 'http://finance.eastmoney.com/a/202602053642927122.html', '2026-02-05 19:13:33.000000', None)
2026-02-07 19:06:33,317 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 19:06:33,317 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('343423369062561591', '002050', '0.2425%', '', 'http://finance.eastmoney.com/a/202601233628493496.html', '2026-01-23 09:43:54.000000', None)
2026-02-07 19:06:33,318 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 19:06:33,318 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('-6958022831931468555', '002050', '0.2425%', '', 'http://finance.eastmoney.com/a/202601223627695117.html', '2026-01-22 21:49:47.000000', None)
2026-02-07 19:06:33,319 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET sector=?, industry=?, market_cap=? WHERE stocks.ticker = ?
2026-02-07 19:06:33,319 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('', '', 215113672357.19998, '002050')
2026-02-07 19:06:33,320 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, macd_hist_slope=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, adx_14=?, pivot_point=?, resistance_1=?, resistance_2=?, support_1=?, support_2=?, market_status=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 19:06:33,320 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (0.0, 25.590551181102356, 53.886, 49.7954, 37.04089999999999, -0.10012580270387872, 0.6175590077767086, -0.7176848104805873, 0.09796198822241453, 59.81196214706451, 53.886, 47.96003785293549, 2.2392857142857143, 33.242208798127706, 24.830009798511757, 50.066606797359604, 1985137.55, 0.6589281432916323, nan, 50.28, 50.7, 51.31, 49.67, 49.25, <MarketStatus.OPEN: 'OPEN'>, '2026-02-07 11:06:27.517051', '002050')
2026-02-07 19:06:33,321 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 19:06:33,321 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:06:33,322 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 19:06:33,322 - sqlalchemy.engine.Engine - INFO - [generated in 0.00006s] ('002050',)
2026-02-07 19:06:33,322 - api_logger - INFO - rid=/api/portfolio/002050/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5807.75ms
2026-02-07 19:06:33,323 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:06:33,326 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:06:33,326 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:06:33,326 - sqlalchemy.engine.Engine - INFO - [cached since 14.29s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:06:33,326 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 19:06:33,326 - sqlalchemy.engine.Engine - INFO - [cached since 14.27s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:06:33,327 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.24ms
2026-02-07 19:06:33,328 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:06:36,750 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:06:36,750 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:06:36,750 - sqlalchemy.engine.Engine - INFO - [cached since 17.71s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:06:36,751 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 19:06:36,751 - sqlalchemy.engine.Engine - INFO - [cached since 64.08s ago] ('002050',)
2026-02-07 19:06:36,752 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 19:06:36,752 - sqlalchemy.engine.Engine - INFO - [cached since 17.71s ago] ('002050',)
2026-02-07 19:06:36,753 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:06:36,754 - sqlalchemy.engine.Engine - INFO - [cached since 12.5s ago] ('002050', 5, 0)
2026-02-07 19:06:36,755 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 19:06:36,755 - sqlalchemy.engine.Engine - INFO - [cached since 17.72s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050')
2026-02-07 19:06:36,755 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for 002050. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-07 19:06:36,760 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR 002050 ---

         [002050] 
        
        **1.  (Fundamental Context)**:
        - /:  / 
        - : 215113672357.19998
        - PE (TTM): None | Forward PE: None
        - 52: [None, None]
        - Beta: None
        
        **2.  (Portfolio Context)**:
        - : $0.0
        - : 0.0
        - : $0.0 (0%)
        
        **3.  (Technical Data)**:
        - : $51.12
        - : None%
        - RSI (14): 25.59 | KDJ (K): None / (D): None / (J): None
        - MACD: -0.1 (: -0.72, : None)
        -  (BB): : 59.81 | : None | : 47.96
        - MA : [20: 53.89, 50: 49.8, 200: 37.04]
        -  (ADX): None | ATR: 2.24
        -  (Pivots):  R1: None / R2: None |  S1: None / S2: None
        
        **4.  (Recent News)**:
        [{'title': '1498CEO', 'publisher': '', 'time': '2026-02-05T19:13:33'}, {'title': '462', 'publisher': '', 'time': '2026-02-04T23:41:15'}, {'title': '2.1', 'publisher': '', 'time': '2026-02-04T18:12:22'}, {'title': '612', 'publisher': '', 'time': '2026-02-03T18:06:13'}, {'title': '23', 'publisher': '', 'time': '2026-02-03T09:57:39'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (49.8)  (47.96)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "investment_horizon": " ( 2-5 /   /  -)",
            "confidence_level": 0-100 (AI ),
            "immediate_action": " (///)",
            "target_price": "/ (2)",
            "stop_loss_price": "/ (2)",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-07 19:06:52,295 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 19:06:52,296 - app.api.v1.endpoints.analysis - INFO - AI Response for 002050: {
    "sentiment_score": 62,
    "summary_status": "",
    "risk_level": "",
    "investment_horizon": " ",
    "confidence_level": 78,
    "immediate_action": "",
    "target_price": 5...
2026-02-07 19:06:52,297 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 19:06:52,297 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('148d6ff5-b6cc-4df8-82d4-b7a272a506f6', '9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', '{"market_data": {"current_price": 51.12, "change_percent": null, "rsi_14": 25.59, "ma_20": 53.89, "ma_50": 49.8, "ma_200": 37.04, "macd_val": -0.1, " ... (58 characters truncated) ... kdj_k": 33.24, "atr_14": 2.24, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 0.0, "quantity": 0.0, "unrealized_pl": 0.0, "pl_percent": 0}}', '{\n    "sentiment_score": 62,\n    "summary_status": "",\n    "risk_level": "",\n    "investment_horizon": " ",\n    "confidence_level": 7 ... (465 characters truncated) ... 5047.9650.5020%48.5030%47.960.5%47.7253.89MA206.4%50%0.5ATR1.12"\n}', '62', '', '', '51.1247.96RSI 25.59MACD-0.722053.895049.80MA20037.04', '2151.14Forward PE14982.1PE', '49.80MA5047.9650.5020%48.5030%47.960.5%47.7253.89MA206.4%50%0.5ATR1.12', ' ', 78.0, '', 53.89, 47.96, 'qwen-3-vl-thinking', '2026-02-07 11:06:52.297405')
2026-02-07 19:06:52,298 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 19:06:52,298 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:06:52,299 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 19:06:52,299 - sqlalchemy.engine.Engine - INFO - [generated in 0.00006s] ('148d6ff5-b6cc-4df8-82d4-b7a272a506f6',)
2026-02-07 19:06:52,299 - api_logger - INFO - rid=/api/analysis/002050 method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=15552.57ms
2026-02-07 19:06:52,300 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:06:52,302 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:06:52,302 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:06:52,302 - sqlalchemy.engine.Engine - INFO - [cached since 33.27s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:06:52,303 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:06:52,303 - sqlalchemy.engine.Engine - INFO - [cached since 28.04s ago] ('002050', 20, 0)
2026-02-07 19:06:52,303 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.45ms
2026-02-07 19:06:52,303 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:45,768 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:45,769 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:45,770 - sqlalchemy.engine.Engine - INFO - [cached since 1830s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:45,770 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:45,771 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:45,771 - sqlalchemy.engine.Engine - INFO - [cached since 1830s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:45,772 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:45,773 - sqlalchemy.engine.Engine - INFO - [cached since 1825s ago] ('AAPL', 20, 0)
2026-02-07 19:51:45,773 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:45,773 - sqlalchemy.engine.Engine - INFO - [cached since 1825s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:51:45,774 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.23ms
2026-02-07 19:51:45,775 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:45,776 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.83ms
2026-02-07 19:51:45,776 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:45,809 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:45,809 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:45,809 - sqlalchemy.engine.Engine - INFO - [cached since 1830s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:45,809 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:45,810 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:45,810 - sqlalchemy.engine.Engine - INFO - [cached since 1830s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:45,811 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:45,811 - sqlalchemy.engine.Engine - INFO - [cached since 1825s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:51:45,812 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:45,812 - sqlalchemy.engine.Engine - INFO - [cached since 1825s ago] ('002050', 20, 0)
2026-02-07 19:51:45,813 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.17ms
2026-02-07 19:51:45,814 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.46ms
2026-02-07 19:51:45,814 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:45,814 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:45,861 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:45,861 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:45,861 - sqlalchemy.engine.Engine - INFO - [cached since 1831s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:45,862 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:45,862 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:45,862 - sqlalchemy.engine.Engine - INFO - [cached since 1831s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:45,862 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:45,862 - sqlalchemy.engine.Engine - INFO - [cached since 1825s ago] ('AAPL', 20, 0)
2026-02-07 19:51:45,863 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:45,863 - sqlalchemy.engine.Engine - INFO - [cached since 1825s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:51:45,864 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.08ms
2026-02-07 19:51:45,865 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:45,866 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.49ms
2026-02-07 19:51:45,866 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:46,439 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:46,439 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:46,440 - sqlalchemy.engine.Engine - INFO - [cached since 1831s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:46,441 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:46,441 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:46,441 - sqlalchemy.engine.Engine - INFO - [cached since 1831s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:46,442 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:46,443 - sqlalchemy.engine.Engine - INFO - [cached since 1826s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:51:46,444 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:46,444 - sqlalchemy.engine.Engine - INFO - [cached since 1826s ago] ('AMD', 20, 0)
2026-02-07 19:51:46,445 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.30ms
2026-02-07 19:51:46,446 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:46,447 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.99ms
2026-02-07 19:51:46,447 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:46,451 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:46,452 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:46,452 - sqlalchemy.engine.Engine - INFO - [cached since 1831s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:46,452 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:46,453 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:46,453 - sqlalchemy.engine.Engine - INFO - [cached since 1831s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:46,454 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:46,455 - sqlalchemy.engine.Engine - INFO - [cached since 1826s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:51:46,455 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:46,455 - sqlalchemy.engine.Engine - INFO - [cached since 1826s ago] ('AAPL', 20, 0)
2026-02-07 19:51:46,456 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.93ms
2026-02-07 19:51:46,457 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:46,457 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.20ms
2026-02-07 19:51:46,457 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:46,492 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:46,493 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:46,493 - sqlalchemy.engine.Engine - INFO - [cached since 1831s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:46,495 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:46,495 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:46,495 - sqlalchemy.engine.Engine - INFO - [cached since 1831s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:46,500 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:46,500 - sqlalchemy.engine.Engine - INFO - [cached since 1826s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:51:46,501 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:46,501 - sqlalchemy.engine.Engine - INFO - [cached since 1826s ago] ('AMD', 20, 0)
2026-02-07 19:51:46,502 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.31ms
2026-02-07 19:51:46,504 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:46,504 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=13.01ms
2026-02-07 19:51:46,505 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:47,193 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:47,193 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:47,193 - sqlalchemy.engine.Engine - INFO - [cached since 1832s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:47,194 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:47,194 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:47,194 - sqlalchemy.engine.Engine - INFO - [cached since 1832s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:47,195 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:47,196 - sqlalchemy.engine.Engine - INFO - [cached since 1827s ago] ('AMZN', 20, 0)
2026-02-07 19:51:47,196 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:47,196 - sqlalchemy.engine.Engine - INFO - [cached since 1827s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:51:47,198 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.74ms
2026-02-07 19:51:47,198 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.21ms
2026-02-07 19:51:47,199 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:47,199 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:47,239 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:47,239 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:47,239 - sqlalchemy.engine.Engine - INFO - [cached since 1832s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:47,240 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:47,240 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:47,240 - sqlalchemy.engine.Engine - INFO - [cached since 1832s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:47,241 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:47,242 - sqlalchemy.engine.Engine - INFO - [cached since 1827s ago] ('AMD', 20, 0)
2026-02-07 19:51:47,242 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:47,242 - sqlalchemy.engine.Engine - INFO - [cached since 1827s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:51:47,243 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.45ms
2026-02-07 19:51:47,245 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.43ms
2026-02-07 19:51:47,245 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:47,245 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:47,276 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:47,277 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:47,277 - sqlalchemy.engine.Engine - INFO - [cached since 1832s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:47,284 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:47,284 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:47,284 - sqlalchemy.engine.Engine - INFO - [cached since 1832s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:47,285 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:47,285 - sqlalchemy.engine.Engine - INFO - [cached since 1827s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:51:47,287 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:47,287 - sqlalchemy.engine.Engine - INFO - [cached since 1827s ago] ('AMZN', 20, 0)
2026-02-07 19:51:47,289 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.71ms
2026-02-07 19:51:47,291 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:47,291 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.33ms
2026-02-07 19:51:47,292 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:48,240 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:48,240 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:48,240 - sqlalchemy.engine.Engine - INFO - [cached since 1833s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:48,241 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:48,241 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:48,241 - sqlalchemy.engine.Engine - INFO - [cached since 1833s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:48,243 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:48,243 - sqlalchemy.engine.Engine - INFO - [cached since 1828s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:51:48,243 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:48,243 - sqlalchemy.engine.Engine - INFO - [cached since 1828s ago] ('002050', 20, 0)
2026-02-07 19:51:48,245 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.70ms
2026-02-07 19:51:48,246 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.39ms
2026-02-07 19:51:48,246 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:48,246 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:48,287 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:48,287 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:48,287 - sqlalchemy.engine.Engine - INFO - [cached since 1833s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:48,288 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:48,288 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:48,288 - sqlalchemy.engine.Engine - INFO - [cached since 1833s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:48,290 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:48,290 - sqlalchemy.engine.Engine - INFO - [cached since 1828s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:51:48,291 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:48,291 - sqlalchemy.engine.Engine - INFO - [cached since 1828s ago] ('AMZN', 20, 0)
2026-02-07 19:51:48,292 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.61ms
2026-02-07 19:51:48,293 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.47ms
2026-02-07 19:51:48,294 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:48,294 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:48,325 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:48,325 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:48,326 - sqlalchemy.engine.Engine - INFO - [cached since 1833s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:48,334 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:51:48,334 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:51:48,334 - sqlalchemy.engine.Engine - INFO - [cached since 1833s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:51:48,336 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:48,338 - sqlalchemy.engine.Engine - INFO - [cached since 1828s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:51:48,339 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:51:48,340 - sqlalchemy.engine.Engine - INFO - [cached since 1828s ago] ('002050', 20, 0)
2026-02-07 19:51:48,340 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=17.03ms
2026-02-07 19:51:48,341 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:51:48,342 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.87ms
2026-02-07 19:51:48,343 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:53:46,106 - api_logger - INFO - rid=/openapi.json method=GET status_code=200 user_id=anonymous time=33.61ms
2026-02-07 19:54:20,110 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:20,112 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:20,113 - sqlalchemy.engine.Engine - INFO - [cached since 1985s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:20,114 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:20,114 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:20,114 - sqlalchemy.engine.Engine - INFO - [cached since 1985s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:20,119 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:20,119 - sqlalchemy.engine.Engine - INFO - [cached since 1980s ago] ('AMD', 20, 0)
2026-02-07 19:54:20,120 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:20,120 - sqlalchemy.engine.Engine - INFO - [cached since 1980s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:54:20,122 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.60ms
2026-02-07 19:54:20,124 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=18.47ms
2026-02-07 19:54:20,124 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:20,125 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:20,157 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:20,158 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:20,159 - sqlalchemy.engine.Engine - INFO - [cached since 1985s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:20,168 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:20,168 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:20,168 - sqlalchemy.engine.Engine - INFO - [cached since 1985s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:20,173 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:20,173 - sqlalchemy.engine.Engine - INFO - [cached since 1980s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:54:20,174 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:20,174 - sqlalchemy.engine.Engine - INFO - [cached since 1980s ago] ('002050', 20, 0)
2026-02-07 19:54:20,175 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=19.14ms
2026-02-07 19:54:20,177 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=17.64ms
2026-02-07 19:54:20,177 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:20,178 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:20,223 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:20,223 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:20,223 - sqlalchemy.engine.Engine - INFO - [cached since 1985s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:20,224 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:20,225 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:20,225 - sqlalchemy.engine.Engine - INFO - [cached since 1985s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:20,226 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:20,226 - sqlalchemy.engine.Engine - INFO - [cached since 1980s ago] ('AMD', 20, 0)
2026-02-07 19:54:20,227 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:20,227 - sqlalchemy.engine.Engine - INFO - [cached since 1980s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:54:20,228 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.38ms
2026-02-07 19:54:20,229 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:20,229 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.67ms
2026-02-07 19:54:20,230 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:24,427 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:24,428 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:24,428 - sqlalchemy.engine.Engine - INFO - [cached since 1989s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:24,428 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:24,428 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:24,428 - sqlalchemy.engine.Engine - INFO - [cached since 1989s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:24,429 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:24,429 - sqlalchemy.engine.Engine - INFO - [cached since 1984s ago] ('ASTS', 20, 0)
2026-02-07 19:54:24,429 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:24,429 - sqlalchemy.engine.Engine - INFO - [cached since 1984s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:54:24,430 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.97ms
2026-02-07 19:54:24,430 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.86ms
2026-02-07 19:54:24,430 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:24,430 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:24,489 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:24,489 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:24,490 - sqlalchemy.engine.Engine - INFO - [cached since 1989s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:24,491 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:24,491 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:24,491 - sqlalchemy.engine.Engine - INFO - [cached since 1989s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:24,492 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:24,492 - sqlalchemy.engine.Engine - INFO - [cached since 1984s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:54:24,494 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:24,494 - sqlalchemy.engine.Engine - INFO - [cached since 1984s ago] ('AMD', 20, 0)
2026-02-07 19:54:24,495 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.29ms
2026-02-07 19:54:24,495 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:24,496 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.44ms
2026-02-07 19:54:24,497 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:24,524 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:24,525 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:24,525 - sqlalchemy.engine.Engine - INFO - [cached since 1989s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:24,526 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:24,526 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:24,526 - sqlalchemy.engine.Engine - INFO - [cached since 1989s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:24,527 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:24,527 - sqlalchemy.engine.Engine - INFO - [cached since 1984s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:54:24,528 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:24,528 - sqlalchemy.engine.Engine - INFO - [cached since 1984s ago] ('ASTS', 20, 0)
2026-02-07 19:54:24,528 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.10ms
2026-02-07 19:54:24,529 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:24,529 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.75ms
2026-02-07 19:54:24,530 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:26,409 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:26,410 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:26,410 - sqlalchemy.engine.Engine - INFO - [cached since 1991s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:26,411 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:26,412 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:26,412 - sqlalchemy.engine.Engine - INFO - [cached since 1991s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:26,413 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:26,413 - sqlalchemy.engine.Engine - INFO - [cached since 1986s ago] ('DJIA', 20, 0)
2026-02-07 19:54:26,413 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:26,413 - sqlalchemy.engine.Engine - INFO - [cached since 1986s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:54:26,414 - api_logger - INFO - rid=/api/portfolio/DJIA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.02ms
2026-02-07 19:54:26,414 - api_logger - INFO - rid=/api/analysis/DJIA method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.32ms
2026-02-07 19:54:26,414 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:26,414 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:26,467 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:26,467 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:26,467 - sqlalchemy.engine.Engine - INFO - [cached since 1991s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:26,468 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:26,469 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:26,469 - sqlalchemy.engine.Engine - INFO - [cached since 1991s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:26,471 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:26,471 - sqlalchemy.engine.Engine - INFO - [cached since 1986s ago] ('ASTS', 20, 0)
2026-02-07 19:54:26,472 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:26,472 - sqlalchemy.engine.Engine - INFO - [cached since 1986s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:54:26,473 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.95ms
2026-02-07 19:54:26,473 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.00ms
2026-02-07 19:54:26,474 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:26,474 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:26,509 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:26,509 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:26,509 - sqlalchemy.engine.Engine - INFO - [cached since 1991s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:26,510 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:26,510 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:26,510 - sqlalchemy.engine.Engine - INFO - [cached since 1991s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:26,511 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:26,511 - sqlalchemy.engine.Engine - INFO - [cached since 1986s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:54:26,511 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:26,511 - sqlalchemy.engine.Engine - INFO - [cached since 1986s ago] ('DJIA', 20, 0)
2026-02-07 19:54:26,514 - api_logger - INFO - rid=/api/portfolio/DJIA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.13ms
2026-02-07 19:54:26,514 - api_logger - INFO - rid=/api/analysis/DJIA method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.80ms
2026-02-07 19:54:26,515 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:26,515 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:28,890 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:28,891 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:28,891 - sqlalchemy.engine.Engine - INFO - [cached since 1994s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:28,891 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:28,891 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:28,891 - sqlalchemy.engine.Engine - INFO - [cached since 1994s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:28,892 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:28,892 - sqlalchemy.engine.Engine - INFO - [cached since 1988s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:54:28,892 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:28,892 - sqlalchemy.engine.Engine - INFO - [cached since 1988s ago] ('FRO', 20, 0)
2026-02-07 19:54:28,893 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.08ms
2026-02-07 19:54:28,893 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.96ms
2026-02-07 19:54:28,893 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:28,893 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:28,933 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:28,933 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:28,933 - sqlalchemy.engine.Engine - INFO - [cached since 1994s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:28,934 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:28,934 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:28,934 - sqlalchemy.engine.Engine - INFO - [cached since 1994s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:28,937 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:28,937 - sqlalchemy.engine.Engine - INFO - [cached since 1988s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:54:28,937 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:28,938 - sqlalchemy.engine.Engine - INFO - [cached since 1988s ago] ('DJIA', 20, 0)
2026-02-07 19:54:28,939 - api_logger - INFO - rid=/api/analysis/DJIA method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.87ms
2026-02-07 19:54:28,939 - api_logger - INFO - rid=/api/portfolio/DJIA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.69ms
2026-02-07 19:54:28,939 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:28,939 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:28,980 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:28,980 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:28,980 - sqlalchemy.engine.Engine - INFO - [cached since 1994s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:28,982 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:28,982 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:28,982 - sqlalchemy.engine.Engine - INFO - [cached since 1994s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:28,987 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:28,988 - sqlalchemy.engine.Engine - INFO - [cached since 1988s ago] ('FRO', 20, 0)
2026-02-07 19:54:28,988 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:28,988 - sqlalchemy.engine.Engine - INFO - [cached since 1988s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:54:28,990 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.26ms
2026-02-07 19:54:28,991 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.95ms
2026-02-07 19:54:28,991 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:28,992 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:47,061 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:47,063 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:47,063 - sqlalchemy.engine.Engine - INFO - [cached since 2012s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:47,063 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:47,063 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:47,063 - sqlalchemy.engine.Engine - INFO - [cached since 2012s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:47,064 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:47,064 - sqlalchemy.engine.Engine - INFO - [cached since 2007s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:54:47,065 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:47,065 - sqlalchemy.engine.Engine - INFO - [cached since 2007s ago] ('SIDU', 20, 0)
2026-02-07 19:54:47,066 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.62ms
2026-02-07 19:54:47,066 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:47,066 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:47,067 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.48ms
2026-02-07 19:54:47,110 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:47,111 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:47,111 - sqlalchemy.engine.Engine - INFO - [cached since 2012s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:47,111 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:47,111 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:47,111 - sqlalchemy.engine.Engine - INFO - [cached since 2012s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:47,112 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:47,113 - sqlalchemy.engine.Engine - INFO - [cached since 2007s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:54:47,113 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:47,113 - sqlalchemy.engine.Engine - INFO - [cached since 2007s ago] ('FRO', 20, 0)
2026-02-07 19:54:47,114 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.06ms
2026-02-07 19:54:47,115 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.71ms
2026-02-07 19:54:47,115 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:47,116 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:47,152 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:47,152 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:47,152 - sqlalchemy.engine.Engine - INFO - [cached since 2012s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:47,153 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:47,153 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:47,153 - sqlalchemy.engine.Engine - INFO - [cached since 2012s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:47,153 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:47,153 - sqlalchemy.engine.Engine - INFO - [cached since 2007s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:54:47,153 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:47,154 - sqlalchemy.engine.Engine - INFO - [cached since 2007s ago] ('SIDU', 20, 0)
2026-02-07 19:54:47,154 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.29ms
2026-02-07 19:54:47,154 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:47,154 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:47,155 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.05ms
2026-02-07 19:54:51,440 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:51,441 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:51,441 - sqlalchemy.engine.Engine - INFO - [cached since 2016s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:51,441 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:51,441 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:51,441 - sqlalchemy.engine.Engine - INFO - [cached since 2016s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:51,442 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:51,442 - sqlalchemy.engine.Engine - INFO - [cached since 2011s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:54:51,442 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:51,442 - sqlalchemy.engine.Engine - INFO - [cached since 2011s ago] ('SLV', 20, 0)
2026-02-07 19:54:51,443 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.89ms
2026-02-07 19:54:51,443 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.30ms
2026-02-07 19:54:51,443 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:51,444 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:51,483 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:51,483 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:51,483 - sqlalchemy.engine.Engine - INFO - [cached since 2016s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:51,484 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:51,484 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:51,484 - sqlalchemy.engine.Engine - INFO - [cached since 2016s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:51,486 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:51,486 - sqlalchemy.engine.Engine - INFO - [cached since 2011s ago] ('SIDU', 20, 0)
2026-02-07 19:54:51,487 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:51,487 - sqlalchemy.engine.Engine - INFO - [cached since 2011s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:54:51,489 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.42ms
2026-02-07 19:54:51,489 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:51,489 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:51,490 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.78ms
2026-02-07 19:54:51,529 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:51,529 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:51,529 - sqlalchemy.engine.Engine - INFO - [cached since 2016s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:51,531 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:51,531 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:51,531 - sqlalchemy.engine.Engine - INFO - [cached since 2016s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:51,533 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:51,533 - sqlalchemy.engine.Engine - INFO - [cached since 2011s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:54:51,534 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:51,534 - sqlalchemy.engine.Engine - INFO - [cached since 2011s ago] ('SLV', 20, 0)
2026-02-07 19:54:51,535 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.00ms
2026-02-07 19:54:51,536 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:51,537 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.18ms
2026-02-07 19:54:51,537 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:52,909 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:52,909 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:52,909 - sqlalchemy.engine.Engine - INFO - [cached since 2018s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:52,909 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:52,909 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:52,909 - sqlalchemy.engine.Engine - INFO - [cached since 2018s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:52,910 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:52,910 - sqlalchemy.engine.Engine - INFO - [cached since 2012s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:54:52,910 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:52,910 - sqlalchemy.engine.Engine - INFO - [cached since 2012s ago] ('SNDK', 20, 0)
2026-02-07 19:54:52,911 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.67ms
2026-02-07 19:54:52,911 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:52,912 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.68ms
2026-02-07 19:54:52,912 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:52,951 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:52,951 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:52,951 - sqlalchemy.engine.Engine - INFO - [cached since 2018s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:52,952 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:52,953 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:52,953 - sqlalchemy.engine.Engine - INFO - [cached since 2018s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:52,954 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:52,955 - sqlalchemy.engine.Engine - INFO - [cached since 2012s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:54:52,956 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:52,956 - sqlalchemy.engine.Engine - INFO - [cached since 2012s ago] ('SLV', 20, 0)
2026-02-07 19:54:52,957 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.46ms
2026-02-07 19:54:52,958 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:52,958 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.16ms
2026-02-07 19:54:52,959 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:52,994 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:52,994 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:52,994 - sqlalchemy.engine.Engine - INFO - [cached since 2018s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:52,995 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:54:52,995 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:54:52,996 - sqlalchemy.engine.Engine - INFO - [cached since 2018s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:54:52,997 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:52,997 - sqlalchemy.engine.Engine - INFO - [cached since 2012s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:54:52,998 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:54:52,998 - sqlalchemy.engine.Engine - INFO - [cached since 2012s ago] ('SNDK', 20, 0)
2026-02-07 19:54:52,999 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.77ms
2026-02-07 19:54:53,000 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.36ms
2026-02-07 19:54:53,001 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:54:53,001 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:55:02,341 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:55:02,341 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:55:02,341 - sqlalchemy.engine.Engine - INFO - [cached since 2027s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:55:02,342 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:55:02,342 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:55:02,342 - sqlalchemy.engine.Engine - INFO - [cached since 2027s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:55:02,342 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:55:02,342 - sqlalchemy.engine.Engine - INFO - [cached since 2022s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:55:02,343 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:55:02,343 - sqlalchemy.engine.Engine - INFO - [cached since 2022s ago] ('DJIA', 20, 0)
2026-02-07 19:55:02,343 - api_logger - INFO - rid=/api/analysis/DJIA method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.54ms
2026-02-07 19:55:02,343 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:55:02,344 - api_logger - INFO - rid=/api/portfolio/DJIA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.04ms
2026-02-07 19:55:02,344 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:55:02,400 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:55:02,400 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:55:02,400 - sqlalchemy.engine.Engine - INFO - [cached since 2027s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:55:02,401 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:55:02,402 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:55:02,402 - sqlalchemy.engine.Engine - INFO - [cached since 2027s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:55:02,404 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:55:02,404 - sqlalchemy.engine.Engine - INFO - [cached since 2022s ago] ('SNDK', 20, 0)
2026-02-07 19:55:02,404 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:55:02,405 - sqlalchemy.engine.Engine - INFO - [cached since 2022s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:55:02,406 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.82ms
2026-02-07 19:55:02,407 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:55:02,407 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.81ms
2026-02-07 19:55:02,408 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:55:02,439 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:55:02,440 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:55:02,440 - sqlalchemy.engine.Engine - INFO - [cached since 2027s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:55:02,441 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:55:02,441 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:55:02,442 - sqlalchemy.engine.Engine - INFO - [cached since 2027s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:55:02,443 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:55:02,443 - sqlalchemy.engine.Engine - INFO - [cached since 2022s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:55:02,444 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:55:02,444 - sqlalchemy.engine.Engine - INFO - [cached since 2022s ago] ('DJIA', 20, 0)
2026-02-07 19:55:02,446 - api_logger - INFO - rid=/api/portfolio/DJIA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.82ms
2026-02-07 19:55:02,447 - api_logger - INFO - rid=/api/analysis/DJIA method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.21ms
2026-02-07 19:55:02,447 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:55:02,447 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:55:11,698 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:55:11,698 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:55:11,698 - sqlalchemy.engine.Engine - INFO - [cached since 2036s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:55:11,699 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 19:55:11,699 - sqlalchemy.engine.Engine - INFO - [cached since 2036s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA')
2026-02-07 19:55:11,701 - sqlalchemy.engine.Engine - INFO - DELETE FROM portfolios WHERE portfolios.id = ?
2026-02-07 19:55:11,701 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('e3433898-d873-47cf-90f1-6705dc336ab1',)
2026-02-07 19:55:11,703 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 19:55:11,704 - api_logger - INFO - rid=/api/portfolio/DJIA method=DELETE status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.23ms
2026-02-07 19:55:11,708 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:55:11,708 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:55:11,709 - sqlalchemy.engine.Engine - INFO - [cached since 2036s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:55:11,709 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 19:55:11,710 - sqlalchemy.engine.Engine - INFO - [cached since 2036s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:55:11,712 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.66ms
2026-02-07 19:55:11,713 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:55:12,752 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:55:12,752 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:55:12,753 - sqlalchemy.engine.Engine - INFO - [cached since 2037s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:55:12,753 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:55:12,753 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:55:12,753 - sqlalchemy.engine.Engine - INFO - [cached since 2037s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:55:12,754 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:55:12,754 - sqlalchemy.engine.Engine - INFO - [cached since 2032s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:55:12,755 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:55:12,755 - sqlalchemy.engine.Engine - INFO - [cached since 2032s ago] ('FRO', 20, 0)
2026-02-07 19:55:12,757 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.01ms
2026-02-07 19:55:12,757 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:55:12,757 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.60ms
2026-02-07 19:55:12,758 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:55:12,784 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:55:12,784 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:55:12,784 - sqlalchemy.engine.Engine - INFO - [cached since 2037s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:55:12,785 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:55:12,785 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:55:12,785 - sqlalchemy.engine.Engine - INFO - [cached since 2037s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:55:12,786 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:55:12,786 - sqlalchemy.engine.Engine - INFO - [cached since 2032s ago] ('DJIA', 20, 0)
2026-02-07 19:55:12,786 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:55:12,786 - sqlalchemy.engine.Engine - INFO - [cached since 2032s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'DJIA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:55:12,787 - api_logger - INFO - rid=/api/portfolio/DJIA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.34ms
2026-02-07 19:55:12,787 - api_logger - INFO - rid=/api/analysis/DJIA method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.93ms
2026-02-07 19:55:12,787 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:55:12,787 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:55:12,834 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:55:12,835 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:55:12,835 - sqlalchemy.engine.Engine - INFO - [cached since 2038s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:55:12,836 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:55:12,837 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:55:12,837 - sqlalchemy.engine.Engine - INFO - [cached since 2038s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:55:12,839 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:55:12,839 - sqlalchemy.engine.Engine - INFO - [cached since 2032s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:55:12,839 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:55:12,839 - sqlalchemy.engine.Engine - INFO - [cached since 2032s ago] ('FRO', 20, 0)
2026-02-07 19:55:12,840 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.60ms
2026-02-07 19:55:12,841 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.21ms
2026-02-07 19:55:12,841 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:55:12,841 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:55:19,671 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:55:19,671 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:55:19,671 - sqlalchemy.engine.Engine - INFO - [cached since 2044s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:55:19,673 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:55:19,673 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:55:19,673 - sqlalchemy.engine.Engine - INFO - [cached since 2044s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:55:19,674 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:55:19,674 - sqlalchemy.engine.Engine - INFO - [cached since 2039s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:55:19,674 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:55:19,674 - sqlalchemy.engine.Engine - INFO - [cached since 2039s ago] ('002050', 20, 0)
2026-02-07 19:55:19,675 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.94ms
2026-02-07 19:55:19,675 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.14ms
2026-02-07 19:55:19,675 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:55:19,676 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:55:19,716 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:55:19,716 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:55:19,716 - sqlalchemy.engine.Engine - INFO - [cached since 2044s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:55:19,717 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:55:19,717 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:55:19,718 - sqlalchemy.engine.Engine - INFO - [cached since 2044s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:55:19,719 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:55:19,719 - sqlalchemy.engine.Engine - INFO - [cached since 2039s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:55:19,720 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:55:19,721 - sqlalchemy.engine.Engine - INFO - [cached since 2039s ago] ('FRO', 20, 0)
2026-02-07 19:55:19,721 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.90ms
2026-02-07 19:55:19,721 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:55:19,722 - api_logger - INFO - rid=/api/portfolio/FRO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.33ms
2026-02-07 19:55:19,722 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:55:19,763 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:55:19,764 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:55:19,764 - sqlalchemy.engine.Engine - INFO - [cached since 2044s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:55:19,766 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:55:19,766 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:55:19,766 - sqlalchemy.engine.Engine - INFO - [cached since 2044s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:55:19,768 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:55:19,768 - sqlalchemy.engine.Engine - INFO - [cached since 2039s ago] ('002050', 20, 0)
2026-02-07 19:55:19,769 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:55:19,769 - sqlalchemy.engine.Engine - INFO - [cached since 2039s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:55:19,769 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.18ms
2026-02-07 19:55:19,770 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.02ms
2026-02-07 19:55:19,770 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:55:19,771 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:57:00,104 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:57:00,105 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-07 19:57:00,105 - sqlalchemy.engine.Engine - INFO - [cached since 2244s ago] ('%T%', '%T%', 10, 0)
2026-02-07 19:57:00,106 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.54ms
2026-02-07 19:57:00,107 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:57:09,357 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:57:09,357 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:57:09,357 - sqlalchemy.engine.Engine - INFO - [cached since 2154s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:57:09,359 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:57:09,359 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:57:09,359 - sqlalchemy.engine.Engine - INFO - [cached since 2154s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:57:09,360 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:57:09,360 - sqlalchemy.engine.Engine - INFO - [cached since 2149s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'TSLA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:57:09,361 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:57:09,361 - sqlalchemy.engine.Engine - INFO - [cached since 2149s ago] ('TSLA', 20, 0)
2026-02-07 19:57:09,361 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:57:09,362 - api_logger - INFO - rid=/api/analysis/TSLA method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.86ms
2026-02-07 19:57:09,363 - api_logger - INFO - rid=/api/portfolio/TSLA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.75ms
2026-02-07 19:57:09,363 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:57:09,399 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:57:09,399 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:57:09,399 - sqlalchemy.engine.Engine - INFO - [cached since 2154s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:57:09,400 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:57:09,400 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:57:09,400 - sqlalchemy.engine.Engine - INFO - [cached since 2154s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:57:09,401 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:57:09,401 - sqlalchemy.engine.Engine - INFO - [cached since 2149s ago] ('002050', 20, 0)
2026-02-07 19:57:09,401 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:57:09,402 - sqlalchemy.engine.Engine - INFO - [cached since 2149s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:57:09,403 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.52ms
2026-02-07 19:57:09,403 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.98ms
2026-02-07 19:57:09,404 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:57:09,404 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:57:09,444 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:57:09,445 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:57:09,445 - sqlalchemy.engine.Engine - INFO - [cached since 2154s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:57:09,446 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:57:09,446 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:57:09,447 - sqlalchemy.engine.Engine - INFO - [cached since 2154s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:57:09,448 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:57:09,448 - sqlalchemy.engine.Engine - INFO - [cached since 2149s ago] ('TSLA', 20, 0)
2026-02-07 19:57:09,449 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 19:57:09,449 - sqlalchemy.engine.Engine - INFO - [cached since 2149s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'TSLA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 19:57:09,450 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:57:09,450 - api_logger - INFO - rid=/api/portfolio/TSLA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.44ms
2026-02-07 19:57:09,450 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:57:09,450 - api_logger - INFO - rid=/api/analysis/TSLA method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.26ms
2026-02-07 19:57:13,047 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:57:13,047 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:57:13,047 - sqlalchemy.engine.Engine - INFO - [cached since 2158s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:57:13,048 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 19:57:13,048 - sqlalchemy.engine.Engine - INFO - [cached since 2158s ago] ('TSLA',)
2026-02-07 19:57:14,188 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 19:57:14,189 - sqlalchemy.engine.Engine - INFO - [cached since 2205s ago] ('TSLA',)
2026-02-07 19:57:14,190 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 19:57:14,191 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('f852e476-423f-4fd3-83df-b57e73cc9cf4', 'TSLA', 'Stock market today: Dow closes above 50,000 for the first time as stocks soar to cap volatile week', 'Yahoo Finance', 'https://finance.yahoo.com/news/live/stock-market-today-dow-closes-above-50000-for-the-first-time-as-stocks-soar-to-cap-volatile-week-192439380.html', '2026-02-06 19:24:39.000000', None)
2026-02-07 19:57:14,192 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 19:57:14,193 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('1a97b17b-fc5c-4f9e-97f1-b136d01221c8', 'TSLA', 'Big 3 automakers take $52.1 billion hit from EV pivot', 'Yahoo Finance', 'https://finance.yahoo.com/news/big-3-automakers-take-521-billion-hit-from-ev-pivot-142434779.html', '2025-12-26 14:24:34.000000', None)
2026-02-07 19:57:14,193 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 19:57:14,193 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('525d5b4d-d013-3561-98f3-c70fa2393750', 'TSLA', "Ross Gerber Says Tesla Will Be 'Another Division' Of X Amid Ticker Symbol Speculation, SpaceX-xAI Merger", 'Benzinga', 'https://finance.yahoo.com/news/ross-gerber-says-tesla-another-114622705.html', '2026-02-07 11:46:22.000000', None)
2026-02-07 19:57:14,194 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 19:57:14,194 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('29138aa3-4a44-3c8f-ad48-df6156cbbc42', 'TSLA', 'China Is Going All-In to Beat the U.S. on Humanoid Robots', 'The Wall Street Journal', 'https://www.wsj.com/tech/china-is-going-all-in-to-beat-the-u-s-on-humanoid-robots-b9c434d2?siteid=yhoof2&yptr=yahoo', '2026-02-07 10:30:00.000000', None)
2026-02-07 19:57:14,195 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 19:57:14,195 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('f04ad6df-6e1b-374e-ae73-729817ce7cfe', 'TSLA', "Why I'm Excited (and Cautious) for Tesla Stock in 2026", 'Motley Fool', 'https://finance.yahoo.com/news/why-im-excited-cautious-tesla-094500063.html', '2026-02-07 09:45:00.000000', None)
2026-02-07 19:57:14,196 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 19:57:14,196 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('6d15f63c-e359-350a-9581-4544c66d34fd', 'TSLA', "Tesla's Latest Update Changes Everything", 'Motley Fool', 'https://finance.yahoo.com/news/teslas-latest-changes-everything-092500069.html', '2026-02-07 09:25:00.000000', None)
2026-02-07 19:57:14,196 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 19:57:14,196 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('29f1fe6e-e4d1-300c-b504-b4047dfb09e8', 'TSLA', "Tesla Engineering VP Lars Moravy Urges Ted Cruz-Led Senate Commerce Committee To Build Federal Self-Driving Framework: 'We Must Modernize'", 'Benzinga', 'https://finance.yahoo.com/news/tesla-engineering-vp-lars-moravy-043109953.html', '2026-02-07 04:31:09.000000', None)
2026-02-07 19:57:14,197 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 19:57:14,197 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('2d938e50-d4a4-3d04-80ba-c3181babe69b', 'TSLA', 'Should Teslas AI and Robotaxis Pivot After Weaker 2025 Results Require Action From Tesla (TSLA) Investors?', 'Simply Wall St.', 'https://finance.yahoo.com/news/tesla-ai-robotaxis-pivot-weaker-031005676.html', '2026-02-07 03:10:05.000000', None)
2026-02-07 19:57:14,197 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 19:57:14,197 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('4f8b777a-b8ca-3cfc-ad5b-fe51f3a7c405', 'TSLA', 'Elon Musk warns America will 1,000% go bankrupt, fail as a country due to crazy debt  protect your finances', 'Moneywise', 'https://finance.yahoo.com/news/elon-musk-warns-america-1-221300883.html', '2026-02-06 22:13:00.000000', None)
2026-02-07 19:57:14,198 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 19:57:14,198 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('9d9a2e0c-bfe1-38dc-ad53-75366c5c1e98', 'TSLA', 'Tesla ramping up hiring to support Musks solar manufacturing plan', 'Investing.com', 'https://finance.yahoo.com/news/tesla-ramping-hiring-support-musk-215958332.html', '2026-02-06 21:59:58.000000', None)
2026-02-07 19:57:14,198 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-07 19:57:14,198 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] (1542662258688.0, 384.21494, 143.73822, 1.07, 'TSLA')
2026-02-07 19:57:14,199 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, macd_hist_slope=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, adx_14=?, pivot_point=?, resistance_1=?, resistance_2=?, support_1=?, support_2=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 19:57:14,199 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] (411.11, 3.49941, 40.8067928363515, 430.40899963378905, 444.5526007080078, 381.50070014953616, -10.14145300488093, -7.346233734260868, -2.795219270620062, 0.5429842560145195, 460.4874187350766, 430.40899963378905, 400.33058053250153, 16.820000784737722, 28.726289303081842, 27.83001191159969, 30.518844086046144, 62059400.0, 1.0080600199164027, nan, 395.6133321126302, 403.6966654459635, 410.18333943684894, 389.12665812174475, 381.04332478841144, '2026-02-07 11:57:13.049608', 'TSLA')
2026-02-07 19:57:14,199 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 19:57:14,200 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:57:14,200 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 19:57:14,200 - sqlalchemy.engine.Engine - INFO - [cached since 2145s ago] ('TSLA',)
2026-02-07 19:57:14,201 - api_logger - INFO - rid=/api/portfolio/TSLA/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1154.81ms
2026-02-07 19:57:14,201 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:57:14,204 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:57:14,204 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:57:14,204 - sqlalchemy.engine.Engine - INFO - [cached since 2159s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:57:14,204 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 19:57:14,204 - sqlalchemy.engine.Engine - INFO - [cached since 2159s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:57:14,206 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.14ms
2026-02-07 19:57:14,206 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:57:19,989 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:57:19,990 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:57:19,990 - sqlalchemy.engine.Engine - INFO - [cached since 2165s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:57:19,992 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 19:57:19,992 - sqlalchemy.engine.Engine - INFO - [cached since 2211s ago] ('TSLA',)
2026-02-07 19:57:19,992 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 19:57:19,993 - sqlalchemy.engine.Engine - INFO - [cached since 2165s ago] ('TSLA',)
2026-02-07 19:57:19,993 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:57:19,994 - sqlalchemy.engine.Engine - INFO - [cached since 2159s ago] ('TSLA', 5, 0)
2026-02-07 19:57:19,994 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 19:57:19,995 - sqlalchemy.engine.Engine - INFO - [cached since 2165s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'TSLA')
2026-02-07 19:57:19,995 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for TSLA. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-07 19:57:19,996 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR TSLA ---

         [TSLA] 
        
        **1.  (Fundamental Context)**:
        - /: Consumer Cyclical / Auto Manufacturers
        - : 1542662258688.0
        - PE (TTM): 384.21 | Forward PE: 143.74
        - 52: [214.25, 498.83]
        - Beta: 1.89
        
        **2.  (Portfolio Context)**:
        - : $0.0
        - : 0.0
        - : $0.0 (0%)
        
        **3.  (Technical Data)**:
        - : $411.11
        - : 3.5%
        - RSI (14): 40.81 | KDJ (K): None / (D): None / (J): None
        - MACD: -10.14 (: -2.8, : None)
        -  (BB): : 460.49 | : None | : 400.33
        - MA : [20: 430.41, 50: 444.55, 200: 381.5]
        -  (ADX): None | ATR: 16.82
        -  (Pivots):  R1: None / R2: None |  S1: None / S2: None
        
        **4.  (Recent News)**:
        [{'title': "Ross Gerber Says Tesla Will Be 'Another Division' Of X Amid Ticker Symbol Speculation, SpaceX-xAI Merger", 'publisher': 'Benzinga', 'time': '2026-02-07T11:46:22'}, {'title': 'China Is Going All-In to Beat the U.S. on Humanoid Robots', 'publisher': 'The Wall Street Journal', 'time': '2026-02-07T10:30:00'}, {'title': "Why I'm Excited (and Cautious) for Tesla Stock in 2026", 'publisher': 'Motley Fool', 'time': '2026-02-07T09:45:00'}, {'title': "Tesla's Latest Update Changes Everything", 'publisher': 'Motley Fool', 'time': '2026-02-07T09:25:00'}, {'title': "Tesla Engineering VP Lars Moravy Urges Ted Cruz-Led Senate Commerce Committee To Build Federal Self-Driving Framework: 'We Must Modernize'", 'publisher': 'Benzinga', 'time': '2026-02-07T04:31:09'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (444.55)  (400.33)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "investment_horizon": " ( 2-5 /   /  -)",
            "confidence_level": 0-100 (AI ),
            "immediate_action": " (///)",
            "target_price": "/ (2)",
            "stop_loss_price": "/ (2)",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-07 19:57:39,300 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 19:57:39,303 - app.api.v1.endpoints.analysis - INFO - AI Response for TSLA: {
    "sentiment_score": 58,
    "summary_status": "",
    "risk_level": "",
    "investment_horizon": " ",
    "confidence_level": 72,
    "immediate_action": "",
    "target_price":...
2026-02-07 19:57:39,304 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 19:57:39,304 - sqlalchemy.engine.Engine - INFO - [cached since 2151s ago] ('6f97f3cf-5b7c-44a7-b938-e5d7e4f1c1bc', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'TSLA', '{"market_data": {"current_price": 411.11, "change_percent": 3.5, "rsi_14": 40.81, "ma_20": 430.41, "ma_50": 444.55, "ma_200": 381.5, "macd_val": -10. ... (65 characters truncated) ... dj_k": 28.73, "atr_14": 16.82, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 0.0, "quantity": 0.0, "unrealized_pl": 0.0, "pl_percent": 0}}', '{\n    "sentiment_score": 58,\n    "summary_status": "",\n    "risk_level": "",\n    "investment_horizon": " ",\n    "confidence_level": ... (414 characters truncated) ... 9",\n    "action_advice": "400.3315%460.49200381.50RSI20"\n}', '58', '', '', '411.11460.49400.33RSI 1440.81MACD-2.80200381.5020430.41', 'PE(TTM)384.21Forward PE143.7415426.62Beta 1.89', '400.3315%460.49200381.50RSI20', ' ', 72.0, '', 460.49, 400.33, 'qwen-3-vl-thinking', '2026-02-07 11:57:39.304537')
2026-02-07 19:57:39,305 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 19:57:39,307 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:57:39,307 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 19:57:39,307 - sqlalchemy.engine.Engine - INFO - [cached since 2151s ago] ('6f97f3cf-5b7c-44a7-b938-e5d7e4f1c1bc',)
2026-02-07 19:57:39,308 - api_logger - INFO - rid=/api/analysis/TSLA method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=19319.19ms
2026-02-07 19:57:39,308 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 19:57:39,311 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 19:57:39,311 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 19:57:39,312 - sqlalchemy.engine.Engine - INFO - [cached since 2184s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 19:57:39,315 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 19:57:39,315 - sqlalchemy.engine.Engine - INFO - [cached since 2179s ago] ('TSLA', 20, 0)
2026-02-07 19:57:39,317 - api_logger - INFO - rid=/api/portfolio/TSLA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.33ms
2026-02-07 19:57:39,318 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:31,069 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:31,069 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:31,069 - sqlalchemy.engine.Engine - INFO - [cached since 2416s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:31,070 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:31,071 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:31,071 - sqlalchemy.engine.Engine - INFO - [cached since 2416s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:31,072 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:31,073 - sqlalchemy.engine.Engine - INFO - [cached since 2411s ago] ('SIDU', 20, 0)
2026-02-07 20:01:31,073 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:31,073 - sqlalchemy.engine.Engine - INFO - [cached since 2411s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:01:31,074 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:31,074 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.62ms
2026-02-07 20:01:31,075 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:31,075 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.70ms
2026-02-07 20:01:31,117 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:31,118 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:31,118 - sqlalchemy.engine.Engine - INFO - [cached since 2416s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:31,120 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:31,120 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:31,120 - sqlalchemy.engine.Engine - INFO - [cached since 2416s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:31,121 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:31,121 - sqlalchemy.engine.Engine - INFO - [cached since 2411s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'TSLA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:01:31,121 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:31,122 - sqlalchemy.engine.Engine - INFO - [cached since 2411s ago] ('TSLA', 20, 0)
2026-02-07 20:01:31,122 - api_logger - INFO - rid=/api/analysis/TSLA method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.37ms
2026-02-07 20:01:31,122 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:31,123 - api_logger - INFO - rid=/api/portfolio/TSLA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.37ms
2026-02-07 20:01:31,123 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:31,154 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:31,155 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:31,155 - sqlalchemy.engine.Engine - INFO - [cached since 2416s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:31,155 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:31,155 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:31,155 - sqlalchemy.engine.Engine - INFO - [cached since 2416s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:31,156 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:31,156 - sqlalchemy.engine.Engine - INFO - [cached since 2411s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:01:31,156 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:31,156 - sqlalchemy.engine.Engine - INFO - [cached since 2411s ago] ('SIDU', 20, 0)
2026-02-07 20:01:31,157 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:31,157 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.49ms
2026-02-07 20:01:31,157 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:31,158 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.69ms
2026-02-07 20:01:34,302 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:34,302 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:34,302 - sqlalchemy.engine.Engine - INFO - [cached since 2419s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:34,304 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:34,304 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:34,304 - sqlalchemy.engine.Engine - INFO - [cached since 2419s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:34,305 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:34,305 - sqlalchemy.engine.Engine - INFO - [cached since 2414s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:01:34,306 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:34,306 - sqlalchemy.engine.Engine - INFO - [cached since 2414s ago] ('SLV', 20, 0)
2026-02-07 20:01:34,306 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.62ms
2026-02-07 20:01:34,307 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.41ms
2026-02-07 20:01:34,307 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:34,308 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:34,347 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:34,347 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:34,347 - sqlalchemy.engine.Engine - INFO - [cached since 2419s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:34,347 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:34,347 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:34,347 - sqlalchemy.engine.Engine - INFO - [cached since 2419s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:34,348 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:34,349 - sqlalchemy.engine.Engine - INFO - [cached since 2414s ago] ('SIDU', 20, 0)
2026-02-07 20:01:34,349 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:34,349 - sqlalchemy.engine.Engine - INFO - [cached since 2414s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:01:34,350 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:34,351 - api_logger - INFO - rid=/api/portfolio/SIDU/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.05ms
2026-02-07 20:01:34,351 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.98ms
2026-02-07 20:01:34,352 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:34,394 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:34,394 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:34,394 - sqlalchemy.engine.Engine - INFO - [cached since 2419s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:34,395 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:34,395 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:34,395 - sqlalchemy.engine.Engine - INFO - [cached since 2419s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:34,396 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:34,396 - sqlalchemy.engine.Engine - INFO - [cached since 2414s ago] ('SLV', 20, 0)
2026-02-07 20:01:34,396 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:34,396 - sqlalchemy.engine.Engine - INFO - [cached since 2414s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:01:34,399 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.34ms
2026-02-07 20:01:34,399 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.67ms
2026-02-07 20:01:34,400 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:34,400 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:36,590 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:36,590 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:36,590 - sqlalchemy.engine.Engine - INFO - [cached since 2421s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:36,591 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:36,591 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:36,591 - sqlalchemy.engine.Engine - INFO - [cached since 2421s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:36,592 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:36,592 - sqlalchemy.engine.Engine - INFO - [cached since 2416s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'OKLO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:01:36,592 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:36,592 - sqlalchemy.engine.Engine - INFO - [cached since 2416s ago] ('OKLO', 20, 0)
2026-02-07 20:01:36,592 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:36,593 - api_logger - INFO - rid=/api/portfolio/OKLO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.17ms
2026-02-07 20:01:36,593 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:36,593 - api_logger - INFO - rid=/api/analysis/OKLO method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.80ms
2026-02-07 20:01:36,648 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:36,648 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:36,648 - sqlalchemy.engine.Engine - INFO - [cached since 2421s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:36,649 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:36,649 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:36,649 - sqlalchemy.engine.Engine - INFO - [cached since 2421s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:36,651 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:36,651 - sqlalchemy.engine.Engine - INFO - [cached since 2416s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:01:36,652 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:36,652 - sqlalchemy.engine.Engine - INFO - [cached since 2416s ago] ('SLV', 20, 0)
2026-02-07 20:01:36,654 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.25ms
2026-02-07 20:01:36,655 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.44ms
2026-02-07 20:01:36,655 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:36,655 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:36,693 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:36,694 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:36,694 - sqlalchemy.engine.Engine - INFO - [cached since 2421s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:36,695 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:36,695 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:36,695 - sqlalchemy.engine.Engine - INFO - [cached since 2421s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:36,697 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:36,697 - sqlalchemy.engine.Engine - INFO - [cached since 2416s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'OKLO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:01:36,698 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:36,698 - sqlalchemy.engine.Engine - INFO - [cached since 2416s ago] ('OKLO', 20, 0)
2026-02-07 20:01:36,699 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:36,700 - api_logger - INFO - rid=/api/portfolio/OKLO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.22ms
2026-02-07 20:01:36,701 - api_logger - INFO - rid=/api/analysis/OKLO method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.06ms
2026-02-07 20:01:36,701 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:37,983 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:37,983 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:37,983 - sqlalchemy.engine.Engine - INFO - [cached since 2423s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:37,983 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:37,984 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:37,984 - sqlalchemy.engine.Engine - INFO - [cached since 2423s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:37,985 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:37,986 - sqlalchemy.engine.Engine - INFO - [cached since 2417s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:01:37,987 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:37,987 - sqlalchemy.engine.Engine - INFO - [cached since 2417s ago] ('MSFT', 20, 0)
2026-02-07 20:01:37,987 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:37,988 - api_logger - INFO - rid=/api/portfolio/MSFT/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.51ms
2026-02-07 20:01:37,988 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:37,988 - api_logger - INFO - rid=/api/analysis/MSFT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.89ms
2026-02-07 20:01:38,031 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:38,031 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:38,031 - sqlalchemy.engine.Engine - INFO - [cached since 2423s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:38,032 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:38,033 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:38,033 - sqlalchemy.engine.Engine - INFO - [cached since 2423s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:38,034 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:38,034 - sqlalchemy.engine.Engine - INFO - [cached since 2417s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'OKLO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:01:38,035 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:38,035 - sqlalchemy.engine.Engine - INFO - [cached since 2417s ago] ('OKLO', 20, 0)
2026-02-07 20:01:38,036 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:38,036 - api_logger - INFO - rid=/api/portfolio/OKLO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.07ms
2026-02-07 20:01:38,037 - api_logger - INFO - rid=/api/analysis/OKLO method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.15ms
2026-02-07 20:01:38,037 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:38,076 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:38,076 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:38,076 - sqlalchemy.engine.Engine - INFO - [cached since 2423s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:38,077 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:38,078 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:38,078 - sqlalchemy.engine.Engine - INFO - [cached since 2423s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:38,080 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:38,080 - sqlalchemy.engine.Engine - INFO - [cached since 2418s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:01:38,081 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:38,081 - sqlalchemy.engine.Engine - INFO - [cached since 2418s ago] ('MSFT', 20, 0)
2026-02-07 20:01:38,082 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:38,082 - api_logger - INFO - rid=/api/portfolio/MSFT/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.75ms
2026-02-07 20:01:38,083 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:38,083 - api_logger - INFO - rid=/api/analysis/MSFT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.81ms
2026-02-07 20:01:41,500 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:41,500 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:41,500 - sqlalchemy.engine.Engine - INFO - [cached since 2426s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:41,500 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:41,500 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:41,501 - sqlalchemy.engine.Engine - INFO - [cached since 2426s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:41,501 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:41,501 - sqlalchemy.engine.Engine - INFO - [cached since 2421s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:01:41,501 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:41,501 - sqlalchemy.engine.Engine - INFO - [cached since 2421s ago] ('002050', 20, 0)
2026-02-07 20:01:41,503 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.18ms
2026-02-07 20:01:41,504 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.39ms
2026-02-07 20:01:41,504 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:41,504 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:41,547 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:41,547 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:41,547 - sqlalchemy.engine.Engine - INFO - [cached since 2426s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:41,548 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:41,548 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:41,548 - sqlalchemy.engine.Engine - INFO - [cached since 2426s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:41,550 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:41,550 - sqlalchemy.engine.Engine - INFO - [cached since 2421s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:01:41,551 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:41,552 - sqlalchemy.engine.Engine - INFO - [cached since 2421s ago] ('MSFT', 20, 0)
2026-02-07 20:01:41,552 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:41,552 - api_logger - INFO - rid=/api/portfolio/MSFT/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.91ms
2026-02-07 20:01:41,553 - api_logger - INFO - rid=/api/analysis/MSFT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.65ms
2026-02-07 20:01:41,553 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:41,590 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:41,591 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:41,592 - sqlalchemy.engine.Engine - INFO - [cached since 2426s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:41,594 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:41,594 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:41,594 - sqlalchemy.engine.Engine - INFO - [cached since 2426s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:41,596 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:41,596 - sqlalchemy.engine.Engine - INFO - [cached since 2421s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:01:41,597 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:41,598 - sqlalchemy.engine.Engine - INFO - [cached since 2421s ago] ('002050', 20, 0)
2026-02-07 20:01:41,600 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=13.12ms
2026-02-07 20:01:41,601 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.04ms
2026-02-07 20:01:41,602 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:41,602 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:42,520 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:42,520 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:42,520 - sqlalchemy.engine.Engine - INFO - [cached since 2427s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:42,522 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:42,522 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:42,522 - sqlalchemy.engine.Engine - INFO - [cached since 2427s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:42,522 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:42,522 - sqlalchemy.engine.Engine - INFO - [cached since 2422s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:01:42,523 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:42,523 - sqlalchemy.engine.Engine - INFO - [cached since 2422s ago] ('AAPL', 20, 0)
2026-02-07 20:01:42,523 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.76ms
2026-02-07 20:01:42,524 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:42,524 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.50ms
2026-02-07 20:01:42,525 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:42,567 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:42,567 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:42,567 - sqlalchemy.engine.Engine - INFO - [cached since 2427s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:42,568 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:42,569 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:42,569 - sqlalchemy.engine.Engine - INFO - [cached since 2427s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:42,570 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:42,570 - sqlalchemy.engine.Engine - INFO - [cached since 2422s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:01:42,571 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:42,571 - sqlalchemy.engine.Engine - INFO - [cached since 2422s ago] ('002050', 20, 0)
2026-02-07 20:01:42,572 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.40ms
2026-02-07 20:01:42,573 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:42,573 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.54ms
2026-02-07 20:01:42,573 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:42,607 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:42,607 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:42,607 - sqlalchemy.engine.Engine - INFO - [cached since 2427s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:42,608 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:01:42,608 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:01:42,608 - sqlalchemy.engine.Engine - INFO - [cached since 2427s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:01:42,610 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:42,610 - sqlalchemy.engine.Engine - INFO - [cached since 2422s ago] ('AAPL', 20, 0)
2026-02-07 20:01:42,611 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:01:42,611 - sqlalchemy.engine.Engine - INFO - [cached since 2422s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:01:42,612 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.30ms
2026-02-07 20:01:42,613 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:01:42,613 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.99ms
2026-02-07 20:01:42,614 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:24:29,700 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:24:29,701 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:24:29,701 - sqlalchemy.engine.Engine - INFO - [cached since 3794s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:24:29,701 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:24:29,701 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:24:29,701 - sqlalchemy.engine.Engine - INFO - [cached since 3794s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:24:29,702 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:24:29,702 - sqlalchemy.engine.Engine - INFO - [cached since 3789s ago] ('AMD', 20, 0)
2026-02-07 20:24:29,703 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:24:29,703 - sqlalchemy.engine.Engine - INFO - [cached since 3789s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:24:29,704 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.97ms
2026-02-07 20:24:29,705 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.86ms
2026-02-07 20:24:29,705 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:24:29,705 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:24:29,750 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:24:29,750 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:24:29,750 - sqlalchemy.engine.Engine - INFO - [cached since 3794s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:24:29,751 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:24:29,751 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:24:29,751 - sqlalchemy.engine.Engine - INFO - [cached since 3794s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:24:29,751 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:24:29,751 - sqlalchemy.engine.Engine - INFO - [cached since 3789s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:24:29,751 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:24:29,752 - sqlalchemy.engine.Engine - INFO - [cached since 3789s ago] ('AAPL', 20, 0)
2026-02-07 20:24:29,752 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.20ms
2026-02-07 20:24:29,752 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:24:29,764 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=13.58ms
2026-02-07 20:24:29,764 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:24:29,786 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:24:29,786 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:24:29,787 - sqlalchemy.engine.Engine - INFO - [cached since 3794s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:24:29,788 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:24:29,788 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:24:29,788 - sqlalchemy.engine.Engine - INFO - [cached since 3794s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:24:29,788 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:24:29,788 - sqlalchemy.engine.Engine - INFO - [cached since 3789s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:24:29,789 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:24:29,789 - sqlalchemy.engine.Engine - INFO - [cached since 3789s ago] ('AMD', 20, 0)
2026-02-07 20:24:29,789 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.38ms
2026-02-07 20:24:29,791 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:24:29,791 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.01ms
2026-02-07 20:24:29,791 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:24:34,919 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:24:34,919 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:24:34,919 - sqlalchemy.engine.Engine - INFO - [cached since 3800s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:24:34,920 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:24:34,920 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:24:34,920 - sqlalchemy.engine.Engine - INFO - [cached since 3800s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:24:34,920 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:24:34,920 - sqlalchemy.engine.Engine - INFO - [cached since 3794s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:24:34,921 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:24:34,921 - sqlalchemy.engine.Engine - INFO - [cached since 3794s ago] ('MSFT', 20, 0)
2026-02-07 20:24:34,921 - api_logger - INFO - rid=/api/portfolio/MSFT/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.73ms
2026-02-07 20:24:34,921 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:24:34,922 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:24:34,922 - api_logger - INFO - rid=/api/analysis/MSFT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.54ms
2026-02-07 20:24:34,964 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:24:34,964 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:24:34,964 - sqlalchemy.engine.Engine - INFO - [cached since 3800s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:24:34,965 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:24:34,965 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:24:34,965 - sqlalchemy.engine.Engine - INFO - [cached since 3800s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:24:34,966 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:24:34,966 - sqlalchemy.engine.Engine - INFO - [cached since 3794s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:24:34,966 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:24:34,967 - sqlalchemy.engine.Engine - INFO - [cached since 3794s ago] ('AMD', 20, 0)
2026-02-07 20:24:34,969 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.54ms
2026-02-07 20:24:34,969 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.53ms
2026-02-07 20:24:34,970 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:24:34,970 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:24:35,012 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:24:35,013 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:24:35,013 - sqlalchemy.engine.Engine - INFO - [cached since 3800s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:24:35,013 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:24:35,014 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:24:35,014 - sqlalchemy.engine.Engine - INFO - [cached since 3800s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:24:35,015 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:24:35,015 - sqlalchemy.engine.Engine - INFO - [cached since 3794s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:24:35,015 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:24:35,015 - sqlalchemy.engine.Engine - INFO - [cached since 3794s ago] ('MSFT', 20, 0)
2026-02-07 20:24:35,016 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:24:35,016 - api_logger - INFO - rid=/api/analysis/MSFT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.61ms
2026-02-07 20:24:35,017 - api_logger - INFO - rid=/api/portfolio/MSFT/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.80ms
2026-02-07 20:24:35,017 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:24:39,251 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:24:39,251 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:24:39,251 - sqlalchemy.engine.Engine - INFO - [cached since 3804s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:24:39,253 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 20:24:39,253 - sqlalchemy.engine.Engine - INFO - [cached since 3804s ago] ('MSFT',)
2026-02-07 20:24:40,044 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 20:24:40,044 - sqlalchemy.engine.Engine - INFO - [cached since 3851s ago] ('MSFT',)
2026-02-07 20:24:40,047 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 20:24:40,047 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ('f9af2084-3302-4faa-8e26-cbeb75d1d310', 'MSFT', 'Amazon stock sinks after company touts $200 billion AI spending plans, offers cautious profit outlook', 'Yahoo Finance', 'https://finance.yahoo.com/news/amazon-stock-sinks-after-company-touts-200-billion-ai-spending-plans-offers-cautious-profit-outlook-173054116.html', '2026-02-04 17:30:54.000000', None)
2026-02-07 20:24:40,048 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 20:24:40,048 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('54e604c4-ce1b-459c-8886-e2d863f40f97', 'MSFT', 'Big Tech set to spend $650 billion in 2026 as AI investments soar', 'Yahoo Finance', 'https://finance.yahoo.com/news/big-tech-set-to-spend-650-billion-in-2026-as-ai-investments-soar-163907630.html', '2026-02-06 16:39:07.000000', None)
2026-02-07 20:24:40,049 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 20:24:40,049 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('100d5317-d117-31c3-b27b-814d447053d9', 'MSFT', '2 Unstoppable Stocks That Can Be Great Options for Any Investor', 'Motley Fool', 'https://finance.yahoo.com/news/2-unstoppable-stocks-great-options-105500430.html', '2026-02-07 10:55:00.000000', None)
2026-02-07 20:24:40,049 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 20:24:40,050 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('f2e491e1-516b-37a7-8f08-dd299fb384c8', 'MSFT', 'Big Techs AI Push Is Costing a Lot More Than the Moon Landing', 'The Wall Street Journal', 'https://www.wsj.com/tech/ai/ai-spending-tech-companies-compared-02b90046?siteid=yhoof2&yptr=yahoo', '2026-02-07 10:30:00.000000', None)
2026-02-07 20:24:40,050 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 20:24:40,050 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('c7237d8b-3695-3abc-87de-d9989423c6ee', 'MSFT', 'WEC Energy Group Q4 Earnings Call Highlights', 'MarketBeat', 'https://finance.yahoo.com/news/wec-energy-group-q4-earnings-080645757.html', '2026-02-07 08:06:45.000000', None)
2026-02-07 20:24:40,050 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 20:24:40,050 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('a87d2ff8-5aa8-3061-b69f-d6ea76ef204f', 'MSFT', 'Buy the Dip in Amazon Stock After Mixed Q4 Results & CapEx Concerns?', 'Zacks', 'https://finance.yahoo.com/news/buy-dip-amazon-stock-mixed-002000273.html', '2026-02-07 00:20:00.000000', None)
2026-02-07 20:24:40,051 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 20:24:40,051 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('da443e0e-6c7d-3138-a0fb-8eec3f0704cf', 'MSFT', 'Stock Market Today, Feb. 6: Iren Rises on Microsoft Cloud Expansion and AI Data Center Pivot', 'Motley Fool', 'https://finance.yahoo.com/news/stock-market-today-feb-6-231655226.html', '2026-02-06 23:16:55.000000', None)
2026-02-07 20:24:40,051 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 20:24:40,051 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('77e26f50-92b3-3cb6-8f5c-01a438e44f5b', 'MSFT', 'Stocks rebound after a dramatic week sparked by ongoing AI uncertainty', 'NBC News', 'https://finance.yahoo.com/news/stocks-rebound-dramatic-week-sparked-225745288.html', '2026-02-06 22:57:45.000000', None)
2026-02-07 20:24:40,051 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 20:24:40,052 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('d5f6d70b-adbf-3412-b185-ebea8f943d91', 'MSFT', 'Stock Market Today: Dow Closes Above 50,000 As Nvidia Lands Atop Blue Chips (Live Coverage)', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-sp500-nasdaq-bitcoin-price-amazon-stock-amzn/?src=A00220&yptr=yahoo', '2026-02-06 22:49:24.000000', None)
2026-02-07 20:24:40,052 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-07 20:24:40,052 - sqlalchemy.engine.Engine - INFO - [no key 0.00004s] ('0b7e9b54-d972-39d4-b962-280200b544dc', 'MSFT', 'An AI Fight Is Threatening the Market. How to Avoid Getting Hurt.', 'Barrons.com', 'https://www.barrons.com/articles/tech-ai-stocks-market-volatility-safety-a39f04bf?siteid=yhoof2&yptr=yahoo', '2026-02-06 21:57:00.000000', None)
2026-02-07 20:24:40,053 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, macd_hist_slope=?, bb_upper=?, bb_lower=?, adx_14=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-07 20:24:40,053 - sqlalchemy.engine.Engine - INFO - [generated in 0.00006s] (485.83889739990235, -18.782934732610443, -12.7391776620034, -6.043757070607043, 0.16279902852513928, 503.2614592904249, 392.5995422964892, nan, '2026-02-07 12:24:39.253909', 'MSFT')
2026-02-07 20:24:40,053 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 20:24:40,054 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:24:40,054 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 20:24:40,054 - sqlalchemy.engine.Engine - INFO - [cached since 3790s ago] ('MSFT',)
2026-02-07 20:24:40,054 - api_logger - INFO - rid=/api/portfolio/MSFT/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=804.14ms
2026-02-07 20:24:40,054 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:24:40,058 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:24:40,058 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:24:40,058 - sqlalchemy.engine.Engine - INFO - [cached since 3805s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:24:40,059 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 20:24:40,059 - sqlalchemy.engine.Engine - INFO - [cached since 3805s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:24:40,060 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.29ms
2026-02-07 20:24:40,060 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:24:41,227 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:24:41,228 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:24:41,228 - sqlalchemy.engine.Engine - INFO - [cached since 3806s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:24:41,230 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-07 20:24:41,230 - sqlalchemy.engine.Engine - INFO - [cached since 3852s ago] ('MSFT',)
2026-02-07 20:24:41,231 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-07 20:24:41,231 - sqlalchemy.engine.Engine - INFO - [cached since 3806s ago] ('MSFT',)
2026-02-07 20:24:41,232 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:24:41,232 - sqlalchemy.engine.Engine - INFO - [cached since 3801s ago] ('MSFT', 5, 0)
2026-02-07 20:24:41,233 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-07 20:24:41,233 - sqlalchemy.engine.Engine - INFO - [cached since 3806s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT')
2026-02-07 20:24:41,233 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for MSFT. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-07 20:24:41,233 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR MSFT ---

         [MSFT] 
        
        **1.  (Fundamental Context)**:
        - /: Technology / Software - Infrastructure
        - : 2981424267264.0
        - PE (TTM): 25.12 | Forward PE: 21.26
        - 52: [344.79, 555.45]
        - Beta: 1.08
        
        **2.  (Portfolio Context)**:
        - : $0.0
        - : 0.0
        - : $0.0 (0%)
        
        **3.  (Technical Data)**:
        - : $401.14
        - : 1.9%
        - RSI (14): 31.02 | KDJ (K): None / (D): None / (J): None
        - MACD: -18.78 (: -6.04, : None)
        -  (BB): : 503.26 | : None | : 392.6
        - MA : [20: 447.93, 50: 468.88, 200: 485.84]
        -  (ADX): None | ATR: 16.05
        -  (Pivots):  R1: None / R2: None |  S1: None / S2: None
        
        **4.  (Recent News)**:
        [{'title': '2 Unstoppable Stocks That Can Be Great Options for Any Investor', 'publisher': 'Motley Fool', 'time': '2026-02-07T10:55:00'}, {'title': 'Big Techs AI Push Is Costing a Lot More Than the Moon Landing', 'publisher': 'The Wall Street Journal', 'time': '2026-02-07T10:30:00'}, {'title': 'WEC Energy Group Q4 Earnings Call Highlights', 'publisher': 'MarketBeat', 'time': '2026-02-07T08:06:45'}, {'title': 'Stock Market Today, Feb. 6: Iren Rises on Microsoft Cloud Expansion and AI Data Center Pivot', 'publisher': 'Motley Fool', 'time': '2026-02-06T23:16:55'}, {'title': 'An AI Fight Is Threatening the Market. How to Avoid Getting Hurt.', 'publisher': 'Barrons.com', 'time': '2026-02-06T21:57:00'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (468.88)  (392.6)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "investment_horizon": " ( 2-5 /   /  -)",
            "confidence_level": 0-100 (AI ),
            "immediate_action": " (///)",
            "target_price": "/ (2)",
            "stop_loss_price": "/ (2)",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-07 20:25:07,237 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-07 20:25:07,240 - app.api.v1.endpoints.analysis - INFO - AI Response for MSFT: {
    "sentiment_score": 58,
    "summary_status": "",
    "risk_level": "",
    "investment_horizon": " ",
    "confidence_level": 72,
    "immediate_action": "",
    "target_price": 5...
2026-02-07 20:25:07,241 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-07 20:25:07,241 - sqlalchemy.engine.Engine - INFO - [cached since 3799s ago] ('c68aaaee-860c-4e22-b6bc-ed3c0c76f07d', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', '{"market_data": {"current_price": 401.14, "change_percent": 1.9, "rsi_14": 31.02, "ma_20": 447.93, "ma_50": 468.88, "ma_200": 485.84, "macd_val": -18 ... (66 characters truncated) ... dj_k": 10.91, "atr_14": 16.05, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 0.0, "quantity": 0.0, "unrealized_pl": 0.0, "pl_percent": 0}}', '{\n    "sentiment_score": 58,\n    "summary_status": "",\n    "risk_level": "",\n    "investment_horizon": " ",\n    "confidence_level": 7 ... (373 characters truncated) ... ",\n    "action_advice": "400-405401.14392.60-2.1%503.26+25.4%20447.9310%1:3"\n}', '58', '', '', '401.14392.60RSI 31.02MACD-6.0450468.88200485.84392.60503.26', 'Forward PE 21.26TTM25.12AI26IrenWSJAI', '400-405401.14392.60-2.1%503.26+25.4%20447.9310%1:3', ' ', 72.0, '', 503.26, 392.6, 'qwen-3-vl-thinking', '2026-02-07 12:25:07.241297')
2026-02-07 20:25:07,242 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-07 20:25:07,243 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:25:07,243 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-07 20:25:07,243 - sqlalchemy.engine.Engine - INFO - [cached since 3799s ago] ('c68aaaee-860c-4e22-b6bc-ed3c0c76f07d',)
2026-02-07 20:25:07,244 - api_logger - INFO - rid=/api/analysis/MSFT method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=26017.68ms
2026-02-07 20:25:07,245 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:25:07,248 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:25:07,248 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:25:07,248 - sqlalchemy.engine.Engine - INFO - [cached since 3832s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:25:07,249 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:25:07,249 - sqlalchemy.engine.Engine - INFO - [cached since 3827s ago] ('MSFT', 20, 0)
2026-02-07 20:25:07,250 - api_logger - INFO - rid=/api/portfolio/MSFT/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.68ms
2026-02-07 20:25:07,250 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:31,357 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:31,358 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:31,358 - sqlalchemy.engine.Engine - INFO - [cached since 5252s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:31,359 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:31,359 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:31,359 - sqlalchemy.engine.Engine - INFO - [cached since 5252s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:31,361 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:31,361 - sqlalchemy.engine.Engine - INFO - [cached since 5247s ago] ('NDX', 20, 0)
2026-02-07 20:51:31,362 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:31,362 - sqlalchemy.engine.Engine - INFO - [cached since 5247s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:51:31,365 - api_logger - INFO - rid=/api/portfolio/NDX/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.75ms
2026-02-07 20:51:31,368 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:31,368 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:31,369 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=15.57ms
2026-02-07 20:51:31,382 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:31,382 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:31,382 - sqlalchemy.engine.Engine - INFO - [cached since 5252s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:31,384 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:31,385 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:31,385 - sqlalchemy.engine.Engine - INFO - [cached since 5252s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:31,386 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:31,386 - sqlalchemy.engine.Engine - INFO - [cached since 5247s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:51:31,386 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:31,386 - sqlalchemy.engine.Engine - INFO - [cached since 5247s ago] ('MSFT', 20, 0)
2026-02-07 20:51:31,387 - api_logger - INFO - rid=/api/analysis/MSFT method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.50ms
2026-02-07 20:51:31,387 - api_logger - INFO - rid=/api/portfolio/MSFT/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.28ms
2026-02-07 20:51:31,388 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:31,388 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:31,452 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:31,453 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:31,453 - sqlalchemy.engine.Engine - INFO - [cached since 5252s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:31,453 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:31,453 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:31,453 - sqlalchemy.engine.Engine - INFO - [cached since 5252s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:31,454 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:31,454 - sqlalchemy.engine.Engine - INFO - [cached since 5247s ago] ('NDX', 20, 0)
2026-02-07 20:51:31,455 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:31,455 - sqlalchemy.engine.Engine - INFO - [cached since 5247s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:51:31,456 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:31,456 - api_logger - INFO - rid=/api/portfolio/NDX/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.06ms
2026-02-07 20:51:31,456 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:31,456 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.23ms
2026-02-07 20:51:32,598 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:32,598 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:32,598 - sqlalchemy.engine.Engine - INFO - [cached since 5253s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:32,600 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:32,600 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:32,600 - sqlalchemy.engine.Engine - INFO - [cached since 5253s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:32,601 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:32,601 - sqlalchemy.engine.Engine - INFO - [cached since 5248s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NVDA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:51:32,601 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:32,601 - sqlalchemy.engine.Engine - INFO - [cached since 5248s ago] ('NVDA', 20, 0)
2026-02-07 20:51:32,602 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:32,602 - api_logger - INFO - rid=/api/portfolio/NVDA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.20ms
2026-02-07 20:51:32,602 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:32,602 - api_logger - INFO - rid=/api/analysis/NVDA method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.31ms
2026-02-07 20:51:32,644 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:32,644 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:32,644 - sqlalchemy.engine.Engine - INFO - [cached since 5253s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:32,645 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:32,645 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:32,645 - sqlalchemy.engine.Engine - INFO - [cached since 5253s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:32,646 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:32,647 - sqlalchemy.engine.Engine - INFO - [cached since 5248s ago] ('NDX', 20, 0)
2026-02-07 20:51:32,648 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:32,648 - sqlalchemy.engine.Engine - INFO - [cached since 5248s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:51:32,649 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:32,650 - api_logger - INFO - rid=/api/portfolio/NDX/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.20ms
2026-02-07 20:51:32,650 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:32,650 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.58ms
2026-02-07 20:51:32,685 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:32,685 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:32,685 - sqlalchemy.engine.Engine - INFO - [cached since 5253s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:32,687 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:32,688 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:32,688 - sqlalchemy.engine.Engine - INFO - [cached since 5253s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:32,690 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:32,690 - sqlalchemy.engine.Engine - INFO - [cached since 5248s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NVDA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:51:32,691 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:32,691 - sqlalchemy.engine.Engine - INFO - [cached since 5248s ago] ('NVDA', 20, 0)
2026-02-07 20:51:32,692 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:32,692 - api_logger - INFO - rid=/api/portfolio/NVDA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.78ms
2026-02-07 20:51:32,692 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:32,693 - api_logger - INFO - rid=/api/analysis/NVDA method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.50ms
2026-02-07 20:51:33,512 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:33,513 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:33,513 - sqlalchemy.engine.Engine - INFO - [cached since 5254s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:33,513 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:33,514 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:33,514 - sqlalchemy.engine.Engine - INFO - [cached since 5254s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:33,516 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:33,516 - sqlalchemy.engine.Engine - INFO - [cached since 5249s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:51:33,517 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:33,517 - sqlalchemy.engine.Engine - INFO - [cached since 5249s ago] ('NDX', 20, 0)
2026-02-07 20:51:33,518 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:33,519 - api_logger - INFO - rid=/api/portfolio/NDX/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.13ms
2026-02-07 20:51:33,519 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.90ms
2026-02-07 20:51:33,520 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:33,524 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:33,524 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:33,524 - sqlalchemy.engine.Engine - INFO - [cached since 5254s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:33,525 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:33,525 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:33,525 - sqlalchemy.engine.Engine - INFO - [cached since 5254s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:33,525 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:33,525 - sqlalchemy.engine.Engine - INFO - [cached since 5249s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NVDA', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:51:33,526 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:33,526 - sqlalchemy.engine.Engine - INFO - [cached since 5249s ago] ('NVDA', 20, 0)
2026-02-07 20:51:33,526 - api_logger - INFO - rid=/api/portfolio/NVDA/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.62ms
2026-02-07 20:51:33,526 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:33,527 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:33,528 - api_logger - INFO - rid=/api/analysis/NVDA method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.93ms
2026-02-07 20:51:33,557 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:33,557 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:33,557 - sqlalchemy.engine.Engine - INFO - [cached since 5254s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:33,558 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:33,559 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:33,559 - sqlalchemy.engine.Engine - INFO - [cached since 5254s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:33,560 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:33,560 - sqlalchemy.engine.Engine - INFO - [cached since 5249s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:51:33,561 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:33,561 - sqlalchemy.engine.Engine - INFO - [cached since 5249s ago] ('NDX', 20, 0)
2026-02-07 20:51:33,561 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:33,562 - api_logger - INFO - rid=/api/portfolio/NDX/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.35ms
2026-02-07 20:51:33,562 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:33,562 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.19ms
2026-02-07 20:51:34,532 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:34,533 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:34,533 - sqlalchemy.engine.Engine - INFO - [cached since 5255s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:34,534 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:34,534 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:34,534 - sqlalchemy.engine.Engine - INFO - [cached since 5255s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:34,535 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:34,535 - sqlalchemy.engine.Engine - INFO - [cached since 5250s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'OKLO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:51:34,535 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:34,535 - sqlalchemy.engine.Engine - INFO - [cached since 5250s ago] ('OKLO', 20, 0)
2026-02-07 20:51:34,536 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:34,536 - api_logger - INFO - rid=/api/portfolio/OKLO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.76ms
2026-02-07 20:51:34,536 - api_logger - INFO - rid=/api/analysis/OKLO method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.97ms
2026-02-07 20:51:34,537 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:34,574 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:34,574 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:34,574 - sqlalchemy.engine.Engine - INFO - [cached since 5255s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:34,576 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:34,576 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:34,576 - sqlalchemy.engine.Engine - INFO - [cached since 5255s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:34,577 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:34,578 - sqlalchemy.engine.Engine - INFO - [cached since 5250s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:51:34,578 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:34,578 - sqlalchemy.engine.Engine - INFO - [cached since 5250s ago] ('NDX', 20, 0)
2026-02-07 20:51:34,579 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:34,579 - api_logger - INFO - rid=/api/portfolio/NDX/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.68ms
2026-02-07 20:51:34,580 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:34,581 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.81ms
2026-02-07 20:51:34,613 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:34,613 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:34,613 - sqlalchemy.engine.Engine - INFO - [cached since 5255s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:34,615 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:34,615 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:34,615 - sqlalchemy.engine.Engine - INFO - [cached since 5255s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:34,617 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:34,617 - sqlalchemy.engine.Engine - INFO - [cached since 5250s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'OKLO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:51:34,617 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:34,618 - sqlalchemy.engine.Engine - INFO - [cached since 5250s ago] ('OKLO', 20, 0)
2026-02-07 20:51:34,618 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:34,618 - api_logger - INFO - rid=/api/portfolio/OKLO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.56ms
2026-02-07 20:51:34,619 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:34,619 - api_logger - INFO - rid=/api/analysis/OKLO method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.24ms
2026-02-07 20:51:35,463 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:35,463 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:35,463 - sqlalchemy.engine.Engine - INFO - [cached since 5256s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:35,464 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:35,465 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:35,465 - sqlalchemy.engine.Engine - INFO - [cached since 5256s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:35,467 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:35,467 - sqlalchemy.engine.Engine - INFO - [cached since 5251s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:51:35,468 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:35,468 - sqlalchemy.engine.Engine - INFO - [cached since 5251s ago] ('MSFT', 20, 0)
2026-02-07 20:51:35,470 - api_logger - INFO - rid=/api/analysis/MSFT method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.95ms
2026-02-07 20:51:35,470 - api_logger - INFO - rid=/api/portfolio/MSFT/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.30ms
2026-02-07 20:51:35,471 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:35,471 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:35,474 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:35,475 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:35,475 - sqlalchemy.engine.Engine - INFO - [cached since 5256s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:35,476 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:35,476 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:35,476 - sqlalchemy.engine.Engine - INFO - [cached since 5256s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:35,476 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:35,476 - sqlalchemy.engine.Engine - INFO - [cached since 5251s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'OKLO', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:51:35,477 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:35,477 - sqlalchemy.engine.Engine - INFO - [cached since 5251s ago] ('OKLO', 20, 0)
2026-02-07 20:51:35,477 - api_logger - INFO - rid=/api/portfolio/OKLO/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.34ms
2026-02-07 20:51:35,477 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:35,477 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:35,478 - api_logger - INFO - rid=/api/analysis/OKLO method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.37ms
2026-02-07 20:51:35,502 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:35,503 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:35,503 - sqlalchemy.engine.Engine - INFO - [cached since 5256s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:35,509 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:35,510 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:35,510 - sqlalchemy.engine.Engine - INFO - [cached since 5256s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:35,511 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:35,511 - sqlalchemy.engine.Engine - INFO - [cached since 5251s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:51:35,512 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:35,512 - sqlalchemy.engine.Engine - INFO - [cached since 5251s ago] ('MSFT', 20, 0)
2026-02-07 20:51:35,512 - api_logger - INFO - rid=/api/analysis/MSFT method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.72ms
2026-02-07 20:51:35,512 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:35,513 - api_logger - INFO - rid=/api/portfolio/MSFT/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.89ms
2026-02-07 20:51:35,517 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:50,303 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:50,303 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:50,304 - sqlalchemy.engine.Engine - INFO - [cached since 5271s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:50,305 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:50,305 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:50,305 - sqlalchemy.engine.Engine - INFO - [cached since 5271s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:50,306 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:50,306 - sqlalchemy.engine.Engine - INFO - [cached since 5266s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:51:50,306 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:50,306 - sqlalchemy.engine.Engine - INFO - [cached since 5266s ago] ('002050', 20, 0)
2026-02-07 20:51:50,307 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.94ms
2026-02-07 20:51:50,307 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.25ms
2026-02-07 20:51:50,308 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:50,308 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:50,348 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:50,348 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:50,348 - sqlalchemy.engine.Engine - INFO - [cached since 5271s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:50,349 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:50,350 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:50,350 - sqlalchemy.engine.Engine - INFO - [cached since 5271s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:50,351 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:50,351 - sqlalchemy.engine.Engine - INFO - [cached since 5266s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:51:50,351 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:50,351 - sqlalchemy.engine.Engine - INFO - [cached since 5266s ago] ('MSFT', 20, 0)
2026-02-07 20:51:50,352 - api_logger - INFO - rid=/api/analysis/MSFT method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.24ms
2026-02-07 20:51:50,352 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:50,352 - api_logger - INFO - rid=/api/portfolio/MSFT/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.86ms
2026-02-07 20:51:50,353 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:50,388 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:50,388 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:50,389 - sqlalchemy.engine.Engine - INFO - [cached since 5271s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:50,391 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:50,392 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:50,392 - sqlalchemy.engine.Engine - INFO - [cached since 5271s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:50,394 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:50,394 - sqlalchemy.engine.Engine - INFO - [cached since 5266s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:51:50,395 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:50,395 - sqlalchemy.engine.Engine - INFO - [cached since 5266s ago] ('002050', 20, 0)
2026-02-07 20:51:50,395 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.77ms
2026-02-07 20:51:50,396 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:50,396 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.10ms
2026-02-07 20:51:50,399 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:57,172 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:57,173 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:57,173 - sqlalchemy.engine.Engine - INFO - [cached since 5278s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:57,175 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:57,175 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:57,175 - sqlalchemy.engine.Engine - INFO - [cached since 5278s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:57,177 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:57,177 - sqlalchemy.engine.Engine - INFO - [cached since 5273s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:51:57,178 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:57,178 - sqlalchemy.engine.Engine - INFO - [cached since 5273s ago] ('AAPL', 20, 0)
2026-02-07 20:51:57,179 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.28ms
2026-02-07 20:51:57,182 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:57,182 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.16ms
2026-02-07 20:51:57,183 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:57,216 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:57,216 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:57,216 - sqlalchemy.engine.Engine - INFO - [cached since 5278s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:57,217 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:57,217 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:57,217 - sqlalchemy.engine.Engine - INFO - [cached since 5278s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:57,219 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:57,219 - sqlalchemy.engine.Engine - INFO - [cached since 5273s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:51:57,220 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:57,220 - sqlalchemy.engine.Engine - INFO - [cached since 5273s ago] ('002050', 20, 0)
2026-02-07 20:51:57,220 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.17ms
2026-02-07 20:51:57,221 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:57,221 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.66ms
2026-02-07 20:51:57,221 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:57,265 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:57,265 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:57,265 - sqlalchemy.engine.Engine - INFO - [cached since 5278s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:57,265 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:51:57,265 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:51:57,265 - sqlalchemy.engine.Engine - INFO - [cached since 5278s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:51:57,266 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:57,266 - sqlalchemy.engine.Engine - INFO - [cached since 5273s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:51:57,266 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:51:57,266 - sqlalchemy.engine.Engine - INFO - [cached since 5273s ago] ('AAPL', 20, 0)
2026-02-07 20:51:57,266 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.42ms
2026-02-07 20:51:57,267 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:51:57,268 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.09ms
2026-02-07 20:51:57,268 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:42,555 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:42,555 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:42,555 - sqlalchemy.engine.Engine - INFO - [cached since 5383s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:42,556 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:42,556 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:42,556 - sqlalchemy.engine.Engine - INFO - [cached since 5383s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:42,556 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:42,556 - sqlalchemy.engine.Engine - INFO - [cached since 5378s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:53:42,557 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:42,557 - sqlalchemy.engine.Engine - INFO - [cached since 5378s ago] ('AMD', 20, 0)
2026-02-07 20:53:42,557 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.38ms
2026-02-07 20:53:42,559 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:42,559 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.18ms
2026-02-07 20:53:42,559 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:42,595 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:42,595 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:42,595 - sqlalchemy.engine.Engine - INFO - [cached since 5383s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:42,596 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:42,596 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:42,596 - sqlalchemy.engine.Engine - INFO - [cached since 5383s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:42,598 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:42,599 - sqlalchemy.engine.Engine - INFO - [cached since 5378s ago] ('AAPL', 20, 0)
2026-02-07 20:53:42,599 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:42,599 - sqlalchemy.engine.Engine - INFO - [cached since 5378s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:53:42,600 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.94ms
2026-02-07 20:53:42,601 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:42,601 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.06ms
2026-02-07 20:53:42,602 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:42,636 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:42,637 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:42,637 - sqlalchemy.engine.Engine - INFO - [cached since 5383s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:42,637 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:42,638 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:42,638 - sqlalchemy.engine.Engine - INFO - [cached since 5383s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:42,638 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:42,638 - sqlalchemy.engine.Engine - INFO - [cached since 5378s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:53:42,639 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:42,639 - sqlalchemy.engine.Engine - INFO - [cached since 5378s ago] ('AMD', 20, 0)
2026-02-07 20:53:42,640 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.95ms
2026-02-07 20:53:42,641 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:42,641 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.82ms
2026-02-07 20:53:42,641 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:46,036 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:46,036 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:46,036 - sqlalchemy.engine.Engine - INFO - [cached since 5387s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:46,037 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:46,037 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:46,037 - sqlalchemy.engine.Engine - INFO - [cached since 5387s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:46,038 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:46,038 - sqlalchemy.engine.Engine - INFO - [cached since 5382s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:53:46,039 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:46,039 - sqlalchemy.engine.Engine - INFO - [cached since 5382s ago] ('AAPL', 20, 0)
2026-02-07 20:53:46,039 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.68ms
2026-02-07 20:53:46,040 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:46,040 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.03ms
2026-02-07 20:53:46,041 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:46,085 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:46,085 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:46,085 - sqlalchemy.engine.Engine - INFO - [cached since 5387s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:46,086 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:46,086 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:46,086 - sqlalchemy.engine.Engine - INFO - [cached since 5387s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:46,087 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:46,087 - sqlalchemy.engine.Engine - INFO - [cached since 5382s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:53:46,088 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:46,088 - sqlalchemy.engine.Engine - INFO - [cached since 5382s ago] ('AMD', 20, 0)
2026-02-07 20:53:46,088 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.95ms
2026-02-07 20:53:46,089 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:46,089 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.88ms
2026-02-07 20:53:46,090 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:46,135 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:46,136 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:46,136 - sqlalchemy.engine.Engine - INFO - [cached since 5387s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:46,136 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:46,136 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:46,136 - sqlalchemy.engine.Engine - INFO - [cached since 5387s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:46,137 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:46,137 - sqlalchemy.engine.Engine - INFO - [cached since 5382s ago] ('AAPL', 20, 0)
2026-02-07 20:53:46,138 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:46,139 - sqlalchemy.engine.Engine - INFO - [cached since 5382s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:53:46,140 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.42ms
2026-02-07 20:53:46,141 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.27ms
2026-02-07 20:53:46,141 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:46,141 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:47,169 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:47,169 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:47,169 - sqlalchemy.engine.Engine - INFO - [cached since 5388s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:47,170 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:47,170 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:47,170 - sqlalchemy.engine.Engine - INFO - [cached since 5388s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:47,171 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:47,171 - sqlalchemy.engine.Engine - INFO - [cached since 5383s ago] ('AMD', 20, 0)
2026-02-07 20:53:47,171 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:47,171 - sqlalchemy.engine.Engine - INFO - [cached since 5383s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:53:47,172 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.91ms
2026-02-07 20:53:47,172 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:47,173 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.66ms
2026-02-07 20:53:47,173 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:47,215 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:47,215 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:47,215 - sqlalchemy.engine.Engine - INFO - [cached since 5388s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:47,216 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:47,216 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:47,216 - sqlalchemy.engine.Engine - INFO - [cached since 5388s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:47,217 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:47,217 - sqlalchemy.engine.Engine - INFO - [cached since 5383s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:53:47,217 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:47,217 - sqlalchemy.engine.Engine - INFO - [cached since 5383s ago] ('AAPL', 20, 0)
2026-02-07 20:53:47,218 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.44ms
2026-02-07 20:53:47,218 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:47,219 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.07ms
2026-02-07 20:53:47,219 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:47,250 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:47,250 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:47,250 - sqlalchemy.engine.Engine - INFO - [cached since 5388s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:47,251 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:47,251 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:47,251 - sqlalchemy.engine.Engine - INFO - [cached since 5388s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:47,251 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:47,251 - sqlalchemy.engine.Engine - INFO - [cached since 5383s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:53:47,252 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:47,252 - sqlalchemy.engine.Engine - INFO - [cached since 5383s ago] ('AMD', 20, 0)
2026-02-07 20:53:47,252 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.29ms
2026-02-07 20:53:47,253 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:47,253 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.68ms
2026-02-07 20:53:47,254 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:48,017 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:48,017 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:48,017 - sqlalchemy.engine.Engine - INFO - [cached since 5389s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:48,018 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:48,019 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:48,019 - sqlalchemy.engine.Engine - INFO - [cached since 5389s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:48,020 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:48,021 - sqlalchemy.engine.Engine - INFO - [cached since 5383s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:53:48,022 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:48,022 - sqlalchemy.engine.Engine - INFO - [cached since 5383s ago] ('AMZN', 20, 0)
2026-02-07 20:53:48,023 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.29ms
2026-02-07 20:53:48,023 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:48,025 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.44ms
2026-02-07 20:53:48,027 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:48,027 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:48,027 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:48,028 - sqlalchemy.engine.Engine - INFO - [cached since 5389s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:48,028 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:48,028 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:48,028 - sqlalchemy.engine.Engine - INFO - [cached since 5389s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:48,029 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:48,029 - sqlalchemy.engine.Engine - INFO - [cached since 5384s ago] ('AMD', 20, 0)
2026-02-07 20:53:48,030 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:48,031 - sqlalchemy.engine.Engine - INFO - [cached since 5384s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:53:48,036 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.03ms
2026-02-07 20:53:48,037 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:48,038 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.47ms
2026-02-07 20:53:48,039 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:48,047 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:48,047 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:48,047 - sqlalchemy.engine.Engine - INFO - [cached since 5389s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:48,048 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:48,048 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:48,048 - sqlalchemy.engine.Engine - INFO - [cached since 5389s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:48,050 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:48,050 - sqlalchemy.engine.Engine - INFO - [cached since 5384s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:53:48,050 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:48,051 - sqlalchemy.engine.Engine - INFO - [cached since 5384s ago] ('AMZN', 20, 0)
2026-02-07 20:53:48,051 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.73ms
2026-02-07 20:53:48,052 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:48,052 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.95ms
2026-02-07 20:53:48,053 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:48,937 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:48,938 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:48,938 - sqlalchemy.engine.Engine - INFO - [cached since 5390s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:48,938 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:48,938 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:48,938 - sqlalchemy.engine.Engine - INFO - [cached since 5390s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:48,939 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:48,939 - sqlalchemy.engine.Engine - INFO - [cached since 5384s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:53:48,939 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:48,939 - sqlalchemy.engine.Engine - INFO - [cached since 5384s ago] ('ASTS', 20, 0)
2026-02-07 20:53:48,940 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.01ms
2026-02-07 20:53:48,940 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.29ms
2026-02-07 20:53:48,940 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:48,941 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:48,984 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:48,984 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:48,984 - sqlalchemy.engine.Engine - INFO - [cached since 5390s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:48,985 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:48,985 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:48,985 - sqlalchemy.engine.Engine - INFO - [cached since 5390s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:48,985 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:48,985 - sqlalchemy.engine.Engine - INFO - [cached since 5384s ago] ('AMZN', 20, 0)
2026-02-07 20:53:48,986 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:48,986 - sqlalchemy.engine.Engine - INFO - [cached since 5384s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:53:48,986 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.12ms
2026-02-07 20:53:48,987 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.06ms
2026-02-07 20:53:48,987 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:48,987 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:49,021 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:49,021 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:49,021 - sqlalchemy.engine.Engine - INFO - [cached since 5390s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:49,022 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:49,022 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:49,022 - sqlalchemy.engine.Engine - INFO - [cached since 5390s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:49,022 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:49,023 - sqlalchemy.engine.Engine - INFO - [cached since 5384s ago] ('ASTS', 20, 0)
2026-02-07 20:53:49,023 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:49,023 - sqlalchemy.engine.Engine - INFO - [cached since 5384s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:53:49,024 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.99ms
2026-02-07 20:53:49,024 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.20ms
2026-02-07 20:53:49,024 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:49,025 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:50,118 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:50,118 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:50,118 - sqlalchemy.engine.Engine - INFO - [cached since 5391s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:50,118 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:50,118 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:50,118 - sqlalchemy.engine.Engine - INFO - [cached since 5391s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:50,119 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:50,119 - sqlalchemy.engine.Engine - INFO - [cached since 5386s ago] ('AAPL', 20, 0)
2026-02-07 20:53:50,119 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:50,119 - sqlalchemy.engine.Engine - INFO - [cached since 5386s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:53:50,120 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.71ms
2026-02-07 20:53:50,120 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:50,120 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.43ms
2026-02-07 20:53:50,121 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:50,178 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:50,179 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:50,179 - sqlalchemy.engine.Engine - INFO - [cached since 5391s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:50,180 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:50,180 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:50,180 - sqlalchemy.engine.Engine - INFO - [cached since 5391s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:50,182 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:50,182 - sqlalchemy.engine.Engine - INFO - [cached since 5386s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:53:50,183 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:50,183 - sqlalchemy.engine.Engine - INFO - [cached since 5386s ago] ('ASTS', 20, 0)
2026-02-07 20:53:50,184 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.41ms
2026-02-07 20:53:50,184 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:50,185 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.99ms
2026-02-07 20:53:50,186 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:50,218 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:50,218 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:50,218 - sqlalchemy.engine.Engine - INFO - [cached since 5391s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:50,219 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:50,219 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:50,219 - sqlalchemy.engine.Engine - INFO - [cached since 5391s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:50,219 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:50,219 - sqlalchemy.engine.Engine - INFO - [cached since 5386s ago] ('AAPL', 20, 0)
2026-02-07 20:53:50,220 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:50,220 - sqlalchemy.engine.Engine - INFO - [cached since 5386s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:53:50,220 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.47ms
2026-02-07 20:53:50,221 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.51ms
2026-02-07 20:53:50,221 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:50,221 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:55,086 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:55,086 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:55,086 - sqlalchemy.engine.Engine - INFO - [cached since 5396s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:55,087 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:55,087 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:55,088 - sqlalchemy.engine.Engine - INFO - [cached since 5396s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:55,089 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:55,089 - sqlalchemy.engine.Engine - INFO - [cached since 5391s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:53:55,089 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:55,089 - sqlalchemy.engine.Engine - INFO - [cached since 5391s ago] ('AMD', 20, 0)
2026-02-07 20:53:55,090 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.70ms
2026-02-07 20:53:55,090 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:55,091 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.98ms
2026-02-07 20:53:55,091 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:55,135 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:55,135 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:55,135 - sqlalchemy.engine.Engine - INFO - [cached since 5396s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:55,136 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:55,136 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:55,136 - sqlalchemy.engine.Engine - INFO - [cached since 5396s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:55,138 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:55,138 - sqlalchemy.engine.Engine - INFO - [cached since 5391s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:53:55,138 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:55,138 - sqlalchemy.engine.Engine - INFO - [cached since 5391s ago] ('AAPL', 20, 0)
2026-02-07 20:53:55,139 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.68ms
2026-02-07 20:53:55,139 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.61ms
2026-02-07 20:53:55,139 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:55,140 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:55,186 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:55,186 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:55,186 - sqlalchemy.engine.Engine - INFO - [cached since 5396s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:55,187 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:53:55,187 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:53:55,187 - sqlalchemy.engine.Engine - INFO - [cached since 5396s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:53:55,188 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:55,188 - sqlalchemy.engine.Engine - INFO - [cached since 5391s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:53:55,188 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:53:55,188 - sqlalchemy.engine.Engine - INFO - [cached since 5391s ago] ('AMD', 20, 0)
2026-02-07 20:53:55,189 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.22ms
2026-02-07 20:53:55,189 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:53:55,190 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.84ms
2026-02-07 20:53:55,190 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:39,748 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:39,749 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:39,749 - sqlalchemy.engine.Engine - INFO - [cached since 5560s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:39,749 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:39,749 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:39,749 - sqlalchemy.engine.Engine - INFO - [cached since 5560s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:39,751 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:39,751 - sqlalchemy.engine.Engine - INFO - [cached since 5555s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:39,752 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:39,752 - sqlalchemy.engine.Engine - INFO - [cached since 5555s ago] ('AMZN', 20, 0)
2026-02-07 20:56:39,753 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.16ms
2026-02-07 20:56:39,754 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:39,754 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.52ms
2026-02-07 20:56:39,755 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:39,797 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:39,798 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:39,798 - sqlalchemy.engine.Engine - INFO - [cached since 5560s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:39,800 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:39,801 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:39,801 - sqlalchemy.engine.Engine - INFO - [cached since 5560s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:39,802 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:39,802 - sqlalchemy.engine.Engine - INFO - [cached since 5555s ago] ('AMD', 20, 0)
2026-02-07 20:56:39,803 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:39,803 - sqlalchemy.engine.Engine - INFO - [cached since 5555s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:39,805 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.27ms
2026-02-07 20:56:39,805 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.16ms
2026-02-07 20:56:39,806 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:39,806 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:39,846 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:39,846 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:39,846 - sqlalchemy.engine.Engine - INFO - [cached since 5561s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:39,847 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:39,848 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:39,848 - sqlalchemy.engine.Engine - INFO - [cached since 5561s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:39,848 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:39,848 - sqlalchemy.engine.Engine - INFO - [cached since 5555s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:39,849 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:39,849 - sqlalchemy.engine.Engine - INFO - [cached since 5555s ago] ('AMZN', 20, 0)
2026-02-07 20:56:39,850 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.30ms
2026-02-07 20:56:39,852 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.79ms
2026-02-07 20:56:39,852 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:39,852 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:40,531 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:40,532 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:40,532 - sqlalchemy.engine.Engine - INFO - [cached since 5561s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:40,533 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:40,533 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:40,533 - sqlalchemy.engine.Engine - INFO - [cached since 5561s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:40,534 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:40,535 - sqlalchemy.engine.Engine - INFO - [cached since 5556s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:40,535 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:40,535 - sqlalchemy.engine.Engine - INFO - [cached since 5556s ago] ('AMD', 20, 0)
2026-02-07 20:56:40,536 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.93ms
2026-02-07 20:56:40,537 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:40,539 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.92ms
2026-02-07 20:56:40,540 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:40,546 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:40,547 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:40,547 - sqlalchemy.engine.Engine - INFO - [cached since 5561s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:40,548 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:40,548 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:40,548 - sqlalchemy.engine.Engine - INFO - [cached since 5561s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:40,549 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:40,549 - sqlalchemy.engine.Engine - INFO - [cached since 5556s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:40,549 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:40,550 - sqlalchemy.engine.Engine - INFO - [cached since 5556s ago] ('AMZN', 20, 0)
2026-02-07 20:56:40,551 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.58ms
2026-02-07 20:56:40,551 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.86ms
2026-02-07 20:56:40,551 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:40,551 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:40,604 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:40,604 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:40,604 - sqlalchemy.engine.Engine - INFO - [cached since 5561s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:40,605 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:40,605 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:40,605 - sqlalchemy.engine.Engine - INFO - [cached since 5561s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:40,606 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:40,606 - sqlalchemy.engine.Engine - INFO - [cached since 5556s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:40,606 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:40,607 - sqlalchemy.engine.Engine - INFO - [cached since 5556s ago] ('AMD', 20, 0)
2026-02-07 20:56:40,607 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.44ms
2026-02-07 20:56:40,608 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:40,608 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.45ms
2026-02-07 20:56:40,608 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:41,319 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:41,319 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:41,319 - sqlalchemy.engine.Engine - INFO - [cached since 5562s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:41,320 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:41,321 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:41,321 - sqlalchemy.engine.Engine - INFO - [cached since 5562s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:41,324 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:41,324 - sqlalchemy.engine.Engine - INFO - [cached since 5557s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:41,325 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:41,325 - sqlalchemy.engine.Engine - INFO - [cached since 5557s ago] ('AMZN', 20, 0)
2026-02-07 20:56:41,327 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.99ms
2026-02-07 20:56:41,327 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.23ms
2026-02-07 20:56:41,328 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:41,330 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:41,367 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:41,367 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:41,367 - sqlalchemy.engine.Engine - INFO - [cached since 5562s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:41,368 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:41,368 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:41,368 - sqlalchemy.engine.Engine - INFO - [cached since 5562s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:41,370 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:41,370 - sqlalchemy.engine.Engine - INFO - [cached since 5557s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:41,370 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:41,370 - sqlalchemy.engine.Engine - INFO - [cached since 5557s ago] ('AMD', 20, 0)
2026-02-07 20:56:41,371 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.95ms
2026-02-07 20:56:41,372 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:41,372 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.79ms
2026-02-07 20:56:41,373 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:41,411 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:41,411 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:41,411 - sqlalchemy.engine.Engine - INFO - [cached since 5562s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:41,411 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:41,411 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:41,411 - sqlalchemy.engine.Engine - INFO - [cached since 5562s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:41,412 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:41,412 - sqlalchemy.engine.Engine - INFO - [cached since 5557s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:41,412 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:41,412 - sqlalchemy.engine.Engine - INFO - [cached since 5557s ago] ('AMZN', 20, 0)
2026-02-07 20:56:41,413 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.33ms
2026-02-07 20:56:41,414 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.26ms
2026-02-07 20:56:41,414 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:41,415 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:41,846 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:41,846 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:41,847 - sqlalchemy.engine.Engine - INFO - [cached since 5563s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:41,847 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:41,848 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:41,848 - sqlalchemy.engine.Engine - INFO - [cached since 5563s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:41,850 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:41,850 - sqlalchemy.engine.Engine - INFO - [cached since 5557s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:41,851 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:41,851 - sqlalchemy.engine.Engine - INFO - [cached since 5557s ago] ('ASTS', 20, 0)
2026-02-07 20:56:41,853 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.48ms
2026-02-07 20:56:41,854 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.70ms
2026-02-07 20:56:41,855 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:41,855 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:41,860 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:41,860 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:41,860 - sqlalchemy.engine.Engine - INFO - [cached since 5563s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:41,860 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:41,861 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:41,861 - sqlalchemy.engine.Engine - INFO - [cached since 5563s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:41,861 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:41,861 - sqlalchemy.engine.Engine - INFO - [cached since 5557s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:41,861 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:41,861 - sqlalchemy.engine.Engine - INFO - [cached since 5557s ago] ('AMZN', 20, 0)
2026-02-07 20:56:41,862 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.40ms
2026-02-07 20:56:41,864 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:41,864 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.61ms
2026-02-07 20:56:41,865 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:41,900 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:41,900 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:41,901 - sqlalchemy.engine.Engine - INFO - [cached since 5563s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:41,902 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:41,902 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:41,902 - sqlalchemy.engine.Engine - INFO - [cached since 5563s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:41,903 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:41,903 - sqlalchemy.engine.Engine - INFO - [cached since 5557s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:41,903 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:41,903 - sqlalchemy.engine.Engine - INFO - [cached since 5557s ago] ('ASTS', 20, 0)
2026-02-07 20:56:41,904 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.17ms
2026-02-07 20:56:41,904 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.81ms
2026-02-07 20:56:41,904 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:41,905 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:43,649 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:43,650 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:43,650 - sqlalchemy.engine.Engine - INFO - [cached since 5564s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:43,651 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:43,651 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:43,651 - sqlalchemy.engine.Engine - INFO - [cached since 5564s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:43,652 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:43,652 - sqlalchemy.engine.Engine - INFO - [cached since 5559s ago] ('AAPL', 20, 0)
2026-02-07 20:56:43,652 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:43,652 - sqlalchemy.engine.Engine - INFO - [cached since 5559s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:43,653 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.42ms
2026-02-07 20:56:43,653 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.37ms
2026-02-07 20:56:43,653 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:43,653 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:43,695 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:43,696 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:43,696 - sqlalchemy.engine.Engine - INFO - [cached since 5564s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:43,698 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:43,698 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:43,698 - sqlalchemy.engine.Engine - INFO - [cached since 5564s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:43,698 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:43,698 - sqlalchemy.engine.Engine - INFO - [cached since 5559s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:43,699 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:43,699 - sqlalchemy.engine.Engine - INFO - [cached since 5559s ago] ('ASTS', 20, 0)
2026-02-07 20:56:43,699 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.57ms
2026-02-07 20:56:43,699 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:43,700 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.46ms
2026-02-07 20:56:43,700 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:43,741 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:43,742 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:43,742 - sqlalchemy.engine.Engine - INFO - [cached since 5564s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:43,743 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:43,743 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:43,743 - sqlalchemy.engine.Engine - INFO - [cached since 5564s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:43,744 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:43,744 - sqlalchemy.engine.Engine - INFO - [cached since 5559s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:43,744 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:43,745 - sqlalchemy.engine.Engine - INFO - [cached since 5559s ago] ('AAPL', 20, 0)
2026-02-07 20:56:43,747 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.47ms
2026-02-07 20:56:43,748 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.82ms
2026-02-07 20:56:43,749 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:43,750 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:46,117 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:46,118 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:46,118 - sqlalchemy.engine.Engine - INFO - [cached since 5567s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:46,118 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:46,119 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:46,119 - sqlalchemy.engine.Engine - INFO - [cached since 5567s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:46,119 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:46,119 - sqlalchemy.engine.Engine - INFO - [cached since 5562s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:46,119 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:46,119 - sqlalchemy.engine.Engine - INFO - [cached since 5562s ago] ('AMZN', 20, 0)
2026-02-07 20:56:46,120 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.28ms
2026-02-07 20:56:46,121 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.68ms
2026-02-07 20:56:46,121 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:46,121 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:46,164 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:46,165 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:46,165 - sqlalchemy.engine.Engine - INFO - [cached since 5567s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:46,166 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:46,166 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:46,166 - sqlalchemy.engine.Engine - INFO - [cached since 5567s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:46,167 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:46,167 - sqlalchemy.engine.Engine - INFO - [cached since 5562s ago] ('AAPL', 20, 0)
2026-02-07 20:56:46,168 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:46,168 - sqlalchemy.engine.Engine - INFO - [cached since 5562s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:46,169 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.10ms
2026-02-07 20:56:46,169 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.12ms
2026-02-07 20:56:46,169 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:46,169 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:46,202 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:46,203 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:46,203 - sqlalchemy.engine.Engine - INFO - [cached since 5567s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:46,203 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:46,203 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:46,203 - sqlalchemy.engine.Engine - INFO - [cached since 5567s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:46,204 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:46,204 - sqlalchemy.engine.Engine - INFO - [cached since 5562s ago] ('AMZN', 20, 0)
2026-02-07 20:56:46,204 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:46,204 - sqlalchemy.engine.Engine - INFO - [cached since 5562s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:46,205 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.23ms
2026-02-07 20:56:46,205 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.87ms
2026-02-07 20:56:46,205 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:46,205 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:47,591 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:47,592 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:47,592 - sqlalchemy.engine.Engine - INFO - [cached since 5568s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:47,592 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:47,592 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:47,592 - sqlalchemy.engine.Engine - INFO - [cached since 5568s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:47,593 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:47,593 - sqlalchemy.engine.Engine - INFO - [cached since 5563s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:47,594 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:47,594 - sqlalchemy.engine.Engine - INFO - [cached since 5563s ago] ('AMZN', 20, 0)
2026-02-07 20:56:47,595 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:47,595 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:47,595 - sqlalchemy.engine.Engine - INFO - [cached since 5568s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:47,597 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.81ms
2026-02-07 20:56:47,598 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 20:56:47,598 - sqlalchemy.engine.Engine - INFO - [cached since 5568s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:47,598 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:47,599 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.81ms
2026-02-07 20:56:47,599 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:47,601 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.06ms
2026-02-07 20:56:47,601 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:48,415 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:48,415 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:48,415 - sqlalchemy.engine.Engine - INFO - [cached since 5569s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:48,416 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:48,417 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:48,417 - sqlalchemy.engine.Engine - INFO - [cached since 5569s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:48,418 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:48,418 - sqlalchemy.engine.Engine - INFO - [cached since 5564s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:48,419 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:48,419 - sqlalchemy.engine.Engine - INFO - [cached since 5564s ago] ('AAPL', 20, 0)
2026-02-07 20:56:48,420 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.67ms
2026-02-07 20:56:48,421 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:48,421 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.62ms
2026-02-07 20:56:48,421 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:48,455 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:48,456 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:48,456 - sqlalchemy.engine.Engine - INFO - [cached since 5569s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:48,457 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:48,457 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:48,457 - sqlalchemy.engine.Engine - INFO - [cached since 5569s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:48,458 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:48,458 - sqlalchemy.engine.Engine - INFO - [cached since 5564s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:48,458 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:48,458 - sqlalchemy.engine.Engine - INFO - [cached since 5564s ago] ('AMZN', 20, 0)
2026-02-07 20:56:48,459 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.13ms
2026-02-07 20:56:48,459 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.53ms
2026-02-07 20:56:48,460 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:48,460 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:48,500 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:48,500 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:48,501 - sqlalchemy.engine.Engine - INFO - [cached since 5569s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:48,501 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:48,501 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:48,501 - sqlalchemy.engine.Engine - INFO - [cached since 5569s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:48,502 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:48,502 - sqlalchemy.engine.Engine - INFO - [cached since 5564s ago] ('AAPL', 20, 0)
2026-02-07 20:56:48,502 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:48,502 - sqlalchemy.engine.Engine - INFO - [cached since 5564s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:48,503 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.62ms
2026-02-07 20:56:48,503 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:48,504 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.23ms
2026-02-07 20:56:48,504 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:49,066 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:49,067 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:49,067 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:49,068 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:49,068 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:49,068 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:49,070 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:49,070 - sqlalchemy.engine.Engine - INFO - [cached since 5565s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:49,070 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:49,071 - sqlalchemy.engine.Engine - INFO - [cached since 5565s ago] ('AMD', 20, 0)
2026-02-07 20:56:49,071 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.62ms
2026-02-07 20:56:49,072 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:49,073 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.87ms
2026-02-07 20:56:49,073 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:49,084 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:49,085 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:49,085 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:49,085 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:49,086 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:49,086 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:49,086 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:49,086 - sqlalchemy.engine.Engine - INFO - [cached since 5565s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:49,086 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:49,086 - sqlalchemy.engine.Engine - INFO - [cached since 5565s ago] ('AAPL', 20, 0)
2026-02-07 20:56:49,087 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.97ms
2026-02-07 20:56:49,088 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:49,088 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.24ms
2026-02-07 20:56:49,089 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:49,128 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:49,129 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:49,129 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:49,131 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:49,131 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:49,131 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:49,132 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:49,132 - sqlalchemy.engine.Engine - INFO - [cached since 5565s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:49,132 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:49,132 - sqlalchemy.engine.Engine - INFO - [cached since 5565s ago] ('AMD', 20, 0)
2026-02-07 20:56:49,133 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.52ms
2026-02-07 20:56:49,133 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.39ms
2026-02-07 20:56:49,134 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:49,134 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:49,634 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:49,634 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:49,634 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:49,634 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:49,634 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:49,635 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:49,636 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:49,636 - sqlalchemy.engine.Engine - INFO - [cached since 5565s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:49,637 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:49,637 - sqlalchemy.engine.Engine - INFO - [cached since 5565s ago] ('AMZN', 20, 0)
2026-02-07 20:56:49,637 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.91ms
2026-02-07 20:56:49,638 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.18ms
2026-02-07 20:56:49,639 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:49,639 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:49,683 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:49,684 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:49,684 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:49,685 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:49,685 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:49,685 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:49,686 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:49,686 - sqlalchemy.engine.Engine - INFO - [cached since 5565s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:49,686 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:49,686 - sqlalchemy.engine.Engine - INFO - [cached since 5565s ago] ('AMD', 20, 0)
2026-02-07 20:56:49,687 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.34ms
2026-02-07 20:56:49,687 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:49,688 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.96ms
2026-02-07 20:56:49,688 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:49,719 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:49,719 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:49,719 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:49,720 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:49,720 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:49,720 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:49,720 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:49,720 - sqlalchemy.engine.Engine - INFO - [cached since 5565s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:49,720 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:49,720 - sqlalchemy.engine.Engine - INFO - [cached since 5565s ago] ('AMZN', 20, 0)
2026-02-07 20:56:49,721 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.23ms
2026-02-07 20:56:49,722 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:49,723 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.42ms
2026-02-07 20:56:49,723 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:50,263 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:50,264 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:50,264 - sqlalchemy.engine.Engine - INFO - [cached since 5571s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:50,266 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:50,266 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:50,266 - sqlalchemy.engine.Engine - INFO - [cached since 5571s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:50,267 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:50,268 - sqlalchemy.engine.Engine - INFO - [cached since 5566s ago] ('AMD', 20, 0)
2026-02-07 20:56:50,268 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:50,269 - sqlalchemy.engine.Engine - INFO - [cached since 5566s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:50,270 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.91ms
2026-02-07 20:56:50,271 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:50,271 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.54ms
2026-02-07 20:56:50,272 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:50,276 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:50,276 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:50,276 - sqlalchemy.engine.Engine - INFO - [cached since 5571s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:50,276 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:50,276 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:50,277 - sqlalchemy.engine.Engine - INFO - [cached since 5571s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:50,277 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:50,277 - sqlalchemy.engine.Engine - INFO - [cached since 5566s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:50,278 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:50,278 - sqlalchemy.engine.Engine - INFO - [cached since 5566s ago] ('AMZN', 20, 0)
2026-02-07 20:56:50,280 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.59ms
2026-02-07 20:56:50,282 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.89ms
2026-02-07 20:56:50,282 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:50,282 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:50,316 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:50,316 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:50,316 - sqlalchemy.engine.Engine - INFO - [cached since 5571s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:50,316 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:50,317 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:50,317 - sqlalchemy.engine.Engine - INFO - [cached since 5571s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:50,317 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:50,317 - sqlalchemy.engine.Engine - INFO - [cached since 5566s ago] ('AMD', 20, 0)
2026-02-07 20:56:50,318 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:50,318 - sqlalchemy.engine.Engine - INFO - [cached since 5566s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:50,318 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.67ms
2026-02-07 20:56:50,318 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:50,319 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.22ms
2026-02-07 20:56:50,319 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:50,800 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:50,800 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:50,800 - sqlalchemy.engine.Engine - INFO - [cached since 5571s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:50,801 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:50,801 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:50,801 - sqlalchemy.engine.Engine - INFO - [cached since 5571s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:50,802 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:50,802 - sqlalchemy.engine.Engine - INFO - [cached since 5566s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:50,803 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:50,803 - sqlalchemy.engine.Engine - INFO - [cached since 5566s ago] ('AAPL', 20, 0)
2026-02-07 20:56:50,804 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.52ms
2026-02-07 20:56:50,805 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.09ms
2026-02-07 20:56:50,805 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:50,806 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:50,849 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:50,849 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:50,849 - sqlalchemy.engine.Engine - INFO - [cached since 5572s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:50,850 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:50,850 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:50,850 - sqlalchemy.engine.Engine - INFO - [cached since 5572s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:50,850 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:50,850 - sqlalchemy.engine.Engine - INFO - [cached since 5566s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:50,851 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:50,851 - sqlalchemy.engine.Engine - INFO - [cached since 5566s ago] ('AMD', 20, 0)
2026-02-07 20:56:50,851 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.62ms
2026-02-07 20:56:50,852 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.49ms
2026-02-07 20:56:50,852 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:50,852 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:50,883 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:50,884 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:50,884 - sqlalchemy.engine.Engine - INFO - [cached since 5572s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:50,884 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:50,884 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:50,884 - sqlalchemy.engine.Engine - INFO - [cached since 5572s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:50,885 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:50,885 - sqlalchemy.engine.Engine - INFO - [cached since 5566s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:50,885 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:50,885 - sqlalchemy.engine.Engine - INFO - [cached since 5566s ago] ('AAPL', 20, 0)
2026-02-07 20:56:50,886 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.78ms
2026-02-07 20:56:50,886 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:50,886 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.68ms
2026-02-07 20:56:50,887 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:51,833 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:51,833 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:51,833 - sqlalchemy.engine.Engine - INFO - [cached since 5573s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:51,834 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:51,834 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:51,834 - sqlalchemy.engine.Engine - INFO - [cached since 5573s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:51,835 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:51,835 - sqlalchemy.engine.Engine - INFO - [cached since 5567s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:51,835 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:51,835 - sqlalchemy.engine.Engine - INFO - [cached since 5567s ago] ('ASTS', 20, 0)
2026-02-07 20:56:51,835 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.23ms
2026-02-07 20:56:51,836 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:51,836 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.75ms
2026-02-07 20:56:51,837 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:51,877 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:51,877 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:51,877 - sqlalchemy.engine.Engine - INFO - [cached since 5573s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:51,877 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:51,877 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:51,877 - sqlalchemy.engine.Engine - INFO - [cached since 5573s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:51,879 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:51,879 - sqlalchemy.engine.Engine - INFO - [cached since 5567s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:51,880 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:51,880 - sqlalchemy.engine.Engine - INFO - [cached since 5567s ago] ('AAPL', 20, 0)
2026-02-07 20:56:51,881 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.67ms
2026-02-07 20:56:51,882 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:51,882 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.68ms
2026-02-07 20:56:51,882 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:51,916 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:51,917 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:51,917 - sqlalchemy.engine.Engine - INFO - [cached since 5573s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:51,917 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:51,917 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:51,917 - sqlalchemy.engine.Engine - INFO - [cached since 5573s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:51,918 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:51,918 - sqlalchemy.engine.Engine - INFO - [cached since 5567s ago] ('ASTS', 20, 0)
2026-02-07 20:56:51,918 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:51,918 - sqlalchemy.engine.Engine - INFO - [cached since 5567s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:51,919 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.82ms
2026-02-07 20:56:51,919 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:51,919 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.48ms
2026-02-07 20:56:51,920 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:52,547 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:52,548 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:52,548 - sqlalchemy.engine.Engine - INFO - [cached since 5573s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:52,548 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:52,549 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:52,549 - sqlalchemy.engine.Engine - INFO - [cached since 5573s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:52,551 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:52,551 - sqlalchemy.engine.Engine - INFO - [cached since 5568s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:52,551 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:52,551 - sqlalchemy.engine.Engine - INFO - [cached since 5568s ago] ('AMZN', 20, 0)
2026-02-07 20:56:52,553 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.66ms
2026-02-07 20:56:52,553 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.57ms
2026-02-07 20:56:52,554 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:52,554 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:52,559 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:52,559 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:52,559 - sqlalchemy.engine.Engine - INFO - [cached since 5573s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:52,560 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:52,560 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:52,560 - sqlalchemy.engine.Engine - INFO - [cached since 5573s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:52,560 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:52,560 - sqlalchemy.engine.Engine - INFO - [cached since 5568s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:52,561 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:52,561 - sqlalchemy.engine.Engine - INFO - [cached since 5568s ago] ('ASTS', 20, 0)
2026-02-07 20:56:52,561 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.55ms
2026-02-07 20:56:52,561 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:52,563 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.09ms
2026-02-07 20:56:52,564 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:52,607 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:52,607 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:52,607 - sqlalchemy.engine.Engine - INFO - [cached since 5573s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:52,608 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:52,608 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:52,608 - sqlalchemy.engine.Engine - INFO - [cached since 5573s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:52,608 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:52,608 - sqlalchemy.engine.Engine - INFO - [cached since 5568s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:52,609 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:52,609 - sqlalchemy.engine.Engine - INFO - [cached since 5568s ago] ('AMZN', 20, 0)
2026-02-07 20:56:52,609 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.64ms
2026-02-07 20:56:52,610 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.32ms
2026-02-07 20:56:52,610 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:52,610 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:53,298 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:53,298 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:53,298 - sqlalchemy.engine.Engine - INFO - [cached since 5574s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:53,299 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:53,300 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:53,300 - sqlalchemy.engine.Engine - INFO - [cached since 5574s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:53,300 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:53,300 - sqlalchemy.engine.Engine - INFO - [cached since 5569s ago] ('AMD', 20, 0)
2026-02-07 20:56:53,301 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:53,301 - sqlalchemy.engine.Engine - INFO - [cached since 5569s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:53,302 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.92ms
2026-02-07 20:56:53,302 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.71ms
2026-02-07 20:56:53,302 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:53,302 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:53,345 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:53,345 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:53,345 - sqlalchemy.engine.Engine - INFO - [cached since 5574s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:53,347 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:53,348 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:53,348 - sqlalchemy.engine.Engine - INFO - [cached since 5574s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:53,349 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:53,350 - sqlalchemy.engine.Engine - INFO - [cached since 5569s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:53,350 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:53,350 - sqlalchemy.engine.Engine - INFO - [cached since 5569s ago] ('AMZN', 20, 0)
2026-02-07 20:56:53,352 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.81ms
2026-02-07 20:56:53,352 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.18ms
2026-02-07 20:56:53,353 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:53,353 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:53,380 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:53,380 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:53,381 - sqlalchemy.engine.Engine - INFO - [cached since 5574s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:53,382 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:53,383 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:53,383 - sqlalchemy.engine.Engine - INFO - [cached since 5574s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:53,383 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:53,383 - sqlalchemy.engine.Engine - INFO - [cached since 5569s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:53,384 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:53,384 - sqlalchemy.engine.Engine - INFO - [cached since 5569s ago] ('AMD', 20, 0)
2026-02-07 20:56:53,384 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.60ms
2026-02-07 20:56:53,384 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:53,386 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.03ms
2026-02-07 20:56:53,386 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:54,047 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:54,047 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:54,047 - sqlalchemy.engine.Engine - INFO - [cached since 5575s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:54,048 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:54,048 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:54,049 - sqlalchemy.engine.Engine - INFO - [cached since 5575s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:54,050 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:54,050 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:54,051 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:54,051 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('AAPL', 20, 0)
2026-02-07 20:56:54,056 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.03ms
2026-02-07 20:56:54,056 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.82ms
2026-02-07 20:56:54,056 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:54,056 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:54,059 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:54,059 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:54,059 - sqlalchemy.engine.Engine - INFO - [cached since 5575s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:54,060 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:54,060 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:54,060 - sqlalchemy.engine.Engine - INFO - [cached since 5575s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:54,060 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:54,060 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:54,061 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:54,061 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('AMD', 20, 0)
2026-02-07 20:56:54,062 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.07ms
2026-02-07 20:56:54,064 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:54,064 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.49ms
2026-02-07 20:56:54,065 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:54,098 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:54,098 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:54,098 - sqlalchemy.engine.Engine - INFO - [cached since 5575s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:54,099 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:54,099 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:54,099 - sqlalchemy.engine.Engine - INFO - [cached since 5575s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:54,100 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:54,100 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:54,101 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:54,101 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('AAPL', 20, 0)
2026-02-07 20:56:54,102 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.57ms
2026-02-07 20:56:54,102 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:54,103 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.18ms
2026-02-07 20:56:54,103 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:54,767 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:54,767 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:54,767 - sqlalchemy.engine.Engine - INFO - [cached since 5575s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:54,767 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:54,767 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:54,767 - sqlalchemy.engine.Engine - INFO - [cached since 5575s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:54,768 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:54,768 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:54,768 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:54,768 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('AMD', 20, 0)
2026-02-07 20:56:54,769 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.42ms
2026-02-07 20:56:54,770 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:54,770 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.22ms
2026-02-07 20:56:54,771 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:54,812 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:54,812 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:54,812 - sqlalchemy.engine.Engine - INFO - [cached since 5576s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:54,813 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:54,813 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:54,813 - sqlalchemy.engine.Engine - INFO - [cached since 5576s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:54,814 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:54,814 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('AAPL', 20, 0)
2026-02-07 20:56:54,814 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:54,814 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:54,815 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.70ms
2026-02-07 20:56:54,815 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.01ms
2026-02-07 20:56:54,816 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:54,816 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:54,849 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:54,849 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:54,849 - sqlalchemy.engine.Engine - INFO - [cached since 5576s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:54,850 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:54,850 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:54,850 - sqlalchemy.engine.Engine - INFO - [cached since 5576s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:54,851 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:54,851 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('AMD', 20, 0)
2026-02-07 20:56:54,851 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:54,851 - sqlalchemy.engine.Engine - INFO - [cached since 5570s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:54,852 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.21ms
2026-02-07 20:56:54,853 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:54,853 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.71ms
2026-02-07 20:56:54,853 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:55,430 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:55,431 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:55,431 - sqlalchemy.engine.Engine - INFO - [cached since 5576s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:55,432 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:55,432 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:55,432 - sqlalchemy.engine.Engine - INFO - [cached since 5576s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:55,434 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:55,434 - sqlalchemy.engine.Engine - INFO - [cached since 5571s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:55,435 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:55,435 - sqlalchemy.engine.Engine - INFO - [cached since 5571s ago] ('AMZN', 20, 0)
2026-02-07 20:56:55,436 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.59ms
2026-02-07 20:56:55,438 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.70ms
2026-02-07 20:56:55,438 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:55,438 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:55,442 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:55,442 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:55,442 - sqlalchemy.engine.Engine - INFO - [cached since 5576s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:55,443 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:55,443 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:55,443 - sqlalchemy.engine.Engine - INFO - [cached since 5576s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:55,443 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:55,443 - sqlalchemy.engine.Engine - INFO - [cached since 5571s ago] ('AMD', 20, 0)
2026-02-07 20:56:55,443 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:55,443 - sqlalchemy.engine.Engine - INFO - [cached since 5571s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:55,445 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.01ms
2026-02-07 20:56:55,445 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.19ms
2026-02-07 20:56:55,446 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:55,446 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:55,486 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:55,487 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:55,487 - sqlalchemy.engine.Engine - INFO - [cached since 5576s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:55,488 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:55,488 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:55,488 - sqlalchemy.engine.Engine - INFO - [cached since 5576s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:55,488 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:55,488 - sqlalchemy.engine.Engine - INFO - [cached since 5571s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:55,489 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:55,489 - sqlalchemy.engine.Engine - INFO - [cached since 5571s ago] ('AMZN', 20, 0)
2026-02-07 20:56:55,489 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.80ms
2026-02-07 20:56:55,490 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:55,490 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.07ms
2026-02-07 20:56:55,491 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:56,114 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:56,115 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:56,115 - sqlalchemy.engine.Engine - INFO - [cached since 5577s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:56,115 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:56,115 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:56,115 - sqlalchemy.engine.Engine - INFO - [cached since 5577s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:56,116 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:56,116 - sqlalchemy.engine.Engine - INFO - [cached since 5572s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:56,116 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:56,116 - sqlalchemy.engine.Engine - INFO - [cached since 5572s ago] ('AMD', 20, 0)
2026-02-07 20:56:56,118 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.94ms
2026-02-07 20:56:56,118 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.03ms
2026-02-07 20:56:56,118 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:56,118 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:56,161 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:56,162 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:56,162 - sqlalchemy.engine.Engine - INFO - [cached since 5577s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:56,163 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:56,163 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:56,163 - sqlalchemy.engine.Engine - INFO - [cached since 5577s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:56,164 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:56,165 - sqlalchemy.engine.Engine - INFO - [cached since 5572s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:56,165 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:56,165 - sqlalchemy.engine.Engine - INFO - [cached since 5572s ago] ('AMZN', 20, 0)
2026-02-07 20:56:56,166 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.16ms
2026-02-07 20:56:56,167 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:56,168 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.74ms
2026-02-07 20:56:56,168 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:56,199 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:56,199 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:56,199 - sqlalchemy.engine.Engine - INFO - [cached since 5577s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:56,200 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:56,201 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:56,201 - sqlalchemy.engine.Engine - INFO - [cached since 5577s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:56,202 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:56,202 - sqlalchemy.engine.Engine - INFO - [cached since 5572s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:56,203 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:56,203 - sqlalchemy.engine.Engine - INFO - [cached since 5572s ago] ('AMD', 20, 0)
2026-02-07 20:56:56,205 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.93ms
2026-02-07 20:56:56,206 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.09ms
2026-02-07 20:56:56,206 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:56,208 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:57,299 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:57,299 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:57,299 - sqlalchemy.engine.Engine - INFO - [cached since 5578s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:57,300 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:57,300 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:57,300 - sqlalchemy.engine.Engine - INFO - [cached since 5578s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:57,301 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:57,301 - sqlalchemy.engine.Engine - INFO - [cached since 5573s ago] ('AAPL', 20, 0)
2026-02-07 20:56:57,301 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:57,301 - sqlalchemy.engine.Engine - INFO - [cached since 5573s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:57,301 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.42ms
2026-02-07 20:56:57,302 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:57,302 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.08ms
2026-02-07 20:56:57,303 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:57,343 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:57,344 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:57,344 - sqlalchemy.engine.Engine - INFO - [cached since 5578s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:57,344 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:57,345 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:57,345 - sqlalchemy.engine.Engine - INFO - [cached since 5578s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:57,346 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:57,347 - sqlalchemy.engine.Engine - INFO - [cached since 5573s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:57,347 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:57,347 - sqlalchemy.engine.Engine - INFO - [cached since 5573s ago] ('AMD', 20, 0)
2026-02-07 20:56:57,348 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.28ms
2026-02-07 20:56:57,348 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:57,349 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.88ms
2026-02-07 20:56:57,349 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:57,381 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:57,381 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:57,381 - sqlalchemy.engine.Engine - INFO - [cached since 5578s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:57,382 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:56:57,383 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:56:57,383 - sqlalchemy.engine.Engine - INFO - [cached since 5578s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:56:57,384 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:57,384 - sqlalchemy.engine.Engine - INFO - [cached since 5573s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:56:57,385 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:56:57,385 - sqlalchemy.engine.Engine - INFO - [cached since 5573s ago] ('AAPL', 20, 0)
2026-02-07 20:56:57,386 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.14ms
2026-02-07 20:56:57,387 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:56:57,388 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.09ms
2026-02-07 20:56:57,388 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:57:01,915 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:57:01,916 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:57:01,916 - sqlalchemy.engine.Engine - INFO - [cached since 5583s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:57:01,916 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:57:01,917 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:57:01,917 - sqlalchemy.engine.Engine - INFO - [cached since 5583s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:57:01,918 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:57:01,918 - sqlalchemy.engine.Engine - INFO - [cached since 5577s ago] ('AMD', 20, 0)
2026-02-07 20:57:01,918 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:57:01,918 - sqlalchemy.engine.Engine - INFO - [cached since 5577s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:57:01,919 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.55ms
2026-02-07 20:57:01,920 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.01ms
2026-02-07 20:57:01,920 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:57:01,920 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:57:01,959 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:57:01,960 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:57:01,960 - sqlalchemy.engine.Engine - INFO - [cached since 5583s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:57:01,960 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:57:01,961 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:57:01,961 - sqlalchemy.engine.Engine - INFO - [cached since 5583s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:57:01,963 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:57:01,963 - sqlalchemy.engine.Engine - INFO - [cached since 5577s ago] ('AAPL', 20, 0)
2026-02-07 20:57:01,964 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:57:01,964 - sqlalchemy.engine.Engine - INFO - [cached since 5577s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:57:01,965 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.51ms
2026-02-07 20:57:01,965 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:57:01,966 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.70ms
2026-02-07 20:57:01,967 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:57:01,998 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:57:01,998 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:57:01,998 - sqlalchemy.engine.Engine - INFO - [cached since 5583s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:57:01,999 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:57:01,999 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:57:02,000 - sqlalchemy.engine.Engine - INFO - [cached since 5583s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:57:02,001 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:57:02,001 - sqlalchemy.engine.Engine - INFO - [cached since 5577s ago] ('AMD', 20, 0)
2026-02-07 20:57:02,001 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:57:02,001 - sqlalchemy.engine.Engine - INFO - [cached since 5577s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:57:02,002 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.38ms
2026-02-07 20:57:02,004 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.07ms
2026-02-07 20:57:02,004 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:57:02,005 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:57:03,665 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:57:03,666 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:57:03,666 - sqlalchemy.engine.Engine - INFO - [cached since 5584s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:57:03,666 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:57:03,667 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:57:03,667 - sqlalchemy.engine.Engine - INFO - [cached since 5584s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:57:03,668 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:57:03,668 - sqlalchemy.engine.Engine - INFO - [cached since 5579s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:57:03,668 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:57:03,668 - sqlalchemy.engine.Engine - INFO - [cached since 5579s ago] ('AMZN', 20, 0)
2026-02-07 20:57:03,669 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.27ms
2026-02-07 20:57:03,669 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.29ms
2026-02-07 20:57:03,669 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:57:03,669 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:57:03,715 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:57:03,715 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:57:03,715 - sqlalchemy.engine.Engine - INFO - [cached since 5584s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:57:03,716 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:57:03,716 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:57:03,716 - sqlalchemy.engine.Engine - INFO - [cached since 5584s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:57:03,717 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:57:03,717 - sqlalchemy.engine.Engine - INFO - [cached since 5579s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:57:03,718 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:57:03,718 - sqlalchemy.engine.Engine - INFO - [cached since 5579s ago] ('AMD', 20, 0)
2026-02-07 20:57:03,719 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.93ms
2026-02-07 20:57:03,720 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:57:03,720 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.24ms
2026-02-07 20:57:03,721 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:57:03,751 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:57:03,752 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:57:03,752 - sqlalchemy.engine.Engine - INFO - [cached since 5584s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:57:03,753 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:57:03,753 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:57:03,753 - sqlalchemy.engine.Engine - INFO - [cached since 5584s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:57:03,755 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:57:03,755 - sqlalchemy.engine.Engine - INFO - [cached since 5579s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:57:03,756 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:57:03,756 - sqlalchemy.engine.Engine - INFO - [cached since 5579s ago] ('AMZN', 20, 0)
2026-02-07 20:57:03,757 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.80ms
2026-02-07 20:57:03,759 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:57:03,760 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.85ms
2026-02-07 20:57:03,760 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:57:05,314 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:57:05,315 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:57:05,315 - sqlalchemy.engine.Engine - INFO - [cached since 5586s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:57:05,315 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:57:05,316 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:57:05,316 - sqlalchemy.engine.Engine - INFO - [cached since 5586s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:57:05,317 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:57:05,317 - sqlalchemy.engine.Engine - INFO - [cached since 5581s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:57:05,318 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:57:05,318 - sqlalchemy.engine.Engine - INFO - [cached since 5581s ago] ('ASTS', 20, 0)
2026-02-07 20:57:05,318 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.98ms
2026-02-07 20:57:05,319 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.19ms
2026-02-07 20:57:05,319 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:57:05,320 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:57:05,358 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:57:05,358 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:57:05,358 - sqlalchemy.engine.Engine - INFO - [cached since 5586s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:57:05,359 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:57:05,359 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:57:05,359 - sqlalchemy.engine.Engine - INFO - [cached since 5586s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:57:05,360 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:57:05,361 - sqlalchemy.engine.Engine - INFO - [cached since 5581s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:57:05,361 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:57:05,361 - sqlalchemy.engine.Engine - INFO - [cached since 5581s ago] ('AMZN', 20, 0)
2026-02-07 20:57:05,364 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.77ms
2026-02-07 20:57:05,364 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.41ms
2026-02-07 20:57:05,365 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:57:05,365 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:57:05,397 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:57:05,397 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:57:05,397 - sqlalchemy.engine.Engine - INFO - [cached since 5586s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:57:05,398 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 20:57:05,398 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 20:57:05,398 - sqlalchemy.engine.Engine - INFO - [cached since 5586s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 20:57:05,399 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 20:57:05,399 - sqlalchemy.engine.Engine - INFO - [cached since 5581s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 20:57:05,400 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 20:57:05,400 - sqlalchemy.engine.Engine - INFO - [cached since 5581s ago] ('ASTS', 20, 0)
2026-02-07 20:57:05,401 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.30ms
2026-02-07 20:57:05,403 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.94ms
2026-02-07 20:57:05,403 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 20:57:05,403 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:12,128 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:12,128 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:12,128 - sqlalchemy.engine.Engine - INFO - [cached since 5893s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:12,128 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:12,128 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:12,128 - sqlalchemy.engine.Engine - INFO - [cached since 5893s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:12,129 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:12,129 - sqlalchemy.engine.Engine - INFO - [cached since 5888s ago] ('AMZN', 20, 0)
2026-02-07 21:02:12,130 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:12,130 - sqlalchemy.engine.Engine - INFO - [cached since 5888s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 21:02:12,131 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.11ms
2026-02-07 21:02:12,132 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.64ms
2026-02-07 21:02:12,132 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:12,132 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:12,171 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:12,171 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:12,171 - sqlalchemy.engine.Engine - INFO - [cached since 5893s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:12,171 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:12,171 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:12,171 - sqlalchemy.engine.Engine - INFO - [cached since 5893s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:12,172 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:12,172 - sqlalchemy.engine.Engine - INFO - [cached since 5888s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 21:02:12,172 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:12,172 - sqlalchemy.engine.Engine - INFO - [cached since 5888s ago] ('ASTS', 20, 0)
2026-02-07 21:02:12,174 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.68ms
2026-02-07 21:02:12,174 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.18ms
2026-02-07 21:02:12,175 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:12,175 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:12,214 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:12,215 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:12,215 - sqlalchemy.engine.Engine - INFO - [cached since 5893s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:12,216 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:12,217 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:12,217 - sqlalchemy.engine.Engine - INFO - [cached since 5893s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:12,217 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:12,218 - sqlalchemy.engine.Engine - INFO - [cached since 5888s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 21:02:12,218 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:12,218 - sqlalchemy.engine.Engine - INFO - [cached since 5888s ago] ('AMZN', 20, 0)
2026-02-07 21:02:12,218 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.74ms
2026-02-07 21:02:12,219 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:12,219 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.80ms
2026-02-07 21:02:12,220 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:13,096 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:13,096 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:13,096 - sqlalchemy.engine.Engine - INFO - [cached since 5894s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:13,096 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:13,097 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:13,097 - sqlalchemy.engine.Engine - INFO - [cached since 5894s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:13,098 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:13,098 - sqlalchemy.engine.Engine - INFO - [cached since 5889s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 21:02:13,099 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:13,099 - sqlalchemy.engine.Engine - INFO - [cached since 5889s ago] ('ASTS', 20, 0)
2026-02-07 21:02:13,100 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.29ms
2026-02-07 21:02:13,101 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:13,102 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.25ms
2026-02-07 21:02:13,103 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:13,124 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:13,124 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:13,124 - sqlalchemy.engine.Engine - INFO - [cached since 5894s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:13,124 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:13,124 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:13,124 - sqlalchemy.engine.Engine - INFO - [cached since 5894s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:13,125 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:13,125 - sqlalchemy.engine.Engine - INFO - [cached since 5889s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 21:02:13,125 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:13,125 - sqlalchemy.engine.Engine - INFO - [cached since 5889s ago] ('AMZN', 20, 0)
2026-02-07 21:02:13,126 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.39ms
2026-02-07 21:02:13,126 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:13,129 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.98ms
2026-02-07 21:02:13,129 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:13,235 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:13,235 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:13,235 - sqlalchemy.engine.Engine - INFO - [cached since 5894s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:13,236 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:13,236 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:13,236 - sqlalchemy.engine.Engine - INFO - [cached since 5894s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:13,236 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:13,236 - sqlalchemy.engine.Engine - INFO - [cached since 5889s ago] ('ASTS', 20, 0)
2026-02-07 21:02:13,237 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:13,237 - sqlalchemy.engine.Engine - INFO - [cached since 5889s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 21:02:13,239 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.10ms
2026-02-07 21:02:13,239 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.11ms
2026-02-07 21:02:13,240 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:13,240 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:14,147 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:14,147 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:14,147 - sqlalchemy.engine.Engine - INFO - [cached since 5895s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:14,148 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:14,149 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:14,149 - sqlalchemy.engine.Engine - INFO - [cached since 5895s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:14,151 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:14,151 - sqlalchemy.engine.Engine - INFO - [cached since 5890s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 21:02:14,151 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:14,151 - sqlalchemy.engine.Engine - INFO - [cached since 5890s ago] ('AMZN', 20, 0)
2026-02-07 21:02:14,152 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.96ms
2026-02-07 21:02:14,152 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:14,153 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.89ms
2026-02-07 21:02:14,153 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:14,197 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:14,197 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:14,197 - sqlalchemy.engine.Engine - INFO - [cached since 5895s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:14,198 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:14,199 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:14,199 - sqlalchemy.engine.Engine - INFO - [cached since 5895s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:14,200 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:14,200 - sqlalchemy.engine.Engine - INFO - [cached since 5890s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 21:02:14,201 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:14,201 - sqlalchemy.engine.Engine - INFO - [cached since 5890s ago] ('ASTS', 20, 0)
2026-02-07 21:02:14,202 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.53ms
2026-02-07 21:02:14,202 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.45ms
2026-02-07 21:02:14,202 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:14,202 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:14,242 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:14,243 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:14,243 - sqlalchemy.engine.Engine - INFO - [cached since 5895s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:14,244 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:14,244 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:14,245 - sqlalchemy.engine.Engine - INFO - [cached since 5895s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:14,249 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:14,249 - sqlalchemy.engine.Engine - INFO - [cached since 5890s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 21:02:14,250 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:14,250 - sqlalchemy.engine.Engine - INFO - [cached since 5890s ago] ('AMZN', 20, 0)
2026-02-07 21:02:14,255 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=16.55ms
2026-02-07 21:02:14,256 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.30ms
2026-02-07 21:02:14,256 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:14,256 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:14,745 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:14,746 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:14,746 - sqlalchemy.engine.Engine - INFO - [cached since 5895s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:14,747 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:14,747 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:14,747 - sqlalchemy.engine.Engine - INFO - [cached since 5895s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:14,748 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:14,748 - sqlalchemy.engine.Engine - INFO - [cached since 5890s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 21:02:14,749 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:14,750 - sqlalchemy.engine.Engine - INFO - [cached since 5890s ago] ('AMD', 20, 0)
2026-02-07 21:02:14,751 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.44ms
2026-02-07 21:02:14,752 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:14,753 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.42ms
2026-02-07 21:02:14,754 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:14,758 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:14,759 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:14,759 - sqlalchemy.engine.Engine - INFO - [cached since 5895s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:14,760 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:14,760 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:14,760 - sqlalchemy.engine.Engine - INFO - [cached since 5895s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:14,761 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:14,761 - sqlalchemy.engine.Engine - INFO - [cached since 5890s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 21:02:14,761 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:14,761 - sqlalchemy.engine.Engine - INFO - [cached since 5890s ago] ('AMZN', 20, 0)
2026-02-07 21:02:14,762 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.87ms
2026-02-07 21:02:14,762 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:14,762 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.37ms
2026-02-07 21:02:14,763 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:14,811 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:14,812 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:14,812 - sqlalchemy.engine.Engine - INFO - [cached since 5896s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:14,813 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:02:14,813 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:02:14,813 - sqlalchemy.engine.Engine - INFO - [cached since 5896s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:02:14,814 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:14,814 - sqlalchemy.engine.Engine - INFO - [cached since 5890s ago] ('AMD', 20, 0)
2026-02-07 21:02:14,815 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 21:02:14,815 - sqlalchemy.engine.Engine - INFO - [cached since 5890s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 21:02:14,817 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.23ms
2026-02-07 21:02:14,820 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:02:14,820 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.86ms
2026-02-07 21:02:14,821 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:49:25,965 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:49:25,966 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:49:25,966 - sqlalchemy.engine.Engine - INFO - [cached since 8727s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:49:25,966 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:49:25,966 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:49:25,967 - sqlalchemy.engine.Engine - INFO - [cached since 8727s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:49:25,967 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 21:49:25,967 - sqlalchemy.engine.Engine - INFO - [cached since 8721s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 21:49:25,967 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 21:49:25,968 - sqlalchemy.engine.Engine - INFO - [cached since 8721s ago] ('ASTS', 20, 0)
2026-02-07 21:49:25,968 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.17ms
2026-02-07 21:49:25,968 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:49:25,969 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.71ms
2026-02-07 21:49:25,969 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:49:26,029 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:49:26,030 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:49:26,030 - sqlalchemy.engine.Engine - INFO - [cached since 8727s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:49:26,031 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:49:26,031 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:49:26,031 - sqlalchemy.engine.Engine - INFO - [cached since 8727s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:49:26,033 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 21:49:26,033 - sqlalchemy.engine.Engine - INFO - [cached since 8721s ago] ('AMD', 20, 0)
2026-02-07 21:49:26,033 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 21:49:26,033 - sqlalchemy.engine.Engine - INFO - [cached since 8721s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 21:49:26,034 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.86ms
2026-02-07 21:49:26,036 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:49:26,036 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.75ms
2026-02-07 21:49:26,036 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:49:26,065 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:49:26,065 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:49:26,065 - sqlalchemy.engine.Engine - INFO - [cached since 8727s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:49:26,066 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:49:26,066 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:49:26,066 - sqlalchemy.engine.Engine - INFO - [cached since 8727s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:49:26,068 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 21:49:26,068 - sqlalchemy.engine.Engine - INFO - [cached since 8722s ago] ('ASTS', 20, 0)
2026-02-07 21:49:26,068 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 21:49:26,068 - sqlalchemy.engine.Engine - INFO - [cached since 8722s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 21:49:26,070 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.93ms
2026-02-07 21:49:26,073 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.61ms
2026-02-07 21:49:26,073 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:49:26,074 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:54:50,779 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 21:55:18,082 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 21:55:56,528 - api_logger - INFO - rid=/api/stocks/ASTS/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=904.91ms
2026-02-07 21:56:20,083 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:56:20,106 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:56:20,106 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:56:20,107 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:56:20,107 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:56:20,107 - sqlalchemy.engine.Engine - INFO - [cached since 0.0008959s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:56:20,107 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:56:20,107 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:56:20,107 - sqlalchemy.engine.Engine - INFO - [cached since 0.001235s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:56:20,108 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 21:56:20,108 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 21:56:20,109 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 21:56:20,109 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('ASTS', 20, 0)
2026-02-07 21:56:20,111 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 21:56:20,111 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:56:20,111 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=33.74ms
2026-02-07 21:56:20,112 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:56:20,113 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=34.47ms
2026-02-07 21:56:20,113 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:56:20,115 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=33.53ms
2026-02-07 21:56:20,116 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:56:20,365 - api_logger - INFO - rid=/api/stocks/ASTS/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=190.75ms
2026-02-07 21:56:20,629 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:56:20,629 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:56:20,629 - sqlalchemy.engine.Engine - INFO - [cached since 0.523s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:56:20,630 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:56:20,630 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:56:20,630 - sqlalchemy.engine.Engine - INFO - [cached since 0.5244s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:56:20,632 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 21:56:20,632 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 21:56:20,632 - sqlalchemy.engine.Engine - INFO - [cached since 0.5259s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:56:20,633 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 21:56:20,633 - sqlalchemy.engine.Engine - INFO - [cached since 0.5246s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 21:56:20,634 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 21:56:20,634 - sqlalchemy.engine.Engine - INFO - [cached since 0.5225s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 21:56:20,634 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 21:56:20,635 - sqlalchemy.engine.Engine - INFO - [cached since 0.5252s ago] ('ASTS', 20, 0)
2026-02-07 21:56:20,635 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.54ms
2026-02-07 21:56:20,636 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:56:20,637 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.51ms
2026-02-07 21:56:20,638 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.89ms
2026-02-07 21:56:20,638 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:56:20,639 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 21:56:20,821 - api_logger - INFO - rid=/api/stocks/ASTS/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=106.33ms
2026-02-07 22:18:46,769 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 22:18:46,773 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 22:18:46,773 - sqlalchemy.engine.Engine - INFO - [cached since 774.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:18:46,777 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 22:18:46,777 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 22:18:46,777 - sqlalchemy.engine.Engine - INFO - [cached since 774.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:18:46,777 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 22:18:46,777 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 22:18:46,778 - sqlalchemy.engine.Engine - INFO - [cached since 774.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:18:46,780 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-07 22:18:46,780 - sqlalchemy.engine.Engine - INFO - [cached since 774.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:18:46,781 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 22:18:46,781 - sqlalchemy.engine.Engine - INFO - [cached since 774.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 22:18:46,782 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 22:18:46,782 - sqlalchemy.engine.Engine - INFO - [cached since 774.2s ago] ('ASTS', 20, 0)
2026-02-07 22:18:46,783 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=22.98ms
2026-02-07 22:18:46,784 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 22:18:46,784 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.97ms
2026-02-07 22:18:46,785 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 22:18:46,786 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.71ms
2026-02-07 22:18:46,787 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 22:18:47,179 - api_logger - INFO - rid=/api/stocks/ASTS/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=323.42ms
2026-02-07 22:19:12,960 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=anonymous time=235.37ms
2026-02-07 22:19:20,754 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=anonymous time=94.59ms
2026-02-07 22:27:49,508 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 22:27:49,509 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 22:27:49,509 - sqlalchemy.engine.Engine - INFO - [cached since 1317s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:27:49,510 - api_logger - INFO - rid=/api/stocks/AMD/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=354.48ms
2026-02-07 22:27:49,510 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 22:27:49,510 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 22:27:49,510 - sqlalchemy.engine.Engine - INFO - [cached since 1317s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:27:49,703 - api_logger - INFO - rid=/api/stocks/ASTS/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=193.30ms
2026-02-07 22:27:49,820 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 22:27:49,820 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 22:27:49,820 - sqlalchemy.engine.Engine - INFO - [cached since 1317s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:27:49,821 - api_logger - INFO - rid=/api/stocks/AMD/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=117.08ms
2026-02-07 22:27:49,938 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 22:27:49,938 - sqlalchemy.engine.Engine - INFO - [cached since 1317s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 22:27:49,938 - api_logger - INFO - rid=/api/stocks/ASTS/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=117.24ms
2026-02-07 22:27:49,939 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 22:27:49,939 - sqlalchemy.engine.Engine - INFO - [cached since 1317s ago] ('AMD', 20, 0)
2026-02-07 22:27:50,051 - api_logger - INFO - rid=/api/stocks/AMD/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=112.09ms
2026-02-07 22:27:50,051 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 22:27:50,051 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 22:27:50,051 - sqlalchemy.engine.Engine - INFO - [cached since 1317s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:27:50,052 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 22:27:50,052 - sqlalchemy.engine.Engine - INFO - [cached since 1317s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 22:27:50,156 - api_logger - INFO - rid=/api/stocks/AMD/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=103.39ms
2026-02-07 22:27:50,158 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=651.96ms
2026-02-07 22:27:50,159 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=649.40ms
2026-02-07 22:27:50,160 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 22:27:50,160 - sqlalchemy.engine.Engine - INFO - [cached since 1318s ago] ('ASTS', 20, 0)
2026-02-07 22:27:50,161 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 22:27:50,161 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 22:27:50,162 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=457.90ms
2026-02-07 22:27:50,162 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 22:27:50,163 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 22:27:50,163 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 22:27:50,163 - sqlalchemy.engine.Engine - INFO - [cached since 1318s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:27:50,163 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 22:27:50,163 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 22:27:50,163 - sqlalchemy.engine.Engine - INFO - [cached since 1318s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:27:50,163 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=459.47ms
2026-02-07 22:27:50,164 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 22:27:50,165 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 22:27:50,165 - sqlalchemy.engine.Engine - INFO - [cached since 1318s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 22:27:50,166 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 22:27:50,166 - sqlalchemy.engine.Engine - INFO - [cached since 1318s ago] ('AMD', 20, 0)
2026-02-07 22:27:50,169 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.23ms
2026-02-07 22:27:50,171 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 22:27:50,172 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.13ms
2026-02-07 22:27:50,176 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 22:32:14,821 - api_logger - INFO - rid=/api/stocks/AMZN/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=325.02ms
2026-02-07 22:32:14,825 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 22:32:14,825 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 22:32:14,825 - sqlalchemy.engine.Engine - INFO - [cached since 1582s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:32:14,825 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 22:32:14,826 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 22:32:14,826 - sqlalchemy.engine.Engine - INFO - [cached since 1582s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:32:15,024 - api_logger - INFO - rid=/api/stocks/AMD/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=199.91ms
2026-02-07 22:32:15,139 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 22:32:15,139 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 22:32:15,139 - sqlalchemy.engine.Engine - INFO - [cached since 1583s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:32:15,139 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 22:32:15,139 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 22:32:15,139 - sqlalchemy.engine.Engine - INFO - [cached since 1583s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:32:15,140 - api_logger - INFO - rid=/api/stocks/AMZN/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=115.28ms
2026-02-07 22:32:15,252 - api_logger - INFO - rid=/api/stocks/AMD/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=112.36ms
2026-02-07 22:32:15,253 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 22:32:15,253 - sqlalchemy.engine.Engine - INFO - [cached since 1583s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 22:32:15,366 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 22:32:15,366 - sqlalchemy.engine.Engine - INFO - [cached since 1583s ago] ('AMZN', 20, 0)
2026-02-07 22:32:15,367 - api_logger - INFO - rid=/api/stocks/AMZN/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=113.60ms
2026-02-07 22:32:15,367 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 22:32:15,367 - sqlalchemy.engine.Engine - INFO - [cached since 1583s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 22:32:15,368 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 22:32:15,368 - sqlalchemy.engine.Engine - INFO - [cached since 1583s ago] ('AMD', 20, 0)
2026-02-07 22:32:15,481 - api_logger - INFO - rid=/api/stocks/AMZN/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=113.22ms
2026-02-07 22:32:15,483 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=658.57ms
2026-02-07 22:32:15,484 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=660.44ms
2026-02-07 22:32:15,484 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=459.55ms
2026-02-07 22:32:15,485 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 22:32:15,485 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 22:32:15,486 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 22:32:15,486 - sqlalchemy.engine.Engine - INFO - [cached since 1583s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:32:15,486 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 22:32:15,486 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 22:32:15,486 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=461.80ms
2026-02-07 22:32:15,487 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 22:32:15,488 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 22:32:15,488 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 22:32:15,488 - sqlalchemy.engine.Engine - INFO - [cached since 1583s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:32:15,488 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 22:32:15,488 - sqlalchemy.engine.Engine - INFO - [cached since 1583s ago] ('AMZN', 20, 0)
2026-02-07 22:32:15,489 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 22:32:15,489 - sqlalchemy.engine.Engine - INFO - [cached since 1583s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 22:32:15,490 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.37ms
2026-02-07 22:32:15,490 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 22:32:15,491 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.88ms
2026-02-07 22:32:15,491 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 22:32:26,881 - api_logger - INFO - rid=/api/stocks/ASTS/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=195.60ms
2026-02-07 22:32:26,882 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 22:32:26,883 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 22:32:26,883 - sqlalchemy.engine.Engine - INFO - [cached since 1594s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:32:26,883 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 22:32:26,883 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 22:32:26,883 - sqlalchemy.engine.Engine - INFO - [cached since 1594s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:32:27,073 - api_logger - INFO - rid=/api/stocks/AMZN/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=191.79ms
2026-02-07 22:32:27,189 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 22:32:27,189 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 22:32:27,189 - sqlalchemy.engine.Engine - INFO - [cached since 1595s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:32:27,189 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 22:32:27,189 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 22:32:27,189 - sqlalchemy.engine.Engine - INFO - [cached since 1595s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:32:27,190 - api_logger - INFO - rid=/api/stocks/ASTS/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=115.86ms
2026-02-07 22:32:27,303 - api_logger - INFO - rid=/api/stocks/AMZN/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=112.96ms
2026-02-07 22:32:27,303 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 22:32:27,304 - sqlalchemy.engine.Engine - INFO - [cached since 1595s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 22:32:27,304 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 22:32:27,304 - sqlalchemy.engine.Engine - INFO - [cached since 1595s ago] ('ASTS', 20, 0)
2026-02-07 22:32:27,416 - api_logger - INFO - rid=/api/stocks/ASTS/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=111.79ms
2026-02-07 22:32:27,416 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 22:32:27,417 - sqlalchemy.engine.Engine - INFO - [cached since 1595s ago] ('AMZN', 20, 0)
2026-02-07 22:32:27,417 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 22:32:27,417 - sqlalchemy.engine.Engine - INFO - [cached since 1595s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 22:32:27,529 - api_logger - INFO - rid=/api/stocks/ASTS/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=111.35ms
2026-02-07 22:32:27,530 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=648.44ms
2026-02-07 22:32:27,530 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=648.53ms
2026-02-07 22:32:27,531 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 22:32:27,531 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 22:32:27,532 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 22:32:27,532 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 22:32:27,532 - sqlalchemy.engine.Engine - INFO - [cached since 1595s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:32:27,532 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=458.56ms
2026-02-07 22:32:27,533 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 22:32:27,533 - api_logger - INFO - rid=/api/portfolio/AMZN/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=459.45ms
2026-02-07 22:32:27,534 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 22:32:27,534 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-07 22:32:27,534 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-07 22:32:27,534 - sqlalchemy.engine.Engine - INFO - [cached since 1595s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-07 22:32:27,534 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-07 22:32:27,534 - sqlalchemy.engine.Engine - INFO - [cached since 1595s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-07 22:32:27,535 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-07 22:32:27,535 - sqlalchemy.engine.Engine - INFO - [cached since 1595s ago] ('ASTS', 20, 0)
2026-02-07 22:32:27,535 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.01ms
2026-02-07 22:32:27,536 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 22:32:27,536 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.18ms
2026-02-07 22:32:27,537 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-07 22:34:03,430 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 22:34:05,137 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 22:34:17,947 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 22:34:36,972 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 22:35:28,660 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-07 22:35:30,355 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 10:23:23,619 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=403 user_id=invalid_token time=17.77ms
2026-02-08 10:23:23,620 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=403 user_id=invalid_token time=4.25ms
2026-02-08 10:23:23,620 - api_logger - INFO - rid=/api/portfolio/ASTS/news method=GET status_code=403 user_id=invalid_token time=4.37ms
2026-02-08 10:23:36,945 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:36,978 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.email = ?
2026-02-08 10:23:36,978 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('test@qq.com',)
2026-02-08 10:23:37,204 - api_logger - INFO - rid=/api/auth/login method=POST status_code=200 user_id=anonymous time=272.30ms
2026-02-08 10:23:37,204 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:37,254 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:37,255 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:37,255 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:37,257 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 10:23:37,257 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:37,261 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.86ms
2026-02-08 10:23:37,262 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:37,264 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:37,264 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:37,265 - sqlalchemy.engine.Engine - INFO - [cached since 0.009592s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:37,266 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 10:23:37,266 - sqlalchemy.engine.Engine - INFO - [cached since 0.009112s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:37,270 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.81ms
2026-02-08 10:23:37,271 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:39,434 - yfinance - ERROR - HTTP Error 404: {"quoteSummary":{"result":null,"error":{"code":"Not Found","description":"Quote not found for symbol: 002050"}}}
2026-02-08 10:23:40,781 - yfinance - ERROR - $002050: possibly delisted; no price data found  (period=1y) (Yahoo error = "No data found, symbol may be delisted")
2026-02-08 10:23:40,783 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:40,783 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:40,783 - sqlalchemy.engine.Engine - INFO - [cached since 3.528s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:40,784 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:40,784 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:40,784 - sqlalchemy.engine.Engine - INFO - [cached since 3.529s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:40,784 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3476.21ms
2026-02-08 10:23:40,789 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:23:40,789 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:23:40,791 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:23:40,791 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('002050', 20, 0)
2026-02-08 10:23:41,483 - yfinance - ERROR - HTTP Error 404: {"quoteSummary":{"result":null,"error":{"code":"Not Found","description":"Quote not found for symbol: 002050"}}}
2026-02-08 10:23:42,324 - yfinance - ERROR - $002050: possibly delisted; no price data found  (period=1y) (Yahoo error = "No data found, symbol may be delisted")
2026-02-08 10:23:42,325 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1535.65ms
2026-02-08 10:23:42,327 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1545.28ms
2026-02-08 10:23:42,328 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:42,328 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1546.44ms
2026-02-08 10:23:42,329 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:42,755 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:42,756 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:42,756 - sqlalchemy.engine.Engine - INFO - [cached since 5.501s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:42,756 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=299.40ms
2026-02-08 10:23:42,757 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:42,757 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:42,757 - sqlalchemy.engine.Engine - INFO - [cached since 5.502s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:43,514 - yfinance - ERROR - $002050: possibly delisted; no price data found  (period=1y) (Yahoo error = "No data found, symbol may be delisted")
2026-02-08 10:23:43,627 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=870.90ms
2026-02-08 10:23:43,628 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=112.26ms
2026-02-08 10:23:43,629 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:23:43,629 - sqlalchemy.engine.Engine - INFO - [cached since 2.84s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:23:43,630 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:23:43,630 - sqlalchemy.engine.Engine - INFO - [cached since 2.839s ago] ('AAPL', 20, 0)
2026-02-08 10:23:44,312 - yfinance - ERROR - $002050: possibly delisted; no price data found  (period=1y) (Yahoo error = "No data found, symbol may be delisted")
2026-02-08 10:23:44,433 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:44,433 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:44,433 - sqlalchemy.engine.Engine - INFO - [cached since 7.178s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:44,433 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:44,434 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:44,434 - sqlalchemy.engine.Engine - INFO - [cached since 7.179s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:44,434 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=804.32ms
2026-02-08 10:23:44,435 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=805.42ms
2026-02-08 10:23:45,382 - yfinance - ERROR - $002050: possibly delisted; no price data found  (period=1y) (Yahoo error = "No data found, symbol may be delisted")
2026-02-08 10:23:45,383 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=946.99ms
2026-02-08 10:23:45,384 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:23:45,384 - sqlalchemy.engine.Engine - INFO - [cached since 4.593s ago] ('002050', 20, 0)
2026-02-08 10:23:45,384 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2629.12ms
2026-02-08 10:23:45,385 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:23:45,385 - sqlalchemy.engine.Engine - INFO - [cached since 4.596s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:23:45,386 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2629.61ms
2026-02-08 10:23:45,386 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=821.86ms
2026-02-08 10:23:45,387 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:45,504 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:45,504 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=117.84ms
2026-02-08 10:23:46,189 - yfinance - ERROR - $002050: possibly delisted; no price data found  (period=1y) (Yahoo error = "No data found, symbol may be delisted")
2026-02-08 10:23:46,298 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2782.72ms
2026-02-08 10:23:46,299 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=794.22ms
2026-02-08 10:23:46,299 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:46,300 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:46,300 - sqlalchemy.engine.Engine - INFO - [cached since 9.045s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:46,300 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=110.74ms
2026-02-08 10:23:46,301 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2785.13ms
2026-02-08 10:23:46,301 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:46,301 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:46,301 - sqlalchemy.engine.Engine - INFO - [cached since 9.046s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:46,302 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:46,303 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:46,303 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:46,303 - sqlalchemy.engine.Engine - INFO - [cached since 9.048s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:46,304 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:46,978 - yfinance - ERROR - $002050: possibly delisted; no price data found  (period=1y) (Yahoo error = "No data found, symbol may be delisted")
2026-02-08 10:23:46,979 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:46,979 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:46,979 - sqlalchemy.engine.Engine - INFO - [cached since 9.724s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:46,980 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=676.65ms
2026-02-08 10:23:46,981 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:23:46,981 - sqlalchemy.engine.Engine - INFO - [cached since 6.192s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:23:47,667 - yfinance - ERROR - $002050: possibly delisted; no price data found  (period=1y) (Yahoo error = "No data found, symbol may be delisted")
2026-02-08 10:23:47,668 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:23:47,668 - sqlalchemy.engine.Engine - INFO - [cached since 6.877s ago] ('AAPL', 20, 0)
2026-02-08 10:23:47,668 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:23:47,669 - sqlalchemy.engine.Engine - INFO - [cached since 6.878s ago] ('002050', 20, 0)
2026-02-08 10:23:47,670 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:23:47,670 - sqlalchemy.engine.Engine - INFO - [cached since 6.881s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:23:47,670 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=688.29ms
2026-02-08 10:23:47,672 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2169.71ms
2026-02-08 10:23:47,673 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2168.76ms
2026-02-08 10:23:47,674 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:47,674 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:47,675 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:47,675 - sqlalchemy.engine.Engine - INFO - [cached since 10.42s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:47,676 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:47,676 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:47,676 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:47,676 - sqlalchemy.engine.Engine - INFO - [cached since 10.42s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:47,677 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1374.31ms
2026-02-08 10:23:47,678 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1373.82ms
2026-02-08 10:23:47,678 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:47,679 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:47,679 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:47,679 - sqlalchemy.engine.Engine - INFO - [cached since 10.42s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:47,680 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:47,680 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:47,680 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:47,681 - sqlalchemy.engine.Engine - INFO - [cached since 10.43s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:47,681 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:23:47,681 - sqlalchemy.engine.Engine - INFO - [cached since 6.892s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:23:47,682 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:23:47,682 - sqlalchemy.engine.Engine - INFO - [cached since 6.891s ago] ('AAPL', 20, 0)
2026-02-08 10:23:47,683 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:23:47,683 - sqlalchemy.engine.Engine - INFO - [cached since 6.892s ago] ('002050', 20, 0)
2026-02-08 10:23:47,684 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:23:47,684 - sqlalchemy.engine.Engine - INFO - [cached since 6.895s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:23:47,684 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.78ms
2026-02-08 10:23:47,685 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:47,686 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.61ms
2026-02-08 10:23:47,687 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:47,687 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.62ms
2026-02-08 10:23:47,687 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.22ms
2026-02-08 10:23:47,688 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:47,688 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:51,939 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=129.09ms
2026-02-08 10:23:51,940 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:51,940 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:51,940 - sqlalchemy.engine.Engine - INFO - [cached since 14.69s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:51,942 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:51,942 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:51,942 - sqlalchemy.engine.Engine - INFO - [cached since 14.69s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:52,851 - yfinance - ERROR - $002050: possibly delisted; no price data found  (period=1y) (Yahoo error = "No data found, symbol may be delisted")
2026-02-08 10:23:52,853 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:52,853 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:52,853 - sqlalchemy.engine.Engine - INFO - [cached since 15.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:52,854 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:52,854 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:52,854 - sqlalchemy.engine.Engine - INFO - [cached since 15.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:52,974 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=119.53ms
2026-02-08 10:23:52,974 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1032.02ms
2026-02-08 10:23:52,975 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:23:52,975 - sqlalchemy.engine.Engine - INFO - [cached since 12.18s ago] ('AAPL', 20, 0)
2026-02-08 10:23:52,976 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:23:52,976 - sqlalchemy.engine.Engine - INFO - [cached since 12.19s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:23:53,790 - yfinance - ERROR - $002050: possibly delisted; no price data found  (period=1y) (Yahoo error = "No data found, symbol may be delisted")
2026-02-08 10:23:54,024 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:23:54,024 - sqlalchemy.engine.Engine - INFO - [cached since 13.24s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:23:54,024 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:23:54,024 - sqlalchemy.engine.Engine - INFO - [cached since 13.23s ago] ('002050', 20, 0)
2026-02-08 10:23:54,024 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1048.18ms
2026-02-08 10:23:54,025 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1049.08ms
2026-02-08 10:23:54,148 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=121.01ms
2026-02-08 10:23:54,148 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2208.94ms
2026-02-08 10:23:54,150 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2207.45ms
2026-02-08 10:23:54,150 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2207.71ms
2026-02-08 10:23:54,150 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2209.01ms
2026-02-08 10:23:54,151 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:54,151 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:54,152 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:54,152 - sqlalchemy.engine.Engine - INFO - [cached since 16.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:54,152 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:54,152 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:54,152 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:54,153 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:23:54,153 - sqlalchemy.engine.Engine - INFO - [cached since 13.36s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:23:54,153 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:54,153 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:54,153 - sqlalchemy.engine.Engine - INFO - [cached since 16.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:54,154 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.45ms
2026-02-08 10:23:54,154 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:23:54,154 - sqlalchemy.engine.Engine - INFO - [cached since 13.36s ago] ('AAPL', 20, 0)
2026-02-08 10:23:54,155 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:54,155 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.29ms
2026-02-08 10:23:54,156 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:55,297 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:55,297 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:55,297 - sqlalchemy.engine.Engine - INFO - [cached since 18.04s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:55,299 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 10:23:55,299 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] ('AAPL',)
2026-02-08 10:23:56,223 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-08 10:23:56,223 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('AAPL',)
2026-02-08 10:23:56,225 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:23:56,225 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('981503ee-3a91-3e34-a07b-308dadbf6a2a', 'AAPL', 'Dow Jones Tops 50,000 With Apple, Boeing, These AI Stocks New Buys. But Market Is Still Divided.', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-50000-apple-boeing-jpmorgan-ai-stocks/?src=A00220&yptr=yahoo', '2026-02-07 16:19:01.000000', None)
2026-02-08 10:23:56,226 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:23:56,226 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('29a4ae66-32d7-36c1-b088-eba6a6737f3b', 'AAPL', 'AI can make anyone rich: Mark Cuban says it could turn just one dude in a basement into a trillionaire', 'Fortune', 'https://finance.yahoo.com/news/ai-anyone-rich-mark-cuban-152003409.html', '2026-02-07 15:20:03.000000', None)
2026-02-08 10:23:56,227 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:23:56,227 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('06238ebd-d167-3873-801b-11d44fcb8948', 'AAPL', 'UBS Maintains Neutral View as Apple (AAPL) App Store Trends Stay Solid', 'Insider Monkey', 'https://finance.yahoo.com/news/ubs-maintains-neutral-view-apple-151022695.html', '2026-02-07 15:10:22.000000', None)
2026-02-08 10:23:56,228 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:23:56,228 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('82071533-ca14-3ca4-a00a-5decc27eb8b4', 'AAPL', 'Apple, GE Aerospace Lead Five Stocks Flashing Buy Signals', "Investor's Business Daily", 'https://www.investors.com/news/apple-stock-ge-aerospace-stocks-buy-signals/?src=A00220&yptr=yahoo', '2026-02-07 13:00:29.000000', None)
2026-02-08 10:23:56,228 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:23:56,228 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('2a5b8ae4-9d1b-3d75-9858-4e09a6187662', 'AAPL', 'Youve vanquished your rival in a CEO succession race. Now, how do you lead them?', 'Fortune', 'https://finance.yahoo.com/news/ve-vanquished-rival-ceo-succession-120000441.html', '2026-02-07 12:00:00.000000', None)
2026-02-08 10:23:56,228 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:23:56,228 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('6fd2e20d-5089-3b1c-9eda-53c40588261a', 'AAPL', 'Apples AI Partnerships Reframe Siri, CarPlay And Health For Investors', 'Simply Wall St.', 'https://finance.yahoo.com/news/apple-ai-partnerships-reframe-siri-080708063.html', '2026-02-07 08:07:08.000000', None)
2026-02-08 10:23:56,229 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:23:56,229 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('bebfa693-d65c-3803-930b-05f469610eff', 'AAPL', 'Herms orange iPhone sparks Apple comeback in China', 'Financial Times', 'https://finance.yahoo.com/news/herm-orange-iphone-sparks-apple-070000926.html', '2026-02-07 07:00:00.000000', None)
2026-02-08 10:23:56,229 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:23:56,229 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('ee889a3f-d2f2-3d33-88e5-1b565308845f', 'AAPL', 'Apple to Allow Third-Party AI Chatbots in CarPlay', '24/7 Wall St.', 'https://finance.yahoo.com/news/apple-allow-third-party-ai-215048959.html', '2026-02-06 21:50:48.000000', None)
2026-02-08 10:23:56,229 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:23:56,229 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('55b21566-7a1f-33fd-932c-c9c2d5224eb9', 'AAPL', 'Dow Hits Record as Tech Stocks Bounce to Cap Mixed Week for Wall Street', 'MT Newswires', 'https://finance.yahoo.com/news/dow-hits-record-tech-stocks-214909926.html', '2026-02-06 21:49:09.000000', None)
2026-02-08 10:23:56,230 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:23:56,230 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('83746cf4-83ed-3eb7-a000-56ff95bcfe38', 'AAPL', 'Corning Stock Has First Record Close Since the Dot-Com Bubble', 'Barrons.com', 'https://www.barrons.com/articles/corning-stock-price-record-high-bubble-dot-com-ai-e59c4fd7?siteid=yhoof2&yptr=yahoo', '2026-02-06 21:35:00.000000', None)
2026-02-08 10:23:56,231 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET macd_val=?, macd_signal=?, macd_hist=?, macd_hist_slope=?, bb_lower=?, adx_14=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-08 10:23:56,231 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] (2.208997685390216, -1.1003241697463013, 3.309321855136517, 0.1398176950282064, 241.1436733038146, nan, '2026-02-08 02:23:55.300151', 'AAPL')
2026-02-08 10:23:56,231 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 10:23:56,231 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:56,232 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 10:23:56,232 - sqlalchemy.engine.Engine - INFO - [generated in 0.00005s] ('AAPL',)
2026-02-08 10:23:56,232 - api_logger - INFO - rid=/api/portfolio/AAPL/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=936.46ms
2026-02-08 10:23:56,233 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:23:56,236 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:23:56,236 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:23:56,236 - sqlalchemy.engine.Engine - INFO - [cached since 18.98s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:56,236 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 10:23:56,236 - sqlalchemy.engine.Engine - INFO - [cached since 18.98s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:23:56,238 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.48ms
2026-02-08 10:23:56,238 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:25:54,798 - yfinance - ERROR - $002050: possibly delisted; no price data found  (period=1y) (Yahoo error = "No data found, symbol may be delisted")
2026-02-08 10:25:54,799 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:25:54,799 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:25:54,799 - sqlalchemy.engine.Engine - INFO - [cached since 137.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:25:54,800 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:25:54,800 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:25:54,800 - sqlalchemy.engine.Engine - INFO - [cached since 137.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:25:54,800 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1084.56ms
2026-02-08 10:25:55,041 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:25:55,042 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:25:55,042 - sqlalchemy.engine.Engine - INFO - [cached since 137.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:25:55,042 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:25:55,042 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:25:55,042 - sqlalchemy.engine.Engine - INFO - [cached since 137.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:25:55,042 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=241.86ms
2026-02-08 10:25:55,043 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:25:55,043 - sqlalchemy.engine.Engine - INFO - [cached since 134.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:25:55,733 - yfinance - ERROR - $002050: possibly delisted; no price data found  (period=1y) (Yahoo error = "No data found, symbol may be delisted")
2026-02-08 10:25:55,736 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:25:55,736 - sqlalchemy.engine.Engine - INFO - [cached since 134.9s ago] ('002050', 20, 0)
2026-02-08 10:25:55,858 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=814.60ms
2026-02-08 10:25:55,858 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:25:55,858 - sqlalchemy.engine.Engine - INFO - [cached since 135.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:25:55,858 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=123.52ms
2026-02-08 10:25:55,860 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:25:55,860 - sqlalchemy.engine.Engine - INFO - [cached since 135.1s ago] ('AAPL', 20, 0)
2026-02-08 10:25:56,753 - yfinance - ERROR - $002050: possibly delisted; no price data found  (period=1y) (Yahoo error = "No data found, symbol may be delisted")
2026-02-08 10:25:56,754 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3037.89ms
2026-02-08 10:25:56,755 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:25:56,756 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=896.21ms
2026-02-08 10:25:56,757 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:25:56,757 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:25:56,758 - sqlalchemy.engine.Engine - INFO - [cached since 139.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:25:56,758 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1958.75ms
2026-02-08 10:25:56,758 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1957.71ms
2026-02-08 10:25:56,761 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:25:56,761 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:25:57,585 - yfinance - ERROR - $002050: possibly delisted; no price data found  (period=1y) (Yahoo error = "No data found, symbol may be delisted")
2026-02-08 10:25:57,586 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2785.16ms
2026-02-08 10:25:57,588 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:25:57,588 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:25:57,588 - sqlalchemy.engine.Engine - INFO - [cached since 140.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:25:57,589 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:25:57,590 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:25:57,590 - sqlalchemy.engine.Engine - INFO - [cached since 136.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:25:57,590 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=829.29ms
2026-02-08 10:25:57,590 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:25:57,590 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:25:57,591 - sqlalchemy.engine.Engine - INFO - [cached since 140.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:25:57,592 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:25:57,592 - sqlalchemy.engine.Engine - INFO - [cached since 136.8s ago] ('002050', 20, 0)
2026-02-08 10:25:57,592 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=836.17ms
2026-02-08 10:25:57,593 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 10:25:57,593 - sqlalchemy.engine.Engine - INFO - [cached since 122.3s ago] ('002050',)
2026-02-08 10:25:57,594 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:25:57,594 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.66ms
2026-02-08 10:25:57,595 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:25:57,595 - app.services.market_providers.tavily - WARNING - TAVILY_API_KEY not set. TavilyProvider will be disabled.
2026-02-08 10:26:02,661 - app.services.market_providers.akshare - WARNING - AkShare spot_em failed for 002050: HTTPSConnectionPool(host='82.push2.eastmoney.com', port=443): Max retries exceeded with url: /api/qt/clist/get?pn=1&pz=100&po=1&np=1&ut=bd1d9ddb04089700cf9c27f6f7426281&fltt=2&invt=2&fid=f12&fs=m%3A0+t%3A6%2Cm%3A0+t%3A80%2Cm%3A1+t%3A2%2Cm%3A1+t%3A23%2Cm%3A0+t%3A81+s%3A2048&fields=f1%2Cf2%2Cf3%2Cf4%2Cf5%2Cf6%2Cf7%2Cf8%2Cf9%2Cf10%2Cf12%2Cf13%2Cf14%2Cf15%2Cf16%2Cf17%2Cf18%2Cf20%2Cf21%2Cf23%2Cf24%2Cf25%2Cf22%2Cf11%2Cf62%2Cf128%2Cf136%2Cf115%2Cf152 (Caused by ProxyError('Unable to connect to proxy', RemoteDisconnected('Remote end closed connection without response')))
2026-02-08 10:26:13,362 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:26:13,363 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:26:13,363 - sqlalchemy.engine.Engine - INFO - [cached since 156.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:26:13,364 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-08 10:26:13,364 - sqlalchemy.engine.Engine - INFO - [cached since 137.1s ago] ('002050',)
2026-02-08 10:26:13,365 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 10:26:13,365 - sqlalchemy.engine.Engine - INFO - [cached since 138.1s ago] ('002050',)
2026-02-08 10:26:13,366 - app.services.market_providers.tavily - WARNING - TAVILY_API_KEY not set. TavilyProvider will be disabled.
2026-02-08 10:26:18,228 - app.services.market_providers.akshare - WARNING - AkShare spot_em failed for 002050: HTTPSConnectionPool(host='82.push2.eastmoney.com', port=443): Max retries exceeded with url: /api/qt/clist/get?pn=1&pz=100&po=1&np=1&ut=bd1d9ddb04089700cf9c27f6f7426281&fltt=2&invt=2&fid=f12&fs=m%3A0+t%3A6%2Cm%3A0+t%3A80%2Cm%3A1+t%3A2%2Cm%3A1+t%3A23%2Cm%3A0+t%3A81+s%3A2048&fields=f1%2Cf2%2Cf3%2Cf4%2Cf5%2Cf6%2Cf7%2Cf8%2Cf9%2Cf10%2Cf12%2Cf13%2Cf14%2Cf15%2Cf16%2Cf17%2Cf18%2Cf20%2Cf21%2Cf23%2Cf24%2Cf25%2Cf22%2Cf11%2Cf62%2Cf128%2Cf136%2Cf115%2Cf152 (Caused by ProxyError('Unable to connect to proxy', RemoteDisconnected('Remote end closed connection without response')))
2026-02-08 10:26:38,977 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-08 10:26:38,977 - sqlalchemy.engine.Engine - INFO - [cached since 162.8s ago] ('002050',)
2026-02-08 10:26:38,977 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-08 10:26:38,977 - sqlalchemy.engine.Engine - INFO - [cached since 162.8s ago] ('002050',)
2026-02-08 10:26:38,978 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:26:38,978 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('1169989749749487945', '002050', '002050', '', 'http://finance.eastmoney.com/a/202601163621684791.html', '2026-01-16 11:13:05.000000', None)
2026-02-08 10:26:38,979 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:26:38,979 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('1169989749749487945', '002050', '002050', '', 'http://finance.eastmoney.com/a/202601163621684791.html', '2026-01-16 11:13:05.000000', None)
2026-02-08 10:26:38,979 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:26:38,980 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('2636813503462847518', '002050', '2.1', '', 'http://finance.eastmoney.com/a/202602043641538358.html', '2026-02-04 18:12:22.000000', None)
2026-02-08 10:26:38,980 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:26:38,980 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('-7170504224792666274', '002050', '0020503', '', 'http://finance.eastmoney.com/a/202512223598607016.html', '2025-12-22 22:24:39.000000', None)
2026-02-08 10:26:38,980 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:26:38,980 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('7227758726362454337', '002050', '23', '', 'http://finance.eastmoney.com/a/202602033639754212.html', '2026-02-03 09:57:39.000000', None)
2026-02-08 10:26:38,981 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:26:38,981 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('-8615902367474694517', '002050', '462', '', 'http://finance.eastmoney.com/a/202602043641856015.html', '2026-02-04 23:41:15.000000', None)
2026-02-08 10:26:38,981 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:26:38,981 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('7765563439798860840', '002050', '', '', 'http://finance.eastmoney.com/a/202602023638212355.html', '2026-02-02 09:42:06.000000', None)
2026-02-08 10:26:38,981 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:26:38,981 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('1771662875467802090', '002050', '612', '', 'http://finance.eastmoney.com/a/202602033640238431.html', '2026-02-03 18:06:13.000000', None)
2026-02-08 10:26:38,982 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:26:38,982 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('-7281911708598298130', '002050', '1498CEO', '', 'http://finance.eastmoney.com/a/202602053642927122.html', '2026-02-05 19:13:33.000000', None)
2026-02-08 10:26:38,982 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:26:38,982 - sqlalchemy.engine.Engine - INFO - [no key 0.00004s] ('1648321599098782754', '002050', '0.2425%', '', 'http://finance.eastmoney.com/a/202601233628493496.html', '2026-01-23 09:43:54.000000', None)
2026-02-08 10:26:38,982 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:26:38,982 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('-1615583311241468479', '002050', '0.2425%', '', 'http://finance.eastmoney.com/a/202601223627695117.html', '2026-01-22 21:49:47.000000', None)
2026-02-08 10:26:38,983 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET change_percent=?, adx_14=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-08 10:26:38,983 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] (2.056, nan, '2026-02-08 02:25:57.595706', '002050')
2026-02-08 10:26:38,983 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 10:26:38,984 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:26:38,984 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 10:26:38,984 - sqlalchemy.engine.Engine - INFO - [cached since 162.8s ago] ('002050',)
2026-02-08 10:26:38,984 - api_logger - INFO - rid=/api/portfolio/002050/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=42225.70ms
2026-02-08 10:26:38,985 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:26:38,987 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:26:38,987 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:26:38,987 - sqlalchemy.engine.Engine - INFO - [cached since 181.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:26:38,988 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 10:26:38,988 - sqlalchemy.engine.Engine - INFO - [cached since 181.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:26:38,989 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.14ms
2026-02-08 10:26:38,989 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:26:38,990 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('2636813503462847518', '002050', '2.1', '', 'http://finance.eastmoney.com/a/202602043641538358.html', '2026-02-04 18:12:22.000000', None)
2026-02-08 10:26:38,990 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:26:38,990 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:26:38,990 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('-7170504224792666274', '002050', '0020503', '', 'http://finance.eastmoney.com/a/202512223598607016.html', '2025-12-22 22:24:39.000000', None)
2026-02-08 10:26:38,991 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:26:38,991 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('7227758726362454337', '002050', '23', '', 'http://finance.eastmoney.com/a/202602033639754212.html', '2026-02-03 09:57:39.000000', None)
2026-02-08 10:26:38,991 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:26:38,991 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('-8615902367474694517', '002050', '462', '', 'http://finance.eastmoney.com/a/202602043641856015.html', '2026-02-04 23:41:15.000000', None)
2026-02-08 10:26:38,991 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:26:38,991 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('7765563439798860840', '002050', '', '', 'http://finance.eastmoney.com/a/202602023638212355.html', '2026-02-02 09:42:06.000000', None)
2026-02-08 10:26:38,992 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:26:38,992 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('1771662875467802090', '002050', '612', '', 'http://finance.eastmoney.com/a/202602033640238431.html', '2026-02-03 18:06:13.000000', None)
2026-02-08 10:26:38,992 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:26:38,992 - sqlalchemy.engine.Engine - INFO - [no key 0.00004s] ('-7281911708598298130', '002050', '1498CEO', '', 'http://finance.eastmoney.com/a/202602053642927122.html', '2026-02-05 19:13:33.000000', None)
2026-02-08 10:26:38,992 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:26:38,992 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('1648321599098782754', '002050', '0.2425%', '', 'http://finance.eastmoney.com/a/202601233628493496.html', '2026-01-23 09:43:54.000000', None)
2026-02-08 10:26:38,993 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:26:38,993 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('-1615583311241468479', '002050', '0.2425%', '', 'http://finance.eastmoney.com/a/202601223627695117.html', '2026-01-22 21:49:47.000000', None)
2026-02-08 10:26:38,993 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET change_percent=?, adx_14=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-08 10:26:38,993 - sqlalchemy.engine.Engine - INFO - [cached since 0.01029s ago] (2.056, nan, '2026-02-08 02:26:13.366451', '002050')
2026-02-08 10:26:38,993 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 10:26:38,994 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:26:38,994 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 10:26:38,994 - sqlalchemy.engine.Engine - INFO - [cached since 162.8s ago] ('002050',)
2026-02-08 10:26:38,994 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:26:38,994 - sqlalchemy.engine.Engine - INFO - [cached since 178.2s ago] ('002050', 5, 0)
2026-02-08 10:26:38,995 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-08 10:26:38,995 - sqlalchemy.engine.Engine - INFO - [generated in 0.00005s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050')
2026-02-08 10:26:38,995 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for 002050. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-08 10:26:38,999 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR 002050 ---

         [002050] 
        
        **1.  (Fundamental Context)**:
        - /:  / 
        - : 215113672357.19998
        - PE (TTM): None | Forward PE: None
        - 52: [None, None]
        - Beta: None
        
        **2.  (Portfolio Context)**:
        - : $0.0
        - : 0.0
        - : $0.0 (0%)
        
        **3.  (Technical Data)**:
        - : $51.12
        - : 2.06%
        - RSI (14): 25.59 | KDJ (K): None / (D): None / (J): None
        - MACD: -0.1 (: -0.72, : None)
        -  (BB): : 59.81 | : None | : 47.96
        - MA : [20: 53.89, 50: 49.8, 200: 37.04]
        -  (ADX): None | ATR: 2.24
        -  (Pivots):  R1: None / R2: None |  S1: None / S2: None
        
        **4.  (Recent News)**:
        [{'title': '1498CEO', 'publisher': '', 'time': '2026-02-05T19:13:33'}, {'title': '1498CEO', 'publisher': '', 'time': '2026-02-05T19:13:33'}, {'title': '462', 'publisher': '', 'time': '2026-02-04T23:41:15'}, {'title': '462', 'publisher': '', 'time': '2026-02-04T23:41:15'}, {'title': '2.1', 'publisher': '', 'time': '2026-02-04T18:12:22'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (49.8)  (47.96)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "investment_horizon": " ( 2-5 /   /  -)",
            "confidence_level": 0-100 (AI ),
            "immediate_action": " (///)",
            "entry_zone": "/ ($150.0 - $155.0)",
            "target_price": "/ (2)",
            "stop_loss_price": "/ (2)",
            "rr_ratio": " (1:2.5 (-)/(-))",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-08 10:26:43,366 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:26:43,366 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:26:43,366 - sqlalchemy.engine.Engine - INFO - [cached since 186.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:26:43,367 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=271.80ms
2026-02-08 10:26:43,367 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:26:43,368 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:26:43,368 - sqlalchemy.engine.Engine - INFO - [cached since 186.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:26:44,047 - yfinance - ERROR - $002050: possibly delisted; no price data found  (period=1y) (Yahoo error = "No data found, symbol may be delisted")
2026-02-08 10:26:44,049 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:26:44,049 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:26:44,049 - sqlalchemy.engine.Engine - INFO - [cached since 186.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:26:44,050 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:26:44,051 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:26:44,051 - sqlalchemy.engine.Engine - INFO - [cached since 186.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:26:44,051 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=682.45ms
2026-02-08 10:26:44,053 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:26:44,053 - sqlalchemy.engine.Engine - INFO - [cached since 183.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:26:44,054 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:26:44,054 - sqlalchemy.engine.Engine - INFO - [cached since 183.3s ago] ('AAPL', 20, 0)
2026-02-08 10:26:44,161 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=106.46ms
2026-02-08 10:26:44,162 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:26:44,162 - sqlalchemy.engine.Engine - INFO - [cached since 183.4s ago] ('002050', 20, 0)
2026-02-08 10:26:44,162 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:26:44,162 - sqlalchemy.engine.Engine - INFO - [cached since 183.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:26:44,838 - yfinance - ERROR - $002050: possibly delisted; no price data found  (period=1y) (Yahoo error = "No data found, symbol may be delisted")
2026-02-08 10:26:44,839 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1743.72ms
2026-02-08 10:26:44,840 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:26:44,841 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=677.76ms
2026-02-08 10:26:44,843 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1476.33ms
2026-02-08 10:26:44,964 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=914.68ms
2026-02-08 10:26:44,965 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=122.50ms
2026-02-08 10:26:44,965 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:26:44,965 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:26:44,966 - sqlalchemy.engine.Engine - INFO - [cached since 187.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:26:44,966 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1596.65ms
2026-02-08 10:26:44,966 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:26:44,967 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:26:44,967 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:26:45,087 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=119.56ms
2026-02-08 10:26:45,088 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:26:45,088 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:26:45,088 - sqlalchemy.engine.Engine - INFO - [cached since 187.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:26:45,089 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:26:45,089 - sqlalchemy.engine.Engine - INFO - [cached since 184.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:26:45,091 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:26:45,091 - sqlalchemy.engine.Engine - INFO - [cached since 184.3s ago] ('AAPL', 20, 0)
2026-02-08 10:26:45,091 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=126.89ms
2026-02-08 10:26:45,091 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:26:45,093 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=126.47ms
2026-02-08 10:26:45,093 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:26:48,339 - yfinance - ERROR - $002050: possibly delisted; no price data found  (period=1y) (Yahoo error = "No data found, symbol may be delisted")
2026-02-08 10:26:48,340 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:26:48,341 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:26:48,341 - sqlalchemy.engine.Engine - INFO - [cached since 191.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:26:48,341 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:26:48,342 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:26:48,342 - sqlalchemy.engine.Engine - INFO - [cached since 191.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:26:48,461 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:26:48,461 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:26:48,461 - sqlalchemy.engine.Engine - INFO - [cached since 191.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:26:48,462 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1000.04ms
2026-02-08 10:26:48,462 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=119.72ms
2026-02-08 10:26:48,463 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:26:48,463 - sqlalchemy.engine.Engine - INFO - [cached since 187.7s ago] ('002050', 20, 0)
2026-02-08 10:26:48,464 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:26:48,464 - sqlalchemy.engine.Engine - INFO - [cached since 187.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:26:48,464 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:26:48,465 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:26:48,465 - sqlalchemy.engine.Engine - INFO - [cached since 191.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:26:49,182 - yfinance - ERROR - $002050: possibly delisted; no price data found  (period=1y) (Yahoo error = "No data found, symbol may be delisted")
2026-02-08 10:26:49,182 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:26:49,183 - sqlalchemy.engine.Engine - INFO - [cached since 188.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:26:49,183 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=718.51ms
2026-02-08 10:26:49,184 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:26:49,184 - sqlalchemy.engine.Engine - INFO - [cached since 188.4s ago] ('AAPL', 20, 0)
2026-02-08 10:26:49,185 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=845.48ms
2026-02-08 10:26:49,303 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:26:49,304 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=118.63ms
2026-02-08 10:26:49,304 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=964.99ms
2026-02-08 10:26:49,983 - yfinance - ERROR - $002050: possibly delisted; no price data found  (period=1y) (Yahoo error = "No data found, symbol may be delisted")
2026-02-08 10:26:49,985 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1642.61ms
2026-02-08 10:26:49,985 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:26:49,986 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:26:49,986 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:26:49,986 - sqlalchemy.engine.Engine - INFO - [cached since 192.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:26:49,987 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:26:49,987 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:26:49,987 - sqlalchemy.engine.Engine - INFO - [cached since 192.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:26:49,988 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=684.13ms
2026-02-08 10:26:49,988 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:26:49,989 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1524.48ms
2026-02-08 10:26:49,990 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:26:50,787 - yfinance - ERROR - $002050: possibly delisted; no price data found  (period=1y) (Yahoo error = "No data found, symbol may be delisted")
2026-02-08 10:26:50,789 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:26:50,789 - sqlalchemy.engine.Engine - INFO - [cached since 190s ago] ('002050', 20, 0)
2026-02-08 10:26:50,790 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=800.30ms
2026-02-08 10:26:50,791 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:26:50,791 - sqlalchemy.engine.Engine - INFO - [cached since 190s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:26:50,793 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=806.44ms
2026-02-08 10:26:50,793 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=808.82ms
2026-02-08 10:26:50,794 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:26:50,794 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:27:05,792 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-08 10:27:05,794 - app.api.v1.endpoints.analysis - INFO - AI Response for 002050: {
    "sentiment_score": 62,
    "summary_status": "",
    "risk_level": "",
    "investment_horizon": " ",
    "confidence_level": 75,
    "immediate_action": "",
    "entry_zone": "$4...
2026-02-08 10:27:05,796 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, entry_zone, rr_ratio, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-08 10:27:05,796 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('090c96b5-12af-4ed6-b14b-5a9feb4bc291', '9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', '{"market_data": {"current_price": 51.12, "change_percent": 2.06, "rsi_14": 25.59, "ma_20": 53.89, "ma_50": 49.8, "ma_200": 37.04, "macd_val": -0.1, " ... (58 characters truncated) ... kdj_k": 33.24, "atr_14": 2.24, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 0.0, "quantity": 0.0, "unrealized_pl": 0.0, "pl_percent": 0}}', '{\n    "sentiment_score": 62,\n    "summary_status": "",\n    "risk_level": "",\n    "investment_horizon": " ",\n    "confidence_level": 7 ... (450 characters truncated) ... n_advice": "47.96-49.8030.51.3ATR47.96-2.24*1.3=46.7259.811:2.64MACD5010%200"\n}', '62', '', '', '51.1247.9653.89RSI 25.59MACD-0.725049.8020037.0450', '14982.1PE1498', '47.96-49.8030.51.3ATR47.96-2.24*1.3=46.7259.811:2.64MACD5010%200', ' ', 75.0, '', 59.81, 46.72, '$47.96 - $49.80', '1:2.64', 'qwen-3-vl-thinking', '2026-02-08 02:27:05.795995')
2026-02-08 10:27:05,797 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 10:27:05,799 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:27:05,799 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-08 10:27:05,800 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('090c96b5-12af-4ed6-b14b-5a9feb4bc291',)
2026-02-08 10:27:05,801 - api_logger - INFO - rid=/api/analysis/002050 method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=52441.65ms
2026-02-08 10:27:05,801 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:27:05,804 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:27:05,804 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:27:05,804 - sqlalchemy.engine.Engine - INFO - [cached since 208.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:27:05,805 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:27:05,805 - sqlalchemy.engine.Engine - INFO - [cached since 205s ago] ('002050', 20, 0)
2026-02-08 10:27:05,807 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.39ms
2026-02-08 10:27:05,807 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:31:11,526 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 10:31:25,919 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 10:31:45,166 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 10:31:55,914 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 10:32:04,122 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 10:36:39,006 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:36:39,038 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:36:39,038 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:36:39,038 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:36:39,038 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:36:39,038 - sqlalchemy.engine.Engine - INFO - [cached since 0.0006383s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:36:39,039 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:36:39,039 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:36:39,039 - sqlalchemy.engine.Engine - INFO - [cached since 0.001047s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:36:39,040 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:36:39,040 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:36:39,042 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 10:36:39,042 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:36:39,043 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:36:39,043 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('002050', 20, 0)
2026-02-08 10:36:39,044 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=52.56ms
2026-02-08 10:36:39,044 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:36:39,047 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=46.23ms
2026-02-08 10:36:39,048 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=46.37ms
2026-02-08 10:36:39,048 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:36:39,048 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:36:39,178 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=78.20ms
2026-02-08 10:36:50,999 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:36:51,000 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:36:51,000 - sqlalchemy.engine.Engine - INFO - [cached since 11.96s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:36:51,000 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:36:51,000 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:36:51,001 - sqlalchemy.engine.Engine - INFO - [cached since 11.96s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:36:51,001 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:36:51,001 - sqlalchemy.engine.Engine - INFO - [cached since 11.96s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:36:51,001 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:36:51,002 - sqlalchemy.engine.Engine - INFO - [cached since 11.96s ago] ('AAPL', 20, 0)
2026-02-08 10:36:51,002 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.87ms
2026-02-08 10:36:51,003 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:36:51,004 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.89ms
2026-02-08 10:36:51,004 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:36:51,051 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:36:51,052 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:36:51,053 - sqlalchemy.engine.Engine - INFO - [cached since 12.01s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:36:51,054 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:36:51,054 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:36:51,054 - sqlalchemy.engine.Engine - INFO - [cached since 12.02s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:36:51,055 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:36:51,055 - sqlalchemy.engine.Engine - INFO - [cached since 12.01s ago] ('002050', 20, 0)
2026-02-08 10:36:51,055 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:36:51,055 - sqlalchemy.engine.Engine - INFO - [cached since 12.02s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:36:51,056 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.27ms
2026-02-08 10:36:51,057 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:36:51,058 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.65ms
2026-02-08 10:36:51,058 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:36:51,100 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:36:51,100 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:36:51,100 - sqlalchemy.engine.Engine - INFO - [cached since 12.06s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:36:51,100 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:36:51,101 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:36:51,101 - sqlalchemy.engine.Engine - INFO - [cached since 12.06s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:36:51,101 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:36:51,101 - sqlalchemy.engine.Engine - INFO - [cached since 12.06s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:36:51,101 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:36:51,101 - sqlalchemy.engine.Engine - INFO - [cached since 12.06s ago] ('AAPL', 20, 0)
2026-02-08 10:36:51,102 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.96ms
2026-02-08 10:36:51,103 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:36:51,104 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.46ms
2026-02-08 10:36:51,105 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:36:51,237 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=187.51ms
2026-02-08 10:36:51,428 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=190.58ms
2026-02-08 10:36:51,899 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=904.20ms
2026-02-08 10:36:52,278 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=378.88ms
2026-02-08 10:36:52,397 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=118.17ms
2026-02-08 10:36:52,516 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=118.25ms
2026-02-08 10:37:19,642 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:37:19,642 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:37:19,642 - sqlalchemy.engine.Engine - INFO - [cached since 40.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:37:19,644 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 10:37:19,644 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('AAPL',)
2026-02-08 10:37:20,162 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-08 10:37:20,162 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('AAPL',)
2026-02-08 10:37:20,164 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:37:20,164 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('981503ee-3a91-3e34-a07b-308dadbf6a2a', 'AAPL', 'Dow Jones Tops 50,000 With Apple, Boeing, These AI Stocks New Buys. But Market Is Still Divided.', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-50000-apple-boeing-jpmorgan-ai-stocks/?src=A00220&yptr=yahoo', '2026-02-07 16:19:01.000000', None)
2026-02-08 10:37:20,166 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:37:20,167 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('29a4ae66-32d7-36c1-b088-eba6a6737f3b', 'AAPL', 'AI can make anyone rich: Mark Cuban says it could turn just one dude in a basement into a trillionaire', 'Fortune', 'https://finance.yahoo.com/news/ai-anyone-rich-mark-cuban-152003409.html', '2026-02-07 15:20:03.000000', None)
2026-02-08 10:37:20,168 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:37:20,168 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('06238ebd-d167-3873-801b-11d44fcb8948', 'AAPL', 'UBS Maintains Neutral View as Apple (AAPL) App Store Trends Stay Solid', 'Insider Monkey', 'https://finance.yahoo.com/news/ubs-maintains-neutral-view-apple-151022695.html', '2026-02-07 15:10:22.000000', None)
2026-02-08 10:37:20,168 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:37:20,168 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('82071533-ca14-3ca4-a00a-5decc27eb8b4', 'AAPL', 'Apple, GE Aerospace Lead Five Stocks Flashing Buy Signals', "Investor's Business Daily", 'https://www.investors.com/news/apple-stock-ge-aerospace-stocks-buy-signals/?src=A00220&yptr=yahoo', '2026-02-07 13:00:29.000000', None)
2026-02-08 10:37:20,169 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:37:20,169 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('2a5b8ae4-9d1b-3d75-9858-4e09a6187662', 'AAPL', 'Youve vanquished your rival in a CEO succession race. Now, how do you lead them?', 'Fortune', 'https://finance.yahoo.com/news/ve-vanquished-rival-ceo-succession-120000441.html', '2026-02-07 12:00:00.000000', None)
2026-02-08 10:37:20,170 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:37:20,170 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('6fd2e20d-5089-3b1c-9eda-53c40588261a', 'AAPL', 'Apples AI Partnerships Reframe Siri, CarPlay And Health For Investors', 'Simply Wall St.', 'https://finance.yahoo.com/news/apple-ai-partnerships-reframe-siri-080708063.html', '2026-02-07 08:07:08.000000', None)
2026-02-08 10:37:20,171 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:37:20,171 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('bebfa693-d65c-3803-930b-05f469610eff', 'AAPL', 'Herms orange iPhone sparks Apple comeback in China', 'Financial Times', 'https://finance.yahoo.com/news/herm-orange-iphone-sparks-apple-070000926.html', '2026-02-07 07:00:00.000000', None)
2026-02-08 10:37:20,171 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:37:20,171 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('ee889a3f-d2f2-3d33-88e5-1b565308845f', 'AAPL', 'Apple to Allow Third-Party AI Chatbots in CarPlay', '24/7 Wall St.', 'https://finance.yahoo.com/news/apple-allow-third-party-ai-215048959.html', '2026-02-06 21:50:48.000000', None)
2026-02-08 10:37:20,172 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:37:20,172 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('55b21566-7a1f-33fd-932c-c9c2d5224eb9', 'AAPL', 'Dow Hits Record as Tech Stocks Bounce to Cap Mixed Week for Wall Street', 'MT Newswires', 'https://finance.yahoo.com/news/dow-hits-record-tech-stocks-214909926.html', '2026-02-06 21:49:09.000000', None)
2026-02-08 10:37:20,172 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:37:20,172 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('83746cf4-83ed-3eb7-a000-56ff95bcfe38', 'AAPL', 'Corning Stock Has First Record Close Since the Dot-Com Bubble', 'Barrons.com', 'https://www.barrons.com/articles/corning-stock-price-record-high-bubble-dot-com-ai-e59c4fd7?siteid=yhoof2&yptr=yahoo', '2026-02-06 21:35:00.000000', None)
2026-02-08 10:37:20,173 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET macd_val=?, macd_signal=?, macd_hist=?, macd_hist_slope=?, bb_upper=?, bb_lower=?, adx_14=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-08 10:37:20,173 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] (2.2089976855594955, -1.1003241694973838, 3.3093218550568793, 0.13981769503458708, 279.15632364442774, 241.14367330381447, nan, '2026-02-08 02:37:19.645777', 'AAPL')
2026-02-08 10:37:20,174 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 10:37:20,175 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:37:20,175 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 10:37:20,175 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('AAPL',)
2026-02-08 10:37:20,176 - api_logger - INFO - rid=/api/portfolio/AAPL/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=535.32ms
2026-02-08 10:37:20,176 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:37:20,179 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:37:20,179 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:37:20,179 - sqlalchemy.engine.Engine - INFO - [cached since 41.14s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:37:20,179 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 10:37:20,179 - sqlalchemy.engine.Engine - INFO - [cached since 41.14s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:37:20,180 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.12ms
2026-02-08 10:37:20,181 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:37:22,205 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:37:22,206 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:37:22,206 - sqlalchemy.engine.Engine - INFO - [cached since 43.17s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:37:22,207 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-08 10:37:22,207 - sqlalchemy.engine.Engine - INFO - [cached since 2.045s ago] ('AAPL',)
2026-02-08 10:37:22,207 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 10:37:22,208 - sqlalchemy.engine.Engine - INFO - [cached since 2.564s ago] ('AAPL',)
2026-02-08 10:37:22,208 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:37:22,208 - sqlalchemy.engine.Engine - INFO - [cached since 43.17s ago] ('AAPL', 5, 0)
2026-02-08 10:37:22,210 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-08 10:37:22,210 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL')
2026-02-08 10:37:22,211 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for AAPL. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-08 10:37:22,212 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR AAPL ---

         [AAPL] 
        
        **1.  (Fundamental Context)**:
        - /: Technology / Consumer Electronics
        - : 4087787028480.0
        - PE (TTM): 35.21 | Forward PE: 29.97
        - 52: [169.21, 288.62]
        - Beta: 1.11
        
        **2.  (Portfolio Context)**:
        - : $200.0
        - : 100.0
        - : $7812.0 (39.06%)
        
        **3.  (Technical Data)**:
        - : $278.12
        - : 0.8%
        - RSI (14): 74.16 | KDJ (K): None / (D): None / (J): None
        - MACD: 2.21 (: 3.31, : None)
        -  (BB): : 279.16 | : None | : 241.14
        - MA : [20: 260.15, 50: 268.7, 200: 238.31]
        -  (ADX): None | ATR: 6.95
        -  (Pivots):  R1: None / R2: None |  S1: None / S2: None
        
        **4.  (Recent News)**:
        [{'title': 'AI can make anyone rich: Mark Cuban says it could turn just one dude in a basement into a trillionaire', 'publisher': 'Fortune', 'time': '2026-02-07T15:20:03'}, {'title': 'UBS Maintains Neutral View as Apple (AAPL) App Store Trends Stay Solid', 'publisher': 'Insider Monkey', 'time': '2026-02-07T15:10:22'}, {'title': 'Apple, GE Aerospace Lead Five Stocks Flashing Buy Signals', 'publisher': "Investor's Business Daily", 'time': '2026-02-07T13:00:29'}, {'title': 'Youve vanquished your rival in a CEO succession race. Now, how do you lead them?', 'publisher': 'Fortune', 'time': '2026-02-07T12:00:00'}, {'title': 'Herms orange iPhone sparks Apple comeback in China', 'publisher': 'Financial Times', 'time': '2026-02-07T07:00:00'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (268.7)  (241.14)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "investment_horizon": " ( 2-5 /   /  -)",
            "confidence_level": 0-100 (AI ),
            "immediate_action": " (///)",
            "entry_zone": "/ ($150.0 - $155.0)",
            "target_price": "/ (2)",
            "stop_loss_price": "/ (2)",
            "rr_ratio": " (1:2.5 (-)/(-))",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-08 10:37:44,539 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-08 10:37:44,541 - app.api.v1.endpoints.analysis - INFO - AI Response for AAPL: {
    "sentiment_score": 72,
    "summary_status": "",
    "risk_level": "",
    "investment_horizon": " ",
    "confidence_level": 85,
    "immediate_action": "",
    "entry_zone": "$2...
2026-02-08 10:37:44,543 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, entry_zone, rr_ratio, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-08 10:37:44,544 - sqlalchemy.engine.Engine - INFO - [generated in 0.00044s] ('6146d479-7383-4551-b760-f2d935611236', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', '{"market_data": {"current_price": 278.12, "change_percent": 0.8, "rsi_14": 74.16, "ma_20": 260.15, "ma_50": 268.7, "ma_200": 238.31, "macd_val": 2.21 ... (73 characters truncated) ... 36, "atr_14": 6.95, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 200.0, "quantity": 100.0, "unrealized_pl": 7812.0, "pl_percent": 39.06}}', '{\n    "sentiment_score": 72,\n    "summary_status": "",\n    "risk_level": "",\n    "investment_horizon": " ",\n    "confidence_level": 8 ... (473 characters truncated) ... vice": "39.06%241.14-13.3%288.6252200238.3150268.7RSIMACD"\n}', '72', '', '', '278.12279.16RSI(14)74.1680MACD3.3120260.1550268.7200238.3116.7%', 'PE35.21Forward PE29.97App StoreiPhoneBeta1.11', '39.06%241.14-13.3%288.6252200238.3150268.7RSIMACD', ' ', 85.0, '', 288.62, 241.14, '$241.14 - $260.15', '1:2.08', 'qwen-3-vl-thinking', '2026-02-08 02:37:44.543780')
2026-02-08 10:37:44,546 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 10:37:44,547 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:37:44,548 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-08 10:37:44,548 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('6146d479-7383-4551-b760-f2d935611236',)
2026-02-08 10:37:44,550 - api_logger - INFO - rid=/api/analysis/AAPL method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=22347.35ms
2026-02-08 10:37:44,550 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:37:44,554 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:37:44,554 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:37:44,554 - sqlalchemy.engine.Engine - INFO - [cached since 65.52s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:37:44,555 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:37:44,555 - sqlalchemy.engine.Engine - INFO - [cached since 65.51s ago] ('AAPL', 20, 0)
2026-02-08 10:37:44,556 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.58ms
2026-02-08 10:37:44,557 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:39:59,676 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 10:40:09,765 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 10:40:11,331 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 10:47:12,038 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:47:12,096 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:47:12,096 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:47:12,100 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:47:12,101 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:47:12,101 - sqlalchemy.engine.Engine - INFO - [cached since 0.005049s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:47:12,110 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:47:12,110 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:47:12,124 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:47:12,124 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('AMD', 20, 0)
2026-02-08 10:47:12,125 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:47:12,125 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:47:12,125 - sqlalchemy.engine.Engine - INFO - [cached since 0.02957s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:47:12,125 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:47:12,126 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:47:12,126 - sqlalchemy.engine.Engine - INFO - [cached since 0.03039s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:47:12,128 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=100.03ms
2026-02-08 10:47:12,129 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:47:12,130 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:47:12,130 - sqlalchemy.engine.Engine - INFO - [cached since 0.006671s ago] ('AAPL', 20, 0)
2026-02-08 10:47:12,131 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:47:12,131 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:47:12,131 - sqlalchemy.engine.Engine - INFO - [cached since 0.03543s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:47:12,131 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:47:12,132 - sqlalchemy.engine.Engine - INFO - [cached since 0.02165s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:47:12,132 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=103.73ms
2026-02-08 10:47:12,133 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:47:12,133 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:47:12,133 - sqlalchemy.engine.Engine - INFO - [cached since 0.0234s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:47:12,134 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=22.39ms
2026-02-08 10:47:12,136 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:47:12,136 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=25.15ms
2026-02-08 10:47:12,137 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:47:12,137 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:47:12,137 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:47:12,137 - sqlalchemy.engine.Engine - INFO - [cached since 0.04124s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:47:12,137 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.66ms
2026-02-08 10:47:12,138 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:47:12,139 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:47:12,139 - sqlalchemy.engine.Engine - INFO - [cached since 0.01498s ago] ('AMD', 20, 0)
2026-02-08 10:47:12,139 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.69ms
2026-02-08 10:47:12,140 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:47:13,046 - api_logger - INFO - rid=/api/stocks/AMD/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1022.12ms
2026-02-08 10:47:13,153 - api_logger - INFO - rid=/api/stocks/AMD/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=106.10ms
2026-02-08 10:47:13,221 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1110.68ms
2026-02-08 10:47:13,261 - api_logger - INFO - rid=/api/stocks/AMD/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=107.82ms
2026-02-08 10:47:13,339 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=117.19ms
2026-02-08 10:47:13,367 - api_logger - INFO - rid=/api/stocks/AMD/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=105.06ms
2026-02-08 10:47:14,483 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:47:14,484 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:47:14,484 - sqlalchemy.engine.Engine - INFO - [cached since 2.388s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:47:14,486 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-08 10:47:14,486 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('AMD',)
2026-02-08 10:47:14,489 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 10:47:14,489 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('AMD',)
2026-02-08 10:47:15,139 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-08 10:47:15,139 - sqlalchemy.engine.Engine - INFO - [cached since 0.6526s ago] ('AMD',)
2026-02-08 10:47:15,140 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:47:15,140 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('a7ed41d8-66a6-31a4-9dcb-6a8778d0e96a', 'AMD', "AI chips: How AMD's product pipeline stacks up with competitors", 'Yahoo Finance Video', 'https://finance.yahoo.com/video/ai-chips-amds-product-pipeline-130041711.html', '2026-02-07 13:00:41.000000', None)
2026-02-08 10:47:15,140 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:47:15,140 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('aba3e1cf-9c6f-306d-8de3-c694a148e197', 'AMD', 'Intel, AMD Warn China Customers Of Months-Long CPU Delays', 'Benzinga', 'https://finance.yahoo.com/news/intel-amd-warn-china-customers-213138002.html', '2026-02-07 21:31:38.000000', None)
2026-02-08 10:47:15,141 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:47:15,141 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('febfddb0-8d7b-36f7-a988-fa5cc92a2333', 'AMD', 'AMD Shares Slide Despite Strong Growth. Is It Time to Buy the Stock on the Dip?', 'Motley Fool', 'https://finance.yahoo.com/news/amd-shares-slide-despite-strong-203400558.html', '2026-02-07 20:34:00.000000', None)
2026-02-08 10:47:15,141 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:47:15,141 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('963ea41f-e0a8-353d-a2af-af9d84e8ff80', 'AMD', "There's a Rout in Tech Stocks. What's Going On?", 'Motley Fool', 'https://finance.yahoo.com/news/theres-rout-tech-stocks-whats-193800493.html', '2026-02-07 19:38:00.000000', None)
2026-02-08 10:47:15,141 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:47:15,141 - sqlalchemy.engine.Engine - INFO - [no key 0.00004s] ('41c6b815-d28a-340c-b48c-2126f3a1d7bd', 'AMD', "Is AMD's 17% Decline a Warning for Nvidia Shareholders Ahead of Feb. 25?", 'Motley Fool', 'https://finance.yahoo.com/news/amds-17-decline-warning-nvidia-163500768.html', '2026-02-07 16:35:00.000000', None)
2026-02-08 10:47:15,142 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:47:15,142 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('f8b64cfb-b8fa-339b-affc-385edb21148d', 'AMD', 'Intel chief says the company is going to make GPUs at scale', 'Digital Trends', 'https://finance.yahoo.com/news/intel-chief-says-company-going-162219541.html', '2026-02-07 16:22:19.000000', None)
2026-02-08 10:47:15,142 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:47:15,142 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('b4cbb13a-adcb-3def-98ba-c0f0cdc9a2e1', 'AMD', 'Baird Highlights AI GPU and Server Strength at Advanced Micro Devices, Inc (AMD)', 'Insider Monkey', 'https://finance.yahoo.com/news/baird-highlights-ai-gpu-server-151043149.html', '2026-02-07 15:10:43.000000', None)
2026-02-08 10:47:15,143 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:47:15,143 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('394f63db-c5a7-3be3-856c-3e15d8edf5ae', 'AMD', 'Jim Cramer Discusses Key Factor For Advanced Micro Devices (AMD)', 'Insider Monkey', 'https://finance.yahoo.com/news/jim-cramer-discusses-key-factor-150901216.html', '2026-02-07 15:09:01.000000', None)
2026-02-08 10:47:15,143 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:47:15,143 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('21378731-447f-38f0-9cb7-894210901739', 'AMD', "The Hidden Driver Behind AMD's Most Bullish 2026 Guidance", 'Motley Fool', 'https://finance.yahoo.com/news/hidden-driver-behind-amds-most-114000055.html', '2026-02-07 11:40:00.000000', None)
2026-02-08 10:47:15,143 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 10:47:15,143 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('4f730e37-6386-353f-af15-e81d0a363b8f', 'AMD', 'AMD Record Results Meet AI Constraints And New OpenAI Ties', 'Simply Wall St.', 'https://finance.yahoo.com/news/amd-record-results-meet-ai-070344792.html', '2026-02-07 07:03:44.000000', None)
2026-02-08 10:47:15,144 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET adx_14=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-08 10:47:15,144 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] (nan, '2026-02-08 02:47:14.491148', 'AMD')
2026-02-08 10:47:15,145 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 10:47:15,145 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:47:15,146 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 10:47:15,146 - sqlalchemy.engine.Engine - INFO - [generated in 0.00005s] ('AMD',)
2026-02-08 10:47:15,146 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:47:15,146 - sqlalchemy.engine.Engine - INFO - [cached since 3.023s ago] ('AMD', 5, 0)
2026-02-08 10:47:15,147 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-08 10:47:15,147 - sqlalchemy.engine.Engine - INFO - [generated in 0.00005s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD')
2026-02-08 10:47:15,147 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for AMD. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-08 10:47:15,148 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR AMD ---

         [AMD] 
        
        **1.  (Fundamental Context)**:
        - /: Technology / Semiconductors
        - : 339842859008.0
        - PE (TTM): 79.86 | Forward PE: 19.75
        - 52: [76.48, 267.08]
        - Beta: 1.95
        
        **2.  (Portfolio Context)**:
        - : $220.0
        - : 3.0
        - : $-34.68000000000001 (-5.254545454545456%)
        
        **3.  (Technical Data)**:
        - : $208.44
        - : 8.28%
        - RSI (14): 41.2 | KDJ (K): None / (D): None / (J): None
        - MACD: -1.51 (: -5.71, : None)
        -  (BB): : 273.92 | : None | : 190.56
        - MA : [20: 232.24, 50: 221.47, 200: 179.04]
        -  (ADX): None | ATR: 15.91
        -  (Pivots):  R1: None / R2: None |  S1: None / S2: None
        
        **4.  (Recent News)**:
        [{'title': 'Intel, AMD Warn China Customers Of Months-Long CPU Delays', 'publisher': 'Benzinga', 'time': '2026-02-07T21:31:38'}, {'title': 'AMD Shares Slide Despite Strong Growth. Is It Time to Buy the Stock on the Dip?', 'publisher': 'Motley Fool', 'time': '2026-02-07T20:34:00'}, {'title': "There's a Rout in Tech Stocks. What's Going On?", 'publisher': 'Motley Fool', 'time': '2026-02-07T19:38:00'}, {'title': "Is AMD's 17% Decline a Warning for Nvidia Shareholders Ahead of Feb. 25?", 'publisher': 'Motley Fool', 'time': '2026-02-07T16:35:00'}, {'title': 'Intel chief says the company is going to make GPUs at scale', 'publisher': 'Digital Trends', 'time': '2026-02-07T16:22:19'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (221.47)  (190.56)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "investment_horizon": " ( 2-5 /   /  -)",
            "confidence_level": 0-100 (AI ),
            "immediate_action": " (///)",
            "entry_zone": "/ ($150.0 - $155.0)/",
            "target_price": "/ (2)",
            "stop_loss_price": "/ (2)",
            "rr_ratio": " (1:2.5 (-)/(-))",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-08 10:47:46,055 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-08 10:47:46,059 - app.api.v1.endpoints.analysis - INFO - AI Response for AMD: {
    "sentiment_score": 58,
    "summary_status": "",
    "risk_level": "",
    "investment_horizon": " ",
    "confidence_level": 73,
    "immediate_action": "",
    "entry_zone": "$190.56 - $208.44",
    "target_price": "273.92",
    "stop_loss_price": "190.56",
    "rr_ratio": "1:4.7",
    "technical_analysis": "208.44232.25190.56RSI 41.2MACD-5.71MA50221.47MA200179.04221.47",
    "fundamental_news": "PE 79.86Forward PE 19.75Beta 1.95",
    "action_advice": "5.25%1208.4430%2190.5640%30%MA50221.47190.56273.921:4.7"
}
2026-02-08 10:47:46,061 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, entry_zone, rr_ratio, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-08 10:47:46,061 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('c6f78de9-73e2-4e93-85fb-f56e86107f7e', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', '{"market_data": {"current_price": 208.44, "change_percent": 8.28, "rsi_14": 41.2, "ma_20": 232.24, "ma_50": 221.47, "ma_200": 179.04, "macd_val": -1. ... (100 characters truncated) ... rket_status": "OPEN"}, "portfolio_data": {"avg_cost": 220.0, "quantity": 3.0, "unrealized_pl": -34.68000000000001, "pl_percent": -5.254545454545456}}', '{\n    "sentiment_score": 58,\n    "summary_status": "",\n    "risk_level": "",\n    "investment_horizon": " ",\n    "confidence_level":  ... (502 characters truncated) ... 5.25%1208.4430%2190.5640%30%MA50221.47190.56273.921:4.7"\n}', '58', '', '', '208.44232.25190.56RSI 41.2MACD-5.71MA50221.47MA200179.04221.47', 'PE 79.86Forward PE 19.75Beta 1.95', '5.25%1208.4430%2190.5640%30%MA50221.47190.56273.921:4.7', ' ', 73.0, '', 273.92, 190.56, '$190.56 - $208.44', '1:4.7', 'qwen-3-vl-thinking', '2026-02-08 02:47:46.061534')
2026-02-08 10:47:46,063 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 10:47:46,064 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:47:46,065 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-08 10:47:46,065 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('c6f78de9-73e2-4e93-85fb-f56e86107f7e',)
2026-02-08 10:47:46,066 - api_logger - INFO - rid=/api/analysis/AMD method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=31585.58ms
2026-02-08 10:47:46,067 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:47:46,070 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:47:46,070 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:47:46,070 - sqlalchemy.engine.Engine - INFO - [cached since 33.97s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:47:46,072 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:47:46,072 - sqlalchemy.engine.Engine - INFO - [cached since 33.95s ago] ('AMD', 20, 0)
2026-02-08 10:47:46,074 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.95ms
2026-02-08 10:47:46,074 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:48:29,797 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:48:29,797 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:48:29,797 - sqlalchemy.engine.Engine - INFO - [cached since 77.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:48:29,798 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:48:29,798 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:48:29,798 - sqlalchemy.engine.Engine - INFO - [cached since 77.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:48:29,799 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:48:29,799 - sqlalchemy.engine.Engine - INFO - [cached since 77.69s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:48:29,800 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:48:29,800 - sqlalchemy.engine.Engine - INFO - [cached since 77.68s ago] ('002050', 20, 0)
2026-02-08 10:48:29,800 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.54ms
2026-02-08 10:48:29,801 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:48:29,801 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.80ms
2026-02-08 10:48:29,802 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:48:29,845 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:48:29,845 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:48:29,845 - sqlalchemy.engine.Engine - INFO - [cached since 77.75s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:48:29,846 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:48:29,846 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:48:29,846 - sqlalchemy.engine.Engine - INFO - [cached since 77.75s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:48:29,848 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:48:29,848 - sqlalchemy.engine.Engine - INFO - [cached since 77.74s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:48:29,848 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:48:29,848 - sqlalchemy.engine.Engine - INFO - [cached since 77.72s ago] ('AMD', 20, 0)
2026-02-08 10:48:29,848 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.31ms
2026-02-08 10:48:29,849 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:48:29,849 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.83ms
2026-02-08 10:48:29,850 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:48:29,885 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:48:29,885 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:48:29,885 - sqlalchemy.engine.Engine - INFO - [cached since 77.79s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:48:29,887 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:48:29,887 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:48:29,888 - sqlalchemy.engine.Engine - INFO - [cached since 77.79s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:48:29,889 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:48:29,890 - sqlalchemy.engine.Engine - INFO - [cached since 77.78s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:48:29,890 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:48:29,890 - sqlalchemy.engine.Engine - INFO - [cached since 77.77s ago] ('002050', 20, 0)
2026-02-08 10:48:29,891 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.95ms
2026-02-08 10:48:29,893 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.74ms
2026-02-08 10:48:29,893 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:48:29,894 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:48:29,966 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=172.32ms
2026-02-08 10:48:30,026 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=58.65ms
2026-02-08 10:48:30,087 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=60.11ms
2026-02-08 10:48:30,171 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=83.28ms
2026-02-08 10:48:30,182 - api_logger - INFO - rid=/api/stocks/AMD/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=339.79ms
2026-02-08 10:48:30,382 - api_logger - INFO - rid=/api/stocks/AMD/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=199.23ms
2026-02-08 10:48:49,669 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:48:49,670 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:48:49,670 - sqlalchemy.engine.Engine - INFO - [cached since 97.57s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:48:49,672 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 10:48:49,672 - sqlalchemy.engine.Engine - INFO - [cached since 95.18s ago] ('002050',)
2026-02-08 10:48:49,673 - app.services.market_data - ERROR - Error fetching from provider AkShareProvider for 002050: Can't instantiate abstract class TavilyProvider without an implementation for abstract method 'get_ohlcv'
2026-02-08 10:48:49,681 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-08 10:48:49,681 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (51.111067220778466, '2026-02-08 02:48:49.673508', '002050')
2026-02-08 10:48:49,682 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 10:48:49,683 - api_logger - INFO - rid=/api/portfolio/002050/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.90ms
2026-02-08 10:48:49,689 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:48:49,689 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:48:49,689 - sqlalchemy.engine.Engine - INFO - [cached since 97.59s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:48:49,691 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 10:48:49,692 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:48:49,694 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.22ms
2026-02-08 10:48:49,695 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:48:51,732 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:48:51,733 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:48:51,733 - sqlalchemy.engine.Engine - INFO - [cached since 99.64s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:48:51,734 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 10:48:51,734 - sqlalchemy.engine.Engine - INFO - [cached since 97.24s ago] ('002050',)
2026-02-08 10:48:51,735 - app.services.market_data - ERROR - Error fetching from provider AkShareProvider for 002050: Can't instantiate abstract class TavilyProvider without an implementation for abstract method 'get_ohlcv'
2026-02-08 10:48:51,735 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-08 10:48:51,735 - sqlalchemy.engine.Engine - INFO - [cached since 2.054s ago] (51.12236492057975, '2026-02-08 02:48:51.735154', '002050')
2026-02-08 10:48:51,736 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 10:48:51,737 - api_logger - INFO - rid=/api/portfolio/002050/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.10ms
2026-02-08 10:48:51,741 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:48:51,741 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:48:51,741 - sqlalchemy.engine.Engine - INFO - [cached since 99.65s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:48:51,742 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 10:48:51,742 - sqlalchemy.engine.Engine - INFO - [cached since 2.051s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:48:51,745 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.67ms
2026-02-08 10:48:51,746 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:48:53,781 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:48:53,782 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:48:53,782 - sqlalchemy.engine.Engine - INFO - [cached since 101.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:48:53,783 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 10:48:53,783 - sqlalchemy.engine.Engine - INFO - [cached since 99.29s ago] ('002050',)
2026-02-08 10:48:53,784 - app.services.market_data - ERROR - Error fetching from provider AkShareProvider for 002050: Can't instantiate abstract class TavilyProvider without an implementation for abstract method 'get_ohlcv'
2026-02-08 10:48:53,784 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-08 10:48:53,784 - sqlalchemy.engine.Engine - INFO - [cached since 4.103s ago] (51.09737741495788, '2026-02-08 02:48:53.784468', '002050')
2026-02-08 10:48:53,785 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 10:48:53,786 - api_logger - INFO - rid=/api/portfolio/002050/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.81ms
2026-02-08 10:48:53,790 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:48:53,790 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:48:53,790 - sqlalchemy.engine.Engine - INFO - [cached since 101.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:48:53,792 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 10:48:53,792 - sqlalchemy.engine.Engine - INFO - [cached since 4.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:48:53,795 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.72ms
2026-02-08 10:48:53,795 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:56:00,734 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 10:58:51,483 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:58:51,525 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:58:51,526 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:58:51,526 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:58:51,526 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:58:51,526 - sqlalchemy.engine.Engine - INFO - [cached since 0.0006074s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:58:51,526 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:58:51,526 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:58:51,526 - sqlalchemy.engine.Engine - INFO - [cached since 0.001004s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:58:51,528 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 10:58:51,528 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 10:58:51,529 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 10:58:51,529 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:58:51,530 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 10:58:51,530 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('002050', 20, 0)
2026-02-08 10:58:51,531 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=56.97ms
2026-02-08 10:58:51,531 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:58:51,533 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=52.39ms
2026-02-08 10:58:51,534 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:58:51,534 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=53.39ms
2026-02-08 10:58:51,536 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:58:51,778 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=184.39ms
2026-02-08 10:58:53,075 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:58:53,076 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:58:53,076 - sqlalchemy.engine.Engine - INFO - [cached since 1.55s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:58:53,077 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 10:58:53,078 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('002050',)
2026-02-08 10:58:53,078 - app.services.market_data - ERROR - Error fetching from provider AkShareProvider for 002050: Can't instantiate abstract class TavilyProvider without an implementation for abstract method 'get_ohlcv'
2026-02-08 10:58:53,082 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-08 10:58:53,082 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] (51.1178855142794, '2026-02-08 02:58:53.078705', '002050')
2026-02-08 10:58:53,083 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 10:58:53,084 - api_logger - INFO - rid=/api/portfolio/002050/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.65ms
2026-02-08 10:58:53,088 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:58:53,089 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:58:53,089 - sqlalchemy.engine.Engine - INFO - [cached since 1.563s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:58:53,090 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 10:58:53,090 - sqlalchemy.engine.Engine - INFO - [cached since 1.561s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:58:53,092 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.51ms
2026-02-08 10:58:53,093 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 10:58:54,460 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:58:54,460 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:58:54,460 - sqlalchemy.engine.Engine - INFO - [cached since 2.935s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:58:54,462 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 10:58:54,462 - sqlalchemy.engine.Engine - INFO - [cached since 1.384s ago] ('002050',)
2026-02-08 10:58:54,463 - app.services.market_data - ERROR - Error fetching from provider AkShareProvider for 002050: Can't instantiate abstract class TavilyProvider without an implementation for abstract method 'get_ohlcv'
2026-02-08 10:58:54,463 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-08 10:58:54,463 - sqlalchemy.engine.Engine - INFO - [cached since 1.381s ago] (51.101739510959895, '2026-02-08 02:58:54.463014', '002050')
2026-02-08 10:58:54,464 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 10:58:54,465 - api_logger - INFO - rid=/api/portfolio/002050/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.82ms
2026-02-08 10:58:54,468 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 10:58:54,469 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 10:58:54,469 - sqlalchemy.engine.Engine - INFO - [cached since 2.943s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:58:54,470 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 10:58:54,470 - sqlalchemy.engine.Engine - INFO - [cached since 2.941s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 10:58:54,473 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.41ms
2026-02-08 10:58:54,474 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 11:00:30,290 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 11:00:33,094 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 11:06:07,693 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 11:06:07,700 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 11:06:07,700 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 11:06:07,722 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 11:06:07,722 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('002050',)
2026-02-08 11:06:07,722 - app.services.market_data - ERROR - Error fetching from provider AkShareProvider for 002050: Can't instantiate abstract class TavilyProvider without an implementation for abstract method 'get_ohlcv'
2026-02-08 11:06:07,724 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-08 11:06:07,724 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] (51.103284270588446, '2026-02-08 03:06:07.722824', '002050')
2026-02-08 11:06:07,725 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 11:06:07,725 - api_logger - INFO - rid=/api/portfolio/002050/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=39.80ms
2026-02-08 11:06:07,729 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 11:06:07,729 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 11:06:07,729 - sqlalchemy.engine.Engine - INFO - [cached since 0.02848s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 11:06:07,730 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 11:06:07,730 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 11:06:07,732 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.90ms
2026-02-08 11:06:07,732 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 11:06:11,235 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 11:06:11,238 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 11:06:11,238 - sqlalchemy.engine.Engine - INFO - [cached since 3.538s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 11:06:11,246 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 11:06:11,247 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 11:06:11,247 - sqlalchemy.engine.Engine - INFO - [cached since 3.547s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 11:06:11,248 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 11:06:11,248 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 11:06:11,248 - sqlalchemy.engine.Engine - INFO - [cached since 3.548s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 11:06:11,251 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 11:06:11,251 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 11:06:11,257 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 11:06:11,257 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('002050', 20, 0)
2026-02-08 11:06:11,258 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=25.26ms
2026-02-08 11:06:11,258 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 11:06:11,258 - sqlalchemy.engine.Engine - INFO - [cached since 3.528s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 11:06:11,259 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 11:06:11,260 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=26.79ms
2026-02-08 11:06:11,260 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 11:06:11,261 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=28.39ms
2026-02-08 11:06:11,261 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 11:06:11,411 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=82.27ms
2026-02-08 11:06:16,629 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 11:06:16,629 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 11:06:16,629 - sqlalchemy.engine.Engine - INFO - [cached since 8.929s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 11:06:16,631 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-08 11:06:16,631 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('002050',)
2026-02-08 11:06:16,632 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 11:06:16,632 - sqlalchemy.engine.Engine - INFO - [cached since 8.91s ago] ('002050',)
2026-02-08 11:06:16,633 - app.services.market_data - ERROR - Error fetching from provider AkShareProvider for 002050: Can't instantiate abstract class TavilyProvider without an implementation for abstract method 'get_ohlcv'
2026-02-08 11:06:16,633 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-08 11:06:16,633 - sqlalchemy.engine.Engine - INFO - [cached since 8.909s ago] (51.11896942086796, '2026-02-08 03:06:16.633133', '002050')
2026-02-08 11:06:16,634 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 11:06:16,635 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 11:06:16,636 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 11:06:16,636 - sqlalchemy.engine.Engine - INFO - [cached since 5.379s ago] ('002050', 5, 0)
2026-02-08 11:06:16,637 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-08 11:06:16,638 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050')
2026-02-08 11:06:16,638 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for 002050. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-08 11:06:16,640 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR 002050 ---

         [002050] 
        
        **1.  (Fundamental Context)**:
        - /:  / 
        - : 215113672357.19998
        - PE (TTM): None | Forward PE: None
        - 52: [None, None]
        - Beta: None
        
        **2.  (Portfolio Context)**:
        - : $0.0
        - : 0.0
        - : $0.0 (0%)
        
        **3.  (Technical Data)**:
        - : $51.12
        - : 2.06%
        - RSI (14): 25.59 | KDJ (K): None / (D): None / (J): None
        - MACD: -0.1 (: -0.72, : None)
        -  (BB): : 59.81 | : None | : 47.96
        - MA : [20: 53.89, 50: 49.8, 200: 37.04]
        -  (ADX): None | ATR: 2.24
        -  (Pivots):  R1: None / R2: None |  S1: None / S2: None
        
        **4.  (Recent News)**:
        [{'title': '1498CEO', 'publisher': '', 'time': '2026-02-05T19:13:33'}, {'title': '1498CEO', 'publisher': '', 'time': '2026-02-05T19:13:33'}, {'title': '462', 'publisher': '', 'time': '2026-02-04T23:41:15'}, {'title': '462', 'publisher': '', 'time': '2026-02-04T23:41:15'}, {'title': '2.1', 'publisher': '', 'time': '2026-02-04T18:12:22'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (49.8)  (47.96)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "risk_level": "//",
            "investment_horizon": " ( 2-5 /   /  -)",
            "confidence_level": 0-100 (AI ),
            "immediate_action": " (///)",
            "entry_zone": "/ ($150.0 - $155.0)/",
            "target_price": "/ (2)",
            "stop_loss_price": "/ (2)",
            "rr_ratio": " (1:2.5 (-)/(-))",
            "technical_analysis": " RSI, MACD 2",
            "fundamental_news": " PE /",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-08 11:06:36,467 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-08 11:06:36,469 - app.api.v1.endpoints.analysis - INFO - AI Response for 002050: {
    "sentiment_score": 65,
    "summary_status": "",
    "risk_level": "",
    "investment_horizon": " ",
    "confidence_level": 75,
    "immediate_action": "",
    "entry_zone": "$47.96 - $49.80",
    "target_price": "59.81",
    "stop_loss_price": "46.84",
    "rr_ratio": "1:2.7",
    "technical_analysis": "51.12RSI(14)25.59MACD-0.72-0.1047.963.16MA50(49.80)MA200(37.04)",
    "fundamental_news": "PE2.1",
    "action_advice": "47.96MA50(49.80)47.96-49.8032%46.8459.81RSIMACD30%53.89MA20"
}
2026-02-08 11:06:36,472 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, entry_zone, rr_ratio, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-08 11:06:36,472 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] ('1553fb67-a19d-464e-a056-159b8b209a5b', '9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', '{"market_data": {"current_price": 51.12, "change_percent": 2.06, "rsi_14": 25.59, "ma_20": 53.89, "ma_50": 49.8, "ma_200": 37.04, "macd_val": -0.1, " ... (58 characters truncated) ... kdj_k": 33.24, "atr_14": 2.24, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 0.0, "quantity": 0.0, "unrealized_pl": 0.0, "pl_percent": 0}}', '{\n    "sentiment_score": 65,\n    "summary_status": "",\n    "risk_level": "",\n    "investment_horizon": " ",\n    "confidence_level": 7 ... (461 characters truncated) ... on_advice": "47.96MA50(49.80)47.96-49.8032%46.8459.81RSIMACD30%53.89MA20"\n}', '65', '', '', '51.12RSI(14)25.59MACD-0.72-0.1047.963.16MA50(49.80)MA200(37.04)', 'PE2.1', '47.96MA50(49.80)47.96-49.8032%46.8459.81RSIMACD30%53.89MA20', ' ', 75.0, '', 59.81, 46.84, '$47.96 - $49.80', '1:2.7', 'qwen-3-vl-thinking', '2026-02-08 03:06:36.471929')
2026-02-08 11:06:36,473 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 11:06:36,474 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 11:06:36,475 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-08 11:06:36,475 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('1553fb67-a19d-464e-a056-159b8b209a5b',)
2026-02-08 11:06:36,476 - api_logger - INFO - rid=/api/analysis/002050 method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=19850.75ms
2026-02-08 11:06:36,477 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 11:06:36,480 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 11:06:36,480 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 11:06:36,480 - sqlalchemy.engine.Engine - INFO - [cached since 28.78s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 11:06:36,481 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 11:06:36,482 - sqlalchemy.engine.Engine - INFO - [cached since 25.22s ago] ('002050', 20, 0)
2026-02-08 11:06:36,483 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.88ms
2026-02-08 11:06:36,484 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 11:09:25,895 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 11:15:38,997 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 11:15:39,041 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 11:15:39,042 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 11:15:39,042 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 11:15:39,042 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 11:15:39,042 - sqlalchemy.engine.Engine - INFO - [cached since 0.0006697s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 11:15:39,042 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 11:15:39,042 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 11:15:39,042 - sqlalchemy.engine.Engine - INFO - [cached since 0.0009972s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 11:15:39,044 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 11:15:39,044 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 11:15:39,045 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 11:15:39,046 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 11:15:39,047 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 11:15:39,047 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('002050', 20, 0)
2026-02-08 11:15:39,048 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=61.71ms
2026-02-08 11:15:39,048 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 11:15:39,050 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=57.04ms
2026-02-08 11:15:39,051 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=57.40ms
2026-02-08 11:15:39,051 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 11:15:39,051 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 11:15:39,284 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=178.32ms
2026-02-08 12:06:35,097 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 12:06:42,479 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 12:09:11,228 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 12:09:49,136 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:09:49,183 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:09:49,183 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:09:49,183 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:09:49,183 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:09:49,183 - sqlalchemy.engine.Engine - INFO - [cached since 0.0006266s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:09:49,183 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:09:49,183 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:09:49,183 - sqlalchemy.engine.Engine - INFO - [cached since 0.001022s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:09:49,185 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 12:09:49,185 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 12:09:49,186 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 12:09:49,187 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:09:49,187 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 12:09:49,187 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('002050', 20, 0)
2026-02-08 12:09:49,188 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=63.98ms
2026-02-08 12:09:49,188 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:09:49,189 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=55.95ms
2026-02-08 12:09:49,192 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:09:49,193 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=59.30ms
2026-02-08 12:09:49,194 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:09:49,312 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=66.41ms
2026-02-08 12:09:51,708 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:09:51,708 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:09:51,708 - sqlalchemy.engine.Engine - INFO - [cached since 2.525s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:09:51,709 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:09:51,710 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:09:51,710 - sqlalchemy.engine.Engine - INFO - [cached since 2.527s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:09:51,711 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 12:09:51,711 - sqlalchemy.engine.Engine - INFO - [cached since 2.526s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 12:09:51,711 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 12:09:51,711 - sqlalchemy.engine.Engine - INFO - [cached since 2.524s ago] ('AAPL', 20, 0)
2026-02-08 12:09:51,712 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.67ms
2026-02-08 12:09:51,713 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:09:51,713 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.42ms
2026-02-08 12:09:51,713 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:09:51,762 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:09:51,763 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:09:51,764 - sqlalchemy.engine.Engine - INFO - [cached since 2.581s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:09:51,765 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:09:51,765 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:09:51,765 - sqlalchemy.engine.Engine - INFO - [cached since 2.583s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:09:51,766 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 12:09:51,766 - sqlalchemy.engine.Engine - INFO - [cached since 2.581s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 12:09:51,766 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 12:09:51,766 - sqlalchemy.engine.Engine - INFO - [cached since 2.579s ago] ('002050', 20, 0)
2026-02-08 12:09:51,767 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.47ms
2026-02-08 12:09:51,768 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.67ms
2026-02-08 12:09:51,768 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:09:51,769 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:09:51,832 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:09:51,832 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:09:51,833 - sqlalchemy.engine.Engine - INFO - [cached since 2.65s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:09:51,833 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=73.56ms
2026-02-08 12:09:51,834 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:09:51,834 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:09:51,834 - sqlalchemy.engine.Engine - INFO - [cached since 2.652s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:09:51,836 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 12:09:51,836 - sqlalchemy.engine.Engine - INFO - [cached since 2.651s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 12:09:51,836 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 12:09:51,836 - sqlalchemy.engine.Engine - INFO - [cached since 2.649s ago] ('AAPL', 20, 0)
2026-02-08 12:09:51,837 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.37ms
2026-02-08 12:09:51,838 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:09:51,838 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.98ms
2026-02-08 12:09:51,838 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:09:51,887 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=52.49ms
2026-02-08 12:09:52,574 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=869.35ms
2026-02-08 12:09:52,941 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=366.42ms
2026-02-08 12:09:53,061 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=119.60ms
2026-02-08 12:09:53,178 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=115.60ms
2026-02-08 12:09:53,682 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:09:53,684 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:09:53,684 - sqlalchemy.engine.Engine - INFO - [cached since 4.502s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:09:53,686 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:09:53,687 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:09:53,687 - sqlalchemy.engine.Engine - INFO - [cached since 4.505s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:09:53,689 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 12:09:53,689 - sqlalchemy.engine.Engine - INFO - [cached since 4.504s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 12:09:53,690 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 12:09:53,690 - sqlalchemy.engine.Engine - INFO - [cached since 4.502s ago] ('002050', 20, 0)
2026-02-08 12:09:53,691 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.19ms
2026-02-08 12:09:53,693 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.76ms
2026-02-08 12:09:53,694 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:09:53,695 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:09:53,731 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:09:53,732 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:09:53,732 - sqlalchemy.engine.Engine - INFO - [cached since 4.549s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:09:53,732 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:09:53,733 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:09:53,733 - sqlalchemy.engine.Engine - INFO - [cached since 4.55s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:09:53,750 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=68.95ms
2026-02-08 12:09:53,751 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 12:09:53,752 - sqlalchemy.engine.Engine - INFO - [cached since 4.564s ago] ('AAPL', 20, 0)
2026-02-08 12:09:53,752 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 12:09:53,752 - sqlalchemy.engine.Engine - INFO - [cached since 4.567s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 12:09:53,756 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=27.39ms
2026-02-08 12:09:53,759 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=30.16ms
2026-02-08 12:09:53,770 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:09:53,771 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:09:53,771 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:09:53,771 - sqlalchemy.engine.Engine - INFO - [cached since 4.588s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:09:53,771 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:09:53,776 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 12:09:53,776 - sqlalchemy.engine.Engine - INFO - [cached since 4.591s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 12:09:53,777 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:09:53,777 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:09:53,777 - sqlalchemy.engine.Engine - INFO - [cached since 4.595s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:09:53,778 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=18.10ms
2026-02-08 12:09:53,779 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:09:53,780 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 12:09:53,780 - sqlalchemy.engine.Engine - INFO - [cached since 4.593s ago] ('002050', 20, 0)
2026-02-08 12:09:53,782 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.46ms
2026-02-08 12:09:53,782 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:09:53,816 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=63.91ms
2026-02-08 12:09:53,845 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=117.42ms
2026-02-08 12:09:53,881 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=63.93ms
2026-02-08 12:09:53,935 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=53.68ms
2026-02-08 12:09:53,952 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=105.93ms
2026-02-08 12:09:55,236 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:09:55,237 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:09:55,237 - sqlalchemy.engine.Engine - INFO - [cached since 6.055s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:09:55,239 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 12:09:55,239 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('002050',)
2026-02-08 12:09:55,241 - app.services.market_data - ERROR - Error fetching from provider AkShareProvider for 002050: Can't instantiate abstract class TavilyProvider without an implementation for abstract method 'get_ohlcv'
2026-02-08 12:09:55,246 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-08 12:09:55,246 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (51.102351489533795, '2026-02-08 04:09:55.241375', '002050')
2026-02-08 12:09:55,247 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 12:09:55,248 - api_logger - INFO - rid=/api/portfolio/002050/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.83ms
2026-02-08 12:09:55,251 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:09:55,251 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:09:55,251 - sqlalchemy.engine.Engine - INFO - [cached since 6.069s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:09:55,252 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 12:09:55,253 - sqlalchemy.engine.Engine - INFO - [cached since 6.066s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:09:55,255 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.76ms
2026-02-08 12:09:55,256 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:10:04,802 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:10:04,802 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:10:04,802 - sqlalchemy.engine.Engine - INFO - [cached since 15.62s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:10:04,804 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-08 12:10:04,804 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('002050',)
2026-02-08 12:10:04,805 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 12:10:04,805 - sqlalchemy.engine.Engine - INFO - [cached since 9.566s ago] ('002050',)
2026-02-08 12:10:04,806 - app.services.market_data - ERROR - Error fetching from provider AkShareProvider for 002050: Can't instantiate abstract class TavilyProvider without an implementation for abstract method 'get_ohlcv'
2026-02-08 12:10:04,806 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-08 12:10:04,807 - sqlalchemy.engine.Engine - INFO - [cached since 9.561s ago] (51.1115419816326, '2026-02-08 04:10:04.806385', '002050')
2026-02-08 12:10:04,808 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 12:10:04,809 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:10:04,810 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 12:10:04,810 - sqlalchemy.engine.Engine - INFO - [cached since 15.62s ago] ('002050', 5, 0)
2026-02-08 12:10:04,811 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-08 12:10:04,811 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050')
2026-02-08 12:10:04,812 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for 002050. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-08 12:10:04,813 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR 002050 ---

         [002050] 
        
        **1.  (Fundamental Context)**:
        - /:  / 
        - : 215113672357.19998
        - PE (TTM): None | Forward PE: None
        - 52: [None, None]
        - Beta: None
        
        **2.  (Portfolio Context)**:
        - : $0.0
        - : 0.0
        - : $0.0 (0%)
        
        **3.  (Technical Data)**:
        - : $51.11
        - : 2.06%
        - RSI (14): 25.59 | KDJ (K): None / (D): None / (J): None
        - MACD: -0.1 (: -0.72, : None)
        -  (BB): : 59.81 | : None | : 47.96
        - MA : [20: 53.89, 50: 49.8, 200: 37.04]
        -  (ADX): None | ATR: 2.24
        -  (Pivots):  R1: None / R2: None |  S1: None / S2: None
        
        **4.  (Recent News)**:
        [{'title': '1498CEO', 'publisher': '', 'time': '2026-02-05T19:13:33'}, {'title': '1498CEO', 'publisher': '', 'time': '2026-02-05T19:13:33'}, {'title': '462', 'publisher': '', 'time': '2026-02-04T23:41:15'}, {'title': '462', 'publisher': '', 'time': '2026-02-04T23:41:15'}, {'title': '2.1', 'publisher': '', 'time': '2026-02-04T18:12:22'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (49.8)  (47.96)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "immediate_action": " (///)",
            "entry_zone": "[CRITICAL] / (50.50 - 52.00)",
            "target_price": "/ (2)",
            "stop_loss_price": "/ (2)",
            "risk_level": "//",
            "investment_horizon": " ( /  / )",
            "confidence_level": 0-100 (AI ),
            "rr_ratio": " (1:2.5)",
            "technical_analysis": " RSI, MACD, MA50 ",
            "fundamental_news": "/",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-08 12:10:23,559 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-08 12:10:23,562 - app.api.v1.endpoints.analysis - INFO - AI Response for 002050: {
    "sentiment_score": 72,
    "summary_status": "",
    "immediate_action": "",
    "entry_zone": "49.80 - 51.11",
    "target_price": "59.81",
    "stop_loss_price": "47.96",
    "risk_level": "",
    "investment_horizon": "",
    "confidence_level": 85,
    "rr_ratio": "1:2.5",
    "technical_analysis": "51.1120(53.89)50(49.80)RSI 25.59MACD-0.7247.9659.81",
    "fundamental_news": "1498",
    "action_advice": "5051.1150(49.80)47.9659.8115%"
}
2026-02-08 12:10:23,564 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, entry_zone, rr_ratio, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-08 12:10:23,565 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('fc436c6b-2979-4829-a4de-d5fdc5519a85', '9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', '{"market_data": {"current_price": 51.11, "change_percent": 2.06, "rsi_14": 25.59, "ma_20": 53.89, "ma_50": 49.8, "ma_200": 37.04, "macd_val": -0.1, " ... (58 characters truncated) ... kdj_k": 33.24, "atr_14": 2.24, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 0.0, "quantity": 0.0, "unrealized_pl": 0.0, "pl_percent": 0}}', '{\n    "sentiment_score": 72,\n    "summary_status": "",\n    "immediate_action": "",\n    "entry_zone": "49.80 - 51.11",\n    "target_price" ... (382 characters truncated) ... ",\n    "action_advice": "5051.1150(49.80)47.9659.8115%"\n}', '72', '', '', '51.1120(53.89)50(49.80)RSI 25.59MACD-0.7247.9659.81', '1498', '5051.1150(49.80)47.9659.8115%', '', 85.0, '', 59.81, 47.96, '49.80 - 51.11', '1:2.5', 'qwen-3-vl-thinking', '2026-02-08 04:10:23.564759')
2026-02-08 12:10:23,566 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 12:10:23,568 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:10:23,569 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-08 12:10:23,570 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('fc436c6b-2979-4829-a4de-d5fdc5519a85',)
2026-02-08 12:10:23,571 - api_logger - INFO - rid=/api/analysis/002050 method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=18774.18ms
2026-02-08 12:10:23,571 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:10:23,575 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:10:23,576 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:10:23,576 - sqlalchemy.engine.Engine - INFO - [cached since 34.39s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:10:23,577 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 12:10:23,577 - sqlalchemy.engine.Engine - INFO - [cached since 34.39s ago] ('002050', 20, 0)
2026-02-08 12:10:23,578 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.35ms
2026-02-08 12:10:23,579 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:11:55,334 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 12:12:38,123 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 12:12:39,949 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 12:12:58,325 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 12:13:46,116 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 12:14:40,653 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:14:40,721 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:14:40,721 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:14:40,722 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:14:40,722 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:14:40,722 - sqlalchemy.engine.Engine - INFO - [cached since 0.0009075s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:14:40,722 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:14:40,722 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:14:40,723 - sqlalchemy.engine.Engine - INFO - [cached since 0.001408s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:14:40,725 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 12:14:40,725 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 12:14:40,725 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:14:40,725 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:14:40,725 - sqlalchemy.engine.Engine - INFO - [cached since 0.004304s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:14:40,726 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 12:14:40,726 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('AMD', 20, 0)
2026-02-08 12:14:40,727 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 12:14:40,727 - sqlalchemy.engine.Engine - INFO - [cached since 0.001698s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', '002050', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 12:14:40,728 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=107.63ms
2026-02-08 12:14:40,728 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 12:14:40,728 - sqlalchemy.engine.Engine - INFO - [cached since 0.002123s ago] ('002050', 20, 0)
2026-02-08 12:14:40,729 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:14:40,730 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=109.91ms
2026-02-08 12:14:40,731 - api_logger - INFO - rid=/api/analysis/002050 method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=82.17ms
2026-02-08 12:14:40,731 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:14:40,732 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:14:40,732 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:14:40,732 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:14:40,732 - sqlalchemy.engine.Engine - INFO - [cached since 0.011s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:14:40,733 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:14:40,733 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:14:40,733 - sqlalchemy.engine.Engine - INFO - [cached since 0.01163s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:14:40,733 - api_logger - INFO - rid=/api/portfolio/002050/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=84.28ms
2026-02-08 12:14:40,733 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:14:40,734 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 12:14:40,734 - sqlalchemy.engine.Engine - INFO - [cached since 0.007904s ago] ('AMD', 20, 0)
2026-02-08 12:14:40,735 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 12:14:40,735 - sqlalchemy.engine.Engine - INFO - [cached since 0.009913s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 12:14:40,736 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.99ms
2026-02-08 12:14:40,736 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:14:40,737 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.16ms
2026-02-08 12:14:40,737 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:14:40,751 - app.services.market_providers.akshare - ERROR - AkShare get_ohlcv error for 002050: HTTPSConnectionPool(host='push2his.eastmoney.com', port=443): Max retries exceeded with url: /api/qt/stock/kline/get?fields1=f1%2Cf2%2Cf3%2Cf4%2Cf5%2Cf6&fields2=f51%2Cf52%2Cf53%2Cf54%2Cf55%2Cf56%2Cf57%2Cf58%2Cf59%2Cf60%2Cf61%2Cf116&ut=7eea3edcaed734bea9cbfc24409ed989&klt=101&fqt=1&secid=0.002050&beg=20250208&end=20260208 (Caused by ProxyError('Unable to connect to proxy', RemoteDisconnected('Remote end closed connection without response')))
2026-02-08 12:14:40,751 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=117.09ms
2026-02-08 12:14:40,805 - app.services.market_providers.akshare - ERROR - AkShare get_ohlcv error for 002050: HTTPSConnectionPool(host='push2his.eastmoney.com', port=443): Max retries exceeded with url: /api/qt/stock/kline/get?fields1=f1%2Cf2%2Cf3%2Cf4%2Cf5%2Cf6&fields2=f51%2Cf52%2Cf53%2Cf54%2Cf55%2Cf56%2Cf57%2Cf58%2Cf59%2Cf60%2Cf61%2Cf116&ut=7eea3edcaed734bea9cbfc24409ed989&klt=101&fqt=1&secid=0.002050&beg=20250208&end=20260208 (Caused by ProxyError('Unable to connect to proxy', RemoteDisconnected('Remote end closed connection without response')))
2026-02-08 12:14:40,806 - api_logger - INFO - rid=/api/stocks/002050/history method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=54.50ms
2026-02-08 12:14:41,594 - api_logger - INFO - rid=/api/stocks/AMD/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=981.61ms
2026-02-08 12:14:41,920 - api_logger - INFO - rid=/api/stocks/AMD/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=324.69ms
2026-02-08 12:14:42,038 - api_logger - INFO - rid=/api/stocks/AMD/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=117.23ms
2026-02-08 12:14:42,155 - api_logger - INFO - rid=/api/stocks/AMD/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=115.48ms
2026-02-08 12:14:45,358 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:14:45,359 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:14:45,359 - sqlalchemy.engine.Engine - INFO - [cached since 4.638s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:14:45,361 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-08 12:14:45,362 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('AMD',)
2026-02-08 12:14:45,364 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 12:14:45,364 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('AMD',)
2026-02-08 12:14:46,059 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-08 12:14:46,062 - sqlalchemy.engine.Engine - INFO - [cached since 0.7004s ago] ('AMD',)
2026-02-08 12:14:46,064 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 12:14:46,064 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('a7ed41d8-66a6-31a4-9dcb-6a8778d0e96a', 'AMD', "AI chips: How AMD's product pipeline stacks up with competitors", 'Yahoo Finance Video', 'https://finance.yahoo.com/video/ai-chips-amds-product-pipeline-130041711.html', '2026-02-07 13:00:41.000000', None)
2026-02-08 12:14:46,065 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 12:14:46,065 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('aba3e1cf-9c6f-306d-8de3-c694a148e197', 'AMD', 'Intel, AMD Warn China Customers Of Months-Long CPU Delays', 'Benzinga', 'https://finance.yahoo.com/news/intel-amd-warn-china-customers-213138002.html', '2026-02-07 21:31:38.000000', None)
2026-02-08 12:14:46,065 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 12:14:46,066 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('febfddb0-8d7b-36f7-a988-fa5cc92a2333', 'AMD', 'AMD Shares Slide Despite Strong Growth. Is It Time to Buy the Stock on the Dip?', 'Motley Fool', 'https://finance.yahoo.com/news/amd-shares-slide-despite-strong-203400558.html', '2026-02-07 20:34:00.000000', None)
2026-02-08 12:14:46,066 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 12:14:46,066 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('963ea41f-e0a8-353d-a2af-af9d84e8ff80', 'AMD', "There's a Rout in Tech Stocks. What's Going On?", 'Motley Fool', 'https://finance.yahoo.com/news/theres-rout-tech-stocks-whats-193800493.html', '2026-02-07 19:38:00.000000', None)
2026-02-08 12:14:46,067 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 12:14:46,067 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('41c6b815-d28a-340c-b48c-2126f3a1d7bd', 'AMD', "Is AMD's 17% Decline a Warning for Nvidia Shareholders Ahead of Feb. 25?", 'Motley Fool', 'https://finance.yahoo.com/news/amds-17-decline-warning-nvidia-163500768.html', '2026-02-07 16:35:00.000000', None)
2026-02-08 12:14:46,067 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 12:14:46,067 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('f8b64cfb-b8fa-339b-affc-385edb21148d', 'AMD', 'Intel chief says the company is going to make GPUs at scale', 'Digital Trends', 'https://finance.yahoo.com/news/intel-chief-says-company-going-162219541.html', '2026-02-07 16:22:19.000000', None)
2026-02-08 12:14:46,068 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 12:14:46,068 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('b4cbb13a-adcb-3def-98ba-c0f0cdc9a2e1', 'AMD', 'Baird Highlights AI GPU and Server Strength at Advanced Micro Devices, Inc (AMD)', 'Insider Monkey', 'https://finance.yahoo.com/news/baird-highlights-ai-gpu-server-151043149.html', '2026-02-07 15:10:43.000000', None)
2026-02-08 12:14:46,068 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 12:14:46,068 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('394f63db-c5a7-3be3-856c-3e15d8edf5ae', 'AMD', 'Jim Cramer Discusses Key Factor For Advanced Micro Devices (AMD)', 'Insider Monkey', 'https://finance.yahoo.com/news/jim-cramer-discusses-key-factor-150901216.html', '2026-02-07 15:09:01.000000', None)
2026-02-08 12:14:46,069 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 12:14:46,069 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('21378731-447f-38f0-9cb7-894210901739', 'AMD', "The Hidden Driver Behind AMD's Most Bullish 2026 Guidance", 'Motley Fool', 'https://finance.yahoo.com/news/hidden-driver-behind-amds-most-114000055.html', '2026-02-07 11:40:00.000000', None)
2026-02-08 12:14:46,069 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 12:14:46,069 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('4f730e37-6386-353f-af15-e81d0a363b8f', 'AMD', 'AMD Record Results Meet AI Constraints And New OpenAI Ties', 'Simply Wall St.', 'https://finance.yahoo.com/news/amd-record-results-meet-ai-070344792.html', '2026-02-07 07:03:44.000000', None)
2026-02-08 12:14:46,070 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET adx_14=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-08 12:14:46,070 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] (nan, '2026-02-08 04:14:45.365509', 'AMD')
2026-02-08 12:14:46,071 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 12:14:46,071 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:14:46,072 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 12:14:46,072 - sqlalchemy.engine.Engine - INFO - [generated in 0.00005s] ('AMD',)
2026-02-08 12:14:46,072 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 12:14:46,072 - sqlalchemy.engine.Engine - INFO - [cached since 5.346s ago] ('AMD', 5, 0)
2026-02-08 12:14:46,073 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-08 12:14:46,073 - sqlalchemy.engine.Engine - INFO - [generated in 0.00005s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD')
2026-02-08 12:14:46,073 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for AMD. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-08 12:14:46,074 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR AMD ---

         [AMD] 
        
        **1.  (Fundamental Context)**:
        - /: Technology / Semiconductors
        - : 339842859008.0
        - PE (TTM): 79.86 | Forward PE: 19.75
        - 52: [76.48, 267.08]
        - Beta: 1.95
        
        **2.  (Portfolio Context)**:
        - : $220.0
        - : 3.0
        - : $-34.68000000000001 (-5.254545454545456%)
        
        **3.  (Technical Data)**:
        - : $208.44
        - : 8.28%
        - RSI (14): 41.2 | KDJ (K): None / (D): None / (J): None
        - MACD: -1.51 (: -5.71, : None)
        -  (BB): : 273.92 | : None | : 190.56
        - MA : [20: 232.24, 50: 221.47, 200: 179.04]
        -  (ADX): None | ATR: 15.91
        -  (Pivots):  R1: None / R2: None |  S1: None / S2: None
        
        **4.  (Recent News)**:
        [{'title': 'Intel, AMD Warn China Customers Of Months-Long CPU Delays', 'publisher': 'Benzinga', 'time': '2026-02-07T21:31:38'}, {'title': 'AMD Shares Slide Despite Strong Growth. Is It Time to Buy the Stock on the Dip?', 'publisher': 'Motley Fool', 'time': '2026-02-07T20:34:00'}, {'title': "There's a Rout in Tech Stocks. What's Going On?", 'publisher': 'Motley Fool', 'time': '2026-02-07T19:38:00'}, {'title': "Is AMD's 17% Decline a Warning for Nvidia Shareholders Ahead of Feb. 25?", 'publisher': 'Motley Fool', 'time': '2026-02-07T16:35:00'}, {'title': 'Intel chief says the company is going to make GPUs at scale', 'publisher': 'Digital Trends', 'time': '2026-02-07T16:22:19'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (221.47)  (190.56)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "immediate_action": " (///)",
            "entry_price_low": "[CRITICAL]  (Float, 50.50)",
            "entry_price_high": "[CRITICAL]  (Float, 52.00)",
            "target_price": " (Float)",
            "stop_loss_price": " (Float)",
            "risk_level": "//",
            "investment_horizon": "",
            "confidence_level": 0-100 (AI ),
            "rr_ratio": "",
            "technical_analysis": " RSI, MACD, MA50 ",
            "fundamental_news": "/",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-08 12:15:21,577 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-08 12:15:21,580 - app.api.v1.endpoints.analysis - INFO - AI Response for AMD: {
    "sentiment_score": 55,
    "summary_status": "",
    "immediate_action": "",
    "entry_price_low": 190.56,
    "entry_price_high": 221.47,
    "target_price": 267.08,
    "stop_loss_price": 190.56,
    "risk_level": "",
    "investment_horizon": "3-6",
    "confidence_level": 72,
    "rr_ratio": 1.38,
    "technical_analysis": "208.44MA50221.47MA20232.24RSI 41.2MACD-5.71190.56",
    "fundamental_news": "Intel/AMDCPUForward PE 19.75Q117% NVIDIA Intel GPU",
    "action_advice": "220.05.25%190.56-221.47MA50221.47190.5615%52267.086"
}
2026-02-08 12:15:21,583 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, entry_zone, entry_price_low, entry_price_high, rr_ratio, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-08 12:15:21,583 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('5fc2fd7f-33ac-45bb-972b-a100e2674808', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', '{"market_data": {"current_price": 208.44, "change_percent": 8.28, "rsi_14": 41.2, "ma_20": 232.24, "ma_50": 221.47, "ma_200": 179.04, "macd_val": -1. ... (100 characters truncated) ... rket_status": "OPEN"}, "portfolio_data": {"avg_cost": 220.0, "quantity": 3.0, "unrealized_pl": -34.68000000000001, "pl_percent": -5.254545454545456}}', '{\n    "sentiment_score": 55,\n    "summary_status": "",\n    "immediate_action": "",\n    "entry_price_low": 190.56,\n    "entry_price_high" ... (492 characters truncated) ...    "action_advice": "220.05.25%190.56-221.47MA50221.47190.5615%52267.086"\n}', '55', '', '', '208.44MA50221.47MA20232.24RSI 41.2MACD-5.71190.56', 'Intel/AMDCPUForward PE 19.75Q117% NVIDIA Intel GPU', '220.05.25%190.56-221.47MA50221.47190.5615%52267.086', '3-6', 72.0, '', 267.08, 190.56, '190.56 - 221.47', 190.56, 221.47, 1.38, 'qwen-3-vl-thinking', '2026-02-08 04:15:21.583015')
2026-02-08 12:15:21,584 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 12:15:21,586 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:15:21,587 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-08 12:15:21,587 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('5fc2fd7f-33ac-45bb-972b-a100e2674808',)
2026-02-08 12:15:21,588 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:15:24,558 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:15:24,559 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:15:24,559 - sqlalchemy.engine.Engine - INFO - [cached since 43.84s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:15:24,560 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:15:24,560 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:15:24,560 - sqlalchemy.engine.Engine - INFO - [cached since 43.84s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:15:24,560 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:15:24,560 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:15:24,560 - sqlalchemy.engine.Engine - INFO - [cached since 43.84s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:15:24,561 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 12:15:24,561 - sqlalchemy.engine.Engine - INFO - [cached since 43.84s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 12:15:24,561 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 12:15:24,561 - sqlalchemy.engine.Engine - INFO - [cached since 43.84s ago] ('AMD', 20, 0)
2026-02-08 12:15:24,562 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 12:15:24,562 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:15:24,563 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.68ms
2026-02-08 12:15:24,563 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:15:24,565 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.87ms
2026-02-08 12:15:24,565 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.08ms
2026-02-08 12:15:24,565 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:15:24,566 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:15:24,817 - api_logger - INFO - rid=/api/stocks/AMD/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=196.94ms
2026-02-08 12:16:57,435 - app.api.v1.endpoints.portfolio - INFO - PHASE: Portfolio router module importing...
2026-02-08 12:55:50,531 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:55:50,537 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:55:50,537 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:55:50,567 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 12:55:50,567 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('AMD',)
2026-02-08 12:55:51,707 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-08 12:55:51,707 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('AMD',)
2026-02-08 12:55:51,709 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 12:55:51,710 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ('a7ed41d8-66a6-31a4-9dcb-6a8778d0e96a', 'AMD', "AI chips: How AMD's product pipeline stacks up with competitors", 'Yahoo Finance Video', 'https://finance.yahoo.com/video/ai-chips-amds-product-pipeline-130041711.html', '2026-02-07 13:00:41.000000', None)
2026-02-08 12:55:51,712 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 12:55:51,712 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('aba3e1cf-9c6f-306d-8de3-c694a148e197', 'AMD', 'Intel, AMD Warn China Customers Of Months-Long CPU Delays', 'Benzinga', 'https://finance.yahoo.com/news/intel-amd-warn-china-customers-213138002.html', '2026-02-07 21:31:38.000000', None)
2026-02-08 12:55:51,712 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 12:55:51,712 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('febfddb0-8d7b-36f7-a988-fa5cc92a2333', 'AMD', 'AMD Shares Slide Despite Strong Growth. Is It Time to Buy the Stock on the Dip?', 'Motley Fool', 'https://finance.yahoo.com/news/amd-shares-slide-despite-strong-203400558.html', '2026-02-07 20:34:00.000000', None)
2026-02-08 12:55:51,713 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 12:55:51,713 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('963ea41f-e0a8-353d-a2af-af9d84e8ff80', 'AMD', "There's a Rout in Tech Stocks. What's Going On?", 'Motley Fool', 'https://finance.yahoo.com/news/theres-rout-tech-stocks-whats-193800493.html', '2026-02-07 19:38:00.000000', None)
2026-02-08 12:55:51,713 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 12:55:51,713 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('41c6b815-d28a-340c-b48c-2126f3a1d7bd', 'AMD', "Is AMD's 17% Decline a Warning for Nvidia Shareholders Ahead of Feb. 25?", 'Motley Fool', 'https://finance.yahoo.com/news/amds-17-decline-warning-nvidia-163500768.html', '2026-02-07 16:35:00.000000', None)
2026-02-08 12:55:51,714 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 12:55:51,714 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('f8b64cfb-b8fa-339b-affc-385edb21148d', 'AMD', 'Intel chief says the company is going to make GPUs at scale', 'Digital Trends', 'https://finance.yahoo.com/news/intel-chief-says-company-going-162219541.html', '2026-02-07 16:22:19.000000', None)
2026-02-08 12:55:51,714 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 12:55:51,714 - sqlalchemy.engine.Engine - INFO - [no key 0.00004s] ('b4cbb13a-adcb-3def-98ba-c0f0cdc9a2e1', 'AMD', 'Baird Highlights AI GPU and Server Strength at Advanced Micro Devices, Inc (AMD)', 'Insider Monkey', 'https://finance.yahoo.com/news/baird-highlights-ai-gpu-server-151043149.html', '2026-02-07 15:10:43.000000', None)
2026-02-08 12:55:51,715 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 12:55:51,715 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('394f63db-c5a7-3be3-856c-3e15d8edf5ae', 'AMD', 'Jim Cramer Discusses Key Factor For Advanced Micro Devices (AMD)', 'Insider Monkey', 'https://finance.yahoo.com/news/jim-cramer-discusses-key-factor-150901216.html', '2026-02-07 15:09:01.000000', None)
2026-02-08 12:55:51,715 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 12:55:51,715 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('21378731-447f-38f0-9cb7-894210901739', 'AMD', "The Hidden Driver Behind AMD's Most Bullish 2026 Guidance", 'Motley Fool', 'https://finance.yahoo.com/news/hidden-driver-behind-amds-most-114000055.html', '2026-02-07 11:40:00.000000', None)
2026-02-08 12:55:51,715 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 12:55:51,715 - sqlalchemy.engine.Engine - INFO - [no key 0.00004s] ('4f730e37-6386-353f-af15-e81d0a363b8f', 'AMD', 'AMD Record Results Meet AI Constraints And New OpenAI Ties', 'Simply Wall St.', 'https://finance.yahoo.com/news/amd-record-results-meet-ai-070344792.html', '2026-02-07 07:03:44.000000', None)
2026-02-08 12:55:51,716 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET adx_14=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-08 12:55:51,716 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] (nan, '2026-02-08 04:55:50.568320', 'AMD')
2026-02-08 12:55:51,717 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 12:55:51,718 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:55:51,718 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 12:55:51,718 - sqlalchemy.engine.Engine - INFO - [generated in 0.00005s] ('AMD',)
2026-02-08 12:55:51,719 - api_logger - INFO - rid=/api/portfolio/AMD/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1195.49ms
2026-02-08 12:55:51,719 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 12:55:51,723 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 12:55:51,724 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 12:55:51,724 - sqlalchemy.engine.Engine - INFO - [cached since 1.186s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:55:51,725 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 12:55:51,725 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 12:55:51,726 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.86ms
2026-02-08 12:55:51,727 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:06:24,370 - api_logger - INFO - rid=/api/stocks/AMD/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1379.06ms
2026-02-08 15:08:05,651 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:08:05,652 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:08:05,652 - sqlalchemy.engine.Engine - INFO - [cached since 2298s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:08:05,656 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 15:08:05,656 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 15:08:05,657 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:08:05,657 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:08:05,657 - sqlalchemy.engine.Engine - INFO - [cached since 2298s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:08:05,658 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.12ms
2026-02-08 15:08:05,659 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:08:05,660 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 15:08:05,660 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('AAPL', 20, 0)
2026-02-08 15:08:05,662 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.47ms
2026-02-08 15:08:05,662 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:08:05,704 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:08:05,704 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:08:05,704 - sqlalchemy.engine.Engine - INFO - [cached since 2298s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:08:05,705 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:08:05,705 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:08:05,705 - sqlalchemy.engine.Engine - INFO - [cached since 2298s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:08:05,705 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 15:08:05,705 - sqlalchemy.engine.Engine - INFO - [cached since 0.04947s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 15:08:05,706 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 15:08:05,706 - sqlalchemy.engine.Engine - INFO - [cached since 0.04582s ago] ('AMD', 20, 0)
2026-02-08 15:08:05,706 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.77ms
2026-02-08 15:08:05,706 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:08:05,707 - api_logger - INFO - rid=/api/portfolio/AMD/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.76ms
2026-02-08 15:08:05,707 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:08:05,789 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:08:05,790 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:08:05,790 - sqlalchemy.engine.Engine - INFO - [cached since 2298s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:08:05,790 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:08:05,790 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:08:05,790 - sqlalchemy.engine.Engine - INFO - [cached since 2298s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:08:05,790 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 15:08:05,790 - sqlalchemy.engine.Engine - INFO - [cached since 0.1307s ago] ('AAPL', 20, 0)
2026-02-08 15:08:05,791 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 15:08:05,791 - sqlalchemy.engine.Engine - INFO - [cached since 0.1349s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 15:08:05,792 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.87ms
2026-02-08 15:08:05,793 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.50ms
2026-02-08 15:08:05,794 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:08:05,794 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:08:06,363 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=716.32ms
2026-02-08 15:08:06,668 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=304.47ms
2026-02-08 15:08:06,678 - api_logger - INFO - rid=/api/stocks/AMD/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=978.64ms
2026-02-08 15:08:06,845 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=176.16ms
2026-02-08 15:08:06,900 - api_logger - INFO - rid=/api/stocks/AMD/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=221.89ms
2026-02-08 15:08:07,136 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=289.91ms
2026-02-08 15:08:45,443 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:08:45,443 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:08:45,443 - sqlalchemy.engine.Engine - INFO - [cached since 2337s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:08:45,445 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-08 15:08:45,445 - sqlalchemy.engine.Engine - INFO - [cached since 2336s ago] ('AAPL',)
2026-02-08 15:08:45,446 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 15:08:45,446 - sqlalchemy.engine.Engine - INFO - [cached since 2337s ago] ('AAPL',)
2026-02-08 15:09:15,465 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-08 15:09:15,465 - sqlalchemy.engine.Engine - INFO - [cached since 2366s ago] ('AAPL',)
2026-02-08 15:09:15,470 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, macd_hist_slope=?, bb_upper=?, bb_lower=?, adx_14=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-08 15:09:15,470 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (238.3139736175537, 2.2089976853927737, -1.1003241697425528, 3.3093218551353267, 0.13981769502833385, 279.15632364442797, 241.14367330381427, nan, '2026-02-08 07:08:45.447040', 'AAPL')
2026-02-08 15:09:15,471 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 15:09:15,472 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:09:15,472 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 15:09:15,472 - sqlalchemy.engine.Engine - INFO - [cached since 2366s ago] ('AAPL',)
2026-02-08 15:09:15,473 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 15:09:15,473 - sqlalchemy.engine.Engine - INFO - [cached since 69.81s ago] ('AAPL', 5, 0)
2026-02-08 15:09:15,474 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-08 15:09:15,474 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL')
2026-02-08 15:09:15,475 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for AAPL. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-08 15:09:15,477 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR AAPL ---

         [AAPL] 
        
        **1.  (Fundamental Context)**:
        - /: Technology / Consumer Electronics
        - : 4087787028480.0
        - PE (TTM): 35.21 | Forward PE: 29.97
        - 52: [169.21, 288.62]
        - Beta: 1.11
        
        **2.  (Portfolio Context)**:
        - : $200.0
        - : 100.0
        - : $7812.0 (39.06%)
        
        **3.  (Technical Data)**:
        - : $278.12
        - : 0.8%
        - RSI (14): 74.16 | KDJ (K): None / (D): None / (J): None
        - MACD: 2.21 (: 3.31, : None)
        -  (BB): : 279.16 | : None | : 241.14
        - MA : [20: 260.15, 50: 268.7, 200: 238.31]
        -  (ADX): None | ATR: 6.95
        -  (Pivots):  R1: None / R2: None |  S1: None / S2: None
        
        **4.  (Recent News)**:
        [{'title': 'AI can make anyone rich: Mark Cuban says it could turn just one dude in a basement into a trillionaire', 'publisher': 'Fortune', 'time': '2026-02-07T15:20:03'}, {'title': 'UBS Maintains Neutral View as Apple (AAPL) App Store Trends Stay Solid', 'publisher': 'Insider Monkey', 'time': '2026-02-07T15:10:22'}, {'title': 'Apple, GE Aerospace Lead Five Stocks Flashing Buy Signals', 'publisher': "Investor's Business Daily", 'time': '2026-02-07T13:00:29'}, {'title': 'Youve vanquished your rival in a CEO succession race. Now, how do you lead them?', 'publisher': 'Fortune', 'time': '2026-02-07T12:00:00'}, {'title': 'Herms orange iPhone sparks Apple comeback in China', 'publisher': 'Financial Times', 'time': '2026-02-07T07:00:00'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (268.7)  (241.14)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "immediate_action": " (///)",
            "entry_price_low": "[CRITICAL]  (Float, 50.50)",
            "entry_price_high": "[CRITICAL]  (Float, 52.00)",
            "target_price": " (Float)",
            "stop_loss_price": "[CRITICAL]  (Float) entry_price_low ( 2%-5% )",
            "risk_level": "//",
            "investment_horizon": "",
            "confidence_level": 0-100 (AI ),
            "rr_ratio": "",
            "technical_analysis": " RSI, MACD, MA50 ",
            "fundamental_news": "/",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-08 15:09:41,736 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-08 15:09:41,738 - app.api.v1.endpoints.analysis - INFO - AI Response for AAPL: {
    "sentiment_score": 75,
    "summary_status": "",
    "immediate_action": "",
    "entry_price_low": 241.14,
    "entry_price_high": 260.15,
    "target_price": 288.62,
    "stop_loss_price": 236.32,
    "risk_level": "",
    "investment_horizon": "",
    "confidence_level": 85,
    "rr_ratio": 3.02,
    "technical_analysis": "278.1252RSI 74.16MACD 2.213.31MA50268.70279.16MA200238.31279.16288.62",
    "fundamental_news": "App StoreUBS'Herms'iPhoneAIPE(TTM)35.21Forward PE 29.97",
    "action_advice": "39.06%MA20260.15241.14-2%236.32279.16RSI52288.6215%ATR 6.95"
}
2026-02-08 15:09:41,741 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, entry_zone, entry_price_low, entry_price_high, rr_ratio, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-08 15:09:41,741 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ('1cb533be-662f-46da-8ca8-1f33729e2ed4', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', '{"market_data": {"current_price": 278.12, "change_percent": 0.8, "rsi_14": 74.16, "ma_20": 260.15, "ma_50": 268.7, "ma_200": 238.31, "macd_val": 2.21 ... (73 characters truncated) ... 36, "atr_14": 6.95, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 200.0, "quantity": 100.0, "unrealized_pl": 7812.0, "pl_percent": 39.06}}', '{\n    "sentiment_score": 75,\n    "summary_status": "",\n    "immediate_action": "",\n    "entry_price_low": 241.14,\n    "entry_price_high" ... (561 characters truncated) ... .06%MA20260.15241.14-2%236.32279.16RSI52288.6215%ATR 6.95"\n}', '75', '', '', '278.1252RSI 74.16MACD 2.213.31MA50268.70279.16MA200238.31279.16288.62', "App StoreUBS'Herms'iPhoneAIPE(TTM)35.21Forward PE 29.97", '39.06%MA20260.15241.14-2%236.32279.16RSI52288.6215%ATR 6.95', '', 85.0, '', 288.62, 236.32, None, 241.14, 260.15, 3.02, 'qwen-3-vl-thinking', '2026-02-08 07:09:41.741357')
2026-02-08 15:09:41,743 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 15:09:41,745 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:09:41,746 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-08 15:09:41,746 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('1cb533be-662f-46da-8ca8-1f33729e2ed4',)
2026-02-08 15:09:41,749 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:10:04,527 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:10:04,528 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:10:04,528 - sqlalchemy.engine.Engine - INFO - [cached since 2416s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:10:04,535 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:10:04,535 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:10:04,535 - sqlalchemy.engine.Engine - INFO - [cached since 2416s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:10:04,536 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 15:10:04,536 - sqlalchemy.engine.Engine - INFO - [cached since 118.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 15:10:04,537 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 15:10:04,537 - sqlalchemy.engine.Engine - INFO - [cached since 118.9s ago] ('AAPL', 20, 0)
2026-02-08 15:10:04,537 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:10:04,537 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:10:04,537 - sqlalchemy.engine.Engine - INFO - [cached since 2416s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:10:04,538 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.23ms
2026-02-08 15:10:04,538 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:10:04,539 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 15:10:04,539 - sqlalchemy.engine.Engine - INFO - [cached since 2415s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:10:04,539 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.10ms
2026-02-08 15:10:04,539 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:10:04,541 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.40ms
2026-02-08 15:10:04,541 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:10:06,184 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1573.34ms
2026-02-08 15:11:26,966 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:11:26,966 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:11:26,966 - sqlalchemy.engine.Engine - INFO - [cached since 2499s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:11:26,967 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:11:26,967 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:11:26,967 - sqlalchemy.engine.Engine - INFO - [cached since 2499s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:11:26,968 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 15:11:26,968 - sqlalchemy.engine.Engine - INFO - [cached since 201.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 15:11:26,968 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 15:11:26,968 - sqlalchemy.engine.Engine - INFO - [cached since 201.3s ago] ('SNDK', 20, 0)
2026-02-08 15:11:26,969 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.97ms
2026-02-08 15:11:26,969 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:11:26,969 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.27ms
2026-02-08 15:11:26,970 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:11:27,022 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:11:27,023 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:11:27,023 - sqlalchemy.engine.Engine - INFO - [cached since 2499s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:11:27,024 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:11:27,024 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:11:27,024 - sqlalchemy.engine.Engine - INFO - [cached since 2499s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:11:27,026 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 15:11:27,026 - sqlalchemy.engine.Engine - INFO - [cached since 201.4s ago] ('AAPL', 20, 0)
2026-02-08 15:11:27,027 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 15:11:27,027 - sqlalchemy.engine.Engine - INFO - [cached since 201.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 15:11:27,028 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.20ms
2026-02-08 15:11:27,029 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:11:27,029 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.66ms
2026-02-08 15:11:27,030 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:11:27,072 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:11:27,072 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:11:27,073 - sqlalchemy.engine.Engine - INFO - [cached since 2499s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:11:27,073 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:11:27,074 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:11:27,074 - sqlalchemy.engine.Engine - INFO - [cached since 2499s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:11:27,076 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 15:11:27,076 - sqlalchemy.engine.Engine - INFO - [cached since 201.4s ago] ('SNDK', 20, 0)
2026-02-08 15:11:27,076 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 15:11:27,077 - sqlalchemy.engine.Engine - INFO - [cached since 201.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 15:11:27,078 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.88ms
2026-02-08 15:11:27,081 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:11:27,081 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.31ms
2026-02-08 15:11:27,082 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:11:27,489 - api_logger - INFO - rid=/api/stocks/SNDK/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=524.33ms
2026-02-08 15:11:27,556 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=536.60ms
2026-02-08 15:11:27,857 - api_logger - INFO - rid=/api/stocks/SNDK/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=367.65ms
2026-02-08 15:11:27,896 - api_logger - INFO - rid=/api/stocks/AAPL/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=339.41ms
2026-02-08 15:11:28,097 - api_logger - INFO - rid=/api/stocks/SNDK/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=238.56ms
2026-02-08 15:11:28,232 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:11:28,233 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:11:28,233 - sqlalchemy.engine.Engine - INFO - [cached since 2500s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:11:28,233 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:11:28,233 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:11:28,233 - sqlalchemy.engine.Engine - INFO - [cached since 2500s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:11:28,235 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 15:11:28,235 - sqlalchemy.engine.Engine - INFO - [cached since 202.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 15:11:28,235 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 15:11:28,235 - sqlalchemy.engine.Engine - INFO - [cached since 202.6s ago] ('SLV', 20, 0)
2026-02-08 15:11:28,236 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.46ms
2026-02-08 15:11:28,237 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:11:28,237 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.53ms
2026-02-08 15:11:28,238 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:11:28,254 - api_logger - INFO - rid=/api/stocks/SNDK/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=156.15ms
2026-02-08 15:11:28,286 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:11:28,286 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:11:28,286 - sqlalchemy.engine.Engine - INFO - [cached since 2500s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:11:28,287 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:11:28,288 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:11:28,288 - sqlalchemy.engine.Engine - INFO - [cached since 2500s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:11:28,290 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 15:11:28,290 - sqlalchemy.engine.Engine - INFO - [cached since 202.6s ago] ('SNDK', 20, 0)
2026-02-08 15:11:28,290 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 15:11:28,290 - sqlalchemy.engine.Engine - INFO - [cached since 202.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 15:11:28,292 - api_logger - INFO - rid=/api/portfolio/SNDK/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.83ms
2026-02-08 15:11:28,292 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.15ms
2026-02-08 15:11:28,292 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:11:28,292 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:11:28,323 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:11:28,323 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:11:28,323 - sqlalchemy.engine.Engine - INFO - [cached since 2500s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:11:28,324 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:11:28,324 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:11:28,324 - sqlalchemy.engine.Engine - INFO - [cached since 2500s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:11:28,327 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 15:11:28,327 - sqlalchemy.engine.Engine - INFO - [cached since 202.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 15:11:28,328 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 15:11:28,328 - sqlalchemy.engine.Engine - INFO - [cached since 202.7s ago] ('SLV', 20, 0)
2026-02-08 15:11:28,329 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.47ms
2026-02-08 15:11:28,330 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.90ms
2026-02-08 15:11:28,331 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:11:28,332 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:11:28,439 - api_logger - INFO - rid=/api/stocks/SNDK/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=154.43ms
2026-02-08 15:11:28,474 - api_logger - INFO - rid=/api/stocks/SLV/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=243.76ms
2026-02-08 15:11:28,595 - api_logger - INFO - rid=/api/stocks/SNDK/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=152.79ms
2026-02-08 15:11:28,712 - api_logger - INFO - rid=/api/stocks/SLV/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=237.80ms
2026-02-08 15:11:28,882 - api_logger - INFO - rid=/api/stocks/SLV/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=167.87ms
2026-02-08 15:11:29,135 - api_logger - INFO - rid=/api/stocks/SLV/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=252.27ms
2026-02-08 15:11:32,934 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:11:32,935 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:11:32,935 - sqlalchemy.engine.Engine - INFO - [cached since 2505s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:11:32,936 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-08 15:11:32,937 - sqlalchemy.engine.Engine - INFO - [cached since 2504s ago] ('SLV',)
2026-02-08 15:11:32,938 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 15:11:32,938 - sqlalchemy.engine.Engine - INFO - [cached since 2505s ago] ('SLV',)
2026-02-08 15:11:34,956 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-08 15:11:34,956 - sqlalchemy.engine.Engine - INFO - [cached since 2506s ago] ('SLV',)
2026-02-08 15:11:34,957 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:11:34,957 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('be0eebba-92ad-3039-8a1d-12f75a96d52e', 'SLV', 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Friday Ahead of Consumer Sentiment Report', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-135747111.html', '2026-02-06 13:57:47.000000', None)
2026-02-08 15:11:34,959 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:11:34,959 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('e75bcefc-abe7-3823-ad57-38457d154c66', 'SLV', 'SLV Plunged 35.6% in Five Days After Fed Chair Nomination Rattled Silver Markets', '24/7 Wall St.', 'https://finance.yahoo.com/news/slv-plunged-35-6-five-153200847.html', '2026-02-05 15:32:00.000000', None)
2026-02-08 15:11:34,960 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:11:34,960 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('2a4b51c1-a2f9-38be-a7da-2b150aec99b5', 'SLV', 'Silver Prices Go on Another Wild Ride', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-05-2026/card/silver-prices-go-on-another-wild-ride-mFGeM0HcvqRBxVnrQA8S?siteid=yhoof2&yptr=yahoo', '2026-02-05 14:37:34.000000', None)
2026-02-08 15:11:34,961 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:11:34,961 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('80ee7f1c-7be6-3f8e-9529-1315fedd335a', 'SLV', 'Exchange-Traded Funds, Equity Futures Lower Pre-Bell Thursday Ahead of Amazon Earnings', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-141706475.html', '2026-02-05 14:17:06.000000', None)
2026-02-08 15:11:34,961 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:11:34,961 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('fd206287-a85b-3fc2-a6e8-4fa912457e35', 'SLV', 'Why GLDs 74% Rally Turned Into a Mousetrap and What the Fed Chair Pick Means Now', '24/7 Wall St.', 'https://finance.yahoo.com/news/why-gld-74-rally-turned-130816537.html', '2026-02-05 13:08:16.000000', None)
2026-02-08 15:11:34,962 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:11:34,962 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('79de7eeb-68c1-3a22-8dc6-29aa0d832707', 'SLV', 'Exchange-Traded Funds, Equity Futures Mixed Pre-Bell Wednesday Ahead of Alphabet Earnings', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-140310603.html', '2026-02-04 14:03:10.000000', None)
2026-02-08 15:11:34,962 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:11:34,962 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('267a5d36-ee97-304a-b868-ceb8592ad222', 'SLV', 'Top-Performing ETF Stories of January: Winning Investing Areas', 'Zacks', 'https://finance.yahoo.com/news/top-performing-etf-stories-january-130000947.html', '2026-02-04 13:00:00.000000', None)
2026-02-08 15:11:34,962 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:11:34,962 - sqlalchemy.engine.Engine - INFO - [no key 0.00004s] ('57491ac4-a2f9-3f77-9055-e641926dd6bb', 'SLV', 'Daily ETF Flows: $3.4B Flows Into SLV', 'etf.com', 'https://finance.yahoo.com/news/daily-etf-flows-3-4b-230005689.html', '2026-02-03 23:00:05.000000', None)
2026-02-08 15:11:34,963 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:11:34,963 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('c192d55e-4add-3941-8d89-ebeb9f3a249c', 'SLV', 'Zacks Investment Ideas feature highlights: Ark Invest, BlackRock, IBIT, GLD and SLV', 'Zacks', 'https://finance.yahoo.com/news/zacks-investment-ideas-feature-highlights-152000677.html', '2026-02-03 15:20:00.000000', None)
2026-02-08 15:11:34,963 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:11:34,963 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('11bf817f-bd41-38a9-a525-45cefc988e19', 'SLV', 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Tuesday as Earnings Deluge Continues', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-142855032.html', '2026-02-03 14:28:55.000000', None)
2026-02-08 15:11:34,964 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET adx_14=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-08 15:11:34,964 - sqlalchemy.engine.Engine - INFO - [cached since 2506s ago] (nan, '2026-02-08 07:11:32.939200', 'SLV')
2026-02-08 15:11:34,964 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 15:11:34,964 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:11:34,964 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 15:11:34,965 - sqlalchemy.engine.Engine - INFO - [cached since 2506s ago] ('SLV',)
2026-02-08 15:11:34,965 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 15:11:34,965 - sqlalchemy.engine.Engine - INFO - [cached since 209.3s ago] ('SLV', 5, 0)
2026-02-08 15:11:34,965 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-08 15:11:34,965 - sqlalchemy.engine.Engine - INFO - [cached since 139.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV')
2026-02-08 15:11:34,966 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for SLV. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-08 15:11:34,966 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR SLV ---

         [SLV] 
        
        **1.  (Fundamental Context)**:
        - /: None / None
        - : 23966375936.0
        - PE (TTM): None | Forward PE: None
        - 52: [26.57, 109.83]
        - Beta: None
        
        **2.  (Portfolio Context)**:
        - : $78.0
        - : 35.0
        - : $-273.3500000000001 (-10.012820512820515%)
        
        **3.  (Technical Data)**:
        - : $70.19
        - : 5.25%
        - RSI (14): 43.5 | KDJ (K): None / (D): None / (J): None
        - MACD: 1.48 (: -3.64, : None)
        -  (BB): : 106.99 | : None | : 60.86
        - MA : [20: 83.92, 50: 69.49, 200: 44.96]
        -  (ADX): None | ATR: 9.68
        -  (Pivots):  R1: None / R2: None |  S1: None / S2: None
        
        **4.  (Recent News)**:
        [{'title': 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Friday Ahead of Consumer Sentiment Report', 'publisher': 'MT Newswires', 'time': '2026-02-06T13:57:47'}, {'title': 'SLV Plunged 35.6% in Five Days After Fed Chair Nomination Rattled Silver Markets', 'publisher': '24/7 Wall St.', 'time': '2026-02-05T15:32:00'}, {'title': 'Silver Prices Go on Another Wild Ride', 'publisher': 'The Wall Street Journal', 'time': '2026-02-05T14:37:34'}, {'title': 'Exchange-Traded Funds, Equity Futures Lower Pre-Bell Thursday Ahead of Amazon Earnings', 'publisher': 'MT Newswires', 'time': '2026-02-05T14:17:06'}, {'title': 'Why GLDs 74% Rally Turned Into a Mousetrap and What the Fed Chair Pick Means Now', 'publisher': '24/7 Wall St.', 'time': '2026-02-05T13:08:16'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (69.49)  (60.86)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "immediate_action": " (///)",
            "entry_price_low": "[CRITICAL]  (Float, 50.50)",
            "entry_price_high": "[CRITICAL]  (Float, 52.00)",
            "target_price": " (Float)",
            "stop_loss_price": "[CRITICAL]  (Float) entry_price_low ( 2%-5% )",
            "risk_level": "//",
            "investment_horizon": "",
            "confidence_level": 0-100 (AI ),
            "rr_ratio": "",
            "technical_analysis": " RSI, MACD, MA50 ",
            "fundamental_news": "/",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-08 15:11:49,886 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-08 15:11:49,888 - app.api.v1.endpoints.analysis - INFO - AI Response for SLV: {
    "sentiment_score": 42,
    "summary_status": "",
    "immediate_action": "",
    "entry_price_low": 60.86,
    "entry_price_high": 69.49,
    "target_price": 83.92,
    "stop_loss_price": 57.82,
    "risk_level": "",
    "investment_horizon": "",
    "confidence_level": 65,
    "rr_ratio": 2.76,
    "technical_analysis": "70.19MA50(69.49)RSI43.5MACD-3.6460.86MA20(83.92)",
    "fundamental_news": "35.6%255.25%26ETF",
    "action_advice": "3560.86-MA50(69.49)25%57.82MA20(83.92)10%MA5030%"
}
2026-02-08 15:11:49,889 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, entry_zone, entry_price_low, entry_price_high, rr_ratio, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-08 15:11:49,889 - sqlalchemy.engine.Engine - INFO - [cached since 128.1s ago] ('87c32e9c-2376-47b9-a2ac-43ea92ee8be1', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', '{"market_data": {"current_price": 70.19, "change_percent": 5.25, "rsi_14": 43.5, "ma_20": 83.92, "ma_50": 69.49, "ma_200": 44.96, "macd_val": 1.48, " ... (94 characters truncated) ... ket_status": "OPEN"}, "portfolio_data": {"avg_cost": 78.0, "quantity": 35.0, "unrealized_pl": -273.3500000000001, "pl_percent": -10.012820512820515}}', '{\n    "sentiment_score": 42,\n    "summary_status": "",\n    "immediate_action": "",\n    "entry_price_low": 60.86,\n    "entry_price_high" ... (444 characters truncated) ... ",\n    "action_advice": "3560.86-MA50(69.49)25%57.82MA20(83.92)10%MA5030%"\n}', '42', '', '', '70.19MA50(69.49)RSI43.5MACD-3.6460.86MA20(83.92)', '35.6%255.25%26ETF', '3560.86-MA50(69.49)25%57.82MA20(83.92)10%MA5030%', '', 65.0, '', 83.92, 57.82, None, 60.86, 69.49, 2.76, 'qwen-3-vl-thinking', '2026-02-08 07:11:49.889321')
2026-02-08 15:11:49,890 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 15:11:49,892 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:11:49,892 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-08 15:11:49,892 - sqlalchemy.engine.Engine - INFO - [cached since 128.1s ago] ('87c32e9c-2376-47b9-a2ac-43ea92ee8be1',)
2026-02-08 15:11:49,893 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:14:02,334 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:14:02,336 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:14:02,336 - sqlalchemy.engine.Engine - INFO - [cached since 2654s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:14:02,338 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-08 15:14:02,338 - sqlalchemy.engine.Engine - INFO - [cached since 2653s ago] ('SLV',)
2026-02-08 15:14:02,339 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 15:14:02,339 - sqlalchemy.engine.Engine - INFO - [cached since 2654s ago] ('SLV',)
2026-02-08 15:14:04,262 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-08 15:14:04,263 - sqlalchemy.engine.Engine - INFO - [cached since 2655s ago] ('SLV',)
2026-02-08 15:14:04,265 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:14:04,265 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('be0eebba-92ad-3039-8a1d-12f75a96d52e', 'SLV', 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Friday Ahead of Consumer Sentiment Report', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-135747111.html', '2026-02-06 13:57:47.000000', None)
2026-02-08 15:14:04,266 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:14:04,267 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('e75bcefc-abe7-3823-ad57-38457d154c66', 'SLV', 'SLV Plunged 35.6% in Five Days After Fed Chair Nomination Rattled Silver Markets', '24/7 Wall St.', 'https://finance.yahoo.com/news/slv-plunged-35-6-five-153200847.html', '2026-02-05 15:32:00.000000', None)
2026-02-08 15:14:04,267 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:14:04,267 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('2a4b51c1-a2f9-38be-a7da-2b150aec99b5', 'SLV', 'Silver Prices Go on Another Wild Ride', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-05-2026/card/silver-prices-go-on-another-wild-ride-mFGeM0HcvqRBxVnrQA8S?siteid=yhoof2&yptr=yahoo', '2026-02-05 14:37:34.000000', None)
2026-02-08 15:14:04,268 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:14:04,268 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('80ee7f1c-7be6-3f8e-9529-1315fedd335a', 'SLV', 'Exchange-Traded Funds, Equity Futures Lower Pre-Bell Thursday Ahead of Amazon Earnings', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-141706475.html', '2026-02-05 14:17:06.000000', None)
2026-02-08 15:14:04,269 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:14:04,269 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('fd206287-a85b-3fc2-a6e8-4fa912457e35', 'SLV', 'Why GLDs 74% Rally Turned Into a Mousetrap and What the Fed Chair Pick Means Now', '24/7 Wall St.', 'https://finance.yahoo.com/news/why-gld-74-rally-turned-130816537.html', '2026-02-05 13:08:16.000000', None)
2026-02-08 15:14:04,269 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:14:04,269 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('79de7eeb-68c1-3a22-8dc6-29aa0d832707', 'SLV', 'Exchange-Traded Funds, Equity Futures Mixed Pre-Bell Wednesday Ahead of Alphabet Earnings', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-140310603.html', '2026-02-04 14:03:10.000000', None)
2026-02-08 15:14:04,270 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:14:04,270 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('267a5d36-ee97-304a-b868-ceb8592ad222', 'SLV', 'Top-Performing ETF Stories of January: Winning Investing Areas', 'Zacks', 'https://finance.yahoo.com/news/top-performing-etf-stories-january-130000947.html', '2026-02-04 13:00:00.000000', None)
2026-02-08 15:14:04,270 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:14:04,270 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('57491ac4-a2f9-3f77-9055-e641926dd6bb', 'SLV', 'Daily ETF Flows: $3.4B Flows Into SLV', 'etf.com', 'https://finance.yahoo.com/news/daily-etf-flows-3-4b-230005689.html', '2026-02-03 23:00:05.000000', None)
2026-02-08 15:14:04,271 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:14:04,271 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('c192d55e-4add-3941-8d89-ebeb9f3a249c', 'SLV', 'Zacks Investment Ideas feature highlights: Ark Invest, BlackRock, IBIT, GLD and SLV', 'Zacks', 'https://finance.yahoo.com/news/zacks-investment-ideas-feature-highlights-152000677.html', '2026-02-03 15:20:00.000000', None)
2026-02-08 15:14:04,271 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:14:04,271 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('11bf817f-bd41-38a9-a525-45cefc988e19', 'SLV', 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Tuesday as Earnings Deluge Continues', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-142855032.html', '2026-02-03 14:28:55.000000', None)
2026-02-08 15:14:04,271 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET adx_14=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-08 15:14:04,272 - sqlalchemy.engine.Engine - INFO - [cached since 2655s ago] (nan, '2026-02-08 07:14:02.340492', 'SLV')
2026-02-08 15:14:04,272 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 15:14:04,273 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:14:04,273 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 15:14:04,273 - sqlalchemy.engine.Engine - INFO - [cached since 2655s ago] ('SLV',)
2026-02-08 15:14:04,273 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 15:14:04,273 - sqlalchemy.engine.Engine - INFO - [cached since 358.6s ago] ('SLV', 5, 0)
2026-02-08 15:14:04,274 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-08 15:14:04,274 - sqlalchemy.engine.Engine - INFO - [cached since 288.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV')
2026-02-08 15:14:04,274 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for SLV. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-08 15:14:04,274 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR SLV ---

         [SLV] 
        
        **1.  (Fundamental Context)**:
        - /: None / None
        - : 23966375936.0
        - PE (TTM): None | Forward PE: None
        - 52: [26.57, 109.83]
        - Beta: None
        
        **2.  (Portfolio Context)**:
        - : $78.0
        - : 35.0
        - : $-273.3500000000001 (-10.012820512820515%)
        
        **3.  (Technical Data)**:
        - : $70.19
        - : 5.25%
        - RSI (14): 43.5 | KDJ (K): None / (D): None / (J): None
        - MACD: 1.48 (: -3.64, : None)
        -  (BB): : 106.99 | : None | : 60.86
        - MA : [20: 83.92, 50: 69.49, 200: 44.96]
        -  (ADX): None | ATR: 9.68
        -  (Pivots):  R1: None / R2: None |  S1: None / S2: None
        
        **4.  (Recent News)**:
        [{'title': 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Friday Ahead of Consumer Sentiment Report', 'publisher': 'MT Newswires', 'time': '2026-02-06T13:57:47'}, {'title': 'SLV Plunged 35.6% in Five Days After Fed Chair Nomination Rattled Silver Markets', 'publisher': '24/7 Wall St.', 'time': '2026-02-05T15:32:00'}, {'title': 'Silver Prices Go on Another Wild Ride', 'publisher': 'The Wall Street Journal', 'time': '2026-02-05T14:37:34'}, {'title': 'Exchange-Traded Funds, Equity Futures Lower Pre-Bell Thursday Ahead of Amazon Earnings', 'publisher': 'MT Newswires', 'time': '2026-02-05T14:17:06'}, {'title': 'Why GLDs 74% Rally Turned Into a Mousetrap and What the Fed Chair Pick Means Now', 'publisher': '24/7 Wall St.', 'time': '2026-02-05T13:08:16'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (69.49)  (60.86)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "immediate_action": " (///)",
            "entry_price_low": "[CRITICAL]  (Float, 50.50)",
            "entry_price_high": "[CRITICAL]  (Float, 52.00)",
            "target_price": " (Float)",
            "stop_loss_price": "[CRITICAL]  (Float) entry_price_low ( 2%-5% )",
            "risk_level": "//",
            "investment_horizon": "",
            "confidence_level": 0-100 (AI ),
            "rr_ratio": "",
            "technical_analysis": " RSI, MACD, MA50 ",
            "fundamental_news": "/",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-08 15:14:14,281 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-08 15:14:14,282 - app.api.v1.endpoints.analysis - INFO - AI Response for SLV: {
    "sentiment_score": 52,
    "summary_status": "",
    "immediate_action": "",
    "entry_price_low": 60.86,
    "entry_price_high": 69.49,
    "target_price": 83.92,
    "stop_loss_price": 55.86,
    "risk_level": "",
    "investment_horizon": "",
    "confidence_level": 78,
    "rr_ratio": 2.79,
    "technical_analysis": "70.19MA50(69.49)MA20(83.92),RSI 43.5,MACD-3.64DIF1.48,60.86106.991/3",
    "fundamental_news": "2535.6%ETF26",
    "action_advice": "78.010%60.86MA50(69.49)55.86(-5%)MA20(83.92)ATR 9.685.5%20%"
}
2026-02-08 15:14:14,283 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, entry_zone, entry_price_low, entry_price_high, rr_ratio, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-08 15:14:14,283 - sqlalchemy.engine.Engine - INFO - [cached since 272.5s ago] ('4f11bf87-bf32-4102-a10f-78a0f4117aa5', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', '{"market_data": {"current_price": 70.19, "change_percent": 5.25, "rsi_14": 43.5, "ma_20": 83.92, "ma_50": 69.49, "ma_200": 44.96, "macd_val": 1.48, " ... (94 characters truncated) ... ket_status": "OPEN"}, "portfolio_data": {"avg_cost": 78.0, "quantity": 35.0, "unrealized_pl": -273.3500000000001, "pl_percent": -10.012820512820515}}', '{\n    "sentiment_score": 52,\n    "summary_status": "",\n    "immediate_action": "",\n    "entry_price_low": 60.86,\n    "entry_price_high": ... (465 characters truncated) ... ion_advice": "78.010%60.86MA50(69.49)55.86(-5%)MA20(83.92)ATR 9.685.5%20%"\n}', '52', '', '', '70.19MA50(69.49)MA20(83.92),RSI 43.5,MACD-3.64DIF1.48,60.86106.991/3', '2535.6%ETF26', '78.010%60.86MA50(69.49)55.86(-5%)MA20(83.92)ATR 9.685.5%20%', '', 78.0, '', 83.92, 55.86, 'Near 20.0', 60.86, 69.49, 2.79, 'qwen-3-vl-thinking', '2026-02-08 07:14:14.282965')
2026-02-08 15:14:14,283 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 15:14:14,284 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:14:14,284 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-08 15:14:14,284 - sqlalchemy.engine.Engine - INFO - [cached since 272.5s ago] ('4f11bf87-bf32-4102-a10f-78a0f4117aa5',)
2026-02-08 15:14:14,284 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:14:20,556 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:14:20,556 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:14:20,556 - sqlalchemy.engine.Engine - INFO - [cached since 2672s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:14:20,557 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:14:20,557 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:14:20,557 - sqlalchemy.engine.Engine - INFO - [cached since 2672s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:14:20,557 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:14:20,558 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:14:20,558 - sqlalchemy.engine.Engine - INFO - [cached since 2672s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:14:20,559 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 15:14:20,559 - sqlalchemy.engine.Engine - INFO - [cached since 374.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 15:14:20,560 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 15:14:20,560 - sqlalchemy.engine.Engine - INFO - [cached since 2671s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:14:20,560 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 15:14:20,560 - sqlalchemy.engine.Engine - INFO - [cached since 374.9s ago] ('SLV', 20, 0)
2026-02-08 15:14:20,564 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.72ms
2026-02-08 15:14:20,564 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.87ms
2026-02-08 15:14:20,565 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:14:20,565 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:14:20,566 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.45ms
2026-02-08 15:14:20,568 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:14:20,928 - api_logger - INFO - rid=/api/stocks/SLV/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=288.84ms
2026-02-08 15:21:30,970 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:21:30,971 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:21:30,971 - sqlalchemy.engine.Engine - INFO - [cached since 3103s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:21:30,972 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:21:30,972 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:21:30,972 - sqlalchemy.engine.Engine - INFO - [cached since 3103s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:21:30,973 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:21:30,973 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:21:30,973 - sqlalchemy.engine.Engine - INFO - [cached since 3103s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:21:30,978 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 15:21:30,978 - sqlalchemy.engine.Engine - INFO - [cached since 805.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 15:21:30,980 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 15:21:30,980 - sqlalchemy.engine.Engine - INFO - [cached since 805.3s ago] ('SLV', 20, 0)
2026-02-08 15:21:30,980 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-08 15:21:30,980 - sqlalchemy.engine.Engine - INFO - [cached since 3102s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:21:30,982 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=16.77ms
2026-02-08 15:21:30,983 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:21:30,984 - api_logger - INFO - rid=/api/portfolio/SLV/news method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.30ms
2026-02-08 15:21:30,985 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:21:30,985 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.22ms
2026-02-08 15:21:30,986 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:21:31,485 - api_logger - INFO - rid=/api/stocks/SLV/history method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=449.38ms
2026-02-08 15:22:17,556 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:22:17,556 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:22:17,556 - sqlalchemy.engine.Engine - INFO - [cached since 3149s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:22:17,558 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-08 15:22:17,559 - sqlalchemy.engine.Engine - INFO - [cached since 3148s ago] ('SLV',)
2026-02-08 15:22:17,560 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 15:22:17,560 - sqlalchemy.engine.Engine - INFO - [cached since 3149s ago] ('SLV',)
2026-02-08 15:22:18,519 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-08 15:22:18,519 - sqlalchemy.engine.Engine - INFO - [cached since 3149s ago] ('SLV',)
2026-02-08 15:22:18,521 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:22:18,521 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ('be0eebba-92ad-3039-8a1d-12f75a96d52e', 'SLV', 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Friday Ahead of Consumer Sentiment Report', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-135747111.html', '2026-02-06 13:57:47.000000', None)
2026-02-08 15:22:18,523 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:22:18,523 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('e75bcefc-abe7-3823-ad57-38457d154c66', 'SLV', 'SLV Plunged 35.6% in Five Days After Fed Chair Nomination Rattled Silver Markets', '24/7 Wall St.', 'https://finance.yahoo.com/news/slv-plunged-35-6-five-153200847.html', '2026-02-05 15:32:00.000000', None)
2026-02-08 15:22:18,525 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:22:18,525 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ('2a4b51c1-a2f9-38be-a7da-2b150aec99b5', 'SLV', 'Silver Prices Go on Another Wild Ride', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-05-2026/card/silver-prices-go-on-another-wild-ride-mFGeM0HcvqRBxVnrQA8S?siteid=yhoof2&yptr=yahoo', '2026-02-05 14:37:34.000000', None)
2026-02-08 15:22:18,526 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:22:18,526 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('80ee7f1c-7be6-3f8e-9529-1315fedd335a', 'SLV', 'Exchange-Traded Funds, Equity Futures Lower Pre-Bell Thursday Ahead of Amazon Earnings', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-141706475.html', '2026-02-05 14:17:06.000000', None)
2026-02-08 15:22:18,526 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:22:18,526 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('fd206287-a85b-3fc2-a6e8-4fa912457e35', 'SLV', 'Why GLDs 74% Rally Turned Into a Mousetrap and What the Fed Chair Pick Means Now', '24/7 Wall St.', 'https://finance.yahoo.com/news/why-gld-74-rally-turned-130816537.html', '2026-02-05 13:08:16.000000', None)
2026-02-08 15:22:18,527 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:22:18,527 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('79de7eeb-68c1-3a22-8dc6-29aa0d832707', 'SLV', 'Exchange-Traded Funds, Equity Futures Mixed Pre-Bell Wednesday Ahead of Alphabet Earnings', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-140310603.html', '2026-02-04 14:03:10.000000', None)
2026-02-08 15:22:18,527 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:22:18,527 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('267a5d36-ee97-304a-b868-ceb8592ad222', 'SLV', 'Top-Performing ETF Stories of January: Winning Investing Areas', 'Zacks', 'https://finance.yahoo.com/news/top-performing-etf-stories-january-130000947.html', '2026-02-04 13:00:00.000000', None)
2026-02-08 15:22:18,527 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:22:18,527 - sqlalchemy.engine.Engine - INFO - [no key 0.00004s] ('57491ac4-a2f9-3f77-9055-e641926dd6bb', 'SLV', 'Daily ETF Flows: $3.4B Flows Into SLV', 'etf.com', 'https://finance.yahoo.com/news/daily-etf-flows-3-4b-230005689.html', '2026-02-03 23:00:05.000000', None)
2026-02-08 15:22:18,528 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:22:18,528 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('c192d55e-4add-3941-8d89-ebeb9f3a249c', 'SLV', 'Zacks Investment Ideas feature highlights: Ark Invest, BlackRock, IBIT, GLD and SLV', 'Zacks', 'https://finance.yahoo.com/news/zacks-investment-ideas-feature-highlights-152000677.html', '2026-02-03 15:20:00.000000', None)
2026-02-08 15:22:18,528 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-08 15:22:18,528 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('11bf817f-bd41-38a9-a525-45cefc988e19', 'SLV', 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Tuesday as Earnings Deluge Continues', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-142855032.html', '2026-02-03 14:28:55.000000', None)
2026-02-08 15:22:18,529 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET adx_14=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-08 15:22:18,529 - sqlalchemy.engine.Engine - INFO - [cached since 3149s ago] (nan, '2026-02-08 07:22:17.561142', 'SLV')
2026-02-08 15:22:18,529 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 15:22:18,530 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:22:18,530 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.macd_hist_slope, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.adx_14, market_data_cache.pivot_point, market_data_cache.resistance_1, market_data_cache.resistance_2, market_data_cache.support_1, market_data_cache.support_2, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-08 15:22:18,530 - sqlalchemy.engine.Engine - INFO - [cached since 3149s ago] ('SLV',)
2026-02-08 15:22:18,530 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-08 15:22:18,530 - sqlalchemy.engine.Engine - INFO - [cached since 852.9s ago] ('SLV', 5, 0)
2026-02-08 15:22:18,531 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-08 15:22:18,531 - sqlalchemy.engine.Engine - INFO - [cached since 783.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV')
2026-02-08 15:22:18,531 - app.api.v1.endpoints.analysis - INFO - Preparing AI analysis for SLV. Market Data keys present: ['current_price', 'change_percent', 'rsi_14', 'ma_20', 'ma_50', 'ma_200', 'macd_val', 'macd_hist', 'bb_upper', 'bb_lower', 'kdj_k', 'atr_14', 'market_status']
2026-02-08 15:22:18,531 - app.services.ai_service - INFO - --- AI ANALYSIS PROMPT FOR SLV ---

         [SLV] 
        
        **1.  (Fundamental Context)**:
        - /: None / None
        - : 23966375936.0
        - PE (TTM): None | Forward PE: None
        - 52: [26.57, 109.83]
        - Beta: None
        
        **2.  (Portfolio Context)**:
        - : $78.0
        - : 35.0
        - : $-273.3500000000001 (-10.012820512820515%)
        
        **3.  (Technical Data)**:
        - : $70.19
        - : 5.25%
        - RSI (14): 43.5 | KDJ (K): None / (D): None / (J): None
        - MACD: 1.48 (: -3.64, : None)
        -  (BB): : 106.99 | : None | : 60.86
        - MA : [20: 83.92, 50: 69.49, 200: 44.96]
        -  (ADX): None | ATR: 9.68
        -  (Pivots):  R1: None / R2: None |  S1: None / S2: None
        
        **4.  (Recent News)**:
        [{'title': 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Friday Ahead of Consumer Sentiment Report', 'publisher': 'MT Newswires', 'time': '2026-02-06T13:57:47'}, {'title': 'SLV Plunged 35.6% in Five Days After Fed Chair Nomination Rattled Silver Markets', 'publisher': '24/7 Wall St.', 'time': '2026-02-05T15:32:00'}, {'title': 'Silver Prices Go on Another Wild Ride', 'publisher': 'The Wall Street Journal', 'time': '2026-02-05T14:37:34'}, {'title': 'Exchange-Traded Funds, Equity Futures Lower Pre-Bell Thursday Ahead of Amazon Earnings', 'publisher': 'MT Newswires', 'time': '2026-02-05T14:17:06'}, {'title': 'Why GLDs 74% Rally Turned Into a Mousetrap and What the Fed Chair Pick Means Now', 'publisher': '24/7 Wall St.', 'time': '2026-02-05T13:08:16'}]
        
        ** (Core Task)**:
        
        
        ** (Strict Rules)**:
        - ****: **** MA50 (69.49)  (60.86)
        - ****:  99.42 
        - ****:  0//
        
        ****:
        - 
        - ** `technical_analysis` **: RSIMACDMA50/200 
        - ****: AI ** 2 **88.54  88.544834
        -  JSON 
        
        :
        {
            "sentiment_score": 0-100 (0=, 50=, 100=), 
            "summary_status": "4-6",
            "immediate_action": " (///)",
            "entry_price_low": "[CRITICAL]  (Float, 50.50)",
            "entry_price_high": "[CRITICAL]  (Float, 52.00)",
            "target_price": " (Float)",
            "stop_loss_price": "[CRITICAL]  (Float) entry_price_low ( 2%-5% )",
            "risk_level": "//",
            "investment_horizon": "",
            "confidence_level": 0-100 (AI ),
            "rr_ratio": "",
            "technical_analysis": " RSI, MACD, MA50 ",
            "fundamental_news": "/",
            "action_advice": ""
        }
        
--------------------------------------
2026-02-08 15:22:35,606 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-08 15:22:35,609 - app.api.v1.endpoints.analysis - INFO - AI Response for SLV: {
    "sentiment_score": 45,
    "summary_status": "",
    "immediate_action": "",
    "entry_price_low": 60.86,
    "entry_price_high": 69.49,
    "target_price": 83.92,
    "stop_loss_price": 58.44,
    "risk_level": "",
    "investment_horizon": "3-6",
    "confidence_level": 65,
    "rr_ratio": 1.88,
    "technical_analysis": "70.19MA5069.4960.86RSI 43.5MACD-3.64MA50MA20044.96",
    "fundamental_news": "25SLV35.6%ATR 9.6878.0",
    "action_advice": "10.01%MA5069.4975%60.86RSI<3580%4%58.44PriceMA2083.9219.6%"
}
2026-02-08 15:22:35,611 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, summary_status, risk_level, technical_analysis, fundamental_news, action_advice, investment_horizon, confidence_level, immediate_action, target_price, stop_loss_price, entry_zone, entry_price_low, entry_price_high, rr_ratio, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-08 15:22:35,611 - sqlalchemy.engine.Engine - INFO - [cached since 773.9s ago] ('749fe0d2-0942-4da8-a7ef-835c4867eb13', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', '{"market_data": {"current_price": 70.19, "change_percent": 5.25, "rsi_14": 43.5, "ma_20": 83.92, "ma_50": 69.49, "ma_200": 44.96, "macd_val": 1.48, " ... (94 characters truncated) ... ket_status": "OPEN"}, "portfolio_data": {"avg_cost": 78.0, "quantity": 35.0, "unrealized_pl": -273.3500000000001, "pl_percent": -10.012820512820515}}', '{\n    "sentiment_score": 45,\n    "summary_status": "",\n    "immediate_action": "",\n    "entry_price_low": 60.86,\n    "entry_price_high": ... (485 characters truncated) ... "10.01%MA5069.4975%60.86RSI<3580%4%58.44PriceMA2083.9219.6%"\n}', '45', '', '', '70.19MA5069.4960.86RSI 43.5MACD-3.64MA50MA20044.96', '25SLV35.6%ATR 9.6878.0', '10.01%MA5069.4975%60.86RSI<3580%4%58.44PriceMA2083.9219.6%', '3-6', 65.0, '', 83.92, 58.44, None, 60.86, 69.49, 1.88, 'qwen-3-vl-thinking', '2026-02-08 07:22:35.611000')
2026-02-08 15:22:35,612 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-08 15:22:35,613 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:22:35,614 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-08 15:22:35,614 - sqlalchemy.engine.Engine - INFO - [cached since 773.9s ago] ('749fe0d2-0942-4da8-a7ef-835c4867eb13',)
2026-02-08 15:22:35,615 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-08 15:22:35,621 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-08 15:22:35,621 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-08 15:22:35,621 - sqlalchemy.engine.Engine - INFO - [cached since 3168s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-08 15:22:35,622 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.summary_status, analysis_reports.risk_level, analysis_reports.technical_analysis, analysis_reports.fundamental_news, analysis_reports.action_advice, analysis_reports.investment_horizon, analysis_reports.confidence_level, analysis_reports.immediate_action, analysis_reports.target_price, analysis_reports.stop_loss_price, analysis_reports.entry_zone, analysis_reports.entry_price_low, analysis_reports.entry_price_high, analysis_reports.rr_ratio, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-08 15:22:35,622 - sqlalchemy.engine.Engine - INFO - [cached since 870s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-08 15:22:35,623 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.66ms
2026-02-08 15:22:35,624 - sqlalchemy.engine.Engine - INFO - ROLLBACK
