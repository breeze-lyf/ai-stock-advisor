2026-01-28 22:26:51,861 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=403 user_id=invalid_token time=3.47ms
2026-01-28 22:26:51,862 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=403 user_id=invalid_token time=0.64ms
2026-01-28 22:28:01,310 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=403 user_id=invalid_token time=0.79ms
2026-01-28 22:28:01,348 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=403 user_id=invalid_token time=1.57ms
2026-01-28 22:28:10,612 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-28 22:28:10,629 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.email = ?
2026-01-28 22:28:10,629 - sqlalchemy.engine.Engine - INFO - [generated in 0.00066s] ('test@qq.com',)
2026-01-28 22:28:10,846 - api_logger - INFO - rid=/api/auth/login method=POST status_code=200 user_id=anonymous time=240.67ms
2026-01-28 22:28:10,847 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-28 22:28:10,898 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-28 22:28:10,899 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-28 22:28:10,899 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:28:10,901 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-28 22:28:10,901 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:28:10,903 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.92ms
2026-01-28 22:28:10,903 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-28 22:28:10,905 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-28 22:28:10,905 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-28 22:28:10,905 - sqlalchemy.engine.Engine - INFO - [cached since 0.006123s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:28:10,905 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-28 22:28:10,906 - sqlalchemy.engine.Engine - INFO - [cached since 0.004638s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:28:10,906 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.06ms
2026-01-28 22:28:10,907 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-28 22:28:10,908 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-28 22:28:10,909 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-28 22:28:10,909 - sqlalchemy.engine.Engine - INFO - [cached since 0.009795s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:28:10,910 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-28 22:28:10,910 - sqlalchemy.engine.Engine - INFO - [cached since 0.009514s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:28:10,912 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.58ms
2026-01-28 22:28:10,912 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-28 22:28:10,913 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-28 22:28:10,913 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-28 22:28:10,913 - sqlalchemy.engine.Engine - INFO - [cached since 0.01453s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:28:10,914 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-28 22:28:10,914 - sqlalchemy.engine.Engine - INFO - [cached since 0.0132s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:28:10,915 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.89ms
2026-01-28 22:28:10,916 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-28 22:31:06,340 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-28 22:31:06,340 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-28 22:31:06,340 - sqlalchemy.engine.Engine - INFO - [cached since 175.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:31:06,341 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-28 22:31:06,341 - sqlalchemy.engine.Engine - INFO - [cached since 175.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:31:06,342 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.75ms
2026-01-28 22:31:06,342 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-28 22:31:06,354 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-28 22:31:06,354 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-28 22:31:06,354 - sqlalchemy.engine.Engine - INFO - [cached since 175.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:31:06,355 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-28 22:31:06,355 - sqlalchemy.engine.Engine - INFO - [cached since 175.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:31:06,359 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.44ms
2026-01-28 22:31:06,360 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-28 22:31:09,136 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-28 22:31:09,136 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-28 22:31:09,136 - sqlalchemy.engine.Engine - INFO - [cached since 178.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:31:09,137 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-28 22:31:09,137 - sqlalchemy.engine.Engine - INFO - [cached since 178.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:31:09,139 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.06ms
2026-01-28 22:31:09,139 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-28 22:31:09,140 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-28 22:31:09,140 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-28 22:31:09,140 - sqlalchemy.engine.Engine - INFO - [cached since 178.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:31:09,141 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-28 22:31:09,141 - sqlalchemy.engine.Engine - INFO - [cached since 178.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-28 22:31:09,144 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.82ms
2026-01-28 22:31:09,145 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-29 21:12:56,362 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-29 21:12:56,371 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.email = ?
2026-01-29 21:12:56,372 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('test@qq.com',)
2026-01-29 21:12:56,587 - api_logger - INFO - rid=/api/auth/login method=POST status_code=200 user_id=anonymous time=236.62ms
2026-01-29 21:12:56,588 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-29 21:12:56,647 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-29 21:12:56,647 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-29 21:12:56,647 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:56,649 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-29 21:12:56,649 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:56,651 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.85ms
2026-01-29 21:12:56,651 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-29 21:12:56,653 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-29 21:12:56,653 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-29 21:12:56,653 - sqlalchemy.engine.Engine - INFO - [cached since 0.005993s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:56,654 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-29 21:12:56,654 - sqlalchemy.engine.Engine - INFO - [cached since 0.004778s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:56,655 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.97ms
2026-01-29 21:12:56,655 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-29 21:12:56,656 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-29 21:12:56,656 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-29 21:12:56,656 - sqlalchemy.engine.Engine - INFO - [cached since 0.008943s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:56,656 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-29 21:12:56,657 - sqlalchemy.engine.Engine - INFO - [cached since 0.007692s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:56,657 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.11ms
2026-01-29 21:12:56,658 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-29 21:12:56,659 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-29 21:12:56,659 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-29 21:12:56,659 - sqlalchemy.engine.Engine - INFO - [cached since 0.0119s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:56,659 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-29 21:12:56,659 - sqlalchemy.engine.Engine - INFO - [cached since 0.01053s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:56,660 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.14ms
2026-01-29 21:12:56,661 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-29 21:12:58,476 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-29 21:12:58,477 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-29 21:12:58,477 - sqlalchemy.engine.Engine - INFO - [cached since 1.83s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:58,477 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-29 21:12:58,478 - sqlalchemy.engine.Engine - INFO - [cached since 1.829s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:58,481 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.79ms
2026-01-29 21:12:58,484 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-29 21:12:58,487 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-29 21:12:58,487 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-29 21:12:58,487 - sqlalchemy.engine.Engine - INFO - [cached since 1.84s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:58,489 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-29 21:12:58,489 - sqlalchemy.engine.Engine - INFO - [cached since 1.84s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-29 21:12:58,490 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.67ms
2026-01-29 21:12:58,491 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-30 11:07:48,006 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-30 11:07:48,008 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-30 11:07:48,008 - sqlalchemy.engine.Engine - INFO - [cached since 1.44e+04s ago] ('38ed9ac6-5b4a-4514-a40e-5ed0a6939c77',)
2026-01-30 11:07:48,017 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-30 11:07:48,018 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=404 user_id=38ed9ac6-5b4a-4514-a40e-5ed0a6939c77 time=52.17ms
2026-01-30 11:07:48,021 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-30 11:07:48,021 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-30 11:07:48,021 - sqlalchemy.engine.Engine - INFO - [cached since 1.44e+04s ago] ('38ed9ac6-5b4a-4514-a40e-5ed0a6939c77',)
2026-01-30 11:07:48,021 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-30 11:07:48,022 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=404 user_id=38ed9ac6-5b4a-4514-a40e-5ed0a6939c77 time=1.80ms
2026-01-30 11:07:49,591 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-30 11:07:49,591 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-30 11:07:49,591 - sqlalchemy.engine.Engine - INFO - [cached since 1.44e+04s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-30 11:07:49,595 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-30 11:07:49,595 - sqlalchemy.engine.Engine - INFO - [cached since 1.44e+04s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-30 11:07:49,601 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.15ms
2026-01-30 11:07:49,602 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-01-30 11:07:49,604 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-01-30 11:07:49,604 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-01-30 11:07:49,604 - sqlalchemy.engine.Engine - INFO - [cached since 1.44e+04s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-30 11:07:49,607 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-01-30 11:07:49,608 - sqlalchemy.engine.Engine - INFO - [cached since 1.44e+04s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-01-30 11:07:49,610 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.40ms
2026-01-30 11:07:49,612 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 22:13:52,916 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=403 user_id=invalid_token time=32.05ms
2026-02-03 22:14:02,491 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 22:14:02,507 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.email = ?
2026-02-03 22:14:02,508 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('test@qq.com',)
2026-02-03 22:14:02,718 - api_logger - INFO - rid=/api/auth/login method=POST status_code=200 user_id=anonymous time=251.70ms
2026-02-03 22:14:02,719 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 22:14:02,765 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 22:14:02,768 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 22:14:02,768 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 22:14:02,771 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 22:14:02,772 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 22:14:02,773 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.51ms
2026-02-03 22:14:02,774 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 22:14:02,775 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 22:14:02,775 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 22:14:02,775 - sqlalchemy.engine.Engine - INFO - [cached since 0.007401s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 22:14:02,775 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 22:14:02,775 - sqlalchemy.engine.Engine - INFO - [cached since 0.004226s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 22:14:02,776 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.97ms
2026-02-03 22:14:02,777 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 22:14:40,964 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 22:14:40,965 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 22:14:40,965 - sqlalchemy.engine.Engine - INFO - [cached since 38.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 22:14:40,968 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 22:14:40,969 - sqlalchemy.engine.Engine - INFO - [cached since 38.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 22:14:40,971 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.41ms
2026-02-03 22:14:40,972 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:33:45,297 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:33:45,298 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:33:45,298 - sqlalchemy.engine.Engine - INFO - [cached since 1495s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:33:45,307 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:33:45,307 - sqlalchemy.engine.Engine - INFO - [cached since 1495s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:33:45,315 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=23.11ms
2026-02-03 23:33:45,315 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:36:04,882 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:36:04,888 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:36:04,888 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:36:04,890 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:36:04,890 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:36:04,892 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=21.21ms
2026-02-03 23:36:04,892 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:36:05,095 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:36:05,096 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:36:05,096 - sqlalchemy.engine.Engine - INFO - [cached since 0.2074s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:36:05,097 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:36:05,097 - sqlalchemy.engine.Engine - INFO - [cached since 0.2068s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:36:05,103 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.06ms
2026-02-03 23:36:05,103 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:38:50,037 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:38:50,039 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:38:50,039 - sqlalchemy.engine.Engine - INFO - [cached since 165.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:38:50,041 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:38:50,041 - sqlalchemy.engine.Engine - INFO - [cached since 165.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:38:50,043 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=16.82ms
2026-02-03 23:38:50,043 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:38:54,286 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:38:54,287 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:38:54,287 - sqlalchemy.engine.Engine - INFO - [cached since 169.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:38:54,309 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:38:54,309 - sqlalchemy.engine.Engine - INFO - [generated in 0.00088s] ('AAPL',)
2026-02-03 23:38:57,084 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for AAPL: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:38:58,839 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for AAPL: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:39:00,386 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for AAPL: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:39:01,867 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for AAPL: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:39:03,093 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-03 23:39:03,094 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] ('AAPL',)
2026-02-03 23:39:03,098 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-03 23:39:03,098 - sqlalchemy.engine.Engine - INFO - [generated in 0.00055s] (270.01, 4.0581, '2026-02-03 15:38:54.311898', 'AAPL')
2026-02-03 23:39:03,103 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-03 23:39:03,106 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:03,109 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:39:03,109 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('AAPL',)
2026-02-03 23:39:03,111 - api_logger - INFO - rid=/api/portfolio/AAPL/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8846.20ms
2026-02-03 23:39:03,113 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:03,124 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:03,124 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:39:03,124 - sqlalchemy.engine.Engine - INFO - [cached since 178.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:39:03,125 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:39:03,125 - sqlalchemy.engine.Engine - INFO - [cached since 178.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:39:03,127 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.67ms
2026-02-03 23:39:03,128 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:18,279 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:18,280 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:39:18,280 - sqlalchemy.engine.Engine - INFO - [cached since 193.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:39:18,282 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:39:18,282 - sqlalchemy.engine.Engine - INFO - [cached since 23.97s ago] ('SIDU',)
2026-02-03 23:39:19,765 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for SIDU: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:39:21,256 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for SIDU: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:39:22,722 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for SIDU: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:39:24,480 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for SIDU: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:39:25,826 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-03 23:39:25,826 - sqlalchemy.engine.Engine - INFO - [cached since 22.73s ago] ('SIDU',)
2026-02-03 23:39:25,828 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-03 23:39:25,829 - sqlalchemy.engine.Engine - INFO - [cached since 22.73s ago] (2.58, -7.8571, '2026-02-03 15:39:18.288163', 'SIDU')
2026-02-03 23:39:25,830 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-03 23:39:25,834 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:25,835 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:39:25,835 - sqlalchemy.engine.Engine - INFO - [cached since 22.73s ago] ('SIDU',)
2026-02-03 23:39:25,837 - api_logger - INFO - rid=/api/portfolio/SIDU/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7559.64ms
2026-02-03 23:39:25,837 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:25,851 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:25,851 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:39:25,851 - sqlalchemy.engine.Engine - INFO - [cached since 201s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:39:25,853 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:39:25,853 - sqlalchemy.engine.Engine - INFO - [cached since 201s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:39:25,856 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.95ms
2026-02-03 23:39:25,857 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:36,556 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:36,556 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:39:36,556 - sqlalchemy.engine.Engine - INFO - [cached since 211.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:39:36,557 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:39:36,557 - sqlalchemy.engine.Engine - INFO - [cached since 211.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:39:36,564 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.11ms
2026-02-03 23:39:36,573 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:55,467 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:55,472 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:39:55,473 - sqlalchemy.engine.Engine - INFO - [generated in 0.00112s] ('%S%', '%S%', 10, 0)
2026-02-03 23:39:55,477 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=17.91ms
2026-02-03 23:39:55,478 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:55,582 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:55,582 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:39:55,582 - sqlalchemy.engine.Engine - INFO - [cached since 0.1105s ago] ('%S N%', '%S N%', 10, 0)
2026-02-03 23:39:55,584 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.86ms
2026-02-03 23:39:55,584 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:58,229 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:58,230 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:39:58,230 - sqlalchemy.engine.Engine - INFO - [cached since 2.758s ago] ('%S%', '%S%', 10, 0)
2026-02-03 23:39:58,232 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.12ms
2026-02-03 23:39:58,233 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:58,703 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:58,704 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:39:58,704 - sqlalchemy.engine.Engine - INFO - [cached since 3.232s ago] ('%S N%', '%S N%', 10, 0)
2026-02-03 23:39:58,706 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.66ms
2026-02-03 23:39:58,707 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:58,954 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:58,955 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:39:58,955 - sqlalchemy.engine.Engine - INFO - [cached since 3.483s ago] ('%S N D%', '%S N D%', 10, 0)
2026-02-03 23:39:58,957 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.07ms
2026-02-03 23:39:58,958 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:59,081 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:59,082 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:39:59,082 - sqlalchemy.engine.Engine - INFO - [cached since 3.611s ago] ('%S N D K%', '%S N D K%', 10, 0)
2026-02-03 23:39:59,084 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.73ms
2026-02-03 23:39:59,085 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:59,376 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:59,377 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:39:59,377 - sqlalchemy.engine.Engine - INFO - [cached since 3.906s ago] ('%S N D K%', '%S N D K%', 10, 0)
2026-02-03 23:39:59,382 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.00ms
2026-02-03 23:39:59,384 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:39:59,385 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:39:59,385 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:39:59,385 - sqlalchemy.engine.Engine - INFO - [cached since 3.914s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-03 23:39:59,386 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.53ms
2026-02-03 23:39:59,387 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:00,687 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:00,688 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:40:00,688 - sqlalchemy.engine.Engine - INFO - [cached since 5.216s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-03 23:40:00,690 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.71ms
2026-02-03 23:40:00,691 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:02,221 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:02,221 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:40:02,222 - sqlalchemy.engine.Engine - INFO - [cached since 6.75s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-03 23:40:02,223 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.85ms
2026-02-03 23:40:02,224 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:03,991 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:03,992 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:40:03,993 - sqlalchemy.engine.Engine - INFO - [cached since 8.521s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-03 23:40:03,995 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.93ms
2026-02-03 23:40:03,996 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:04,603 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:04,604 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-03 23:40:04,605 - sqlalchemy.engine.Engine - INFO - [cached since 9.133s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-03 23:40:04,607 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.75ms
2026-02-03 23:40:04,608 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:13,493 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:13,494 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:40:13,494 - sqlalchemy.engine.Engine - INFO - [cached since 248.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:13,503 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:40:13,504 - sqlalchemy.engine.Engine - INFO - [cached since 79.2s ago] ('RKLB',)
2026-02-03 23:40:15,113 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for RKLB: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:40:16,631 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for RKLB: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:40:18,155 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for RKLB: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:40:19,626 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for RKLB: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:40:21,894 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-03 23:40:21,895 - sqlalchemy.engine.Engine - INFO - [cached since 78.81s ago] ('RKLB',)
2026-02-03 23:40:21,897 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-03 23:40:21,898 - sqlalchemy.engine.Engine - INFO - [cached since 78.8s ago] (74.15, -7.3935, '2026-02-03 15:40:13.505481', 'RKLB')
2026-02-03 23:40:21,899 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-03 23:40:21,901 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:21,902 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:40:21,902 - sqlalchemy.engine.Engine - INFO - [cached since 78.8s ago] ('RKLB',)
2026-02-03 23:40:21,904 - api_logger - INFO - rid=/api/portfolio/RKLB/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8412.14ms
2026-02-03 23:40:21,906 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:21,916 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:21,917 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:40:21,917 - sqlalchemy.engine.Engine - INFO - [cached since 257s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:21,918 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:40:21,918 - sqlalchemy.engine.Engine - INFO - [cached since 257s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:21,921 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.84ms
2026-02-03 23:40:21,922 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:25,535 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:25,535 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:40:25,535 - sqlalchemy.engine.Engine - INFO - [cached since 260.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:25,537 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:40:25,538 - sqlalchemy.engine.Engine - INFO - [cached since 260.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:25,540 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.72ms
2026-02-03 23:40:25,540 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:34,109 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:34,110 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:40:34,111 - sqlalchemy.engine.Engine - INFO - [cached since 269.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:34,114 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:40:34,116 - sqlalchemy.engine.Engine - INFO - [cached since 99.81s ago] ('AMD',)
2026-02-03 23:40:35,715 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for AMD: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:40:37,221 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for AMD: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:40:38,720 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for AMD: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:40:40,198 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for AMD: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:40:41,179 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-03 23:40:41,180 - sqlalchemy.engine.Engine - INFO - [cached since 98.09s ago] ('AMD',)
2026-02-03 23:40:41,182 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-03 23:40:41,182 - sqlalchemy.engine.Engine - INFO - [cached since 98.09s ago] (246.27, 4.0299, '2026-02-03 15:40:34.118323', 'AMD')
2026-02-03 23:40:41,183 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-03 23:40:41,185 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:41,186 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:40:41,186 - sqlalchemy.engine.Engine - INFO - [cached since 98.08s ago] ('AMD',)
2026-02-03 23:40:41,189 - api_logger - INFO - rid=/api/portfolio/AMD/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7081.30ms
2026-02-03 23:40:41,190 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:41,201 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:41,201 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:40:41,201 - sqlalchemy.engine.Engine - INFO - [cached since 276.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:41,203 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:40:41,203 - sqlalchemy.engine.Engine - INFO - [cached since 276.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:41,207 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.77ms
2026-02-03 23:40:41,207 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:47,824 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:47,824 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:40:47,824 - sqlalchemy.engine.Engine - INFO - [cached since 282.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:47,826 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:40:47,826 - sqlalchemy.engine.Engine - INFO - [cached since 282.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:47,828 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.37ms
2026-02-03 23:40:47,830 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:40:57,293 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:40:57,294 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:40:57,294 - sqlalchemy.engine.Engine - INFO - [cached since 292.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:40:57,297 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:40:57,301 - sqlalchemy.engine.Engine - INFO - [cached since 123s ago] ('FRO',)
2026-02-03 23:40:58,813 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for FRO: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:41:00,352 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for FRO: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:41:01,820 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for FRO: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:41:03,392 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for FRO: Too Many Requests. Rate limited. Try after a while.
2026-02-03 23:41:04,379 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-03 23:41:04,379 - sqlalchemy.engine.Engine - INFO - [cached since 121.3s ago] ('FRO',)
2026-02-03 23:41:04,381 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-03 23:41:04,382 - sqlalchemy.engine.Engine - INFO - [cached since 121.3s ago] (28.56, -0.07, '2026-02-03 15:40:57.323663', 'FRO')
2026-02-03 23:41:04,383 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-03 23:41:04,385 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:41:04,385 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:41:04,385 - sqlalchemy.engine.Engine - INFO - [cached since 121.3s ago] ('FRO',)
2026-02-03 23:41:04,387 - api_logger - INFO - rid=/api/portfolio/FRO/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7095.93ms
2026-02-03 23:41:04,388 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:41:04,397 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:41:04,398 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:41:04,398 - sqlalchemy.engine.Engine - INFO - [cached since 299.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:41:04,399 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:41:04,399 - sqlalchemy.engine.Engine - INFO - [cached since 299.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:41:04,402 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.54ms
2026-02-03 23:41:04,402 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:45:58,058 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:45:58,063 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:45:58,063 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:45:58,065 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:45:58,065 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:45:58,067 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=16.38ms
2026-02-03 23:45:58,067 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:46:06,126 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:46:06,127 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:46:06,127 - sqlalchemy.engine.Engine - INFO - [cached since 8.064s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:06,131 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:46:06,132 - sqlalchemy.engine.Engine - INFO - [generated in 0.00096s] ('ASTS',)
2026-02-03 23:46:06,136 - app.services.market_providers.yfinance - ERROR - yfinance get_full_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:06,170 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:06,170 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:06,170 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:06,170 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:06,171 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=49.96ms
2026-02-03 23:46:06,172 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:46:06,179 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:46:06,180 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:46:06,180 - sqlalchemy.engine.Engine - INFO - [cached since 8.117s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:06,213 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:46:06,217 - sqlalchemy.engine.Engine - INFO - [cached since 8.152s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:06,226 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=48.06ms
2026-02-03 23:46:06,226 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:46:09,801 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:46:09,802 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:46:09,802 - sqlalchemy.engine.Engine - INFO - [cached since 11.74s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:09,804 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:46:09,804 - sqlalchemy.engine.Engine - INFO - [cached since 3.673s ago] ('ASTS',)
2026-02-03 23:46:09,805 - app.services.market_providers.yfinance - ERROR - yfinance get_full_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:09,806 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:09,806 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:09,806 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:09,806 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:09,806 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.38ms
2026-02-03 23:46:09,807 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:46:09,816 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:46:09,816 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:46:09,816 - sqlalchemy.engine.Engine - INFO - [cached since 11.75s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:09,817 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:46:09,817 - sqlalchemy.engine.Engine - INFO - [cached since 11.75s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:09,819 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.20ms
2026-02-03 23:46:09,819 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:46:11,434 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:46:11,434 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:46:11,434 - sqlalchemy.engine.Engine - INFO - [cached since 13.37s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:11,435 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:46:11,435 - sqlalchemy.engine.Engine - INFO - [cached since 13.37s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:11,436 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.00ms
2026-02-03 23:46:11,437 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:46:14,585 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:46:14,586 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:46:14,586 - sqlalchemy.engine.Engine - INFO - [cached since 16.52s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:14,588 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:46:14,588 - sqlalchemy.engine.Engine - INFO - [cached since 8.457s ago] ('ASTS',)
2026-02-03 23:46:14,590 - app.services.market_providers.yfinance - ERROR - yfinance get_full_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:14,590 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:14,591 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:14,591 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:14,591 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:14,592 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.85ms
2026-02-03 23:46:14,593 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:46:14,601 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:46:14,602 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:46:14,602 - sqlalchemy.engine.Engine - INFO - [cached since 16.54s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:14,603 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:46:14,604 - sqlalchemy.engine.Engine - INFO - [cached since 16.54s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:14,606 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.32ms
2026-02-03 23:46:14,608 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:46:42,499 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:46:42,500 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:46:42,500 - sqlalchemy.engine.Engine - INFO - [cached since 44.44s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:42,500 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:46:42,500 - sqlalchemy.engine.Engine - INFO - [cached since 44.44s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:42,501 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.07ms
2026-02-03 23:46:42,502 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:46:46,683 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:46:46,683 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:46:46,684 - sqlalchemy.engine.Engine - INFO - [cached since 48.62s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:46,686 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:46:46,687 - sqlalchemy.engine.Engine - INFO - [cached since 40.56s ago] ('ASTS',)
2026-02-03 23:46:46,688 - app.services.market_providers.yfinance - ERROR - yfinance get_full_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:46,688 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:46,688 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:46,688 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:46,688 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for ASTS: name 'asyncio' is not defined
2026-02-03 23:46:46,689 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.29ms
2026-02-03 23:46:46,690 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:46:46,700 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:46:46,701 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:46:46,701 - sqlalchemy.engine.Engine - INFO - [cached since 48.64s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:46,703 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:46:46,703 - sqlalchemy.engine.Engine - INFO - [cached since 48.64s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:46:46,707 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.14ms
2026-02-03 23:46:46,710 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:47:50,712 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:47:50,713 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:47:50,713 - sqlalchemy.engine.Engine - INFO - [cached since 112.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:47:50,714 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:47:50,714 - sqlalchemy.engine.Engine - INFO - [cached since 104.6s ago] ('ASTS',)
2026-02-03 23:47:50,714 - app.services.market_providers.yfinance - ERROR - yfinance get_full_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:47:50,714 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for ASTS: name 'asyncio' is not defined
2026-02-03 23:47:50,714 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:47:50,714 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for ASTS: name 'asyncio' is not defined
2026-02-03 23:47:50,714 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for ASTS: name 'asyncio' is not defined
2026-02-03 23:47:50,715 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.27ms
2026-02-03 23:47:50,715 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:47:50,721 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:47:50,721 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:47:50,721 - sqlalchemy.engine.Engine - INFO - [cached since 112.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:47:50,722 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:47:50,722 - sqlalchemy.engine.Engine - INFO - [cached since 112.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:47:50,723 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.96ms
2026-02-03 23:47:50,723 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:47:56,419 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:47:56,420 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:47:56,421 - sqlalchemy.engine.Engine - INFO - [cached since 118.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:47:56,422 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-03 23:47:56,423 - sqlalchemy.engine.Engine - INFO - [cached since 110.3s ago] ('FRO',)
2026-02-03 23:47:56,424 - app.services.market_providers.yfinance - ERROR - yfinance get_full_data error for FRO: name 'asyncio' is not defined
2026-02-03 23:47:56,425 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for FRO: name 'asyncio' is not defined
2026-02-03 23:47:56,426 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for FRO: name 'asyncio' is not defined
2026-02-03 23:47:56,427 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for FRO: name 'asyncio' is not defined
2026-02-03 23:47:56,427 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for FRO: name 'asyncio' is not defined
2026-02-03 23:47:56,427 - api_logger - INFO - rid=/api/portfolio/FRO/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.08ms
2026-02-03 23:47:56,429 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:47:56,436 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:47:56,437 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:47:56,437 - sqlalchemy.engine.Engine - INFO - [cached since 118.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:47:56,439 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:47:56,440 - sqlalchemy.engine.Engine - INFO - [cached since 118.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:47:56,443 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.27ms
2026-02-03 23:47:56,443 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-03 23:54:55,135 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-03 23:54:55,141 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-03 23:54:55,141 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:54:55,143 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-03 23:54:55,143 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-03 23:54:55,144 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=16.20ms
2026-02-03 23:54:55,145 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:01:32,830 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:01:32,833 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:01:32,834 - sqlalchemy.engine.Engine - INFO - [cached since 397.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:01:32,837 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:01:32,837 - sqlalchemy.engine.Engine - INFO - [cached since 397.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:01:32,841 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=32.36ms
2026-02-04 00:01:32,842 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:01:33,277 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:01:33,277 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:01:33,277 - sqlalchemy.engine.Engine - INFO - [cached since 398.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:01:33,278 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:01:33,278 - sqlalchemy.engine.Engine - INFO - [cached since 398.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:01:33,279 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.46ms
2026-02-04 00:01:33,279 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:03:52,845 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:03:52,847 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:03:52,848 - sqlalchemy.engine.Engine - INFO - [cached since 537.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:03:52,856 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:03:52,856 - sqlalchemy.engine.Engine - INFO - [cached since 537.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:03:52,860 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=29.78ms
2026-02-04 00:03:52,861 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:03:53,862 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:03:53,863 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:03:53,863 - sqlalchemy.engine.Engine - INFO - [cached since 538.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:03:53,864 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:03:53,864 - sqlalchemy.engine.Engine - INFO - [cached since 538.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:03:53,869 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.69ms
2026-02-04 00:03:53,870 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:03:54,823 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:03:54,824 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:03:54,824 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:03:54,829 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:03:54,829 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('ASTS',)
2026-02-04 00:03:54,832 - app.services.market_providers.yfinance - ERROR - yfinance get_full_data error for ASTS: name 'asyncio' is not defined
2026-02-04 00:03:54,849 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for ASTS: name 'asyncio' is not defined
2026-02-04 00:03:54,849 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for ASTS: name 'asyncio' is not defined
2026-02-04 00:03:54,849 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for ASTS: name 'asyncio' is not defined
2026-02-04 00:03:54,850 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for ASTS: name 'asyncio' is not defined
2026-02-04 00:03:54,852 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:03:54,852 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] (112.4847611636335, '2026-02-03 16:03:54.831024', 'ASTS')
2026-02-04 00:03:54,853 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:03:54,854 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=34.64ms
2026-02-04 00:03:54,860 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:03:54,861 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:03:54,861 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:03:54,862 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:03:54,862 - sqlalchemy.engine.Engine - INFO - [cached since 539.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:03:54,863 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.00ms
2026-02-04 00:03:54,864 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:32,091 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:32,104 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:38:32,104 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('%S%', '%S%', 10, 0)
2026-02-04 00:38:32,108 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=49.33ms
2026-02-04 00:38:32,109 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:32,200 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:32,201 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:38:32,201 - sqlalchemy.engine.Engine - INFO - [cached since 0.09697s ago] ('%S N%', '%S N%', 10, 0)
2026-02-04 00:38:32,202 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.84ms
2026-02-04 00:38:32,203 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:33,520 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:33,521 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:38:33,521 - sqlalchemy.engine.Engine - INFO - [cached since 1.417s ago] ('%S N D%', '%S N D%', 10, 0)
2026-02-04 00:38:33,523 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.10ms
2026-02-04 00:38:33,525 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:33,604 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:33,605 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:38:33,605 - sqlalchemy.engine.Engine - INFO - [cached since 1.501s ago] ('%S N D K%', '%S N D K%', 10, 0)
2026-02-04 00:38:33,606 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.37ms
2026-02-04 00:38:33,607 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:33,964 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:33,965 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:38:33,965 - sqlalchemy.engine.Engine - INFO - [cached since 1.861s ago] ('%S N D K%', '%S N D K%', 10, 0)
2026-02-04 00:38:33,971 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for S N D K: Yahoo API requires curl_cffi session not <class 'requests.sessions.Session'>. Solution: stop setting session, let YF handle.
2026-02-04 00:38:33,973 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.97ms
2026-02-04 00:38:33,975 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:33,979 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:33,980 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:38:33,981 - sqlalchemy.engine.Engine - INFO - [cached since 1.877s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-04 00:38:33,982 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.54ms
2026-02-04 00:38:33,983 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:34,448 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:34,448 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:38:34,449 - sqlalchemy.engine.Engine - INFO - [cached since 2.345s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-04 00:38:34,450 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for SNDK: Yahoo API requires curl_cffi session not <class 'requests.sessions.Session'>. Solution: stop setting session, let YF handle.
2026-02-04 00:38:34,450 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.40ms
2026-02-04 00:38:34,452 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:36,034 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:36,035 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:38:36,035 - sqlalchemy.engine.Engine - INFO - [cached since 3.931s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-04 00:38:36,036 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for SNDK: Yahoo API requires curl_cffi session not <class 'requests.sessions.Session'>. Solution: stop setting session, let YF handle.
2026-02-04 00:38:36,037 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.11ms
2026-02-04 00:38:36,037 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:44,973 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:44,977 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:38:44,978 - sqlalchemy.engine.Engine - INFO - [generated in 0.00079s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:44,981 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:38:44,981 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('ASTS',)
2026-02-04 00:38:44,983 - app.services.market_providers.yfinance - ERROR - yfinance get_full_data error for ASTS: Yahoo API requires curl_cffi session not <class 'requests.sessions.Session'>. Solution: stop setting session, let YF handle.
2026-02-04 00:38:44,983 - app.services.market_providers.yfinance - ERROR - yfinance get_quote error for ASTS: Yahoo API requires curl_cffi session not <class 'requests.sessions.Session'>. Solution: stop setting session, let YF handle.
2026-02-04 00:38:44,983 - app.services.market_providers.yfinance - ERROR - yfinance get_fundamental_data error for ASTS: Yahoo API requires curl_cffi session not <class 'requests.sessions.Session'>. Solution: stop setting session, let YF handle.
2026-02-04 00:38:44,983 - app.services.market_providers.yfinance - ERROR - yfinance get_historical_data error for ASTS: Yahoo API requires curl_cffi session not <class 'requests.sessions.Session'>. Solution: stop setting session, let YF handle.
2026-02-04 00:38:44,983 - app.services.market_providers.yfinance - ERROR - yfinance get_news error for ASTS: Yahoo API requires curl_cffi session not <class 'requests.sessions.Session'>. Solution: stop setting session, let YF handle.
2026-02-04 00:38:44,985 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:38:44,985 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (112.47293936068085, '2026-02-03 16:38:44.982937', 'ASTS')
2026-02-04 00:38:44,986 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:38:44,987 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=19.60ms
2026-02-04 00:38:44,999 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:45,000 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:38:45,000 - sqlalchemy.engine.Engine - INFO - [cached since 0.02289s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:45,003 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:38:45,003 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:45,005 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.15ms
2026-02-04 00:38:45,005 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:49,208 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:49,208 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:38:49,208 - sqlalchemy.engine.Engine - INFO - [cached since 4.231s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:49,209 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:38:49,209 - sqlalchemy.engine.Engine - INFO - [cached since 4.207s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:49,211 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.99ms
2026-02-04 00:38:49,211 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:50,330 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:50,330 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:38:50,330 - sqlalchemy.engine.Engine - INFO - [cached since 5.353s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:50,331 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:38:50,331 - sqlalchemy.engine.Engine - INFO - [cached since 5.328s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:50,332 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.10ms
2026-02-04 00:38:50,332 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:51,711 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:51,711 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:38:51,711 - sqlalchemy.engine.Engine - INFO - [cached since 6.734s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:51,712 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:38:51,713 - sqlalchemy.engine.Engine - INFO - [cached since 6.71s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:51,717 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.09ms
2026-02-04 00:38:51,719 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:52,432 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:52,433 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:38:52,433 - sqlalchemy.engine.Engine - INFO - [cached since 7.456s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:52,434 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:38:52,434 - sqlalchemy.engine.Engine - INFO - [cached since 7.431s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:52,435 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.42ms
2026-02-04 00:38:52,435 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:53,096 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:53,097 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:38:53,097 - sqlalchemy.engine.Engine - INFO - [cached since 8.12s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:53,098 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:38:53,098 - sqlalchemy.engine.Engine - INFO - [cached since 8.095s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:53,099 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.80ms
2026-02-04 00:38:53,100 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:53,849 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:53,849 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:38:53,849 - sqlalchemy.engine.Engine - INFO - [cached since 8.872s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:53,852 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:38:53,854 - sqlalchemy.engine.Engine - INFO - [cached since 8.851s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:53,859 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.81ms
2026-02-04 00:38:53,861 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:38:54,565 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:38:54,565 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:38:54,565 - sqlalchemy.engine.Engine - INFO - [cached since 9.588s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:54,567 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:38:54,568 - sqlalchemy.engine.Engine - INFO - [cached since 9.566s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:38:54,570 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.84ms
2026-02-04 00:38:54,571 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:44:58,805 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:44:58,816 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:44:58,816 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:44:58,818 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:44:58,818 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('ASTS',)
2026-02-04 00:44:59,953 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:44:59,954 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('ASTS',)
2026-02-04 00:44:59,955 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time) VALUES (?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-04 00:44:59,955 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('02c66b20-e713-32f3-b7fa-219efb715de4', 'ASTS', None, None, None, '1970-01-01 00:00:00.000000')
2026-02-04 00:44:59,957 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:44:59,960 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=500 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1168.85ms
2026-02-04 00:45:07,229 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:45:07,229 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:45:07,229 - sqlalchemy.engine.Engine - INFO - [cached since 8.413s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:45:07,234 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:45:07,234 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:45:07,239 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.23ms
2026-02-04 00:45:07,240 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:46:29,855 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:46:29,871 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:46:29,871 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:46:29,873 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:46:29,874 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('ASTS',)
2026-02-04 00:46:31,188 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:46:31,188 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('ASTS',)
2026-02-04 00:46:31,192 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-04 00:46:31,192 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] (41986658304.0, -112.48041, 'ASTS')
2026-02-04 00:46:31,195 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:46:31,195 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (114.2801, 9.306643, 60.3296661923277, 105.50800476074218, 83.88880172729492, 57.32405026435852, 8.613135137573579, 9.27025714834744, -0.6571220107738611, 126.46382566158029, 105.50800476074218, 84.55218385990408, 49.355969050843576, 60.857759390658345, 26.352388371214033, 16916090.55, 0.37725684791868175, '2026-02-03 16:46:29.874649', 'ASTS')
2026-02-04 00:46:31,196 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:46:31,199 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:46:31,201 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:46:31,201 - sqlalchemy.engine.Engine - INFO - [generated in 0.00071s] ('ASTS',)
2026-02-04 00:46:31,203 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1370.53ms
2026-02-04 00:46:31,204 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:46:31,215 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:46:31,216 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:46:31,216 - sqlalchemy.engine.Engine - INFO - [cached since 1.345s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:46:31,219 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:46:31,220 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:46:31,224 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=13.57ms
2026-02-04 00:46:31,225 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:03,995 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:03,997 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:47:03,997 - sqlalchemy.engine.Engine - INFO - [generated in 0.00037s] ('%S%', '%S%', 10, 0)
2026-02-04 00:47:04,000 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.59ms
2026-02-04 00:47:04,002 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:04,106 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:04,107 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:47:04,107 - sqlalchemy.engine.Engine - INFO - [cached since 0.1099s ago] ('%S N%', '%S N%', 10, 0)
2026-02-04 00:47:04,108 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.96ms
2026-02-04 00:47:04,108 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:05,144 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:05,145 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:47:05,145 - sqlalchemy.engine.Engine - INFO - [cached since 1.148s ago] ('%S%', '%S%', 10, 0)
2026-02-04 00:47:05,146 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.69ms
2026-02-04 00:47:05,147 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:08,740 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:08,741 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:47:08,741 - sqlalchemy.engine.Engine - INFO - [cached since 4.744s ago] ('%S N%', '%S N%', 10, 0)
2026-02-04 00:47:08,743 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.09ms
2026-02-04 00:47:08,744 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:10,069 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:10,069 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:47:10,069 - sqlalchemy.engine.Engine - INFO - [cached since 6.072s ago] ('%S N D%', '%S N D%', 10, 0)
2026-02-04 00:47:10,070 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.45ms
2026-02-04 00:47:10,070 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:10,175 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:10,176 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:47:10,176 - sqlalchemy.engine.Engine - INFO - [cached since 6.179s ago] ('%S N D K%', '%S N D K%', 10, 0)
2026-02-04 00:47:10,177 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.91ms
2026-02-04 00:47:10,178 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:10,523 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:10,524 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:47:10,524 - sqlalchemy.engine.Engine - INFO - [cached since 6.527s ago] ('%S N D K%', '%S N D K%', 10, 0)
2026-02-04 00:47:10,536 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:10,537 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:47:10,538 - sqlalchemy.engine.Engine - INFO - [cached since 6.541s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-04 00:47:10,540 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.92ms
2026-02-04 00:47:10,541 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:11,442 - yfinance - ERROR - HTTP Error 404: {"quoteSummary":{"result":null,"error":{"code":"Not Found","description":"Quote not found for symbol: S N D K"}}}
2026-02-04 00:47:11,911 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1389.73ms
2026-02-04 00:47:11,912 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:12,262 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:12,262 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:47:12,263 - sqlalchemy.engine.Engine - INFO - [cached since 8.266s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-04 00:47:12,777 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:12,778 - sqlalchemy.engine.Engine - INFO - [cached since 41.59s ago] ('SNDK',)
2026-02-04 00:47:12,781 - sqlalchemy.engine.Engine - INFO - INSERT INTO stocks (ticker, name, sector, industry, market_cap, pe_ratio, forward_pe, eps, dividend_yield, beta, fifty_two_week_high, fifty_two_week_low, exchange, currency) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-04 00:47:12,781 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('SNDK', 'Sandisk Corporation', None, None, None, None, None, None, None, None, None, None, None, 'USD')
2026-02-04 00:47:12,784 - sqlalchemy.engine.Engine - INFO - INSERT INTO market_data_cache (ticker, current_price, change_percent, rsi_14, ma_20, ma_50, ma_200, macd_val, macd_signal, macd_hist, bb_upper, bb_middle, bb_lower, atr_14, k_line, d_line, j_line, volume_ma_20, volume_ratio, market_status, last_updated) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-04 00:47:12,786 - sqlalchemy.engine.Engine - INFO - [generated in 0.00187s] ('SNDK', 671.0, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, 'CLOSED', '2026-02-03 16:47:12.784098')
2026-02-04 00:47:12,788 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:12,790 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:12,791 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 00:47:12,791 - sqlalchemy.engine.Engine - INFO - [cached since 8.794s ago] ('%SNDK%', '%SNDK%', 10, 0)
2026-02-04 00:47:12,792 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=532.52ms
2026-02-04 00:47:12,793 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:13,991 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:13,991 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:47:13,991 - sqlalchemy.engine.Engine - INFO - [cached since 44.12s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:47:13,992 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 00:47:13,992 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-04 00:47:13,994 - sqlalchemy.engine.Engine - INFO - INSERT INTO portfolios (id, user_id, ticker, quantity, avg_cost, target_price, stop_loss_price, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-04 00:47:13,994 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('57416cd4-f97b-4ac4-ab32-aaf9ad8218bd', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 0.0, 0.0, None, None, '2026-02-03 16:47:13.994114', '2026-02-03 16:47:13.994115')
2026-02-04 00:47:13,995 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:13,996 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:13,996 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:13,996 - sqlalchemy.engine.Engine - INFO - [cached since 44.12s ago] ('SNDK',)
2026-02-04 00:47:13,997 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:13,997 - sqlalchemy.engine.Engine - INFO - [cached since 44.12s ago] ('SNDK',)
2026-02-04 00:47:13,998 - api_logger - INFO - rid=/api/portfolio/ method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.12ms
2026-02-04 00:47:13,998 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:14,006 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:14,006 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:47:14,006 - sqlalchemy.engine.Engine - INFO - [cached since 44.14s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:47:14,007 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:47:14,007 - sqlalchemy.engine.Engine - INFO - [cached since 42.79s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:47:14,008 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:14,008 - sqlalchemy.engine.Engine - INFO - [cached since 44.13s ago] ('AAPL',)
2026-02-04 00:47:14,536 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:14,536 - sqlalchemy.engine.Engine - INFO - [cached since 43.35s ago] ('AAPL',)
2026-02-04 00:47:14,539 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=?, beta=? WHERE stocks.ticker = ?
2026-02-04 00:47:14,539 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] (3963442692096.0, 34.091026, 29.071033, 7.91, 0.39, 1.107, 'AAPL')
2026-02-04 00:47:14,541 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:14,542 - sqlalchemy.engine.Engine - INFO - [generated in 0.00040s] (269.6301, -0.10927115, 60.17972822114091, 257.71949768066406, 268.3685986328125, 237.10162239074708, -1.1448765292005874, -3.450756442611816, 2.3058799134112284, 270.44320872562577, 257.71949768066406, 244.99578663570233, 6.375718252999442, 84.86595012102254, 71.60374426569476, 111.39036183167809, 52636626.35, 0.4252291332497224, '2026-02-03 16:47:14.009121', 'AAPL')
2026-02-04 00:47:14,543 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:14,545 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:14,545 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:14,546 - sqlalchemy.engine.Engine - INFO - [cached since 43.35s ago] ('AAPL',)
2026-02-04 00:47:15,549 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:15,549 - sqlalchemy.engine.Engine - INFO - [cached since 45.68s ago] ('AMD',)
2026-02-04 00:47:16,208 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:16,209 - sqlalchemy.engine.Engine - INFO - [cached since 45.02s ago] ('AMD',)
2026-02-04 00:47:16,211 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET name=?, market_cap=?, pe_ratio=?, forward_pe=?, eps=?, beta=? WHERE stocks.ticker = ?
2026-02-04 00:47:16,212 - sqlalchemy.engine.Engine - INFO - [generated in 0.00035s] ('Advanced Micro Devices, Inc.', 398479458304.0, 127.479164, 37.041073, 1.92, 1.949, 'AMD')
2026-02-04 00:47:16,213 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:16,213 - sqlalchemy.engine.Engine - INFO - [cached since 1.672s ago] (244.76, -0.61315215, 65.74036401802141, 233.76899948120118, 221.99859954833985, 177.3397497177124, 8.12235553199315, 7.7945297582513415, 0.3278257737418091, 271.22769401979446, 233.76899948120118, 196.3103049426079, 12.523280552455358, 43.45007930757203, 55.72878281936019, 18.892672283995722, 37189581.3, 0.44033370174027747, '2026-02-03 16:47:15.551058', 'AMD')
2026-02-04 00:47:16,215 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:16,217 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:16,218 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:16,218 - sqlalchemy.engine.Engine - INFO - [cached since 45.02s ago] ('AMD',)
2026-02-04 00:47:17,222 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:17,223 - sqlalchemy.engine.Engine - INFO - [cached since 47.35s ago] ('AMZN',)
2026-02-04 00:47:17,755 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:17,755 - sqlalchemy.engine.Engine - INFO - [cached since 46.57s ago] ('AMZN',)
2026-02-04 00:47:17,757 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET name=?, market_cap=?, pe_ratio=?, forward_pe=?, eps=?, beta=? WHERE stocks.ticker = ?
2026-02-04 00:47:17,757 - sqlalchemy.engine.Engine - INFO - [cached since 1.546s ago] ('Amazon.com, Inc.', 2535184662528.0, 33.543137, 30.238348, 7.07, 1.385, 'AMZN')
2026-02-04 00:47:17,759 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:17,759 - sqlalchemy.engine.Engine - INFO - [cached since 3.218s ago] (237.15, -2.3913453, 44.12712007685422, 240.11099853515626, 233.23379974365236, 222.41550018310548, 1.8091410200263454, 2.0052105337731723, -0.1960695137468269, 249.33577582376634, 240.11099853515626, 230.88622124654617, 6.074287414550781, 58.680863567398625, 62.809222356670645, 50.424145988854576, 40066933.65, 0.5744430856889394, '2026-02-03 16:47:17.224464', 'AMZN')
2026-02-04 00:47:17,760 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:17,762 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:17,763 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:17,763 - sqlalchemy.engine.Engine - INFO - [cached since 46.56s ago] ('AMZN',)
2026-02-04 00:47:18,767 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:18,767 - sqlalchemy.engine.Engine - INFO - [cached since 48.89s ago] ('ASTS',)
2026-02-04 00:47:19,770 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:19,771 - sqlalchemy.engine.Engine - INFO - [cached since 49.9s ago] ('BRK.B',)
2026-02-04 00:47:20,882 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:20,883 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:47:20,884 - sqlalchemy.engine.Engine - INFO - [cached since 51.01s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:47:20,886 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 00:47:20,886 - sqlalchemy.engine.Engine - INFO - [cached since 6.894s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-04 00:47:20,888 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:20,889 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:20,890 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:20,890 - sqlalchemy.engine.Engine - INFO - [cached since 51.02s ago] ('SNDK',)
2026-02-04 00:47:20,891 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:20,892 - sqlalchemy.engine.Engine - INFO - [cached since 51.02s ago] ('SNDK',)
2026-02-04 00:47:20,893 - api_logger - INFO - rid=/api/portfolio/ method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=13.42ms
2026-02-04 00:47:20,894 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:21,176 - yfinance - ERROR - $BRK.B: possibly delisted; no price data found  (period=200d) (Yahoo error = "No data found, symbol may be delisted")
2026-02-04 00:47:22,503 - yfinance - ERROR - $BRK.B: possibly delisted; no price data found  (period=200d) (Yahoo error = "No data found, symbol may be delisted")
2026-02-04 00:47:22,506 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:22,506 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] (493.4536745968354, '2026-02-03 16:47:19.772229', 'BRK.B')
2026-02-04 00:47:22,508 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:23,511 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:23,511 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:23,511 - sqlalchemy.engine.Engine - INFO - [cached since 53.64s ago] ('FRO',)
2026-02-04 00:47:24,045 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:24,045 - sqlalchemy.engine.Engine - INFO - [cached since 52.86s ago] ('FRO',)
2026-02-04 00:47:24,046 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET name=?, sector=?, industry=?, market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=?, beta=?, fifty_two_week_high=?, fifty_two_week_low=? WHERE stocks.ticker = ?
2026-02-04 00:47:24,046 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('Frontline Plc', 'Energy', 'Oil & Gas Midstream', 6397068800.0, 29.321428, 9.7256775, 0.98, 3.26, 0.049, 28.9499, 12.4, 'FRO')
2026-02-04 00:47:24,047 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:24,047 - sqlalchemy.engine.Engine - INFO - [cached since 9.506s ago] (28.735, 0.5775321, 72.82698446984926, 26.19325017929077, 24.150100021362306, 21.146848573684693, 1.3881045283662665, 1.131395783794467, 0.2567087445717995, 29.76756811268828, 26.19325017929077, 22.618932245893262, 0.8992783682686942, 90.76427038057203, 85.79434581549535, 100.70411951072538, 3298987.3, 0.27118807035116504, '2026-02-03 16:47:23.512685', 'FRO')
2026-02-04 00:47:24,048 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:24,048 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:24,048 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:24,049 - sqlalchemy.engine.Engine - INFO - [cached since 52.85s ago] ('FRO',)
2026-02-04 00:47:25,051 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:25,052 - sqlalchemy.engine.Engine - INFO - [cached since 55.18s ago] ('GOOGL',)
2026-02-04 00:47:25,649 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:25,649 - sqlalchemy.engine.Engine - INFO - [cached since 54.46s ago] ('GOOGL',)
2026-02-04 00:47:25,651 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=?, fifty_two_week_high=? WHERE stocks.ticker = ?
2026-02-04 00:47:25,651 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (4160513900544.0, 33.87574, 30.500122, 10.14, 0.24, 349.0, 'GOOGL')
2026-02-04 00:47:25,652 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:25,652 - sqlalchemy.engine.Engine - INFO - [cached since 11.11s ago] (343.5, -0.05528309, 59.05700255548695, 331.6445007324219, 320.17595947265625, 236.10667701721192, 6.991855860099292, 6.421933380497529, 0.5699224796017637, 346.15127601451616, 331.6445007324219, 317.1377254503276, 8.242852347237724, 80.89146537465115, 77.05196867694886, 88.57045877005572, 30263498.35, 0.46309474330815426, '2026-02-03 16:47:25.052638', 'GOOGL')
2026-02-04 00:47:25,653 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:25,655 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:25,655 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:25,655 - sqlalchemy.engine.Engine - INFO - [cached since 54.46s ago] ('GOOGL',)
2026-02-04 00:47:26,658 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:26,659 - sqlalchemy.engine.Engine - INFO - [cached since 56.79s ago] ('IREN',)
2026-02-04 00:47:27,178 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:27,178 - sqlalchemy.engine.Engine - INFO - [cached since 55.99s ago] ('IREN',)
2026-02-04 00:47:27,180 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET name=?, sector=?, industry=?, market_cap=?, pe_ratio=?, forward_pe=?, eps=?, beta=?, fifty_two_week_high=?, fifty_two_week_low=? WHERE stocks.ticker = ?
2026-02-04 00:47:27,181 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('IREN LIMITED', 'Financial Services', 'Capital Markets', 17822386176.0, 31.195402, 64.868484, 1.74, 4.281, 76.87, 5.125, 'IREN')
2026-02-04 00:47:27,182 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:27,183 - sqlalchemy.engine.Engine - INFO - [cached since 12.64s ago] (54.28, 2.2607327, 51.501043959395005, 53.00325012207031, 46.76590003967285, 32.20070003032684, 2.827027075405759, 2.9997990196071656, -0.1727719442014064, 63.10680878617488, 53.00325012207031, 42.899691457965744, 5.619714191981724, 45.827882380820775, 58.911732513757926, 19.66018211494648, 42731983.7, 0.3616044157575582, '2026-02-03 16:47:26.660069', 'IREN')
2026-02-04 00:47:27,185 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:27,188 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:27,189 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:27,189 - sqlalchemy.engine.Engine - INFO - [cached since 55.99s ago] ('IREN',)
2026-02-04 00:47:28,193 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:28,193 - sqlalchemy.engine.Engine - INFO - [cached since 58.32s ago] ('META',)
2026-02-04 00:47:28,727 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:28,728 - sqlalchemy.engine.Engine - INFO - [cached since 57.54s ago] ('META',)
2026-02-04 00:47:28,730 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET name=?, market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=?, beta=? WHERE stocks.ticker = ?
2026-02-04 00:47:28,730 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('Meta Platforms, Inc.', 1767793098752.0, 29.713232, 19.711687, 23.52, 0.3, 1.284, 'META')
2026-02-04 00:47:28,732 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:28,732 - sqlalchemy.engine.Engine - INFO - [cached since 14.19s ago] (698.8552, -1.0694567, 65.42539046793911, 656.7832580566406, 652.0696850585938, 682.5047174072265, 15.067149118753264, 6.696311072312524, 8.37083804644074, 729.7580775984773, 656.7832580566406, 583.808438514804, 23.155713762555802, 74.38302202630872, 76.40582880886815, 70.33740846118988, 17920101.15, 0.2989281676013308, '2026-02-03 16:47:28.194531', 'META')
2026-02-04 00:47:28,733 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:28,736 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:28,736 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:28,736 - sqlalchemy.engine.Engine - INFO - [cached since 57.54s ago] ('META',)
2026-02-04 00:47:29,738 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:29,739 - sqlalchemy.engine.Engine - INFO - [cached since 59.87s ago] ('MSFT',)
2026-02-04 00:47:30,264 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:30,264 - sqlalchemy.engine.Engine - INFO - [cached since 59.08s ago] ('MSFT',)
2026-02-04 00:47:30,266 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=?, beta=? WHERE stocks.ticker = ?
2026-02-04 00:47:30,266 - sqlalchemy.engine.Engine - INFO - [cached since 15.73s ago] (3055163801600.0, 25.779135, 21.763416, 15.96, 0.86, 1.084, 'MSFT')
2026-02-04 00:47:30,267 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:30,267 - sqlalchemy.engine.Engine - INFO - [cached since 15.73s ago] (411.435, -2.8190467, 28.949239414581484, 459.4970001220703, 473.1956005859375, 485.23453689575194, -13.065518821593344, -8.416942460165936, -4.648576361427407, 502.25935602651623, 459.4970001220703, 416.73464421762435, 14.945713588169642, 20.024879441057344, 36.12715101843576, -12.17966371369949, 34898152.35, 0.6475456572416505, '2026-02-03 16:47:29.740132', 'MSFT')
2026-02-04 00:47:30,268 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:30,270 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:30,271 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:30,271 - sqlalchemy.engine.Engine - INFO - [cached since 59.07s ago] ('MSFT',)
2026-02-04 00:47:31,274 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:31,274 - sqlalchemy.engine.Engine - INFO - [cached since 61.4s ago] ('NVDA',)
2026-02-04 00:47:31,800 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:31,800 - sqlalchemy.engine.Engine - INFO - [cached since 60.61s ago] ('NVDA',)
2026-02-04 00:47:31,802 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-04 00:47:31,802 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (4387694706688.0, 44.497528, 23.514914, 4.05, 'NVDA')
2026-02-04 00:47:31,803 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:31,804 - sqlalchemy.engine.Engine - INFO - [cached since 17.26s ago] (180.2, -2.9066346, 43.73602343369437, 186.16450119018555, 183.77419921875, 168.4890449523926, 0.5222765856155718, 0.8078018265483723, -0.2855252409328005, 193.2281358135194, 186.16450119018555, 179.1008665668517, 5.469999040876116, 48.60665695661698, 63.822373594672634, 18.17522368050568, 160611694.2, 0.5406012584107341, '2026-02-03 16:47:31.275800', 'NVDA')
2026-02-04 00:47:31,804 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:31,806 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:31,806 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:31,806 - sqlalchemy.engine.Engine - INFO - [cached since 60.61s ago] ('NVDA',)
2026-02-04 00:47:32,810 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:32,810 - sqlalchemy.engine.Engine - INFO - [cached since 62.94s ago] ('OKLO',)
2026-02-04 00:47:33,335 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:33,335 - sqlalchemy.engine.Engine - INFO - [cached since 62.15s ago] ('OKLO',)
2026-02-04 00:47:33,338 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET name=?, sector=?, industry=?, market_cap=?, forward_pe=?, eps=?, beta=?, fifty_two_week_high=?, fifty_two_week_low=? WHERE stocks.ticker = ?
2026-02-04 00:47:33,338 - sqlalchemy.engine.Engine - INFO - [generated in 0.00029s] ('Oklo Inc.', 'Utilities', 'Utilities - Independent Power Producers', 12146647040.0, -116.497574, -0.56, 0.774, 193.84, 17.42, 'OKLO')
2026-02-04 00:47:33,340 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:33,340 - sqlalchemy.engine.Engine - INFO - [cached since 18.8s ago] (77.74, 5.617515, 34.07407332985626, 90.81649894714356, 89.00959945678711, 81.28944983482361, -3.061013868453273, -1.4799251011370906, -1.5810887673161822, 107.27455183738975, 90.81649894714356, 74.35844605689736, 7.614706856863839, 16.794054717767608, 20.23378371648571, 9.914596720331403, 13583559.15, 0.3405648658731684, '2026-02-03 16:47:32.811476', 'OKLO')
2026-02-04 00:47:33,341 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:33,342 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:33,343 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:33,343 - sqlalchemy.engine.Engine - INFO - [cached since 62.14s ago] ('OKLO',)
2026-02-04 00:47:34,345 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:34,347 - sqlalchemy.engine.Engine - INFO - [cached since 64.47s ago] ('PG',)
2026-02-04 00:47:34,874 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:34,874 - sqlalchemy.engine.Engine - INFO - [cached since 63.69s ago] ('PG',)
2026-02-04 00:47:34,876 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET name=?, market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=?, beta=? WHERE stocks.ticker = ?
2026-02-04 00:47:34,876 - sqlalchemy.engine.Engine - INFO - [cached since 6.146s ago] ('Procter & Gamble Company (The)', 364250005504.0, 23.059172, 21.299885, 6.76, 2.76, 0.38, 'PG')
2026-02-04 00:47:34,878 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:34,878 - sqlalchemy.engine.Engine - INFO - [cached since 20.34s ago] (155.88, 1.7493525, 76.63711846597697, 146.07154006958007, 144.58728759765626, 151.78491554260253, 2.6284525100239193, 1.5954081074856985, 1.0330444025382208, 155.93765514793645, 146.07154006958007, 136.20542499122368, 2.622872670239072, 89.54475860070481, 83.12649755919314, 102.38128068372814, 11785175.45, 0.3749039646244724, '2026-02-03 16:47:34.350639', 'PG')
2026-02-04 00:47:34,878 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:34,880 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:34,881 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:34,881 - sqlalchemy.engine.Engine - INFO - [cached since 63.68s ago] ('PG',)
2026-02-04 00:47:35,885 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:35,885 - sqlalchemy.engine.Engine - INFO - [cached since 66.01s ago] ('RKLB',)
2026-02-04 00:47:36,421 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:36,422 - sqlalchemy.engine.Engine - INFO - [cached since 65.23s ago] ('RKLB',)
2026-02-04 00:47:36,424 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET name=?, sector=?, industry=?, market_cap=?, forward_pe=?, eps=?, beta=?, fifty_two_week_high=?, fifty_two_week_low=? WHERE stocks.ticker = ?
2026-02-04 00:47:36,424 - sqlalchemy.engine.Engine - INFO - [cached since 3.086s ago] ('Rocket Lab Corporation', 'Industrials', 'Aerospace & Defense', 42088845312.0, -505.09613, -0.38, 2.182, 99.58, 14.71, 'RKLB')
2026-02-04 00:47:36,425 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:36,426 - sqlalchemy.engine.Engine - INFO - [cached since 21.88s ago] (78.795, 6.264324, 43.163252835746974, 85.99925117492675, 68.88300048828125, 48.684250068664554, 2.477683622518228, 4.897886404626953, -2.420202782108725, 95.95891535460893, 85.99925117492675, 76.03958699524458, 7.557927812848773, 19.965362489755538, 26.424703675293244, 7.046680118680129, 24718940.45, 0.3489271321093376, '2026-02-03 16:47:35.887190', 'RKLB')
2026-02-04 00:47:36,426 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:36,428 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:36,429 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:36,429 - sqlalchemy.engine.Engine - INFO - [cached since 65.23s ago] ('RKLB',)
2026-02-04 00:47:37,433 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:37,433 - sqlalchemy.engine.Engine - INFO - [cached since 67.56s ago] ('SIDU',)
2026-02-04 00:47:38,097 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:38,097 - sqlalchemy.engine.Engine - INFO - [cached since 66.91s ago] ('SIDU',)
2026-02-04 00:47:38,099 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET name=?, sector=?, industry=?, market_cap=?, forward_pe=?, eps=?, beta=?, fifty_two_week_high=?, fifty_two_week_low=? WHERE stocks.ticker = ?
2026-02-04 00:47:38,100 - sqlalchemy.engine.Engine - INFO - [cached since 4.762s ago] ('Sidus Space, Inc.', 'Industrials', 'Aerospace & Defense', 184925184.0, -11.583333, -1.26, -1.652, 5.39, 0.628, 'SIDU')
2026-02-04 00:47:38,101 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:38,101 - sqlalchemy.engine.Engine - INFO - [cached since 23.56s ago] (2.78, 7.75194, 46.51162907920032, 3.5959999918937684, 2.286519993543625, 1.5920899984240533, 0.10596884447874633, 0.3223845852584146, -0.2164157407796683, 4.833984835193682, 3.5959999918937684, 2.3580151485938545, 0.5749999965940203, 13.13608385301726, 21.936881318836438, -4.465511078621098, 39043219.1, 0.280063536052026, '2026-02-03 16:47:37.435788', 'SIDU')
2026-02-04 00:47:38,102 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:38,104 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:38,104 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:38,105 - sqlalchemy.engine.Engine - INFO - [cached since 66.9s ago] ('SIDU',)
2026-02-04 00:47:39,107 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:39,107 - sqlalchemy.engine.Engine - INFO - [cached since 69.23s ago] ('SNDK',)
2026-02-04 00:47:40,109 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:40,109 - sqlalchemy.engine.Engine - INFO - [cached since 70.24s ago] ('TSLA',)
2026-02-04 00:47:40,629 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:40,629 - sqlalchemy.engine.Engine - INFO - [cached since 69.44s ago] ('TSLA',)
2026-02-04 00:47:40,631 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET name=?, market_cap=?, pe_ratio=?, forward_pe=?, eps=?, beta=? WHERE stocks.ticker = ?
2026-02-04 00:47:40,631 - sqlalchemy.engine.Engine - INFO - [cached since 24.42s ago] ('Tesla, Inc.', 1598348460032.0, 387.22726, 146.61188, 1.1, 1.887, 'TSLA')
2026-02-04 00:47:40,633 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:40,633 - sqlalchemy.engine.Engine - INFO - [cached since 26.09s ago] (425.94, 0.958693, 41.03904921676616, 434.90050048828124, 444.42780151367185, 378.98320030212403, -6.4386477368746, -5.1458772761844465, -1.2927704606901536, 454.41588931039774, 434.90050048828124, 415.38511166616473, 14.397142682756696, 30.524014326453916, 35.723071996787695, 20.125898985786364, 60243173.35, 0.412139095922974, '2026-02-03 16:47:40.110326', 'TSLA')
2026-02-04 00:47:40,633 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:40,635 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:40,636 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:40,636 - sqlalchemy.engine.Engine - INFO - [cached since 69.44s ago] ('TSLA',)
2026-02-04 00:47:40,906 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:40,906 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:47:40,906 - sqlalchemy.engine.Engine - INFO - [cached since 71.04s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:47:40,908 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:47:40,909 - sqlalchemy.engine.Engine - INFO - [cached since 69.69s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:47:40,910 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:40,911 - sqlalchemy.engine.Engine - INFO - [cached since 71.04s ago] ('AAPL',)
2026-02-04 00:47:41,639 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:41,640 - sqlalchemy.engine.Engine - INFO - [cached since 71.77s ago] ('WMT',)
2026-02-04 00:47:41,918 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:41,918 - sqlalchemy.engine.Engine - INFO - [cached since 72.05s ago] ('AMD',)
2026-02-04 00:47:42,163 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:42,163 - sqlalchemy.engine.Engine - INFO - [cached since 70.98s ago] ('WMT',)
2026-02-04 00:47:42,166 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=?, beta=?, fifty_two_week_high=? WHERE stocks.ticker = ?
2026-02-04 00:47:42,166 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] (1012871004160.0, 44.26481, 42.775707, 2.87, 0.76, 0.671, 127.1461, 'WMT')
2026-02-04 00:47:42,168 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:42,168 - sqlalchemy.engine.Engine - INFO - [cached since 27.63s ago] (127.04, 2.4020662, 70.16907672837291, 118.21800003051757, 114.63250625610351, 103.08232521057128, 2.3311763272273254, 1.776437011757599, 0.5547393154697264, 124.97043287528531, 118.21800003051757, 111.46556718574983, 2.6047205243791853, 72.88794532051772, 55.75450754988007, 107.15482086179303, 45826903.9, 0.22079340166814107, '2026-02-03 16:47:41.641850', 'WMT')
2026-02-04 00:47:42,170 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:42,172 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:42,172 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:42,172 - sqlalchemy.engine.Engine - INFO - [cached since 70.97s ago] ('WMT',)
2026-02-04 00:47:42,920 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:42,921 - sqlalchemy.engine.Engine - INFO - [cached since 73.05s ago] ('AMZN',)
2026-02-04 00:47:43,175 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:47:43,176 - sqlalchemy.engine.Engine - INFO - [cached since 71.96s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:47:43,179 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=29174.22ms
2026-02-04 00:47:43,180 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:43,924 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:43,925 - sqlalchemy.engine.Engine - INFO - [cached since 74.05s ago] ('ASTS',)
2026-02-04 00:47:44,286 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:44,286 - sqlalchemy.engine.Engine - INFO - [cached since 73.1s ago] ('ASTS',)
2026-02-04 00:47:44,289 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-04 00:47:44,289 - sqlalchemy.engine.Engine - INFO - [cached since 73.1s ago] (41984786432.0, -112.475395, 'ASTS')
2026-02-04 00:47:44,290 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:44,290 - sqlalchemy.engine.Engine - INFO - [cached since 73.1s ago] (114.275, 9.301768, 60.32772879285059, 105.50774993896485, 83.88869979858399, 57.324024782180786, 8.612728584310574, 9.27017583769484, -0.6574472533842659, 126.46312182953655, 105.50774993896485, 84.55237804839315, 49.34958733907168, 60.85563215340105, 26.337497710412947, 16916963.75, 0.3782697116673788, '2026-02-03 16:47:43.926437', 'ASTS')
2026-02-04 00:47:44,291 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:44,293 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:44,293 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:44,294 - sqlalchemy.engine.Engine - INFO - [cached since 73.09s ago] ('ASTS',)
2026-02-04 00:47:45,296 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:45,296 - sqlalchemy.engine.Engine - INFO - [cached since 75.42s ago] ('BRK.B',)
2026-02-04 00:47:46,298 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:46,299 - sqlalchemy.engine.Engine - INFO - [cached since 76.43s ago] ('FRO',)
2026-02-04 00:47:47,303 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:47,303 - sqlalchemy.engine.Engine - INFO - [cached since 77.43s ago] ('GOOGL',)
2026-02-04 00:47:48,306 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:48,306 - sqlalchemy.engine.Engine - INFO - [cached since 78.43s ago] ('IREN',)
2026-02-04 00:47:49,309 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:49,310 - sqlalchemy.engine.Engine - INFO - [cached since 79.44s ago] ('META',)
2026-02-04 00:47:50,313 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:50,314 - sqlalchemy.engine.Engine - INFO - [cached since 80.44s ago] ('MSFT',)
2026-02-04 00:47:51,317 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:51,318 - sqlalchemy.engine.Engine - INFO - [cached since 81.44s ago] ('NVDA',)
2026-02-04 00:47:51,897 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:51,897 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:47:51,897 - sqlalchemy.engine.Engine - INFO - [cached since 82.03s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:47:51,898 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:47:51,898 - sqlalchemy.engine.Engine - INFO - [cached since 80.68s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:47:51,905 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.97ms
2026-02-04 00:47:51,907 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:47:52,321 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:52,322 - sqlalchemy.engine.Engine - INFO - [cached since 82.45s ago] ('OKLO',)
2026-02-04 00:47:53,325 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:53,325 - sqlalchemy.engine.Engine - INFO - [cached since 83.45s ago] ('PG',)
2026-02-04 00:47:54,328 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:54,328 - sqlalchemy.engine.Engine - INFO - [cached since 84.46s ago] ('RKLB',)
2026-02-04 00:47:55,332 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:55,333 - sqlalchemy.engine.Engine - INFO - [cached since 85.46s ago] ('SIDU',)
2026-02-04 00:47:56,337 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:56,338 - sqlalchemy.engine.Engine - INFO - [cached since 86.46s ago] ('SNDK',)
2026-02-04 00:47:57,350 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:57,354 - sqlalchemy.engine.Engine - INFO - [cached since 87.48s ago] ('TSLA',)
2026-02-04 00:47:58,358 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:58,358 - sqlalchemy.engine.Engine - INFO - [cached since 88.48s ago] ('WMT',)
2026-02-04 00:47:58,717 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:47:58,718 - sqlalchemy.engine.Engine - INFO - [cached since 87.53s ago] ('WMT',)
2026-02-04 00:47:58,720 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=?, beta=?, fifty_two_week_high=? WHERE stocks.ticker = ?
2026-02-04 00:47:58,720 - sqlalchemy.engine.Engine - INFO - [cached since 16.55s ago] (1013468954624.0, 44.290943, 42.80096, 2.87, 0.76, 0.671, 127.1461, 'WMT')
2026-02-04 00:47:58,721 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:47:58,721 - sqlalchemy.engine.Engine - INFO - [cached since 44.18s ago] (127.115, 2.4625185, 70.3035659331411, 118.22174987792968, 114.63400619506837, 103.0827001953125, 2.3371589897651717, 1.777633544265168, 0.5595254455000036, 124.99486233804308, 118.22174987792968, 111.44863741781629, 2.6047205243791853, 73.10223273203695, 55.825936687053144, 107.65482482200457, 45827183.0, 0.2209138624121845, '2026-02-03 16:47:58.359631', 'WMT')
2026-02-04 00:47:58,722 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:47:58,723 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:47:58,723 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:47:58,723 - sqlalchemy.engine.Engine - INFO - [cached since 87.52s ago] ('WMT',)
2026-02-04 00:47:59,725 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:47:59,726 - sqlalchemy.engine.Engine - INFO - [cached since 88.51s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:47:59,729 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=18825.63ms
2026-02-04 00:47:59,730 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:49:37,075 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:49:37,078 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:49:37,078 - sqlalchemy.engine.Engine - INFO - [cached since 187.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:49:37,081 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:49:37,081 - sqlalchemy.engine.Engine - INFO - [cached since 187.2s ago] ('SNDK',)
2026-02-04 00:49:37,571 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 00:49:37,571 - sqlalchemy.engine.Engine - INFO - [cached since 186.4s ago] ('SNDK',)
2026-02-04 00:49:37,576 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET sector=?, industry=?, market_cap=?, forward_pe=?, eps=?, fifty_two_week_high=?, fifty_two_week_low=? WHERE stocks.ticker = ?
2026-02-04 00:49:37,576 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('Technology', 'Computer Hardware', 98929098752.0, 9.097949, -7.45, 725.0, 27.885, 'SNDK')
2026-02-04 00:49:37,578 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, market_status=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 00:49:37,578 - sqlalchemy.engine.Engine - INFO - [generated in 0.00025s] (670.4001, 0.7759308, 90.09917882473128, 463.3810012817383, 321.1844006347656, 141.5870253944397, 88.18015322451242, 70.26549768038541, 17.914655544127015, 658.5255134027632, 463.3810012817383, 268.2364891607134, 54.16193062918527, 83.37000699022366, 84.4542948342731, 81.20143130212477, 19038267.1, 0.9269825823590845, <MarketStatus.OPEN: 'OPEN'>, '2026-02-03 16:49:37.081700', 'SNDK')
2026-02-04 00:49:37,579 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 00:49:37,580 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:49:37,580 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 00:49:37,580 - sqlalchemy.engine.Engine - INFO - [cached since 186.4s ago] ('SNDK',)
2026-02-04 00:49:37,581 - api_logger - INFO - rid=/api/portfolio/SNDK/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=513.20ms
2026-02-04 00:49:37,582 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 00:49:37,596 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 00:49:37,596 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 00:49:37,596 - sqlalchemy.engine.Engine - INFO - [cached since 187.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:49:37,597 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 00:49:37,597 - sqlalchemy.engine.Engine - INFO - [cached since 186.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 00:49:37,600 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.81ms
2026-02-04 00:49:37,600 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 10:12:32,455 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:12:32,461 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 10:12:32,462 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:32,466 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 10:12:32,467 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:32,476 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=63.78ms
2026-02-04 10:12:32,477 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 10:12:42,384 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:12:42,385 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 10:12:42,385 - sqlalchemy.engine.Engine - INFO - [cached since 9.924s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:42,388 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 10:12:42,389 - sqlalchemy.engine.Engine - INFO - [generated in 0.00066s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'IREN')
2026-02-04 10:12:42,399 - sqlalchemy.engine.Engine - INFO - DELETE FROM portfolios WHERE portfolios.id = ?
2026-02-04 10:12:42,399 - sqlalchemy.engine.Engine - INFO - [generated in 0.00084s] ('ef119cfa-5148-4cb2-9a04-8945a30f0156',)
2026-02-04 10:12:42,401 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 10:12:42,408 - api_logger - INFO - rid=/api/portfolio/IREN method=DELETE status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=27.61ms
2026-02-04 10:12:42,419 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:12:42,419 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 10:12:42,419 - sqlalchemy.engine.Engine - INFO - [cached since 9.958s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:42,421 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 10:12:42,421 - sqlalchemy.engine.Engine - INFO - [cached since 9.954s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:42,423 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.37ms
2026-02-04 10:12:42,424 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 10:12:45,565 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:12:45,566 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 10:12:45,566 - sqlalchemy.engine.Engine - INFO - [cached since 13.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:45,568 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 10:12:45,568 - sqlalchemy.engine.Engine - INFO - [cached since 3.18s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'BRK.B')
2026-02-04 10:12:45,570 - sqlalchemy.engine.Engine - INFO - DELETE FROM portfolios WHERE portfolios.id = ?
2026-02-04 10:12:45,570 - sqlalchemy.engine.Engine - INFO - [cached since 3.171s ago] ('0517085c-bfb6-4e32-a14c-7daeadc61545',)
2026-02-04 10:12:45,571 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 10:12:45,573 - api_logger - INFO - rid=/api/portfolio/BRK.B method=DELETE status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.22ms
2026-02-04 10:12:45,582 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:12:45,582 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 10:12:45,582 - sqlalchemy.engine.Engine - INFO - [cached since 13.12s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:45,585 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 10:12:45,585 - sqlalchemy.engine.Engine - INFO - [cached since 13.12s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:45,588 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.89ms
2026-02-04 10:12:45,588 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 10:12:58,028 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:12:58,028 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 10:12:58,028 - sqlalchemy.engine.Engine - INFO - [cached since 25.57s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:58,031 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 10:12:58,031 - sqlalchemy.engine.Engine - INFO - [generated in 0.00048s] ('AMD',)
2026-02-04 10:12:59,320 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 10:12:59,320 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] ('AMD',)
2026-02-04 10:12:59,324 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-04 10:12:59,324 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] (394165157888.0, 126.09896, 36.64003, 'AMD')
2026-02-04 10:12:59,327 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 10:12:59,327 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] (242.11, -1.6892, 63.51316475060508, 233.63649978637696, 221.94559967041016, 177.32649974823, 7.9109600074873185, 7.752250653350175, 0.1587093541371436, 270.94996493981415, 233.63649978637696, 196.32303463293977, 12.859452383858818, 40.72458836374426, 54.82028583808427, 12.533193415064247, 38430194.6, 1.0676472608858452, '2026-02-04 02:12:58.032853', 'AMD')
2026-02-04 10:12:59,329 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 10:12:59,331 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:12:59,334 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 10:12:59,334 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('AMD',)
2026-02-04 10:12:59,335 - api_logger - INFO - rid=/api/portfolio/AMD/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1310.85ms
2026-02-04 10:12:59,336 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 10:12:59,344 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:12:59,345 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 10:12:59,345 - sqlalchemy.engine.Engine - INFO - [cached since 26.88s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:59,347 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 10:12:59,347 - sqlalchemy.engine.Engine - INFO - [cached since 26.88s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:12:59,350 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.99ms
2026-02-04 10:12:59,350 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 10:13:09,496 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:13:09,496 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 10:13:09,496 - sqlalchemy.engine.Engine - INFO - [cached since 37.04s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:13:09,497 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 10:13:09,497 - sqlalchemy.engine.Engine - INFO - [cached since 11.47s ago] ('AMD',)
2026-02-04 10:13:10,070 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 10:13:10,070 - sqlalchemy.engine.Engine - INFO - [cached since 10.75s ago] ('AMD',)
2026-02-04 10:13:10,074 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 10:13:10,074 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('2026-02-04 02:13:09.498006', 'AMD')
2026-02-04 10:13:10,076 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 10:13:10,079 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:13:10,079 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 10:13:10,079 - sqlalchemy.engine.Engine - INFO - [cached since 10.75s ago] ('AMD',)
2026-02-04 10:13:10,081 - api_logger - INFO - rid=/api/portfolio/AMD/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=585.22ms
2026-02-04 10:13:10,082 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 10:13:10,090 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 10:13:10,091 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 10:13:10,091 - sqlalchemy.engine.Engine - INFO - [cached since 37.63s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:13:10,092 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 10:13:10,093 - sqlalchemy.engine.Engine - INFO - [cached since 37.63s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 10:13:10,095 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.45ms
2026-02-04 10:13:10,095 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:09,343 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:09,356 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 13:24:09,356 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('%S%', '%S%', 10, 0)
2026-02-04 13:24:09,360 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=41.54ms
2026-02-04 13:24:09,361 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:09,400 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:09,400 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 13:24:09,400 - sqlalchemy.engine.Engine - INFO - [cached since 0.04455s ago] ('%S L%', '%S L%', 10, 0)
2026-02-04 13:24:09,401 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.52ms
2026-02-04 13:24:09,401 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:09,598 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:09,599 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 13:24:09,599 - sqlalchemy.engine.Engine - INFO - [cached since 0.2436s ago] ('%S L%', '%S L%', 10, 0)
2026-02-04 13:24:09,601 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.74ms
2026-02-04 13:24:09,602 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:09,803 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:09,803 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 13:24:09,804 - sqlalchemy.engine.Engine - INFO - [cached since 0.4478s ago] ('%S L%', '%S L%', 10, 0)
2026-02-04 13:24:09,819 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:09,823 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 13:24:09,824 - sqlalchemy.engine.Engine - INFO - [cached since 0.4679s ago] ('%SLV%', '%SLV%', 10, 0)
2026-02-04 13:24:09,827 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.07ms
2026-02-04 13:24:09,827 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:11,191 - yfinance - ERROR - HTTP Error 404: {"quoteSummary":{"result":null,"error":{"code":"Not Found","description":"Quote not found for symbol: S L"}}}
2026-02-04 13:24:11,528 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:11,528 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 13:24:11,529 - sqlalchemy.engine.Engine - INFO - [cached since 2.173s ago] ('%SLV%', '%SLV%', 10, 0)
2026-02-04 13:24:11,552 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1751.42ms
2026-02-04 13:24:11,553 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:12,333 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 13:24:12,333 - sqlalchemy.engine.Engine - INFO - [generated in 0.00046s] ('SLV',)
2026-02-04 13:24:12,339 - sqlalchemy.engine.Engine - INFO - INSERT INTO stocks (ticker, name, sector, industry, market_cap, pe_ratio, forward_pe, eps, dividend_yield, beta, fifty_two_week_high, fifty_two_week_low, exchange, currency) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-04 13:24:12,339 - sqlalchemy.engine.Engine - INFO - [generated in 0.00087s] ('SLV', 'iShares Silver Trust', None, None, None, None, None, None, None, None, None, None, None, 'USD')
2026-02-04 13:24:12,343 - sqlalchemy.engine.Engine - INFO - INSERT INTO market_data_cache (ticker, current_price, change_percent, rsi_14, ma_20, ma_50, ma_200, macd_val, macd_signal, macd_hist, bb_upper, bb_middle, bb_lower, atr_14, k_line, d_line, j_line, volume_ma_20, volume_ratio, market_status, last_updated) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-04 13:24:12,343 - sqlalchemy.engine.Engine - INFO - [generated in 0.00031s] ('SLV', 76.96, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, 'CLOSED', '2026-02-04 05:24:12.343262')
2026-02-04 13:24:12,344 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 13:24:12,345 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:12,346 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-04 13:24:12,346 - sqlalchemy.engine.Engine - INFO - [cached since 2.99s ago] ('%SLV%', '%SLV%', 10, 0)
2026-02-04 13:24:12,347 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=820.09ms
2026-02-04 13:24:12,348 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:33,591 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:33,593 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 13:24:33,593 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:33,595 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 13:24:33,596 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV')
2026-02-04 13:24:33,599 - sqlalchemy.engine.Engine - INFO - INSERT INTO portfolios (id, user_id, ticker, quantity, avg_cost, target_price, stop_loss_price, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-04 13:24:33,599 - sqlalchemy.engine.Engine - INFO - [generated in 0.00077s] ('50b62451-dc6f-4020-bbf2-6aff75fbaea6', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 0.0, 0.0, None, None, '2026-02-04 05:24:33.599404', '2026-02-04 05:24:33.599414')
2026-02-04 13:24:33,601 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 13:24:33,603 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:33,604 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 13:24:33,605 - sqlalchemy.engine.Engine - INFO - [generated in 0.00043s] ('SLV',)
2026-02-04 13:24:33,607 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 13:24:33,607 - sqlalchemy.engine.Engine - INFO - [cached since 0.003069s ago] ('SLV',)
2026-02-04 13:24:33,608 - api_logger - INFO - rid=/api/portfolio/ method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=20.16ms
2026-02-04 13:24:33,608 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:33,616 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:33,616 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 13:24:33,616 - sqlalchemy.engine.Engine - INFO - [cached since 0.02351s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:33,618 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 13:24:33,618 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:33,621 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.46ms
2026-02-04 13:24:33,621 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:39,354 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:39,354 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 13:24:39,354 - sqlalchemy.engine.Engine - INFO - [cached since 5.762s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:39,356 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 13:24:39,356 - sqlalchemy.engine.Engine - INFO - [cached since 5.752s ago] ('TSLA',)
2026-02-04 13:24:40,176 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 13:24:40,176 - sqlalchemy.engine.Engine - INFO - [cached since 27.84s ago] ('TSLA',)
2026-02-04 13:24:40,179 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-04 13:24:40,180 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] (1583376105472.0, 383.59998, 145.23851, 'TSLA')
2026-02-04 13:24:40,182 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 13:24:40,182 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] (421.96, 0.0130344, 38.985851060458, 434.7009994506836, 444.34800109863284, 378.9632501983643, -6.756939990591604, -5.2095357269278475, -1.5474042636637568, 454.6777697731721, 434.7009994506836, 414.7242291281951, 14.829999651227679, 27.57741318929539, 34.740871617734854, 13.250496332416475, 61851570.0, 0.9175595704361263, '2026-02-04 05:24:39.358625', 'TSLA')
2026-02-04 13:24:40,183 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 13:24:40,186 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:40,189 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 13:24:40,189 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('TSLA',)
2026-02-04 13:24:40,190 - api_logger - INFO - rid=/api/portfolio/TSLA/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=840.44ms
2026-02-04 13:24:40,191 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:40,199 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:40,199 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 13:24:40,199 - sqlalchemy.engine.Engine - INFO - [cached since 6.607s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:40,200 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 13:24:40,200 - sqlalchemy.engine.Engine - INFO - [cached since 6.582s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:40,205 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.95ms
2026-02-04 13:24:40,206 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:44,414 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:44,415 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 13:24:44,415 - sqlalchemy.engine.Engine - INFO - [cached since 10.82s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:44,416 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 13:24:44,417 - sqlalchemy.engine.Engine - INFO - [cached since 10.81s ago] ('SLV',)
2026-02-04 13:24:44,830 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 13:24:44,830 - sqlalchemy.engine.Engine - INFO - [cached since 32.5s ago] ('SLV',)
2026-02-04 13:24:44,832 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, fifty_two_week_high=?, fifty_two_week_low=? WHERE stocks.ticker = ?
2026-02-04 13:24:44,832 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (26277990400.0, 109.83, 26.57, 'SLV')
2026-02-04 13:24:44,834 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, market_status=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 13:24:44,834 - sqlalchemy.engine.Engine - INFO - [generated in 0.00019s] (6.23964, 48.901099238164726, 83.84099922180175, 67.92299964904785, 44.32224988937378, 5.215703345708121, 7.541513027805435, -2.325809682097314, 106.75389489960835, 83.84099922180175, 60.92810354399515, 8.957856859479632, 37.54425616139929, 58.22902025375872, -3.8252720233195703, 175141705.0, 0.9947567885101952, <MarketStatus.OPEN: 'OPEN'>, '2026-02-04 05:24:44.418199', 'SLV')
2026-02-04 13:24:44,834 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 13:24:44,837 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:44,837 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 13:24:44,837 - sqlalchemy.engine.Engine - INFO - [cached since 4.648s ago] ('SLV',)
2026-02-04 13:24:44,838 - api_logger - INFO - rid=/api/portfolio/SLV/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=425.41ms
2026-02-04 13:24:44,839 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:44,846 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:44,846 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 13:24:44,846 - sqlalchemy.engine.Engine - INFO - [cached since 11.25s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:44,847 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 13:24:44,847 - sqlalchemy.engine.Engine - INFO - [cached since 11.23s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:44,849 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.13ms
2026-02-04 13:24:44,850 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:47,244 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:47,245 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 13:24:47,245 - sqlalchemy.engine.Engine - INFO - [cached since 13.65s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:47,247 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 13:24:47,248 - sqlalchemy.engine.Engine - INFO - [cached since 13.64s ago] ('SLV',)
2026-02-04 13:24:47,605 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 13:24:47,605 - sqlalchemy.engine.Engine - INFO - [cached since 35.27s ago] ('SLV',)
2026-02-04 13:24:47,608 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 13:24:47,608 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('2026-02-04 05:24:47.249241', 'SLV')
2026-02-04 13:24:47,609 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 13:24:47,612 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:47,612 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 13:24:47,612 - sqlalchemy.engine.Engine - INFO - [cached since 7.424s ago] ('SLV',)
2026-02-04 13:24:47,614 - api_logger - INFO - rid=/api/portfolio/SLV/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=372.12ms
2026-02-04 13:24:47,615 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 13:24:47,623 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 13:24:47,624 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 13:24:47,624 - sqlalchemy.engine.Engine - INFO - [cached since 14.03s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:47,625 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 13:24:47,625 - sqlalchemy.engine.Engine - INFO - [cached since 14.01s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 13:24:47,628 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.09ms
2026-02-04 13:24:47,630 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:11:44,093 - api_logger - INFO - rid=/health method=GET status_code=200 user_id=anonymous time=0.84ms
2026-02-04 15:13:14,760 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:13:14,767 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.email = ?
2026-02-04 15:13:14,768 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('test@qq.com',)
2026-02-04 15:13:14,975 - api_logger - INFO - rid=/api/auth/login method=POST status_code=200 user_id=anonymous time=219.97ms
2026-02-04 15:13:14,975 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:13:15,101 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:13:15,103 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:13:15,103 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:13:15,105 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 15:13:15,106 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:13:15,108 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.27ms
2026-02-04 15:13:15,109 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:13:15,112 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:13:15,112 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:13:15,112 - sqlalchemy.engine.Engine - INFO - [cached since 0.009409s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:13:15,113 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 15:13:15,113 - sqlalchemy.engine.Engine - INFO - [cached since 0.007594s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:13:15,115 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.39ms
2026-02-04 15:13:15,116 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:13:33,841 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:13:33,842 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:13:33,842 - sqlalchemy.engine.Engine - INFO - [cached since 18.74s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:13:33,845 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 15:13:33,845 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] ('RKLB',)
2026-02-04 15:13:35,052 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 15:13:35,052 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] ('RKLB',)
2026-02-04 15:13:35,054 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-04 15:13:35,054 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (43410882560.0, -520.9615, 'RKLB')
2026-02-04 15:13:35,056 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 15:13:35,056 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] (81.27, 9.60215, 45.53105071319626, 86.12300109863281, 68.93250045776367, 48.69662506103516, 2.675119398231587, 4.937373559769624, -2.2622541615380376, 95.7621114681288, 86.12300109863281, 76.48389072913683, 7.691499437604632, 23.975860402560407, 27.761536312894865, 16.404508581891484, 25240300.0, 0.7506963070961914, '2026-02-04 07:13:33.846991', 'RKLB')
2026-02-04 15:13:35,057 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 15:13:35,059 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:13:35,060 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 15:13:35,060 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('RKLB',)
2026-02-04 15:13:35,061 - api_logger - INFO - rid=/api/portfolio/RKLB/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1222.61ms
2026-02-04 15:13:35,062 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:13:35,069 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:13:35,069 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:13:35,069 - sqlalchemy.engine.Engine - INFO - [cached since 19.97s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:13:35,070 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 15:13:35,070 - sqlalchemy.engine.Engine - INFO - [cached since 19.96s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:13:35,072 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.62ms
2026-02-04 15:13:35,073 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:13:39,729 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:13:39,729 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:13:39,729 - sqlalchemy.engine.Engine - INFO - [cached since 24.63s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:13:39,731 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 15:13:39,731 - sqlalchemy.engine.Engine - INFO - [cached since 5.886s ago] ('PG',)
2026-02-04 15:13:40,417 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 15:13:40,418 - sqlalchemy.engine.Engine - INFO - [cached since 5.367s ago] ('PG',)
2026-02-04 15:13:40,421 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, dividend_yield=? WHERE stocks.ticker = ?
2026-02-04 15:13:40,422 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] (362941448192.0, 22.976332, 21.223364, 2.72, 'PG')
2026-02-04 15:13:40,423 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 15:13:40,423 - sqlalchemy.engine.Engine - INFO - [cached since 5.367s ago] (155.32, 1.39043, 76.0731406350309, 146.04354019165038, 144.57608764648438, 151.7821150970459, 2.5837803418685326, 1.586473676083925, 0.9973066657846075, 155.79496180694696, 146.04354019165038, 136.2921185763538, 2.6546578177697637, 86.3001733728906, 82.04496914992173, 94.81058181882835, 12185330.0, 1.0192337835741831, '2026-02-04 07:13:39.732265', 'PG')
2026-02-04 15:13:40,424 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 15:13:40,426 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:13:40,427 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 15:13:40,427 - sqlalchemy.engine.Engine - INFO - [cached since 5.367s ago] ('PG',)
2026-02-04 15:13:40,429 - api_logger - INFO - rid=/api/portfolio/PG/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=700.87ms
2026-02-04 15:13:40,430 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:13:40,440 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:13:40,440 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:13:40,440 - sqlalchemy.engine.Engine - INFO - [cached since 25.34s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:13:40,441 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 15:13:40,442 - sqlalchemy.engine.Engine - INFO - [cached since 25.34s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:13:40,444 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.94ms
2026-02-04 15:13:40,445 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:24:58,387 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:24:58,387 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:24:58,387 - sqlalchemy.engine.Engine - INFO - [cached since 703.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:24:58,388 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:24:58,416 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:24:58,416 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:24:58,416 - sqlalchemy.engine.Engine - INFO - [cached since 703.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:24:58,417 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:25:08,623 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:25:08,623 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:25:08,623 - sqlalchemy.engine.Engine - INFO - [cached since 713.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:25:08,624 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:30:51,032 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:30:51,035 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:30:51,035 - sqlalchemy.engine.Engine - INFO - [cached since 1056s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:30:51,039 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:51:19,765 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:51:19,766 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:51:19,766 - sqlalchemy.engine.Engine - INFO - [cached since 2285s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:51:19,769 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 15:51:19,770 - sqlalchemy.engine.Engine - INFO - [cached since 2285s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:51:19,774 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.71ms
2026-02-04 15:51:19,774 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:51:19,776 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:51:19,776 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:51:19,776 - sqlalchemy.engine.Engine - INFO - [cached since 2285s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:51:19,777 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 15:51:19,777 - sqlalchemy.engine.Engine - INFO - [cached since 2285s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:51:19,778 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.78ms
2026-02-04 15:51:19,779 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:51:22,082 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:51:22,083 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:51:22,083 - sqlalchemy.engine.Engine - INFO - [cached since 2287s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:51:22,083 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:51:22,086 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:51:22,086 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:51:22,086 - sqlalchemy.engine.Engine - INFO - [cached since 2287s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:51:22,086 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:51:26,238 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:51:26,239 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:51:26,239 - sqlalchemy.engine.Engine - INFO - [cached since 2291s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:51:26,239 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 15:51:26,240 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:51:26,241 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:51:26,241 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:51:26,241 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:51:50,077 - api_logger - INFO - rid=/docs method=HEAD status_code=200 user_id=anonymous time=0.33ms
2026-02-04 15:51:57,425 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:51:57,428 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:51:57,428 - sqlalchemy.engine.Engine - INFO - [cached since 2322s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:51:57,436 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 15:51:57,437 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:51:57,438 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:51:57,438 - sqlalchemy.engine.Engine - INFO - [cached since 31.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:51:57,442 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:52:00,210 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:52:00,210 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:52:00,210 - sqlalchemy.engine.Engine - INFO - [cached since 2325s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:52:00,211 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 15:52:00,211 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:52:00,211 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:52:00,211 - sqlalchemy.engine.Engine - INFO - [cached since 33.97s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:52:00,212 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:52:16,853 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:52:16,854 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:52:16,854 - sqlalchemy.engine.Engine - INFO - [cached since 2342s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:52:16,857 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 15:52:16,857 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:52:16,858 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:52:16,858 - sqlalchemy.engine.Engine - INFO - [cached since 50.62s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:52:16,858 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:52:19,936 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:52:19,937 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:52:19,937 - sqlalchemy.engine.Engine - INFO - [cached since 2345s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:52:19,938 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 15:52:19,939 - sqlalchemy.engine.Engine - INFO - [cached since 2345s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:52:19,942 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.66ms
2026-02-04 15:52:19,943 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:52:19,945 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:52:19,945 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.preferred_data_source, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:52:19,945 - sqlalchemy.engine.Engine - INFO - [cached since 2345s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:52:19,947 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 15:52:19,948 - sqlalchemy.engine.Engine - INFO - [cached since 2345s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:52:19,951 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.07ms
2026-02-04 15:52:19,952 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:53:35,986 - api_logger - INFO - rid=/api/user/me method=GET status_code=401 user_id=anonymous time=1.95ms
2026-02-04 15:55:31,239 - api_logger - INFO - rid=/api/user/me method=GET status_code=401 user_id=anonymous time=1.24ms
2026-02-04 15:56:11,381 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:56:11,390 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:56:11,390 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:56:11,391 - api_logger - INFO - rid=/api/user/me method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=31.25ms
2026-02-04 15:56:11,391 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:56:11,394 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:56:11,395 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:56:11,396 - sqlalchemy.engine.Engine - INFO - [cached since 0.005964s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:56:11,401 - api_logger - INFO - rid=/api/user/me method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.90ms
2026-02-04 15:56:11,405 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:56:12,654 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:56:12,654 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:56:12,654 - sqlalchemy.engine.Engine - INFO - [cached since 1.264s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:56:12,655 - api_logger - INFO - rid=/api/user/me method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.10ms
2026-02-04 15:56:12,655 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:56:27,641 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:56:27,642 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:56:27,642 - sqlalchemy.engine.Engine - INFO - [cached since 16.25s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:56:27,646 - sqlalchemy.engine.Engine - INFO - UPDATE users SET preferred_ai_model=? WHERE users.id = ?
2026-02-04 15:56:27,646 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] ('qwen-3-vl-thinking', '9fe069c3-5985-4d2a-8814-91898152fc4a')
2026-02-04 15:56:27,649 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 15:56:27,651 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:56:27,653 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:56:27,653 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:56:27,654 - api_logger - INFO - rid=/api/user/settings method=PUT status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=17.56ms
2026-02-04 15:56:27,655 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 15:56:27,669 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 15:56:27,669 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 15:56:27,669 - sqlalchemy.engine.Engine - INFO - [cached since 16.28s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 15:56:27,670 - api_logger - INFO - rid=/api/user/me method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.56ms
2026-02-04 15:56:27,670 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:30:02,677 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:30:02,678 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:30:02,678 - sqlalchemy.engine.Engine - INFO - [cached since 2600s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:30:02,685 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 17:30:02,685 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:30:02,692 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=32.05ms
2026-02-04 17:30:02,692 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:30:02,695 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:30:02,696 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:30:02,696 - sqlalchemy.engine.Engine - INFO - [cached since 2600s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:30:02,697 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 17:30:02,697 - sqlalchemy.engine.Engine - INFO - [cached since 0.01207s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:30:02,699 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.05ms
2026-02-04 17:30:02,699 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:30:04,598 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:30:04,599 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:30:04,599 - sqlalchemy.engine.Engine - INFO - [cached since 2602s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:30:04,601 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:30:04,601 - sqlalchemy.engine.Engine - INFO - [generated in 0.00030s] ('AAPL',)
2026-02-04 17:30:05,816 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 17:30:05,816 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('AAPL',)
2026-02-04 17:30:05,819 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-04 17:30:05,820 - sqlalchemy.engine.Engine - INFO - [generated in 0.00039s] (3960797134848.0, 34.111393, 29.032974, 7.9, 'AAPL')
2026-02-04 17:30:05,822 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 17:30:05,822 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] (269.48, -0.175946, 59.92467971633815, 257.710498046875, 268.36499877929685, 237.1007225036621, -1.1592349190868845, -3.453628120329124, 2.2943932012422397, 270.39885390520396, 257.710498046875, 245.022142188546, 6.397148132324219, 84.30394396914471, 71.41640888173549, 110.07901414396315, 54739250.0, 1.1753832944368072, '2026-02-04 09:30:04.602326', 'AAPL')
2026-02-04 17:30:05,823 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:30:05,825 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:30:05,826 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:30:05,826 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('AAPL',)
2026-02-04 17:30:05,828 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-04 17:30:05,828 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] ('AAPL', 5, 0)
2026-02-04 17:30:05,830 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 17:30:05,830 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL')
2026-02-04 17:30:05,832 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:30:05,832 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:30:21,592 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 17:30:21,601 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-04 17:30:21,601 - sqlalchemy.engine.Engine - INFO - [generated in 0.00086s] ('ed8e0c09-7082-4054-9d2b-6ee01b21677b', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', '{"market_data": {"current_price": 269.48, "change_percent": -0.175946, "rsi_14": 59.92467971633815, "ma_20": 257.710498046875, "ma_50": 268.364998779 ... (224 characters truncated) ... rket_status": "OPEN"}, "portfolio_data": {"avg_cost": 200.0, "quantity": 100.0, "unrealized_pl": 6948.000000000002, "pl_percent": 34.74000000000001}}', '{\n    "technical_analysis": "269.48270.3988RSI 59.92MACDKDJK84.3050 ... (231 characters truncated) ... 20034.74%694830%3027070%255RSI70250"\n}', None, 'qwen-3-vl-thinking', '2026-02-04 09:30:21.601442')
2026-02-04 17:30:21,605 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:30:21,608 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:30:21,610 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-04 17:30:21,610 - sqlalchemy.engine.Engine - INFO - [generated in 0.00026s] ('ed8e0c09-7082-4054-9d2b-6ee01b21677b',)
2026-02-04 17:30:21,611 - api_logger - INFO - rid=/api/analysis/AAPL method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=17018.96ms
2026-02-04 17:30:21,612 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:31:32,114 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:31:32,115 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:31:32,115 - sqlalchemy.engine.Engine - INFO - [cached since 2690s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:31:32,119 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 17:31:32,119 - sqlalchemy.engine.Engine - INFO - [cached since 86.29s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-04 17:31:32,124 - sqlalchemy.engine.Engine - INFO - UPDATE portfolios SET quantity=?, avg_cost=?, updated_at=? WHERE portfolios.id = ?
2026-02-04 17:31:32,125 - sqlalchemy.engine.Engine - INFO - [generated in 0.00061s] (5.0, 480.0, '2026-02-04 09:31:32.124543', '57416cd4-f97b-4ac4-ab32-aaf9ad8218bd')
2026-02-04 17:31:32,127 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:31:32,129 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:31:32,129 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:31:32,129 - sqlalchemy.engine.Engine - INFO - [cached since 87.53s ago] ('SNDK',)
2026-02-04 17:31:32,130 - api_logger - INFO - rid=/api/portfolio/ method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=21.10ms
2026-02-04 17:31:32,131 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:31:32,139 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:31:32,140 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:31:32,140 - sqlalchemy.engine.Engine - INFO - [cached since 2690s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:31:32,140 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 17:31:32,141 - sqlalchemy.engine.Engine - INFO - [cached since 89.46s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:31:32,142 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.48ms
2026-02-04 17:31:32,143 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:31:40,108 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:31:40,109 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:31:40,109 - sqlalchemy.engine.Engine - INFO - [cached since 2698s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:31:40,112 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:31:40,112 - sqlalchemy.engine.Engine - INFO - [cached since 95.51s ago] ('SNDK',)
2026-02-04 17:31:41,230 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 17:31:41,231 - sqlalchemy.engine.Engine - INFO - [cached since 95.42s ago] ('SNDK',)
2026-02-04 17:31:41,235 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-04 17:31:41,235 - sqlalchemy.engine.Engine - INFO - [generated in 0.00067s] (102634496000.0, 9.438714, -7.44, 'SNDK')
2026-02-04 17:31:41,238 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 17:31:41,238 - sqlalchemy.engine.Engine - INFO - [generated in 0.00034s] (695.51, 4.55024, 90.76217109862455, 464.6364974975586, 321.68659912109376, 141.71257501602173, 90.18322411015168, 70.66611185751326, 19.517112252638427, 665.6245871458533, 464.6364974975586, 263.6484078492639, 86.46232396547296, 85.48506715935619, 88.41683757770653, 19729255.0, 1.5715646637442722, '2026-02-04 09:31:40.113146', 'SNDK')
2026-02-04 17:31:41,239 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:31:41,240 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:31:41,241 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:31:41,241 - sqlalchemy.engine.Engine - INFO - [cached since 95.42s ago] ('SNDK',)
2026-02-04 17:31:41,242 - api_logger - INFO - rid=/api/portfolio/SNDK/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1139.92ms
2026-02-04 17:31:41,242 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:31:41,253 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:31:41,253 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:31:41,253 - sqlalchemy.engine.Engine - INFO - [cached since 2699s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:31:41,255 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 17:31:41,255 - sqlalchemy.engine.Engine - INFO - [cached since 98.57s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:31:41,257 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.36ms
2026-02-04 17:31:41,258 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:31:45,806 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:31:45,807 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:31:45,807 - sqlalchemy.engine.Engine - INFO - [cached since 2703s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:31:45,809 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:31:45,810 - sqlalchemy.engine.Engine - INFO - [cached since 101.2s ago] ('SNDK',)
2026-02-04 17:31:45,811 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-04 17:31:45,812 - sqlalchemy.engine.Engine - INFO - [cached since 99.98s ago] ('SNDK', 5, 0)
2026-02-04 17:31:45,814 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 17:31:45,814 - sqlalchemy.engine.Engine - INFO - [cached since 99.98s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-04 17:31:45,815 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:31:45,815 - sqlalchemy.engine.Engine - INFO - [cached since 99.98s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:32:01,257 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 17:32:01,263 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-04 17:32:01,263 - sqlalchemy.engine.Engine - INFO - [cached since 99.66s ago] ('78a43e35-e76e-4e9e-8e4f-da9c264c23a0', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', '{"market_data": {"current_price": 695.51, "change_percent": 4.55024, "rsi_14": 90.76217109862455, "ma_20": 464.6364974975586, "ma_50": 321.6865991210 ... (210 characters truncated) ... 2918527, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 480.0, "quantity": 5.0, "unrealized_pl": 1077.55, "pl_percent": 44.89791666666667}}', '{\n    "technical_analysis": "$695.51665.62RSI90.76MACD19.52KDJK86.46ATR54.16 ... (242 characters truncated) ... 60%$670$48041%$670RSI60"\n}', None, 'qwen-3-vl-thinking', '2026-02-04 09:32:01.263542')
2026-02-04 17:32:01,266 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:32:01,269 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:32:01,269 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-04 17:32:01,270 - sqlalchemy.engine.Engine - INFO - [cached since 99.66s ago] ('78a43e35-e76e-4e9e-8e4f-da9c264c23a0',)
2026-02-04 17:32:01,275 - api_logger - INFO - rid=/api/analysis/SNDK method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=15470.42ms
2026-02-04 17:32:01,276 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:33:46,876 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:33:46,877 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:33:46,877 - sqlalchemy.engine.Engine - INFO - [cached since 2824s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:33:46,879 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 17:33:46,879 - sqlalchemy.engine.Engine - INFO - [cached since 224.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:33:46,881 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=21.41ms
2026-02-04 17:33:46,882 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:36:37,241 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=401 user_id=anonymous time=3.69ms
2026-02-04 17:37:10,100 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:10,110 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:10,110 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:10,110 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:10,110 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:10,110 - sqlalchemy.engine.Engine - INFO - [cached since 0.0006019s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:10,112 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:37:10,112 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:37:10,113 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 17:37:10,113 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:10,114 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=16.37ms
2026-02-04 17:37:10,114 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:37:10,116 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=42.09ms
2026-02-04 17:37:10,117 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:37:36,586 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:36,587 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:36,587 - sqlalchemy.engine.Engine - INFO - [cached since 26.48s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:36,589 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:37:36,589 - sqlalchemy.engine.Engine - INFO - [cached since 26.48s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:37:36,590 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:37:36,590 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.30ms
2026-02-04 17:37:36,615 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:36,615 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:36,615 - sqlalchemy.engine.Engine - INFO - [cached since 26.51s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:36,616 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:37:36,616 - sqlalchemy.engine.Engine - INFO - [cached since 26.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:37:36,616 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.19ms
2026-02-04 17:37:36,617 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:37:36,681 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:36,681 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:36,681 - sqlalchemy.engine.Engine - INFO - [cached since 26.57s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:36,682 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:37:36,682 - sqlalchemy.engine.Engine - INFO - [cached since 26.57s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:37:36,683 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:37:36,683 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.49ms
2026-02-04 17:37:37,475 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:37,475 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:37,475 - sqlalchemy.engine.Engine - INFO - [cached since 27.37s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:37,477 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:37:37,477 - sqlalchemy.engine.Engine - INFO - [cached since 27.37s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:37:37,478 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:37:37,478 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.87ms
2026-02-04 17:37:37,483 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:37,483 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:37,483 - sqlalchemy.engine.Engine - INFO - [cached since 27.37s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:37,484 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:37:37,484 - sqlalchemy.engine.Engine - INFO - [cached since 27.37s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:37:37,485 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:37:37,485 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.24ms
2026-02-04 17:37:37,510 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:37,510 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:37,510 - sqlalchemy.engine.Engine - INFO - [cached since 27.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:37,511 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:37:37,512 - sqlalchemy.engine.Engine - INFO - [cached since 27.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:37:37,512 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:37:37,513 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.72ms
2026-02-04 17:37:45,025 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:45,026 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:45,026 - sqlalchemy.engine.Engine - INFO - [cached since 34.92s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:45,028 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:37:45,029 - sqlalchemy.engine.Engine - INFO - [generated in 0.00021s] ('ASTS',)
2026-02-04 17:37:46,284 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 17:37:46,284 - sqlalchemy.engine.Engine - INFO - [generated in 0.00093s] ('ASTS',)
2026-02-04 17:37:46,291 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-04 17:37:46,292 - sqlalchemy.engine.Engine - INFO - [generated in 0.00056s] (42530377728.0, -113.937004, -1.13, 'ASTS')
2026-02-04 17:37:46,294 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 17:37:46,294 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] (115.76, 10.7221, 60.88435533519565, 105.58199996948242, 83.91839981079102, 57.33144978523254, 8.731190171461122, 9.29386815512495, -0.5626779836638267, 126.67821996504324, 105.58199996948242, 84.48577997392161, 12.764786311558314, 51.209092043721185, 61.47546705495088, 30.676342021261803, 17378490.0, 0.8966083934795256, '2026-02-04 09:37:45.029810', 'ASTS')
2026-02-04 17:37:46,295 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:37:46,297 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:46,299 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:37:46,299 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('ASTS',)
2026-02-04 17:37:46,301 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-04 17:37:46,301 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] ('ASTS', 5, 0)
2026-02-04 17:37:46,302 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 17:37:46,303 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS')
2026-02-04 17:37:46,304 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:37:46,304 - sqlalchemy.engine.Engine - INFO - [cached since 36.19s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:37:47,966 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:47,966 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:47,966 - sqlalchemy.engine.Engine - INFO - [cached since 37.86s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:47,968 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:37:47,969 - sqlalchemy.engine.Engine - INFO - [cached since 2.94s ago] ('ASTS',)
2026-02-04 17:37:48,462 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 17:37:48,463 - sqlalchemy.engine.Engine - INFO - [cached since 2.179s ago] ('ASTS',)
2026-02-04 17:37:48,465 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 17:37:48,465 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('2026-02-04 09:37:47.971208', 'ASTS')
2026-02-04 17:37:48,466 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:37:48,469 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:48,471 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:37:48,471 - sqlalchemy.engine.Engine - INFO - [cached since 2.172s ago] ('ASTS',)
2026-02-04 17:37:48,472 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=509.21ms
2026-02-04 17:37:48,473 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:37:48,481 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:37:48,481 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:37:48,481 - sqlalchemy.engine.Engine - INFO - [cached since 38.37s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:48,482 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 17:37:48,482 - sqlalchemy.engine.Engine - INFO - [cached since 38.37s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:37:48,485 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.24ms
2026-02-04 17:37:48,486 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:38:01,833 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 17:38:01,843 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-04 17:38:01,843 - sqlalchemy.engine.Engine - INFO - [generated in 0.00071s] ('3b009eaa-04b7-4da5-902f-bc3b275298f0', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', '{"market_data": {"current_price": 115.76, "change_percent": 10.7221, "rsi_14": 60.88435533519565, "ma_20": 105.58199996948242, "ma_50": 83.9183998107 ... (191 characters truncated) ...  "atr_14": 12.764786311558314, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 0.0, "quantity": 0.0, "unrealized_pl": 0.0, "pl_percent": 0}}', '{\n    "technical_analysis": "115.76126.681.5%RSI 60.8870MACD ... (312 characters truncated) ... 115.76112.801.5%MACD"\n}', None, 'qwen-3-vl-thinking', '2026-02-04 09:38:01.842827')
2026-02-04 17:38:01,845 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:38:01,847 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:38:01,848 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-04 17:38:01,848 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] ('3b009eaa-04b7-4da5-902f-bc3b275298f0',)
2026-02-04 17:38:01,851 - api_logger - INFO - rid=/api/analysis/ASTS method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=16832.47ms
2026-02-04 17:38:01,851 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:41:09,074 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:41:09,076 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:41:09,077 - sqlalchemy.engine.Engine - INFO - [cached since 239s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:41:09,083 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:41:09,084 - sqlalchemy.engine.Engine - INFO - [cached since 239s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:41:09,086 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:41:09,088 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=18.72ms
2026-02-04 17:41:09,105 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:41:09,105 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:41:09,105 - sqlalchemy.engine.Engine - INFO - [cached since 239s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:41:09,106 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:41:09,106 - sqlalchemy.engine.Engine - INFO - [cached since 239s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:41:09,107 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.56ms
2026-02-04 17:41:09,107 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:41:09,180 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:41:09,181 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:41:09,181 - sqlalchemy.engine.Engine - INFO - [cached since 239.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:41:09,192 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:41:09,192 - sqlalchemy.engine.Engine - INFO - [cached since 239.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:41:09,193 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:41:09,193 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=15.28ms
2026-02-04 17:42:06,279 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:42:06,280 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:42:06,280 - sqlalchemy.engine.Engine - INFO - [cached since 296.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:42:06,282 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 17:42:06,282 - sqlalchemy.engine.Engine - INFO - [cached since 260s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO')
2026-02-04 17:42:06,288 - sqlalchemy.engine.Engine - INFO - UPDATE portfolios SET quantity=?, avg_cost=?, updated_at=? WHERE portfolios.id = ?
2026-02-04 17:42:06,288 - sqlalchemy.engine.Engine - INFO - [generated in 0.00077s] (30.0, 27.32, '2026-02-04 09:42:06.288245', '4a167c78-6d5a-4edc-9086-2d932400c7e6')
2026-02-04 17:42:06,291 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:42:06,294 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:42:06,294 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:42:06,294 - sqlalchemy.engine.Engine - INFO - [cached since 261.3s ago] ('FRO',)
2026-02-04 17:42:06,297 - api_logger - INFO - rid=/api/portfolio/ method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=24.19ms
2026-02-04 17:42:06,298 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:42:06,313 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:42:06,313 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:42:06,313 - sqlalchemy.engine.Engine - INFO - [cached since 296.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:42:06,315 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 17:42:06,315 - sqlalchemy.engine.Engine - INFO - [cached since 296.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:42:06,318 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.09ms
2026-02-04 17:42:06,320 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:42:08,738 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:42:08,739 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:42:08,739 - sqlalchemy.engine.Engine - INFO - [cached since 298.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:42:08,742 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:42:08,742 - sqlalchemy.engine.Engine - INFO - [cached since 263.7s ago] ('FRO',)
2026-02-04 17:42:09,541 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-04 17:42:09,541 - sqlalchemy.engine.Engine - INFO - [cached since 263.3s ago] ('FRO',)
2026-02-04 17:42:09,545 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, dividend_yield=?, fifty_two_week_high=? WHERE stocks.ticker = ?
2026-02-04 17:42:09,546 - sqlalchemy.engine.Engine - INFO - [generated in 0.00045s] (6420444160.0, 29.428572, 9.761216, 3.22, 29.035, 'FRO')
2026-02-04 17:42:09,547 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-04 17:42:09,547 - sqlalchemy.engine.Engine - INFO - [cached since 263.2s ago] (28.84, 0.980395, 73.30014401578512, 26.198500156402588, 24.152200012207032, 21.147373571395875, 1.3964805602255765, 1.1330709901663292, 0.26340957005924737, 29.7888100739721, 26.198500156402588, 22.608190238833075, 0.9071427753993443, 90.93232661099393, 85.85036455896932, 101.09625071504314, 3402495.0, 0.8713605751073844, '2026-02-04 09:42:08.743889', 'FRO')
2026-02-04 17:42:09,548 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:42:09,550 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:42:09,551 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:42:09,551 - sqlalchemy.engine.Engine - INFO - [cached since 263.2s ago] ('FRO',)
2026-02-04 17:42:09,552 - api_logger - INFO - rid=/api/portfolio/FRO/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=817.31ms
2026-02-04 17:42:09,553 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:42:09,561 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:42:09,561 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:42:09,561 - sqlalchemy.engine.Engine - INFO - [cached since 299.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:42:09,562 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-04 17:42:09,563 - sqlalchemy.engine.Engine - INFO - [cached since 299.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:42:09,568 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.44ms
2026-02-04 17:42:09,569 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-04 17:42:10,509 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:42:10,510 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-04 17:42:10,510 - sqlalchemy.engine.Engine - INFO - [cached since 300.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-04 17:42:10,512 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-04 17:42:10,512 - sqlalchemy.engine.Engine - INFO - [cached since 265.5s ago] ('FRO',)
2026-02-04 17:42:10,514 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-04 17:42:10,515 - sqlalchemy.engine.Engine - INFO - [cached since 264.2s ago] ('FRO', 5, 0)
2026-02-04 17:42:10,516 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-04 17:42:10,516 - sqlalchemy.engine.Engine - INFO - [cached since 264.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO')
2026-02-04 17:42:10,517 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-04 17:42:10,517 - sqlalchemy.engine.Engine - INFO - [cached since 300.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-04 17:42:24,789 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-04 17:42:24,799 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-04 17:42:24,799 - sqlalchemy.engine.Engine - INFO - [cached since 262.9s ago] ('5ae5f1df-1253-42a6-9479-0dc996049020', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', '{"market_data": {"current_price": 28.84, "change_percent": 0.980395, "rsi_14": 73.30014401578512, "ma_20": 26.198500156402588, "ma_50": 24.1522000122 ... (226 characters truncated) ... rket_status": "OPEN"}, "portfolio_data": {"avg_cost": 27.32, "quantity": 30.0, "unrealized_pl": 45.59999999999999, "pl_percent": 5.5636896046852105}}', '{\n    "technical_analysis": "$28.8429.791.5%0.95RSI(14)73.370MACD1.396KDJK ... (225 characters truncated) ... $28.84+5.4%29.50-30.00,30.00,27.5029.79"\n}', None, 'qwen-3-vl-thinking', '2026-02-04 09:42:24.799219')
2026-02-04 17:42:24,801 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-04 17:42:24,804 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-04 17:42:24,804 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-04 17:42:24,804 - sqlalchemy.engine.Engine - INFO - [cached since 262.9s ago] ('5ae5f1df-1253-42a6-9479-0dc996049020',)
2026-02-04 17:42:24,806 - api_logger - INFO - rid=/api/analysis/FRO method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14298.75ms
2026-02-04 17:42:24,809 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:04:53,153 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:04:53,175 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:04:53,175 - sqlalchemy.engine.Engine - INFO - [generated in 0.00028s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:04:53,175 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:04:53,175 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:04:53,175 - sqlalchemy.engine.Engine - INFO - [cached since 0.001006s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:04:53,178 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:04:53,178 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:04:53,181 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:04:53,181 - sqlalchemy.engine.Engine - INFO - [generated in 0.00032s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:04:53,184 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=75.32ms
2026-02-05 01:04:53,184 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:04:53,186 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=43.99ms
2026-02-05 01:04:53,187 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:04:57,973 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:04:57,974 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:04:57,974 - sqlalchemy.engine.Engine - INFO - [cached since 4.799s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:04:57,977 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:04:57,977 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('SNDK',)
2026-02-05 01:04:59,314 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:04:59,315 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('SNDK',)
2026-02-05 01:04:59,317 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:04:59,317 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('86f3263f-c1b4-3bcb-88bd-1738661f34f1', 'SNDK', 'Barclays Nearly Doubles SanDisk (SNDK) PT to $750 Following Separation, FQ2 2026 Earnings Beat', 'Insider Monkey', 'https://finance.yahoo.com/news/barclays-nearly-doubles-sandisk-sndk-140852145.html', '2026-02-04 14:08:52.000000', None)
2026-02-05 01:04:59,318 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:04:59,318 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('6fec5483-89a7-3c5b-9830-51a91542a546', 'SNDK', 'Social Buzz: Wallstreetbets Stocks Mixed Premarket Wednesday; Super Micro Computer to Advance, Advanced Micro Devices to Decline', 'MT Newswires', 'https://finance.yahoo.com/news/social-buzz-wallstreetbets-stocks-mixed-113847300.html', '2026-02-04 11:38:47.000000', None)
2026-02-05 01:04:59,319 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:04:59,319 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('d2036172-4375-3858-9a41-a99277cb8878', 'SNDK', 'Why Sandisk (SNDK) Is Up 31.8% After Extending Its AI-Focused Kioxia Flash Venture', 'Simply Wall St.', 'https://finance.yahoo.com/news/why-sandisk-sndk-31-8-031805472.html', '2026-02-04 03:18:05.000000', None)
2026-02-05 01:04:59,320 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:04:59,320 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('609dead7-d6ca-39f3-9d01-1d3fb8ffeafc', 'SNDK', 'Up 1,500%, Should You Buy Sandisk Right Now?', 'Motley Fool', 'https://finance.yahoo.com/news/1-500-buy-sandisk-now-013800184.html', '2026-02-04 01:38:00.000000', None)
2026-02-05 01:04:59,321 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:04:59,321 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('3b676487-cfd3-3222-9b19-5d5d91427c70', 'SNDK', 'AIGH Capital Dumps 2.6 Million Lumen Technologies Shares In $15.6 Million Exit', 'Motley Fool', 'https://finance.yahoo.com/news/aigh-capital-dumps-2-6-222003255.html', '2026-02-03 22:20:03.000000', None)
2026-02-05 01:04:59,321 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:04:59,321 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('fd8a79f1-6c3e-3d48-85fc-04e7d14584e6', 'SNDK', '2 Reasons Why SanDisk Stock Could Keep Climbing In 2026', 'Barchart', 'https://finance.yahoo.com/news/2-reasons-why-sandisk-stock-193100088.html', '2026-02-03 19:31:00.000000', None)
2026-02-05 01:04:59,322 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:04:59,322 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('69732aa6-00b4-3730-a337-f99a093f1c81', 'SNDK', 'Top analyst drops eye-popping new price target on SanDisk stock', 'TheStreet', 'https://finance.yahoo.com/news/top-analyst-drops-eye-popping-183300029.html', '2026-02-03 18:33:00.000000', None)
2026-02-05 01:04:59,322 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:04:59,322 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('ef793196-dd21-3ddc-939c-aa39a1fd21e5', 'SNDK', 'Exploring US High Growth Tech Stocks This February 2026', 'Simply Wall St.', 'https://finance.yahoo.com/news/exploring-us-high-growth-tech-173842405.html', '2026-02-03 17:38:42.000000', None)
2026-02-05 01:04:59,323 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:04:59,323 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('9541e60a-41db-3495-b3f1-794b7de75c9f', 'SNDK', "Sandisk Remains a Hot Buy. Can the Stock's Momentum Continue?", 'Motley Fool', 'https://finance.yahoo.com/news/sandisk-remains-hot-buy-stocks-142400201.html', '2026-02-03 14:24:00.000000', None)
2026-02-05 01:04:59,323 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:04:59,323 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('3f6b5d68-0813-3f6a-b8de-1caff40e5a68', 'SNDK', 'Sandisk Stock: Is Wall Street Bullish or Bearish?', 'Barchart', 'https://finance.yahoo.com/news/sandisk-stock-wall-street-bullish-140646674.html', '2026-02-03 14:06:46.000000', None)
2026-02-05 01:04:59,325 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 01:04:59,325 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (91262967808.0, 8.392939, 'SNDK')
2026-02-05 01:04:59,326 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:04:59,326 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (618.45, -11.079639, 75.59447229763566, 478.06859283447267, 330.1328372192383, 144.64748456954956, 89.93073857572568, 74.51903758976742, 15.411700985958262, 682.5710346079802, 478.06859283447267, 273.5661510609651, 58.44549996512277, 77.8311919151839, 82.93377541129877, 67.62602492295414, 19238053.2, 0.7498505098218566, '2026-02-04 17:04:57.978232', 'SNDK')
2026-02-05 01:04:59,326 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:04:59,327 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:04:59,328 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:04:59,328 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('SNDK',)
2026-02-05 01:04:59,329 - api_logger - INFO - rid=/api/portfolio/SNDK/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1359.69ms
2026-02-05 01:04:59,329 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:04:59,341 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:04:59,341 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:04:59,342 - sqlalchemy.engine.Engine - INFO - [cached since 6.167s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:04:59,342 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:04:59,343 - sqlalchemy.engine.Engine - INFO - [cached since 6.162s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:04:59,346 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.50ms
2026-02-05 01:04:59,347 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:11,968 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:11,968 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:11,968 - sqlalchemy.engine.Engine - INFO - [cached since 18.79s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:11,970 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:11,970 - sqlalchemy.engine.Engine - INFO - [cached since 18.79s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:11,972 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.63ms
2026-02-05 01:05:11,974 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:12,007 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:12,008 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:12,008 - sqlalchemy.engine.Engine - INFO - [cached since 18.83s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:12,009 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:12,009 - sqlalchemy.engine.Engine - INFO - [cached since 18.83s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:12,009 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.26ms
2026-02-05 01:05:12,010 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:12,074 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:12,075 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:12,075 - sqlalchemy.engine.Engine - INFO - [cached since 18.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:12,084 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:12,084 - sqlalchemy.engine.Engine - INFO - [cached since 18.91s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:12,085 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.51ms
2026-02-05 01:05:12,090 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:14,163 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:14,164 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:14,164 - sqlalchemy.engine.Engine - INFO - [cached since 20.99s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:14,165 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:05:14,165 - sqlalchemy.engine.Engine - INFO - [cached since 16.19s ago] ('SNDK',)
2026-02-05 01:05:14,167 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:14,168 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('SNDK', 5, 0)
2026-02-05 01:05:14,173 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-05 01:05:14,174 - sqlalchemy.engine.Engine - INFO - [generated in 0.00064s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-05 01:05:14,175 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:14,175 - sqlalchemy.engine.Engine - INFO - [cached since 21s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:14,176 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:17,919 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:17,923 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:17,923 - sqlalchemy.engine.Engine - INFO - [cached since 24.75s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:17,926 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:05:17,927 - sqlalchemy.engine.Engine - INFO - [cached since 19.95s ago] ('SNDK',)
2026-02-05 01:05:17,929 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:17,929 - sqlalchemy.engine.Engine - INFO - [cached since 3.762s ago] ('SNDK', 5, 0)
2026-02-05 01:05:17,931 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-05 01:05:17,931 - sqlalchemy.engine.Engine - INFO - [cached since 3.758s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-05 01:05:17,933 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:17,934 - sqlalchemy.engine.Engine - INFO - [cached since 24.76s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:17,935 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:25,502 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:25,502 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:25,502 - sqlalchemy.engine.Engine - INFO - [cached since 32.33s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:25,503 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:25,503 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:25,503 - sqlalchemy.engine.Engine - INFO - [cached since 32.33s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:25,505 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:05:25,505 - sqlalchemy.engine.Engine - INFO - [cached since 32.32s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:25,505 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:25,506 - sqlalchemy.engine.Engine - INFO - [cached since 32.33s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:25,507 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.90ms
2026-02-05 01:05:25,507 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.36ms
2026-02-05 01:05:25,508 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:25,508 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:34,441 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:34,443 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.email = ?
2026-02-05 01:05:34,444 - sqlalchemy.engine.Engine - INFO - [generated in 0.00050s] ('test@qq.com',)
2026-02-05 01:05:34,665 - api_logger - INFO - rid=/api/auth/login method=POST status_code=200 user_id=anonymous time=233.88ms
2026-02-05 01:05:34,665 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:34,725 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:34,726 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:34,726 - sqlalchemy.engine.Engine - INFO - [cached since 41.55s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:34,727 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:05:34,727 - sqlalchemy.engine.Engine - INFO - [cached since 41.55s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:34,728 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.65ms
2026-02-05 01:05:34,728 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:34,729 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:34,729 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:34,729 - sqlalchemy.engine.Engine - INFO - [cached since 41.55s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:34,730 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:05:34,730 - sqlalchemy.engine.Engine - INFO - [cached since 41.55s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:34,731 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.36ms
2026-02-05 01:05:34,731 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:34,757 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:34,757 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:34,757 - sqlalchemy.engine.Engine - INFO - [cached since 41.58s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:34,758 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:34,758 - sqlalchemy.engine.Engine - INFO - [cached since 41.58s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:34,758 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.24ms
2026-02-05 01:05:34,759 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:37,426 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:37,426 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:37,426 - sqlalchemy.engine.Engine - INFO - [cached since 44.25s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:37,428 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:37,428 - sqlalchemy.engine.Engine - INFO - [cached since 44.25s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:37,430 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.86ms
2026-02-05 01:05:37,432 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:37,461 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:37,462 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:37,462 - sqlalchemy.engine.Engine - INFO - [cached since 44.29s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:37,462 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:37,463 - sqlalchemy.engine.Engine - INFO - [cached since 44.28s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:37,463 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.77ms
2026-02-05 01:05:37,464 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:37,522 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:37,523 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:37,523 - sqlalchemy.engine.Engine - INFO - [cached since 44.35s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:37,532 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:37,532 - sqlalchemy.engine.Engine - INFO - [cached since 44.35s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:37,533 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.64ms
2026-02-05 01:05:37,533 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:05:39,057 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:05:39,057 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:05:39,057 - sqlalchemy.engine.Engine - INFO - [cached since 45.88s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:05:39,059 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:05:39,059 - sqlalchemy.engine.Engine - INFO - [cached since 41.08s ago] ('SNDK',)
2026-02-05 01:05:39,062 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:39,062 - sqlalchemy.engine.Engine - INFO - [cached since 24.89s ago] ('SNDK', 5, 0)
2026-02-05 01:05:39,063 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-05 01:05:39,064 - sqlalchemy.engine.Engine - INFO - [cached since 24.89s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-05 01:05:39,065 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:05:39,065 - sqlalchemy.engine.Engine - INFO - [cached since 45.89s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:05:39,066 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:35,450 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:35,452 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:35,452 - sqlalchemy.engine.Engine - INFO - [cached since 222.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:35,456 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:08:35,456 - sqlalchemy.engine.Engine - INFO - [cached since 222.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:08:35,458 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=16.38ms
2026-02-05 01:08:35,459 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:35,476 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:35,476 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:35,476 - sqlalchemy.engine.Engine - INFO - [cached since 222.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:35,478 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:08:35,478 - sqlalchemy.engine.Engine - INFO - [cached since 222.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:08:35,479 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.47ms
2026-02-05 01:08:35,479 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:35,556 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:35,556 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:35,557 - sqlalchemy.engine.Engine - INFO - [cached since 222.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:35,560 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:08:35,560 - sqlalchemy.engine.Engine - INFO - [cached since 222.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:08:35,566 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.87ms
2026-02-05 01:08:35,567 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:38,009 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:38,010 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:38,010 - sqlalchemy.engine.Engine - INFO - [cached since 224.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:38,012 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:08:38,012 - sqlalchemy.engine.Engine - INFO - [cached since 220s ago] ('AAPL',)
2026-02-05 01:08:38,829 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:08:38,829 - sqlalchemy.engine.Engine - INFO - [cached since 219.5s ago] ('AAPL',)
2026-02-05 01:08:38,833 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:38,833 - sqlalchemy.engine.Engine - INFO - [no key 0.00038s] ('9aa7b4cd-fd6f-478b-95e6-eb4cafcb8db9', 'AAPL', "Alphabet set to report Q4 earnings in test of stock's rally amid Google's AI wins", 'Yahoo Finance', 'https://finance.yahoo.com/news/alphabet-set-to-report-q4-earnings-in-test-of-stocks-rally-amid-googles-ai-wins-195254201.html', '2026-02-03 19:52:54.000000', None)
2026-02-05 01:08:38,835 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:38,835 - sqlalchemy.engine.Engine - INFO - [no key 0.00031s] ('9b1076b6-10c4-3d44-89fb-24bf686a5a52', 'AAPL', 'Meet the "Magnificent Seven" Stock Berkshire Hathaway and Investing Legend Warren Buffett Should Have Bought. (Hint: It\'s Not Apple, Amazon, or Alphabet.)', 'Motley Fool', 'https://finance.yahoo.com/news/meet-magnificent-seven-stock-berkshire-170500492.html', '2026-02-04 17:05:00.000000', None)
2026-02-05 01:08:38,836 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:38,836 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('02bead2d-ccd9-3a31-989d-573ce3ba6327', 'AAPL', 'Silicon Labs Stock Soars. Why Texas Instruments Is Paying a Big Premium for the Acquisition.', 'Barrons.com', 'https://www.barrons.com/articles/silicon-labs-stock-texas-instruments-deal-7d3c8f60?siteid=yhoof2&yptr=yahoo', '2026-02-04 16:32:00.000000', None)
2026-02-05 01:08:38,837 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:38,837 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('6fa629d5-4c0d-3f8f-b622-414a69e60ce7', 'AAPL', 'Skyworks Solutions Executes Well Amid Uncertain Smartphone Backdrop, Morgan Stanley Says', 'MT Newswires', 'https://finance.yahoo.com/news/skyworks-solutions-executes-well-amid-155855072.html', '2026-02-04 15:58:55.000000', None)
2026-02-05 01:08:38,837 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:38,838 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('22bf9408-fc2a-3fbc-b23e-617bfa92a0de', 'AAPL', 'Stock Splits Matter: Whats Coming Up This Month?', '24/7 Wall St.', 'https://finance.yahoo.com/news/stock-splits-matter-coming-month-150507841.html', '2026-02-04 15:05:07.000000', None)
2026-02-05 01:08:38,839 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:38,839 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('082ae4a7-f623-342c-addd-b39e3e9eec56', 'AAPL', '1 Unstoppable Stock to Buy Before It Joins Nvidia, Apple, Microsoft, and Alphabet in the $3 Trillion Club', 'Motley Fool', 'https://finance.yahoo.com/news/1-unstoppable-stock-buy-joins-143100064.html', '2026-02-04 14:31:00.000000', None)
2026-02-05 01:08:38,840 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:38,840 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('57da2dd9-5c6a-300b-865b-044e12c72825', 'AAPL', 'Schwabs 1000 Stock ETF Beat the S&P 500 With Just 3% Turnover', '24/7 Wall St.', 'https://finance.yahoo.com/news/schwab-1000-stock-etf-beat-140309917.html', '2026-02-04 14:03:09.000000', None)
2026-02-05 01:08:38,841 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:38,841 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('a1e66cea-b89e-30b1-aebf-329f07c63170', 'AAPL', 'Apple App store revenue up 6.3% in fiscal Q2-to-date, says BofA', 'TipRanks', 'https://finance.yahoo.com/news/apple-app-store-revenue-6-135019086.html', '2026-02-04 13:50:19.000000', None)
2026-02-05 01:08:38,841 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:38,841 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('199b78d5-477d-3c66-8918-8922766cdd86', 'AAPL', 'Cantor Fitzgerald Lowers Qualcomm (QCOM) PT to $160, Cites Conservative Guidanc, Looming Market Share Shifts', 'Insider Monkey', 'https://finance.yahoo.com/news/cantor-fitzgerald-lowers-qualcomm-qcom-130959798.html', '2026-02-04 13:09:59.000000', None)
2026-02-05 01:08:38,842 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:38,842 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('62678325-cbcb-3cd8-81ea-e2ed5917f1a6', 'AAPL', 'Texas Instruments agrees to buy chip designer Silicon Laboratories', 'Financial Times', 'https://finance.yahoo.com/news/texas-instruments-advanced-talks-buy-210110386.html', '2026-02-04 12:39:13.000000', None)
2026-02-05 01:08:38,844 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 01:08:38,845 - sqlalchemy.engine.Engine - INFO - [generated in 0.00020s] (4055892754432.0, 34.93038, 29.741632, 'AAPL')
2026-02-05 01:08:38,845 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:08:38,846 - sqlalchemy.engine.Engine - INFO - [cached since 219.5s ago] (275.95, 2.400698, 66.7432260843139, 258.3924987792969, 268.55999877929685, 237.4991788482666, 0.1752859228360535, -2.727844312073727, 2.9031302349097805, 273.3894032167763, 258.3924987792969, 243.39559434181746, 6.698574611118862, 86.79155678948824, 76.54145818431975, 107.2917539998252, 53897282.9, 0.6588969997966261, '2026-02-04 17:08:38.013914', 'AAPL')
2026-02-05 01:08:38,846 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:08:38,847 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:38,848 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:08:38,848 - sqlalchemy.engine.Engine - INFO - [cached since 219.5s ago] ('AAPL',)
2026-02-05 01:08:38,848 - api_logger - INFO - rid=/api/portfolio/AAPL/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=840.76ms
2026-02-05 01:08:38,849 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:38,862 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:38,862 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:38,862 - sqlalchemy.engine.Engine - INFO - [cached since 225.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:38,863 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:08:38,863 - sqlalchemy.engine.Engine - INFO - [cached since 225.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:38,865 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.79ms
2026-02-05 01:08:38,866 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:40,091 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:40,091 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:40,091 - sqlalchemy.engine.Engine - INFO - [cached since 226.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:40,092 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:08:40,092 - sqlalchemy.engine.Engine - INFO - [cached since 222.1s ago] ('AMD',)
2026-02-05 01:08:40,744 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:08:40,744 - sqlalchemy.engine.Engine - INFO - [cached since 221.4s ago] ('AMD',)
2026-02-05 01:08:40,746 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:40,746 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('a6d983d7-9152-452b-bce4-1991190f132a', 'AMD', 'AMD stock plummets despite Q4 earnings beat', 'Yahoo Finance', 'https://finance.yahoo.com/news/amd-stock-plummets-despite-q4-earnings-beat-204747905.html', '2026-02-02 20:47:47.000000', None)
2026-02-05 01:08:40,747 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:40,747 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('d08d3509-63d0-32b9-8424-8a335effcbc4', 'AMD', "AMD's Helios will help close the gap with Nvidia: Analyst", 'Yahoo Finance Video', 'https://finance.yahoo.com/video/amds-helios-help-close-gap-142148616.html', '2026-02-04 14:21:48.000000', None)
2026-02-05 01:08:40,748 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:40,748 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('9a2736d5-db8d-3303-9689-3bca83a580f8', 'AMD', 'AMD stock falls despite topping Q4 earnings, guidance estimates', 'Yahoo Finance Video', 'https://finance.yahoo.com/video/amd-stock-falls-despite-topping-212917099.html', '2026-02-03 21:29:17.000000', None)
2026-02-05 01:08:40,749 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:40,749 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('0158218b-0747-4fc5-a857-3639a00b0e64', 'AMD', 'Stock market today: Dow, Nasdaq, S&P 500 sink as tech falters amid flood of earnings', 'Yahoo Finance', 'https://finance.yahoo.com/news/live/stock-market-today-dow-nasdaq-sp-500-sink-as-tech-falters-amid-flood-of-earnings-192429486.html', '2026-02-03 19:24:29.000000', None)
2026-02-05 01:08:40,749 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:40,749 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('95eff06b-9fa2-3b22-b1b7-24055bf9706b', 'AMD', 'Stock Market Today: Dow Rises, Nasdaq Sinks Amid Tech Sell-Off; AMD, Uber Dive (Live Coverage)', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-sp500-nasdaq-amd-stock-amd-earnings/?src=A00220&yptr=yahoo', '2026-02-04 16:51:26.000000', None)
2026-02-05 01:08:40,750 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:40,750 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('d48334d4-779e-3592-9394-06ceb7887432', 'AMD', 'Top Midday Stories: Lilly Shares Soar After Strong Q4 Earnings, Guidance; Uber Q4 EPS Misses Target, CFO Stepping Down', 'MT Newswires', 'https://finance.yahoo.com/news/top-midday-stories-lilly-shares-163658826.html', '2026-02-04 16:36:58.000000', None)
2026-02-05 01:08:40,751 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:40,751 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('c7870262-969a-3168-8c7c-20671d17eb27', 'AMD', 'Advanced Micro Devices Posts Strong Q4, But Customers Await Actual MI455 Performance, Morgan Stanley Says', 'MT Newswires', 'https://finance.yahoo.com/news/advanced-micro-devices-posts-strong-162031902.html', '2026-02-04 16:20:31.000000', None)
2026-02-05 01:08:40,752 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:40,752 - sqlalchemy.engine.Engine - INFO - [no key 0.00033s] ('df172b3b-9b94-352e-a06b-7141368fdfaf', 'AMD', 'Buy the weakness in this major chip stock, Truist says', 'Investing.com', 'https://finance.yahoo.com/news/buy-weakness-major-chip-stock-160040649.html', '2026-02-04 16:00:40.000000', None)
2026-02-05 01:08:40,753 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:40,753 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('3614adf2-1b09-33a2-b1b7-34adfb20bdf8', 'AMD', 'AMD Earnings Beat Expectations. Why Its One of the S&P 500s Worst Stocks Today.', 'Barrons.com', 'https://www.barrons.com/articles/amd-stock-price-earnings-03d39f00?siteid=yhoof2&yptr=yahoo', '2026-02-04 15:32:00.000000', None)
2026-02-05 01:08:40,754 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:40,754 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('5e3b3e67-1c13-3f63-9cb7-2a3aa85a4597', 'AMD', 'BC-Most Active Stocks', 'Associated Press Finance', 'https://finance.yahoo.com/news/bc-most-active-stocks-153018513.html', '2026-02-04 15:30:18.000000', None)
2026-02-05 01:08:40,756 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-05 01:08:40,756 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (329222586368.0, 77.47893, 19.253418, 2.61, 'AMD')
2026-02-05 01:08:40,756 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:08:40,756 - sqlalchemy.engine.Engine - INFO - [cached since 221.4s ago] (202.22, -16.475983, 40.74298456494617, 233.02999954223634, 221.869599609375, 177.9000997543335, 4.104497482172832, 7.022700528511244, -2.9182030463384123, 272.02006691699694, 233.02999954223634, 194.03993216747574, 15.171423775809151, 27.879945261092814, 45.84017231242045, -8.040508841562456, 39951759.15, 1.4898939187262297, '2026-02-04 17:08:40.093138', 'AMD')
2026-02-05 01:08:40,757 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:08:40,759 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:40,760 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:08:40,760 - sqlalchemy.engine.Engine - INFO - [cached since 221.4s ago] ('AMD',)
2026-02-05 01:08:40,761 - api_logger - INFO - rid=/api/portfolio/AMD/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=671.05ms
2026-02-05 01:08:40,761 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:40,766 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:40,766 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:40,766 - sqlalchemy.engine.Engine - INFO - [cached since 227.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:40,767 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:08:40,767 - sqlalchemy.engine.Engine - INFO - [cached since 227.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:40,770 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.42ms
2026-02-05 01:08:40,771 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:41,781 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:41,781 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:41,781 - sqlalchemy.engine.Engine - INFO - [cached since 228.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:41,782 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:08:41,782 - sqlalchemy.engine.Engine - INFO - [cached since 228.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:08:41,783 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:41,783 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.09ms
2026-02-05 01:08:41,815 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:41,815 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:41,815 - sqlalchemy.engine.Engine - INFO - [cached since 228.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:41,816 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:08:41,816 - sqlalchemy.engine.Engine - INFO - [cached since 228.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:08:41,816 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.89ms
2026-02-05 01:08:41,817 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:41,874 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:41,874 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:41,874 - sqlalchemy.engine.Engine - INFO - [cached since 228.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:41,877 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:08:41,877 - sqlalchemy.engine.Engine - INFO - [cached since 228.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:08:41,878 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:41,883 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.35ms
2026-02-05 01:08:53,396 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:53,397 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:53,397 - sqlalchemy.engine.Engine - INFO - [cached since 240.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:53,398 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:08:53,398 - sqlalchemy.engine.Engine - INFO - [cached since 235.4s ago] ('ASTS',)
2026-02-05 01:08:54,117 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:08:54,117 - sqlalchemy.engine.Engine - INFO - [cached since 234.8s ago] ('ASTS',)
2026-02-05 01:08:54,118 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:54,118 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('7aadef03-1b12-3f07-b81e-892b093ca74b', 'ASTS', 'AST SpaceMobile (ASTS) Climbs 10.7% as Elon Musk Bets on Space Sector to Boost AI', 'Insider Monkey', 'https://finance.yahoo.com/news/ast-spacemobile-asts-climbs-10-145233542.html', '2026-02-04 14:52:33.000000', None)
2026-02-05 01:08:54,119 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:54,119 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('02c66b20-e713-32f3-b7fa-219efb715de4', 'ASTS', "US space stocks rise after Musk's SpaceX merges with xAI at $1.25 trillion valuation", 'Reuters', 'https://finance.yahoo.com/news/us-space-stocks-rise-musks-111421530.html', '2026-02-03 11:14:21.000000', None)
2026-02-05 01:08:54,120 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:54,120 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('75e0f95b-dc3a-37ed-a263-afaae959670f', 'ASTS', 'AST SpaceMobile, Inc. (ASTS) Stock Slides as Market Rises: Facts to Know Before You Trade', 'Zacks', 'https://finance.yahoo.com/news/ast-spacemobile-inc-asts-stock-230003256.html', '2026-02-02 23:00:03.000000', None)
2026-02-05 01:08:54,120 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:54,120 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('cf099c2a-87c1-3c8f-896f-6db7e53feea5', 'ASTS', 'Why AST SpaceMobile Stock Jumped 53% in January', 'Motley Fool', 'https://finance.yahoo.com/news/why-ast-spacemobile-stock-jumped-225216538.html', '2026-02-02 22:52:16.000000', None)
2026-02-05 01:08:54,122 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:54,122 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ('0d0fd9d9-9d63-3731-9685-22581d85f60e', 'ASTS', 'Assessing AST SpaceMobile (ASTS) Valuation After BlueBird 7 Launch Confirmation And SHIELD Contract Win', 'Simply Wall St.', 'https://finance.yahoo.com/news/assessing-ast-spacemobile-asts-valuation-231603546.html', '2026-01-28 23:16:03.000000', None)
2026-02-05 01:08:54,123 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:54,123 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('ca37c207-01b9-37c5-9815-65e3ec316ec9', 'ASTS', 'BlueBird 7 Launch on New Glenn and SHIELD Role Could Be A Game Changer For AST SpaceMobile (ASTS)', 'Simply Wall St.', 'https://finance.yahoo.com/news/bluebird-7-launch-glenn-shield-221137355.html', '2026-01-28 22:11:37.000000', None)
2026-02-05 01:08:54,124 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:54,124 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('c006b281-ad32-3c5c-9e51-996a285628db', 'ASTS', 'Space Stock Boom: Why Retail and Wall Street Are Aligning', 'MarketBeat', 'https://finance.yahoo.com/news/space-stock-boom-why-retail-183600974.html', '2026-01-27 18:36:00.000000', None)
2026-02-05 01:08:54,124 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:54,124 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('6f95060c-594a-31f4-ad43-1f5122c49a80', 'ASTS', 'AST SpaceMobile, Inc. (ASTS) Stock Sinks As Market Gains: What You Should Know', 'Zacks', 'https://finance.yahoo.com/news/ast-spacemobile-inc-asts-stock-230004280.html', '2026-01-26 23:00:04.000000', None)
2026-02-05 01:08:54,125 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:54,125 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('3792d0d8-a60f-3ca6-8625-708f0354a966', 'ASTS', 'Should You Sell AST SpaceMobile (ASTS) Stock Now or Keep Betting on Gains as Blue Origin Announces Its Own Satellite Network?', 'Barchart', 'https://finance.yahoo.com/news/blue-origin-gunning-ast-spacemobile-193443701.html', '2026-01-23 19:34:43.000000', None)
2026-02-05 01:08:54,125 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:54,125 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('c1ac6f1d-cbe4-3b1d-b01a-3f5ce57a2d58', 'ASTS', 'This Defense Stock Is Soaring as Donald Trump Pushes for Golden Dome', 'Barrons.com', 'https://www.barrons.com/articles/redwire-stock-golden-dome-trump-greenland-7deea27a?siteid=yhoof2&yptr=yahoo', '2026-01-23 18:12:00.000000', None)
2026-02-05 01:08:54,125 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 01:08:54,125 - sqlalchemy.engine.Engine - INFO - [cached since 234.8s ago] (37642100736.0, -100.84154, 'ASTS')
2026-02-05 01:08:54,126 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:08:54,126 - sqlalchemy.engine.Engine - INFO - [cached since 234.8s ago] (102.455, -11.4936075, 53.10129079334199, 105.83025016784669, 84.95349983215333, 57.726774797439575, 7.484221710544389, 8.931939555468754, -1.4477178449243642, 126.64044464347676, 105.83025016784669, 85.02005569221662, 13.51514380318778, 38.28811193407468, 53.746348681325486, 7.371638439573061, 16964125.15, 0.5852469792702514, '2026-02-04 17:08:53.398866', 'ASTS')
2026-02-05 01:08:54,126 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:08:54,127 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:54,127 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:08:54,127 - sqlalchemy.engine.Engine - INFO - [cached since 234.8s ago] ('ASTS',)
2026-02-05 01:08:54,127 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=732.15ms
2026-02-05 01:08:54,128 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:54,145 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:54,145 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:54,145 - sqlalchemy.engine.Engine - INFO - [cached since 241s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:54,156 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:08:54,156 - sqlalchemy.engine.Engine - INFO - [cached since 241s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:54,169 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=29.96ms
2026-02-05 01:08:54,170 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:55,763 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:55,763 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:55,764 - sqlalchemy.engine.Engine - INFO - [cached since 242.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:55,765 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:08:55,765 - sqlalchemy.engine.Engine - INFO - [cached since 237.8s ago] ('FRO',)
2026-02-05 01:08:56,281 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:08:56,281 - sqlalchemy.engine.Engine - INFO - [cached since 237s ago] ('FRO',)
2026-02-05 01:08:56,283 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:56,283 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ('58b364ac-1e25-31c3-a91b-844fdce12402', 'FRO', 'Here is Why Frontline (FRO) Gained This Week', 'Insider Monkey', 'https://finance.yahoo.com/news/why-frontline-fro-gained-week-173842236.html', '2026-01-31 17:38:42.000000', None)
2026-02-05 01:08:56,285 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:56,285 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('ac4b763a-1815-3d75-b3fb-bd072c4b1e82', 'FRO', "January 2026's Top Growth Companies With Insider Confidence", 'Simply Wall St.', 'https://finance.yahoo.com/news/january-2026s-top-growth-companies-173612842.html', '2026-01-08 17:36:12.000000', None)
2026-02-05 01:08:56,285 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:56,286 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('ddd8a47e-f00b-39bb-9267-ba9a23a1faef', 'FRO', 'Frontline PLC (FRO) Jumps 9.5% on Venezuela Oil Seizure', 'Insider Monkey', 'https://finance.yahoo.com/news/frontline-plc-fro-jumps-9-015505286.html', '2026-01-08 01:55:05.000000', None)
2026-02-05 01:08:56,286 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:56,286 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('cbff1281-6f54-39ff-92b7-953421747edd', 'FRO', "Individual investors are Frontline plc's (NYSE:FRO) biggest owners and were hit after market cap dropped US$345m", 'Simply Wall St.', 'https://finance.yahoo.com/news/individual-investors-frontline-plcs-nyse-183606714.html', '2026-01-05 18:36:06.000000', None)
2026-02-05 01:08:56,287 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:56,287 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('9336728b-f1f9-3305-83f1-9b5a6459ce11', 'FRO', '5 Under $35 Dividend Stocks to Buy Now', '24/7 Wall St.', 'https://finance.yahoo.com/news/5-under-35-dividend-stocks-191720390.html', '2025-12-09 19:17:20.000000', None)
2026-02-05 01:08:56,287 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:56,288 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('d2900d23-27f1-3e29-a369-3f089a44aee8', 'FRO', 'Frontline (NYSE:FRO) Will Pay A Smaller Dividend Than Last Year', 'Simply Wall St.', 'https://finance.yahoo.com/news/frontline-nyse-fro-pay-smaller-175418119.html', '2025-12-09 17:54:18.000000', None)
2026-02-05 01:08:56,288 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:56,288 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('ed10202e-de30-3be2-a563-3a0fb5bfeeb3', 'FRO', '3 Growth Companies With High Insider Ownership And 25% Return On Equity', 'Simply Wall St.', 'https://finance.yahoo.com/news/3-growth-companies-high-insider-173547980.html', '2025-12-08 17:35:47.000000', None)
2026-02-05 01:08:56,289 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:56,289 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('2679188b-75ba-397e-8f88-586e8e18ad50', 'FRO', 'We Think That There Are More Issues For Frontline (NYSE:FRO) Than Just Sluggish Earnings', 'Simply Wall St.', 'https://finance.yahoo.com/news/think-more-issues-frontline-nyse-113051973.html', '2025-11-28 11:30:51.000000', None)
2026-02-05 01:08:56,290 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:56,290 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('b736d9e8-bcc5-329c-8bf9-5b1d2c4c6216', 'FRO', 'Frontline plc (FRO) Falls After Missing Profit Estimates in Q3', 'Insider Monkey', 'https://finance.yahoo.com/news/frontline-plc-fro-falls-missing-011213068.html', '2025-11-28 01:12:13.000000', None)
2026-02-05 01:08:56,290 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:08:56,290 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('21ef44d8-f984-32fe-bcc4-d88c63abca41', 'FRO', 'Frontline (NYSE:FRO) Is Reducing Its Dividend To $0.19', 'Simply Wall St.', 'https://finance.yahoo.com/news/frontline-nyse-fro-reducing-dividend-123158838.html', '2025-11-25 12:31:58.000000', None)
2026-02-05 01:08:56,291 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, fifty_two_week_high=? WHERE stocks.ticker = ?
2026-02-05 01:08:56,291 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (6251250688.0, 28.65306, 9.503985, 29.04, 'FRO')
2026-02-05 01:08:56,292 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:08:56,292 - sqlalchemy.engine.Engine - INFO - [cached since 237s ago] (28.08, -2.6352296, 64.67956708049374, 26.522000122070313, 24.21400001525879, 21.21134729385376, 1.3553013251792585, 1.1775172079362553, 0.17778411724300325, 29.482146417510982, 26.522000122070313, 23.561853826629644, 0.927142824445452, 83.98602983618055, 85.22891965137306, 81.50025020579554, 3315078.2, 0.2895750694508503, '2026-02-04 17:08:55.765655', 'FRO')
2026-02-05 01:08:56,292 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:08:56,293 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:56,293 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:08:56,293 - sqlalchemy.engine.Engine - INFO - [cached since 237s ago] ('FRO',)
2026-02-05 01:08:56,294 - api_logger - INFO - rid=/api/portfolio/FRO/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=533.04ms
2026-02-05 01:08:56,294 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:56,301 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:56,301 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:56,301 - sqlalchemy.engine.Engine - INFO - [cached since 243.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:56,302 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:08:56,302 - sqlalchemy.engine.Engine - INFO - [cached since 243.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:56,304 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.43ms
2026-02-05 01:08:56,304 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:57,470 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:57,470 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:57,470 - sqlalchemy.engine.Engine - INFO - [cached since 244.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:57,478 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:08:57,479 - sqlalchemy.engine.Engine - INFO - [cached since 244.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:08:57,484 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=15.83ms
2026-02-05 01:08:57,486 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:57,491 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:57,491 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:57,491 - sqlalchemy.engine.Engine - INFO - [cached since 244.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:57,493 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:08:57,493 - sqlalchemy.engine.Engine - INFO - [cached since 244.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:08:57,494 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:08:57,495 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.57ms
2026-02-05 01:08:57,564 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:08:57,564 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:08:57,564 - sqlalchemy.engine.Engine - INFO - [cached since 244.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:08:57,565 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:08:57,568 - sqlalchemy.engine.Engine - INFO - [cached since 244.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:08:57,572 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=17.24ms
2026-02-05 01:08:57,572 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:00,813 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:00,814 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 01:09:00,814 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] ('%N%', '%N%', 10, 0)
2026-02-05 01:09:00,815 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=19.36ms
2026-02-05 01:09:00,816 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:01,868 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:01,870 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 01:09:01,870 - sqlalchemy.engine.Engine - INFO - [cached since 1.056s ago] ('%N D%', '%N D%', 10, 0)
2026-02-05 01:09:01,874 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.21ms
2026-02-05 01:09:01,875 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:02,163 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:02,164 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 01:09:02,164 - sqlalchemy.engine.Engine - INFO - [cached since 1.349s ago] ('%N D X%', '%N D X%', 10, 0)
2026-02-05 01:09:02,164 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.80ms
2026-02-05 01:09:02,165 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:02,302 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:02,303 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 01:09:02,303 - sqlalchemy.engine.Engine - INFO - [cached since 1.488s ago] ('%N D X%', '%N D X%', 10, 0)
2026-02-05 01:09:02,309 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:02,310 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 01:09:02,310 - sqlalchemy.engine.Engine - INFO - [cached since 1.496s ago] ('%NDX%', '%NDX%', 10, 0)
2026-02-05 01:09:02,311 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1.94ms
2026-02-05 01:09:02,311 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:02,991 - yfinance - ERROR - HTTP Error 404: {"quoteSummary":{"result":null,"error":{"code":"Not Found","description":"Quote not found for symbol: N D X"}}}
2026-02-05 01:09:03,493 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1191.14ms
2026-02-05 01:09:03,494 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:03,631 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:03,632 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 01:09:03,632 - sqlalchemy.engine.Engine - INFO - [cached since 2.818s ago] ('%NDX%', '%NDX%', 10, 0)
2026-02-05 01:09:04,426 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:09:04,426 - sqlalchemy.engine.Engine - INFO - [cached since 245.1s ago] ('NDX',)
2026-02-05 01:09:04,432 - sqlalchemy.engine.Engine - INFO - INSERT INTO stocks (ticker, name, sector, industry, market_cap, pe_ratio, forward_pe, eps, dividend_yield, beta, fifty_two_week_high, fifty_two_week_low, exchange, currency) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-05 01:09:04,432 - sqlalchemy.engine.Engine - INFO - [generated in 0.00036s] ('NDX', 'NASDAQ 100 PR USD', None, None, None, None, None, None, None, None, None, None, None, 'USD')
2026-02-05 01:09:04,433 - sqlalchemy.engine.Engine - INFO - INSERT INTO market_data_cache (ticker, current_price, change_percent, rsi_14, ma_20, ma_50, ma_200, macd_val, macd_signal, macd_hist, bb_upper, bb_middle, bb_lower, atr_14, k_line, d_line, j_line, volume_ma_20, volume_ratio, market_status, last_updated) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-05 01:09:04,433 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('NDX', 17421.0, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, None, 'CLOSED', '2026-02-04 17:09:04.433880')
2026-02-05 01:09:04,434 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:09:04,435 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:04,435 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE lower(stocks.ticker) LIKE lower(?) OR lower(stocks.name) LIKE lower(?)
 LIMIT ? OFFSET ?
2026-02-05 01:09:04,435 - sqlalchemy.engine.Engine - INFO - [cached since 3.621s ago] ('%NDX%', '%NDX%', 10, 0)
2026-02-05 01:09:04,436 - api_logger - INFO - rid=/api/portfolio/search method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=805.04ms
2026-02-05 01:09:04,436 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:07,540 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:07,540 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:07,541 - sqlalchemy.engine.Engine - INFO - [cached since 254.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:07,542 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-05 01:09:07,542 - sqlalchemy.engine.Engine - INFO - [cached since 233.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX')
2026-02-05 01:09:07,543 - sqlalchemy.engine.Engine - INFO - INSERT INTO portfolios (id, user_id, ticker, quantity, avg_cost, target_price, stop_loss_price, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?)
2026-02-05 01:09:07,543 - sqlalchemy.engine.Engine - INFO - [generated in 0.00053s] ('68813b20-fe33-442b-98e4-a9e4855ee061', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 0.0, 0.0, None, None, '2026-02-04 17:09:07.543044', '2026-02-04 17:09:07.543045')
2026-02-05 01:09:07,544 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:09:07,544 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:07,544 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:09:07,544 - sqlalchemy.engine.Engine - INFO - [cached since 249.6s ago] ('NDX',)
2026-02-05 01:09:07,545 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:09:07,545 - sqlalchemy.engine.Engine - INFO - [cached since 249.6s ago] ('NDX',)
2026-02-05 01:09:07,545 - api_logger - INFO - rid=/api/portfolio/ method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.05ms
2026-02-05 01:09:07,545 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:07,545 - app.api.v1.endpoints.portfolio - INFO -  Background fetch for NDX completed
2026-02-05 01:09:07,549 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:07,549 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:07,549 - sqlalchemy.engine.Engine - INFO - [cached since 254.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:07,549 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:09:07,549 - sqlalchemy.engine.Engine - INFO - [cached since 254.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:07,551 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.75ms
2026-02-05 01:09:07,551 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:20,558 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:20,558 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:20,558 - sqlalchemy.engine.Engine - INFO - [cached since 267.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:20,560 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:20,560 - sqlalchemy.engine.Engine - INFO - [cached since 267.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:20,561 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:20,562 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.03ms
2026-02-05 01:09:20,585 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:20,586 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:20,586 - sqlalchemy.engine.Engine - INFO - [cached since 267.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:20,587 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:20,587 - sqlalchemy.engine.Engine - INFO - [cached since 267.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'FRO', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:20,587 - api_logger - INFO - rid=/api/analysis/FRO method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.23ms
2026-02-05 01:09:20,588 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:20,640 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:20,640 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:20,640 - sqlalchemy.engine.Engine - INFO - [cached since 267.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:20,641 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:20,641 - sqlalchemy.engine.Engine - INFO - [cached since 267.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:20,642 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:20,642 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.31ms
2026-02-05 01:09:22,194 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:22,195 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:22,195 - sqlalchemy.engine.Engine - INFO - [cached since 269s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:22,195 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:09:22,196 - sqlalchemy.engine.Engine - INFO - [cached since 264.2s ago] ('NDX',)
2026-02-05 01:09:22,562 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:09:22,562 - sqlalchemy.engine.Engine - INFO - [cached since 263.2s ago] ('NDX',)
2026-02-05 01:09:22,563 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:09:22,563 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('52b9d956-c078-3efc-aa2c-80328cf9ae4a', 'NDX', 'Trump ally Kevin Hassett seen as frontrunner for Fed chair', 'Investing.com', 'https://finance.yahoo.com/news/trump-ally-kevin-hassett-seen-174023957.html', '2025-11-25 17:40:23.000000', None)
2026-02-05 01:09:22,564 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:09:22,564 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('c01627c7-1c5c-3dd5-a66d-a3cbe5c5e9ec', 'NDX', 'Cleveland Feds Hammack opposed rate cut, citing inflation risks', 'Investing.com', 'https://finance.yahoo.com/news/cleveland-fed-hammack-opposed-rate-170122987.html', '2025-10-31 17:01:22.000000', None)
2026-02-05 01:09:22,565 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:09:22,565 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('8afbcd89-60e5-366a-a5b7-203e7d2b5dd2', 'NDX', 'Feds Waller suggests balance sheet reduction target of $5.8 trillion', 'Investing.com', 'https://finance.yahoo.com/news/fed-waller-suggests-balance-sheet-173817257.html', '2025-07-10 17:38:17.000000', None)
2026-02-05 01:09:22,565 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:09:22,565 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('5ead9f8b-aa88-3746-96de-d39bfa9298c0', 'NDX', 'US stocks tumble after Trump threatens 25% tariffs on Japan, S. Korea', 'Investing.com', 'https://finance.yahoo.com/news/us-stocks-tumble-trump-threatens-170256874.html', '2025-07-07 17:02:56.000000', None)
2026-02-05 01:09:22,566 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET fifty_two_week_high=? WHERE stocks.ticker = ?
2026-02-05 01:09:22,566 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] (17596.27, 'NDX')
2026-02-05 01:09:22,566 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, market_status=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:09:22,566 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (0.09653292, 42.56199122485201, 25596.27900390625, 25358.5239453125, 23552.100289676968, 70.99721019834396, 91.12201233093799, -20.124802132594027, 26100.589824441562, 25596.27900390625, 25091.968183370936, 215.61118861607142, 46.953977448043055, 65.87434034124895, 9.113251661631267, 0.0, 0.0, <MarketStatus.OPEN: 'OPEN'>, '2026-02-04 17:09:22.196574', 'NDX')
2026-02-05 01:09:22,567 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:09:22,568 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:22,568 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:09:22,568 - sqlalchemy.engine.Engine - INFO - [cached since 263.2s ago] ('NDX',)
2026-02-05 01:09:22,568 - api_logger - INFO - rid=/api/portfolio/NDX/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=375.08ms
2026-02-05 01:09:22,570 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:22,574 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:22,574 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:22,574 - sqlalchemy.engine.Engine - INFO - [cached since 269.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:22,574 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:09:22,575 - sqlalchemy.engine.Engine - INFO - [cached since 269.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:22,576 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.82ms
2026-02-05 01:09:22,576 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:44,910 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:44,911 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:44,911 - sqlalchemy.engine.Engine - INFO - [cached since 291.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:44,913 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:44,913 - sqlalchemy.engine.Engine - INFO - [cached since 291.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:44,914 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:44,915 - api_logger - INFO - rid=/api/analysis/MSFT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.83ms
2026-02-05 01:09:44,933 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:44,933 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:44,933 - sqlalchemy.engine.Engine - INFO - [cached since 291.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:44,934 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:44,934 - sqlalchemy.engine.Engine - INFO - [cached since 291.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'NDX', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:44,935 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:44,936 - api_logger - INFO - rid=/api/analysis/NDX method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.93ms
2026-02-05 01:09:44,985 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:44,985 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:44,986 - sqlalchemy.engine.Engine - INFO - [cached since 291.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:44,992 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:44,994 - sqlalchemy.engine.Engine - INFO - [cached since 291.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:44,998 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:44,999 - api_logger - INFO - rid=/api/analysis/MSFT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=16.49ms
2026-02-05 01:09:48,670 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:48,671 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:48,671 - sqlalchemy.engine.Engine - INFO - [cached since 295.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:48,674 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:48,675 - sqlalchemy.engine.Engine - INFO - [cached since 295.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:48,676 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:48,676 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.96ms
2026-02-05 01:09:48,698 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:48,698 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:48,698 - sqlalchemy.engine.Engine - INFO - [cached since 295.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:48,699 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:48,699 - sqlalchemy.engine.Engine - INFO - [cached since 295.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'MSFT', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:48,700 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:48,700 - api_logger - INFO - rid=/api/analysis/MSFT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.91ms
2026-02-05 01:09:48,743 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:48,744 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:48,744 - sqlalchemy.engine.Engine - INFO - [cached since 295.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:48,746 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:48,746 - sqlalchemy.engine.Engine - INFO - [cached since 295.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:48,747 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:48,747 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.22ms
2026-02-05 01:09:59,690 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:59,695 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:59,695 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:59,695 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:59,695 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:59,695 - sqlalchemy.engine.Engine - INFO - [cached since 0.0003991s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:59,696 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:59,696 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:59,696 - sqlalchemy.engine.Engine - INFO - [cached since 0.0006752s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:59,697 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:59,697 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:59,698 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:09:59,698 - sqlalchemy.engine.Engine - INFO - [generated in 0.00010s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:59,699 - api_logger - INFO - rid=/api/user/me method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.36ms
2026-02-05 01:09:59,699 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:59,699 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:59,700 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:59,700 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:59,700 - sqlalchemy.engine.Engine - INFO - [cached since 0.004871s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:59,700 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.66ms
2026-02-05 01:09:59,701 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=16.47ms
2026-02-05 01:09:59,702 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:59,702 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:59,702 - sqlalchemy.engine.Engine - INFO - [cached since 0.006823s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:59,702 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:59,702 - api_logger - INFO - rid=/api/user/me method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.10ms
2026-02-05 01:09:59,703 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:59,703 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:09:59,703 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:09:59,703 - sqlalchemy.engine.Engine - INFO - [cached since 0.008172s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:59,703 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:09:59,704 - sqlalchemy.engine.Engine - INFO - [cached since 0.007091s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'GOOGL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:09:59,704 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:09:59,704 - sqlalchemy.engine.Engine - INFO - [cached since 0.006155s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:09:59,704 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:09:59,705 - api_logger - INFO - rid=/api/analysis/GOOGL method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.48ms
2026-02-05 01:09:59,706 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.91ms
2026-02-05 01:09:59,706 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:10:01,660 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:10:01,661 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:10:01,661 - sqlalchemy.engine.Engine - INFO - [cached since 1.966s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:10:01,662 - api_logger - INFO - rid=/api/user/me method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.36ms
2026-02-05 01:10:01,663 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:10:01,664 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:10:01,665 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:10:01,665 - sqlalchemy.engine.Engine - INFO - [cached since 1.97s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:10:01,665 - api_logger - INFO - rid=/api/user/me method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.32ms
2026-02-05 01:10:01,666 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:10:04,859 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:10:04,860 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:10:04,860 - sqlalchemy.engine.Engine - INFO - [cached since 5.165s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:10:04,862 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:10:04,862 - sqlalchemy.engine.Engine - INFO - [cached since 5.164s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:10:04,864 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.36ms
2026-02-05 01:10:04,865 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:10:04,867 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:10:04,868 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:10:04,868 - sqlalchemy.engine.Engine - INFO - [cached since 5.173s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:10:04,871 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:10:04,871 - sqlalchemy.engine.Engine - INFO - [cached since 5.173s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:10:04,874 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.94ms
2026-02-05 01:10:04,878 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:10:04,888 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:10:04,888 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:10:04,888 - sqlalchemy.engine.Engine - INFO - [cached since 5.193s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:10:04,892 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:10:04,892 - sqlalchemy.engine.Engine - INFO - [cached since 5.195s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:10:04,894 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.04ms
2026-02-05 01:10:04,895 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:10:08,170 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:10:08,171 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:10:08,171 - sqlalchemy.engine.Engine - INFO - [cached since 8.476s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:10:08,173 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:10:08,173 - sqlalchemy.engine.Engine - INFO - [cached since 8.476s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:10:08,175 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.12ms
2026-02-05 01:10:08,176 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:10:08,197 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:10:08,197 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:10:08,197 - sqlalchemy.engine.Engine - INFO - [cached since 8.502s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:10:08,198 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:10:08,198 - sqlalchemy.engine.Engine - INFO - [cached since 8.502s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:10:08,199 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.22ms
2026-02-05 01:10:08,199 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:10:08,255 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:10:08,255 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:10:08,255 - sqlalchemy.engine.Engine - INFO - [cached since 8.56s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:10:08,256 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:10:08,258 - sqlalchemy.engine.Engine - INFO - [cached since 8.562s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:10:08,264 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=10.34ms
2026-02-05 01:10:08,265 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:11:23,378 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:11:23,378 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:11:23,379 - sqlalchemy.engine.Engine - INFO - [cached since 83.68s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:11:23,382 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:11:23,382 - sqlalchemy.engine.Engine - INFO - [generated in 0.00051s] ('SNDK',)
2026-02-05 01:11:24,560 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:11:24,560 - sqlalchemy.engine.Engine - INFO - [generated in 0.00047s] ('SNDK',)
2026-02-05 01:11:24,563 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:11:24,563 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ('86f3263f-c1b4-3bcb-88bd-1738661f34f1', 'SNDK', 'Barclays Nearly Doubles SanDisk (SNDK) PT to $750 Following Separation, FQ2 2026 Earnings Beat', 'Insider Monkey', 'https://finance.yahoo.com/news/barclays-nearly-doubles-sandisk-sndk-140852145.html', '2026-02-04 14:08:52.000000', None)
2026-02-05 01:11:24,564 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:11:24,564 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('6fec5483-89a7-3c5b-9830-51a91542a546', 'SNDK', 'Social Buzz: Wallstreetbets Stocks Mixed Premarket Wednesday; Super Micro Computer to Advance, Advanced Micro Devices to Decline', 'MT Newswires', 'https://finance.yahoo.com/news/social-buzz-wallstreetbets-stocks-mixed-113847300.html', '2026-02-04 11:38:47.000000', None)
2026-02-05 01:11:24,564 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:11:24,565 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('d2036172-4375-3858-9a41-a99277cb8878', 'SNDK', 'Why Sandisk (SNDK) Is Up 31.8% After Extending Its AI-Focused Kioxia Flash Venture', 'Simply Wall St.', 'https://finance.yahoo.com/news/why-sandisk-sndk-31-8-031805472.html', '2026-02-04 03:18:05.000000', None)
2026-02-05 01:11:24,565 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:11:24,565 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('609dead7-d6ca-39f3-9d01-1d3fb8ffeafc', 'SNDK', 'Up 1,500%, Should You Buy Sandisk Right Now?', 'Motley Fool', 'https://finance.yahoo.com/news/1-500-buy-sandisk-now-013800184.html', '2026-02-04 01:38:00.000000', None)
2026-02-05 01:11:24,566 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:11:24,566 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('3b676487-cfd3-3222-9b19-5d5d91427c70', 'SNDK', 'AIGH Capital Dumps 2.6 Million Lumen Technologies Shares In $15.6 Million Exit', 'Motley Fool', 'https://finance.yahoo.com/news/aigh-capital-dumps-2-6-222003255.html', '2026-02-03 22:20:03.000000', None)
2026-02-05 01:11:24,566 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:11:24,566 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('fd8a79f1-6c3e-3d48-85fc-04e7d14584e6', 'SNDK', '2 Reasons Why SanDisk Stock Could Keep Climbing In 2026', 'Barchart', 'https://finance.yahoo.com/news/2-reasons-why-sandisk-stock-193100088.html', '2026-02-03 19:31:00.000000', None)
2026-02-05 01:11:24,568 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:11:24,568 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('69732aa6-00b4-3730-a337-f99a093f1c81', 'SNDK', 'Top analyst drops eye-popping new price target on SanDisk stock', 'TheStreet', 'https://finance.yahoo.com/news/top-analyst-drops-eye-popping-183300029.html', '2026-02-03 18:33:00.000000', None)
2026-02-05 01:11:24,569 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:11:24,569 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('ef793196-dd21-3ddc-939c-aa39a1fd21e5', 'SNDK', 'Exploring US High Growth Tech Stocks This February 2026', 'Simply Wall St.', 'https://finance.yahoo.com/news/exploring-us-high-growth-tech-173842405.html', '2026-02-03 17:38:42.000000', None)
2026-02-05 01:11:24,569 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:11:24,569 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('9541e60a-41db-3495-b3f1-794b7de75c9f', 'SNDK', "Sandisk Remains a Hot Buy. Can the Stock's Momentum Continue?", 'Motley Fool', 'https://finance.yahoo.com/news/sandisk-remains-hot-buy-stocks-142400201.html', '2026-02-03 14:24:00.000000', None)
2026-02-05 01:11:24,570 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:11:24,570 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('3f6b5d68-0813-3f6a-b8de-1caff40e5a68', 'SNDK', 'Sandisk Stock: Is Wall Street Bullish or Bearish?', 'Barchart', 'https://finance.yahoo.com/news/sandisk-stock-wall-street-bullish-140646674.html', '2026-02-03 14:06:46.000000', None)
2026-02-05 01:11:24,571 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 01:11:24,571 - sqlalchemy.engine.Engine - INFO - [generated in 0.00013s] (90307895296.0, 8.305106, 'SNDK')
2026-02-05 01:11:24,573 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:11:24,573 - sqlalchemy.engine.Engine - INFO - [generated in 0.00015s] (611.9779, -12.010195, 74.5522391551836, 477.75389251708987, 330.0069570922852, 144.61601453781128, 89.42865259927459, 74.4186203944772, 15.010032204797383, 681.3653304736988, 477.75389251708987, 274.14245456048087, 77.05607756494001, 82.67540396121747, 65.8174247723851, 19253385.45, 0.7651801828960942, '2026-02-04 17:11:23.383649', 'SNDK')
2026-02-05 01:11:24,574 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:11:24,575 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:11:24,575 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:11:24,575 - sqlalchemy.engine.Engine - INFO - [generated in 0.00008s] ('SNDK',)
2026-02-05 01:11:24,577 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-05 01:11:24,577 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('SNDK', 5, 0)
2026-02-05 01:11:24,578 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-05 01:11:24,578 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-05 01:11:24,579 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:11:24,579 - sqlalchemy.engine.Engine - INFO - [cached since 84.88s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:11:24,579 - app.api.v1.endpoints.analysis - INFO - Returning latest report for SNDK (model: qwen-3-vl-thinking)
2026-02-05 01:11:24,580 - api_logger - INFO - rid=/api/analysis/SNDK method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1208.98ms
2026-02-05 01:11:24,580 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:11:52,453 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:11:52,453 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:11:52,453 - sqlalchemy.engine.Engine - INFO - [cached since 112.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:11:52,455 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:11:52,457 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:11:52,457 - sqlalchemy.engine.Engine - INFO - [cached since 112.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:11:52,461 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:11:52,461 - sqlalchemy.engine.Engine - INFO - [cached since 112.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:11:52,462 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:11:52,462 - sqlalchemy.engine.Engine - INFO - [cached since 112.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:11:52,463 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.28ms
2026-02-05 01:11:52,464 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:11:52,465 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.15ms
2026-02-05 01:11:52,466 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:12:03,716 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:12:03,717 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:12:03,717 - sqlalchemy.engine.Engine - INFO - [cached since 124s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:12:03,720 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:12:03,720 - sqlalchemy.engine.Engine - INFO - [cached since 40.34s ago] ('SNDK',)
2026-02-05 01:12:03,722 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-05 01:12:03,722 - sqlalchemy.engine.Engine - INFO - [cached since 39.15s ago] ('SNDK', 5, 0)
2026-02-05 01:12:03,724 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-05 01:12:03,724 - sqlalchemy.engine.Engine - INFO - [cached since 39.15s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK')
2026-02-05 01:12:10,888 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-05 01:12:10,895 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-05 01:12:10,896 - sqlalchemy.engine.Engine - INFO - [generated in 0.00098s] ('9fd86f62-243a-4a1e-bdb5-fe062af4be02', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', '{"market_data": {"current_price": 611.9779, "change_percent": -12.010195, "rsi_14": 74.5522391551836, "ma_20": 477.75389251708987, "ma_50": 330.00695 ... (225 characters truncated) ... market_status": "OPEN"}, "portfolio_data": {"avg_cost": 480.0, "quantity": 5.0, "unrealized_pl": 659.8894999999999, "pl_percent": 27.49539583333333}}', '{\n    "technical_analysis": "$611.98681.37RSI74.55MACDKDJK77.06-12% ... (430 characters truncated) ... $750MACD15.01RSI38012%10580-59015-30%"\n}', None, 'qwen-3-vl-thinking', '2026-02-04 17:12:10.895768')
2026-02-05 01:12:10,898 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:12:10,900 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:12:10,906 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-05 01:12:10,906 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('9fd86f62-243a-4a1e-bdb5-fe062af4be02',)
2026-02-05 01:12:10,908 - api_logger - INFO - rid=/api/analysis/SNDK method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7193.66ms
2026-02-05 01:12:10,908 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:14:45,468 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:14:45,469 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:14:45,469 - sqlalchemy.engine.Engine - INFO - [cached since 285.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:14:45,472 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:14:45,472 - sqlalchemy.engine.Engine - INFO - [cached since 285.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:14:45,474 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:14:45,475 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.07ms
2026-02-05 01:14:45,488 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:14:45,488 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:14:45,489 - sqlalchemy.engine.Engine - INFO - [cached since 285.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:14:45,491 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:14:45,491 - sqlalchemy.engine.Engine - INFO - [cached since 285.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SNDK', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:14:45,496 - api_logger - INFO - rid=/api/analysis/SNDK method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.06ms
2026-02-05 01:14:45,497 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:14:45,567 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:14:45,570 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:14:45,570 - sqlalchemy.engine.Engine - INFO - [cached since 285.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:14:45,572 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:14:45,572 - sqlalchemy.engine.Engine - INFO - [cached since 285.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:14:45,573 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:14:45,574 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.53ms
2026-02-05 01:14:53,503 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:14:53,504 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:14:53,504 - sqlalchemy.engine.Engine - INFO - [cached since 293.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:14:53,506 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-05 01:14:53,506 - sqlalchemy.engine.Engine - INFO - [cached since 208.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD')
2026-02-05 01:14:53,510 - sqlalchemy.engine.Engine - INFO - UPDATE portfolios SET quantity=?, avg_cost=?, updated_at=? WHERE portfolios.id = ?
2026-02-05 01:14:53,510 - sqlalchemy.engine.Engine - INFO - [generated in 0.00049s] (3.0, 220.0, '2026-02-04 17:14:53.510345', '7c543448-e680-4d2b-9f86-61fca1b125db')
2026-02-05 01:14:53,512 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:14:53,513 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:14:53,513 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:14:53,513 - sqlalchemy.engine.Engine - INFO - [cached since 210.1s ago] ('AMD',)
2026-02-05 01:14:53,515 - api_logger - INFO - rid=/api/portfolio/ method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=17.17ms
2026-02-05 01:14:53,516 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:14:53,526 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:14:53,526 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:14:53,526 - sqlalchemy.engine.Engine - INFO - [cached since 293.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:14:53,528 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:14:53,528 - sqlalchemy.engine.Engine - INFO - [cached since 293.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:14:53,532 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.77ms
2026-02-05 01:14:53,532 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:14:56,141 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:14:56,141 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:14:56,142 - sqlalchemy.engine.Engine - INFO - [cached since 296.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:14:56,143 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:14:56,143 - sqlalchemy.engine.Engine - INFO - [cached since 212.8s ago] ('AMD',)
2026-02-05 01:14:56,947 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:14:56,948 - sqlalchemy.engine.Engine - INFO - [cached since 212.4s ago] ('AMD',)
2026-02-05 01:14:56,951 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:14:56,952 - sqlalchemy.engine.Engine - INFO - [no key 0.00092s] ('a6d983d7-9152-452b-bce4-1991190f132a', 'AMD', 'AMD stock plummets despite Q4 earnings beat', 'Yahoo Finance', 'https://finance.yahoo.com/news/amd-stock-plummets-despite-q4-earnings-beat-204747905.html', '2026-02-02 20:47:47.000000', None)
2026-02-05 01:14:56,955 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:14:56,955 - sqlalchemy.engine.Engine - INFO - [no key 0.00033s] ('d08d3509-63d0-32b9-8424-8a335effcbc4', 'AMD', "AMD's Helios will help close the gap with Nvidia: Analyst", 'Yahoo Finance Video', 'https://finance.yahoo.com/video/amds-helios-help-close-gap-142148616.html', '2026-02-04 14:21:48.000000', None)
2026-02-05 01:14:56,956 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:14:56,956 - sqlalchemy.engine.Engine - INFO - [no key 0.00032s] ('9a2736d5-db8d-3303-9689-3bca83a580f8', 'AMD', 'AMD stock falls despite topping Q4 earnings, guidance estimates', 'Yahoo Finance Video', 'https://finance.yahoo.com/video/amd-stock-falls-despite-topping-212917099.html', '2026-02-03 21:29:17.000000', None)
2026-02-05 01:14:56,957 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:14:56,958 - sqlalchemy.engine.Engine - INFO - [no key 0.00028s] ('0158218b-0747-4fc5-a857-3639a00b0e64', 'AMD', 'Stock market today: Dow, Nasdaq, S&P 500 sink as tech falters amid flood of earnings', 'Yahoo Finance', 'https://finance.yahoo.com/news/live/stock-market-today-dow-nasdaq-sp-500-sink-as-tech-falters-amid-flood-of-earnings-192429486.html', '2026-02-03 19:24:29.000000', None)
2026-02-05 01:14:56,959 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:14:56,959 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('d1ebf8e3-dd9f-37a0-9abb-0ae02eea5ba4', 'AMD', 'Intel Says It Will Build Its Own GPUs', 'GuruFocus.com', 'https://finance.yahoo.com/news/intel-says-build-own-gpus-170210314.html', '2026-02-04 17:02:10.000000', None)
2026-02-05 01:14:56,960 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:14:56,960 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('95eff06b-9fa2-3b22-b1b7-24055bf9706b', 'AMD', 'Stock Market Today: Dow Rises, Nasdaq Sinks Amid Tech Sell-Off; AMD, Uber Dive (Live Coverage)', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-sp500-nasdaq-amd-stock-amd-earnings/?src=A00220&yptr=yahoo', '2026-02-04 16:51:26.000000', None)
2026-02-05 01:14:56,962 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:14:56,962 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('d48334d4-779e-3592-9394-06ceb7887432', 'AMD', 'Top Midday Stories: Lilly Shares Soar After Strong Q4 Earnings, Guidance; Uber Q4 EPS Misses Target, CFO Stepping Down', 'MT Newswires', 'https://finance.yahoo.com/news/top-midday-stories-lilly-shares-163658826.html', '2026-02-04 16:36:58.000000', None)
2026-02-05 01:14:56,963 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:14:56,963 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('c7870262-969a-3168-8c7c-20671d17eb27', 'AMD', 'Advanced Micro Devices Posts Strong Q4, But Customers Await Actual MI455 Performance, Morgan Stanley Says', 'MT Newswires', 'https://finance.yahoo.com/news/advanced-micro-devices-posts-strong-162031902.html', '2026-02-04 16:20:31.000000', None)
2026-02-05 01:14:56,964 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:14:56,964 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('df172b3b-9b94-352e-a06b-7141368fdfaf', 'AMD', 'Buy the weakness in this major chip stock, Truist says', 'Investing.com', 'https://finance.yahoo.com/news/buy-weakness-major-chip-stock-160040649.html', '2026-02-04 16:00:40.000000', None)
2026-02-05 01:14:56,964 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:14:56,965 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('3614adf2-1b09-33a2-b1b7-34adfb20bdf8', 'AMD', 'AMD Earnings Beat Expectations. Why Its One of the S&P 500s Worst Stocks Today.', 'Barrons.com', 'https://www.barrons.com/articles/amd-stock-price-earnings-03d39f00?siteid=yhoof2&yptr=yahoo', '2026-02-04 15:32:00.000000', None)
2026-02-05 01:14:56,966 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 01:14:56,966 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] (330068164608.0, 77.67793, 19.30287, 'AMD')
2026-02-05 01:14:56,967 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:14:56,968 - sqlalchemy.engine.Engine - INFO - [cached since 212.4s ago] (202.7394, -16.261454, 40.92706202592785, 233.05596923828125, 221.87998748779296, 177.902696723938, 4.145930615463897, 7.030987155169457, -2.8850565397055608, 271.96022867454724, 233.05596923828125, 194.15170980201526, 28.141512477427938, 45.92736138453216, -7.430185336780511, 39997929.15, 1.5112603148355745, '2026-02-04 17:14:56.144491', 'AMD')
2026-02-05 01:14:56,969 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:14:56,970 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:14:56,970 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:14:56,971 - sqlalchemy.engine.Engine - INFO - [cached since 212.4s ago] ('AMD',)
2026-02-05 01:14:56,972 - api_logger - INFO - rid=/api/portfolio/AMD/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=832.76ms
2026-02-05 01:14:56,972 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:14:56,981 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:14:56,981 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:14:56,981 - sqlalchemy.engine.Engine - INFO - [cached since 297.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:14:56,982 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:14:56,982 - sqlalchemy.engine.Engine - INFO - [cached since 297.3s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:14:56,986 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.98ms
2026-02-05 01:14:56,987 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:14:58,519 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:14:58,520 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:14:58,520 - sqlalchemy.engine.Engine - INFO - [cached since 298.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:14:58,522 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:14:58,522 - sqlalchemy.engine.Engine - INFO - [cached since 215.1s ago] ('AMD',)
2026-02-05 01:14:58,524 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-05 01:14:58,524 - sqlalchemy.engine.Engine - INFO - [cached since 213.9s ago] ('AMD', 5, 0)
2026-02-05 01:14:58,525 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-05 01:14:58,525 - sqlalchemy.engine.Engine - INFO - [cached since 213.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD')
2026-02-05 01:14:58,527 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:14:58,527 - sqlalchemy.engine.Engine - INFO - [cached since 298.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:15:04,447 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-05 01:15:04,453 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-05 01:15:04,453 - sqlalchemy.engine.Engine - INFO - [cached since 173.6s ago] ('f56287f1-a2c9-4f22-aded-01f387b8b134', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', '{"market_data": {"current_price": 202.7394, "change_percent": -16.261454, "rsi_14": 40.92706202592785, "ma_20": 233.05596923828125, "ma_50": 221.8799 ... (231 characters truncated) ... rket_status": "OPEN"}, "portfolio_data": {"avg_cost": 220.0, "quantity": 3.0, "unrealized_pl": -51.78180000000003, "pl_percent": -7.845727272727278}}', '{\n    "technical_analysis": "AMD202.74MACDKDJK28.14RSI40.93-16.26% ... (369 characters truncated) ... 051.8194194215Intel GPU"\n}', None, 'qwen-3-vl-thinking', '2026-02-04 17:15:04.453100')
2026-02-05 01:15:04,456 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:15:04,458 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:15:04,459 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-05 01:15:04,459 - sqlalchemy.engine.Engine - INFO - [cached since 173.6s ago] ('f56287f1-a2c9-4f22-aded-01f387b8b134',)
2026-02-05 01:15:04,462 - api_logger - INFO - rid=/api/analysis/AMD method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5944.91ms
2026-02-05 01:15:04,463 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:29,338 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:29,338 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:29,338 - sqlalchemy.engine.Engine - INFO - [cached since 389.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:29,339 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:29,340 - sqlalchemy.engine.Engine - INFO - [cached since 389.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:29,342 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.27ms
2026-02-05 01:16:29,342 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:29,366 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:29,367 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:29,367 - sqlalchemy.engine.Engine - INFO - [cached since 389.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:29,368 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:29,368 - sqlalchemy.engine.Engine - INFO - [cached since 389.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:29,369 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.69ms
2026-02-05 01:16:29,369 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:29,446 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:29,446 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:29,446 - sqlalchemy.engine.Engine - INFO - [cached since 389.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:29,455 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:29,455 - sqlalchemy.engine.Engine - INFO - [cached since 389.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:29,457 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.19ms
2026-02-05 01:16:29,458 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:34,457 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:34,458 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:34,458 - sqlalchemy.engine.Engine - INFO - [cached since 394.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:34,460 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:34,460 - sqlalchemy.engine.Engine - INFO - [cached since 394.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:34,464 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:34,464 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.75ms
2026-02-05 01:16:34,480 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:34,481 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:34,481 - sqlalchemy.engine.Engine - INFO - [cached since 394.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:34,486 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:34,486 - sqlalchemy.engine.Engine - INFO - [cached since 394.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:34,488 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.84ms
2026-02-05 01:16:34,488 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:34,543 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:34,546 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:34,546 - sqlalchemy.engine.Engine - INFO - [cached since 394.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:34,548 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:34,549 - sqlalchemy.engine.Engine - INFO - [cached since 394.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:34,550 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:34,551 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.75ms
2026-02-05 01:16:37,065 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:37,066 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:37,066 - sqlalchemy.engine.Engine - INFO - [cached since 397.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:37,068 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:37,068 - sqlalchemy.engine.Engine - INFO - [cached since 397.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:37,069 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:37,070 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.53ms
2026-02-05 01:16:37,093 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:37,093 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:37,093 - sqlalchemy.engine.Engine - INFO - [cached since 397.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:37,094 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:37,094 - sqlalchemy.engine.Engine - INFO - [cached since 397.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:37,095 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:37,095 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.00ms
2026-02-05 01:16:37,138 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:37,139 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:37,139 - sqlalchemy.engine.Engine - INFO - [cached since 397.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:37,142 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:37,142 - sqlalchemy.engine.Engine - INFO - [cached since 397.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:37,143 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:37,144 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.48ms
2026-02-05 01:16:38,531 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:38,532 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:38,533 - sqlalchemy.engine.Engine - INFO - [cached since 398.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:38,535 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:16:38,536 - sqlalchemy.engine.Engine - INFO - [cached since 315.2s ago] ('SIDU',)
2026-02-05 01:16:39,198 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:16:39,198 - sqlalchemy.engine.Engine - INFO - [cached since 314.6s ago] ('SIDU',)
2026-02-05 01:16:39,203 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:39,204 - sqlalchemy.engine.Engine - INFO - [no key 0.00042s] ('6e1bceaa-3937-3df3-af1b-1d7bab012805', 'SIDU', '5 Drone and Defense Stocks Catching Major Momentum in 2026', 'MarketBeat', 'https://finance.yahoo.com/news/5-drone-defense-stocks-catching-183100760.html', '2026-01-19 18:31:00.000000', None)
2026-02-05 01:16:39,206 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:39,207 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ('d3480080-bb9b-3ffb-b2ec-033191990a3a', 'SIDU', 'Assessing Sidus Space (SIDU) Valuation After SHIELD Contract Win And US$16.2 Million Capital Raise', 'Simply Wall St.', 'https://finance.yahoo.com/news/assessing-sidus-space-sidu-valuation-171206642.html', '2026-01-10 17:12:06.000000', None)
2026-02-05 01:16:39,208 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:39,208 - sqlalchemy.engine.Engine - INFO - [no key 0.00032s] ('cdfec6b5-719d-3b80-a76d-3eb4f4cee25e', 'SIDU', 'Sidus Space (SIDU) Is Up 47.8% After SHIELD Award, Capital Raise, And Board Addition  Has The Bull Case Changed?', 'Simply Wall St.', 'https://finance.yahoo.com/news/sidus-space-sidu-47-8-231521050.html', '2026-01-07 23:15:21.000000', None)
2026-02-05 01:16:39,209 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:39,209 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('c8f8f406-6d34-3c41-b5fb-638513fdd548', 'SIDU', 'BC-Most Active Stocks', 'Associated Press Finance', 'https://finance.yahoo.com/news/bc-most-active-stocks-153019063.html', '2026-01-07 15:30:19.000000', None)
2026-02-05 01:16:39,210 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:39,211 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ('40093cf6-6335-3411-947f-9aa2a020ebc7', 'SIDU', 'US Equity Futures Mixed Pre-Bell Monday Despite Oil Sector Surge', 'MT Newswires', 'https://finance.yahoo.com/news/us-equity-futures-mixed-pre-135133672.html', '2026-01-05 13:51:33.000000', None)
2026-02-05 01:16:39,211 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:39,212 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('58ebb04c-8489-3bae-8919-28ecd8598830', 'SIDU', 'Trump Is Promising That the U.S. Will Return to the Moon. Does That Really Make Little-Known SIDU Stock a Buy?', 'Barchart', 'https://finance.yahoo.com/news/trump-promising-u-return-moon-201859274.html', '2025-12-31 20:18:59.000000', None)
2026-02-05 01:16:39,212 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:39,212 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('e88cef6b-6d7e-3922-b58d-0bd71c37b6c8', 'SIDU', 'Exchange-Traded Funds, Equity Futures Lower Pre-Bell Monday as Investors Await Fed Minutes', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-140417958.html', '2025-12-29 14:04:17.000000', None)
2026-02-05 01:16:39,213 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:39,213 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('69e91213-a98a-3f84-a683-678b8eb8c013', 'SIDU', 'Small space tech companys shares skyrocket on Trump Golden Dome contract', 'Euronews', 'https://finance.yahoo.com/news/small-space-tech-company-shares-165156864.html', '2025-12-26 16:51:56.000000', None)
2026-02-05 01:16:39,214 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:39,214 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('dfa76b1a-1cbc-3a11-bd6f-0b4b1029f825', 'SIDU', 'Exchange-Traded Funds Higher, Equity Futures Mixed Pre-Bell Friday as Market Reopens Following Holiday Break', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-higher-equity-135509039.html', '2025-12-26 13:55:09.000000', None)
2026-02-05 01:16:39,215 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:39,215 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('661b55e7-4a4d-36d4-8cf9-9c09be9c2ef2', 'SIDU', 'US Equity Futures Mixed Amid Signs of Year-End Optimism', 'MT Newswires', 'https://finance.yahoo.com/news/us-equity-futures-mixed-amid-135418353.html', '2025-12-26 13:54:18.000000', None)
2026-02-05 01:16:39,216 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 01:16:39,216 - sqlalchemy.engine.Engine - INFO - [cached since 314.6s ago] (155556672.0, -9.743751, 'SIDU')
2026-02-05 01:16:39,217 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:16:39,217 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (2.3385, -15.93, 34.4256882780566, 3.4659249901771547, 2.319089994430542, 1.5967824986577035, 0.030539592174646746, 0.2640155866416611, -0.23347599446701434, 4.655038823704666, 3.4659249901771547, 2.276811156649644, 0.536428587777274, 8.894266827570783, 17.58934315508122, -8.495885827450088, 33413406.3, 0.28933075284814647, '2026-02-04 17:16:38.537097', 'SIDU')
2026-02-05 01:16:39,218 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:16:39,219 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:39,219 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:16:39,219 - sqlalchemy.engine.Engine - INFO - [cached since 314.6s ago] ('SIDU',)
2026-02-05 01:16:39,220 - api_logger - INFO - rid=/api/portfolio/SIDU/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=691.25ms
2026-02-05 01:16:39,221 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:39,228 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:39,228 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:39,228 - sqlalchemy.engine.Engine - INFO - [cached since 399.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:39,230 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:16:39,230 - sqlalchemy.engine.Engine - INFO - [cached since 399.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:39,232 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.53ms
2026-02-05 01:16:39,232 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:41,786 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:41,786 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:41,787 - sqlalchemy.engine.Engine - INFO - [cached since 402.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:41,788 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:41,788 - sqlalchemy.engine.Engine - INFO - [cached since 402.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:41,789 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:41,789 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.91ms
2026-02-05 01:16:41,810 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:41,811 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:41,811 - sqlalchemy.engine.Engine - INFO - [cached since 402.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:41,811 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:41,811 - sqlalchemy.engine.Engine - INFO - [cached since 402.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SIDU', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:41,812 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:41,812 - api_logger - INFO - rid=/api/analysis/SIDU method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.53ms
2026-02-05 01:16:41,850 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:41,850 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:41,850 - sqlalchemy.engine.Engine - INFO - [cached since 402.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:41,851 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:16:41,851 - sqlalchemy.engine.Engine - INFO - [cached since 402.2s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:16:41,852 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:41,852 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.71ms
2026-02-05 01:16:42,627 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:42,627 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:42,627 - sqlalchemy.engine.Engine - INFO - [cached since 402.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:42,629 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:16:42,629 - sqlalchemy.engine.Engine - INFO - [cached since 319.2s ago] ('RKLB',)
2026-02-05 01:16:43,286 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:16:43,287 - sqlalchemy.engine.Engine - INFO - [cached since 318.7s ago] ('RKLB',)
2026-02-05 01:16:43,288 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:43,290 - sqlalchemy.engine.Engine - INFO - [no key 0.00240s] ('76d81207-0350-369c-8f92-76fb4f9f5066', 'RKLB', 'How & Why SpaceX is Moving the AI Data Center Race to Space', 'Zacks', 'https://finance.yahoo.com/news/why-spacex-moving-ai-data-184100765.html', '2026-02-03 18:41:00.000000', None)
2026-02-05 01:16:43,292 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:43,292 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('be0b2201-588d-3b1f-b314-9d16274fb7fa', 'RKLB', 'Rocket Lab Balances Rapid Electron Launches With Neutron Program Setbacks', 'Simply Wall St.', 'https://finance.yahoo.com/news/rocket-lab-balances-rapid-electron-112301299.html', '2026-02-03 11:23:01.000000', None)
2026-02-05 01:16:43,293 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:43,293 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('5aeb5e78-794b-3aaa-b277-c15863b8198d', 'RKLB', '3 Reasons to Avoid RKLB and 1 Stock to Buy Instead', 'StockStory', 'https://finance.yahoo.com/news/3-reasons-avoid-rklb-1-040427868.html', '2026-02-03 04:04:27.000000', None)
2026-02-05 01:16:43,294 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:43,294 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('edfb9cfe-2eba-3234-9efa-82b99a80c85e', 'RKLB', "Space Stock Sinks After Congress Won't Fund Mars Mission In 2031", "Investor's Business Daily", 'https://www.investors.com/news/rocket-lab-stock-congress-mars-mission-rover/?src=A00220&yptr=yahoo', '2026-02-02 21:34:25.000000', None)
2026-02-05 01:16:43,294 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:43,294 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('9f6897dd-9e0b-3f74-801b-2891969c0b9c', 'RKLB', 'Rocket Lab Stock Falls. The Reason Is Odd.', 'Barrons.com', 'https://www.barrons.com/articles/rocket-lab-stock-falls-3a575366?siteid=yhoof2&yptr=yahoo', '2026-02-02 21:21:00.000000', None)
2026-02-05 01:16:43,295 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:43,295 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('e7272b06-3aaa-3375-a356-52f3b0fcacc1', 'RKLB', 'MarketBeat Week in Review  01/26 - 01/30', 'MarketBeat', 'https://finance.yahoo.com/news/marketbeat-week-review-01-26-120000487.html', '2026-01-31 12:00:00.000000', None)
2026-02-05 01:16:43,296 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:43,296 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('443f8a27-ea4f-3f4f-8a62-4b24413f6c01', 'RKLB', 'Rocket Lab Balances Defense Contract Wins With Neutron Reusability Push', 'Simply Wall St.', 'https://finance.yahoo.com/news/rocket-lab-balances-defense-contract-091427254.html', '2026-01-30 09:14:27.000000', None)
2026-02-05 01:16:43,297 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:43,297 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('8276a284-5a6f-3b2d-a4f2-d84df7b17b3f', 'RKLB', 'Rocket Lab Corporation (RKLB) Dips More Than Broader Market: What You Should Know', 'Zacks', 'https://finance.yahoo.com/news/rocket-lab-corporation-rklb-dips-231505921.html', '2026-01-29 23:15:05.000000', None)
2026-02-05 01:16:43,297 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:43,298 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('3d054b46-fcf9-3b20-9a6e-ed6c5e2125b1', 'RKLB', 'Satellite Maker York Space Systems Looks to Capitalize on Trumps Golden Dome in IPO', 'Barrons.com', 'https://www.barrons.com/articles/satellite-maker-york-space-systems-stock-ipo-84e31e18?siteid=yhoof2&yptr=yahoo', '2026-01-29 21:48:00.000000', None)
2026-02-05 01:16:43,298 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:16:43,298 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('0572ad9b-7dbf-3653-b572-390e790dd855', 'RKLB', 'Planets Align for a Trillion-Dollar SpaceX IPO. When We Could See Financial Data.', 'Barrons.com', 'https://www.barrons.com/articles/spacex-stock-ipo-elon-musk-1c557219?siteid=yhoof2&yptr=yahoo', '2026-01-28 18:45:00.000000', None)
2026-02-05 01:16:43,301 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 01:16:43,302 - sqlalchemy.engine.Engine - INFO - [cached since 318.7s ago] (37807583232.0, -453.71793, 'RKLB')
2026-02-05 01:16:43,303 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:16:43,303 - sqlalchemy.engine.Engine - INFO - [cached since 4.086s ago] (70.77, -12.90759, 33.74554947035911, 85.3600009918213, 69.55830039978028, 48.951775045394896, 1.4812506118627482, 4.24614925639526, -2.7648986445325114, 97.19569050340264, 85.3600009918213, 73.52431148023994, 7.952927725655692, 17.033663907330016, 24.18557884437325, 2.7298340332435487, 23678900.1, 0.5254341184538381, '2026-02-04 17:16:42.630957', 'RKLB')
2026-02-05 01:16:43,303 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:16:43,304 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:43,305 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:16:43,305 - sqlalchemy.engine.Engine - INFO - [cached since 318.7s ago] ('RKLB',)
2026-02-05 01:16:43,306 - api_logger - INFO - rid=/api/portfolio/RKLB/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=680.02ms
2026-02-05 01:16:43,306 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:16:43,314 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:16:43,315 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:16:43,315 - sqlalchemy.engine.Engine - INFO - [cached since 403.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:43,319 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:16:43,319 - sqlalchemy.engine.Engine - INFO - [cached since 403.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:16:43,322 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.77ms
2026-02-05 01:16:43,323 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:00,267 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:00,268 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:00,268 - sqlalchemy.engine.Engine - INFO - [cached since 420.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:00,271 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:00,271 - sqlalchemy.engine.Engine - INFO - [cached since 420.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'WMT', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:17:00,273 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:00,274 - api_logger - INFO - rid=/api/analysis/WMT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=8.15ms
2026-02-05 01:17:00,301 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:00,301 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:00,301 - sqlalchemy.engine.Engine - INFO - [cached since 420.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:00,302 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:00,302 - sqlalchemy.engine.Engine - INFO - [cached since 420.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:17:00,303 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:00,303 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.73ms
2026-02-05 01:17:00,344 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:00,344 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:00,344 - sqlalchemy.engine.Engine - INFO - [cached since 420.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:00,345 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:00,345 - sqlalchemy.engine.Engine - INFO - [cached since 420.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'WMT', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:17:00,346 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:00,346 - api_logger - INFO - rid=/api/analysis/WMT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.09ms
2026-02-05 01:17:03,515 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:03,515 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:03,515 - sqlalchemy.engine.Engine - INFO - [cached since 423.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:03,517 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:03,517 - sqlalchemy.engine.Engine - INFO - [cached since 423.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'TSLA', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:17:03,518 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:03,518 - api_logger - INFO - rid=/api/analysis/TSLA method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.35ms
2026-02-05 01:17:03,541 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:03,541 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:03,541 - sqlalchemy.engine.Engine - INFO - [cached since 423.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:03,542 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:03,542 - sqlalchemy.engine.Engine - INFO - [cached since 423.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'WMT', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:17:03,542 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:03,542 - api_logger - INFO - rid=/api/analysis/WMT method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.17ms
2026-02-05 01:17:03,579 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:03,580 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:03,580 - sqlalchemy.engine.Engine - INFO - [cached since 423.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:03,582 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:03,582 - sqlalchemy.engine.Engine - INFO - [cached since 423.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'TSLA', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:17:03,583 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:03,583 - api_logger - INFO - rid=/api/analysis/TSLA method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.26ms
2026-02-05 01:17:06,130 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:06,131 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:06,131 - sqlalchemy.engine.Engine - INFO - [cached since 426.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:06,133 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:17:06,134 - sqlalchemy.engine.Engine - INFO - [cached since 342.8s ago] ('TSLA',)
2026-02-05 01:17:06,777 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:17:06,778 - sqlalchemy.engine.Engine - INFO - [cached since 342.2s ago] ('TSLA',)
2026-02-05 01:17:06,779 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:06,779 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ('08a461d9-0e63-4b44-8e81-6f17eb1bf513', 'TSLA', 'The SpaceX mega merger boosts the Musk trade', 'Yahoo Finance', 'https://finance.yahoo.com/news/the-spacex-mega-merger-boosts-the-musk-trade-110026592.html', '2026-02-04 11:00:26.000000', None)
2026-02-05 01:17:06,782 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:06,782 - sqlalchemy.engine.Engine - INFO - [no key 0.00031s] ('07270fcb-07a9-3375-8b5d-3e8238dc4654', 'TSLA', "M&A sentiment is at a 6-year high. Here's why.", 'Yahoo Finance Video', 'https://finance.yahoo.com/video/m-sentiment-6-high-heres-200000920.html', '2026-02-03 20:00:00.000000', None)
2026-02-05 01:17:06,783 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:06,783 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('fab18fef-3845-349b-97c7-33b033e8280d', 'TSLA', 'Tesla Begins 2026 With Solid China EV Sales As Musk Appears To Shift Focus', "Investor's Business Daily", 'https://www.investors.com/news/tesla-stock-solid-china-ev-sales-musk-appears-to-shift-focus/?src=A00220&yptr=yahoo', '2026-02-04 16:05:08.000000', None)
2026-02-05 01:17:06,784 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:06,784 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('53111936-73b5-3440-a9b5-86b12a6005b1', 'TSLA', "'Growing Chance' Of Tesla Merger To Create Musk Trinity With SpaceX And xAI", "Investor's Business Daily", 'https://www.investors.com/news/tesla-stock-growing-chance-spacex-merger-to-create-musk-trinity/?src=A00220&yptr=yahoo', '2026-02-04 16:04:21.000000', None)
2026-02-05 01:17:06,785 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:06,785 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('d480c9cb-a275-3690-b641-e5f5970fb1c2', 'TSLA', 'Tesla Stock Really Needs the Optimus Robot', 'Barrons.com', 'https://www.barrons.com/articles/tesla-stock-price-optimus-robot-957af84f?siteid=yhoof2&yptr=yahoo', '2026-02-04 15:19:00.000000', None)
2026-02-05 01:17:06,785 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:06,785 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('b3a99225-cbc0-3d61-9610-c44e0f4bff3e', 'TSLA', 'Musks Ambition Knows No Bounds. A Tesla-SpaceX Tie-Up Can Help Him Get There.', 'Barrons.com', 'https://www.barrons.com/articles/musk-tesla-spacex-x-ai-merger-deal-038df3dd?siteid=yhoof2&yptr=yahoo', '2026-02-04 15:14:00.000000', None)
2026-02-05 01:17:06,786 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:06,786 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('22bf9408-fc2a-3fbc-b23e-617bfa92a0de', 'TSLA', 'Stock Splits Matter: Whats Coming Up This Month?', '24/7 Wall St.', 'https://finance.yahoo.com/news/stock-splits-matter-coming-month-150507841.html', '2026-02-04 15:05:07.000000', None)
2026-02-05 01:17:06,787 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:06,787 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('139a305a-64ac-317a-9157-c1a13108568d', 'TSLA', 'US lawmakers, Waymo, Tesla urge Congress to take action to speed deployment of self-driving cars', 'Reuters', 'https://finance.yahoo.com/news/us-lawmakers-waymo-tesla-urge-143059923.html', '2026-02-04 14:30:59.000000', None)
2026-02-05 01:17:06,787 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:06,787 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('dc18ebca-63a4-36d7-97a5-8f12e22aec47', 'TSLA', 'Tesla UK sales plunge in January as Chinese rivals race ahead, New Automotive data shows', 'Reuters', 'https://finance.yahoo.com/news/tesla-uk-sales-plunge-january-140827490.html', '2026-02-04 14:08:27.000000', None)
2026-02-05 01:17:06,788 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:06,788 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('cc0c27a5-dabc-35a7-a005-d2803baa05ee', 'TSLA', 'A Closer Look at Palantirs (PLTR) Valuation Concerns', 'Insider Monkey', 'https://finance.yahoo.com/news/closer-look-palantir-pltr-valuation-135654563.html', '2026-02-04 13:56:54.000000', None)
2026-02-05 01:17:06,788 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 01:17:06,789 - sqlalchemy.engine.Engine - INFO - [cached since 129.8s ago] (1523693649920.0, 369.1409, 140.68016, 'TSLA')
2026-02-05 01:17:06,789 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:17:06,789 - sqlalchemy.engine.Engine - INFO - [cached since 27.57s ago] (406.09, -3.7693145, 36.46530125590453, 433.3550003051758, 444.5642010498047, 379.78660026550295, -8.22383259599303, -5.812391458823988, -2.4114411371690423, 457.0982583679699, 433.3550003051758, 409.6117422423817, 15.346426827566964, 19.992113904590262, 29.82461904668666, 0.327103620397466, 59224279.8, 0.6171117001915826, '2026-02-04 17:17:06.135236', 'TSLA')
2026-02-05 01:17:06,790 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:17:06,790 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:06,790 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:17:06,791 - sqlalchemy.engine.Engine - INFO - [cached since 342.2s ago] ('TSLA',)
2026-02-05 01:17:06,791 - api_logger - INFO - rid=/api/portfolio/TSLA/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=662.69ms
2026-02-05 01:17:06,791 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:06,796 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:06,796 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:06,796 - sqlalchemy.engine.Engine - INFO - [cached since 427.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:06,797 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:17:06,797 - sqlalchemy.engine.Engine - INFO - [cached since 427.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:06,799 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.83ms
2026-02-05 01:17:06,800 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:10,494 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:10,495 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:10,495 - sqlalchemy.engine.Engine - INFO - [cached since 430.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:10,497 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:17:10,498 - sqlalchemy.engine.Engine - INFO - [cached since 347.1s ago] ('WMT',)
2026-02-05 01:17:11,025 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:17:11,025 - sqlalchemy.engine.Engine - INFO - [cached since 346.5s ago] ('WMT',)
2026-02-05 01:17:11,028 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:11,028 - sqlalchemy.engine.Engine - INFO - [no key 0.00038s] ('6fb9e125-b405-4eff-a62e-5a6466490e53', 'WMT', 'PepsiCo CEO reveals how he is tackling weight-loss drugs and consumer affordability challenges', 'Yahoo Finance', 'https://finance.yahoo.com/news/pepsico-ceo-reveals-how-he-is-tackling-weight-loss-drugs-and-consumer-affordability-challenges-213011648.html', '2026-02-03 21:30:11.000000', None)
2026-02-05 01:17:11,030 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:11,030 - sqlalchemy.engine.Engine - INFO - [no key 0.00032s] ('f3cff64a-dc5d-344f-beaf-9838c2cb531a', 'WMT', "Walmart's journey to $1T market cap: What to know", 'Yahoo Finance Video', 'https://finance.yahoo.com/video/walmarts-journey-1t-market-cap-204257723.html', '2026-02-03 20:42:57.000000', None)
2026-02-05 01:17:11,033 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:11,033 - sqlalchemy.engine.Engine - INFO - [no key 0.00052s] ('4c9a0e74-9670-3a46-9eca-a94c339cadfd', 'WMT', 'WMT Joins the $1 Trillion Club: Can the Rally Continue for the Stock?', 'Zacks', 'https://finance.yahoo.com/news/wmt-joins-1-trillion-club-135200134.html', '2026-02-04 13:52:00.000000', None)
2026-02-05 01:17:11,035 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:11,035 - sqlalchemy.engine.Engine - INFO - [no key 0.00030s] ('23eeeff1-131b-398b-8891-040dddfd32b1', 'WMT', 'Dow Jones Futures Rise Amid Shift Out Of Tech; AMD, Lumentum, Eli Lilly Are Earnings Movers', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-futures-amd-lumentum-eli-lilly-earnings/?src=A00220&yptr=yahoo', '2026-02-04 13:11:47.000000', None)
2026-02-05 01:17:11,036 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:11,036 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('568a617f-4e8e-36f6-9a11-a2aabee8b0fd', 'WMT', 'Walton Net Worth Surges $50 Billion', '24/7 Wall St.', 'https://finance.yahoo.com/news/walton-net-worth-surges-50-114410831.html', '2026-02-04 11:44:10.000000', None)
2026-02-05 01:17:11,037 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:11,037 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('f148a207-2401-3c5d-9ccd-d1a667333a0d', 'WMT', 'Morning Bid: AI scatters the tech herd', 'Reuters', 'https://finance.yahoo.com/news/morning-bid-ai-scatters-tech-113405579.html', '2026-02-04 11:34:05.000000', None)
2026-02-05 01:17:11,038 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:11,039 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('9649f2d3-7bef-3e22-bb30-037d9afdb157', 'WMT', 'Walmart reaches $1tn market value', 'Retail Insight Network', 'https://finance.yahoo.com/news/walmart-reaches-1tn-market-value-113116145.html', '2026-02-04 11:31:16.000000', None)
2026-02-05 01:17:11,039 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:11,039 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('35ebec7a-dde0-328e-bccc-eb200e7b25f5', 'WMT', 'Stock Futures See-Saw in Volatile Trading After Brutal Tech Selloff. Gold Rallies.', 'Barrons.com', 'https://www.barrons.com/livecoverage/stock-market-news-today-020426/card/markets-start-tentative-recovery-after-brutal-tech-selloff-stock-futures-edge-higher--7fkqOflAvBggaDkG323y?siteid=yhoof2&yptr=yahoo', '2026-02-04 11:25:17.000000', None)
2026-02-05 01:17:11,040 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:11,040 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('475f2dcd-c84b-3a99-9927-072db51aaa44', 'WMT', "Amazon's physical grocery push deepens its fight against rival Walmart", 'Reuters', 'https://finance.yahoo.com/news/amazons-physical-grocery-push-deepens-110127276.html', '2026-02-04 11:01:27.000000', None)
2026-02-05 01:17:11,041 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:11,041 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('af68f4b2-5e4e-3115-b526-4a59127f82c4', 'WMT', 'Heard on the Street Tuesday Recap: Code Red', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-04-2026/card/heard-on-the-street-tuesday-recap-code-red-6YnJcEfPl1Mx0ntPUYRx?siteid=yhoof2&yptr=yahoo', '2026-02-04 08:26:07.000000', None)
2026-02-05 01:17:11,043 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=?, fifty_two_week_high=? WHERE stocks.ticker = ?
2026-02-05 01:17:11,043 - sqlalchemy.engine.Engine - INFO - [generated in 0.00033s] (1029693702144.0, 45.15734, 43.486164, 2.86, 0.74, 129.25, 'WMT')
2026-02-05 01:17:11,044 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:17:11,044 - sqlalchemy.engine.Engine - INFO - [cached since 31.83s ago] (129.15, 1.1275506, 74.82287122204616, 118.99199981689453, 115.09106399536132, 103.26847648620605, 2.938097876274753, 2.017320939491259, 0.9207769367834944, 127.21694671570472, 118.99199981689453, 110.76705291808435, 2.683570316859654, 81.07978636940742, 63.995125976551655, 115.24910715511892, 46416531.8, 0.2160401824765374, '2026-02-04 17:17:10.499160', 'WMT')
2026-02-05 01:17:11,045 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:17:11,046 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:11,047 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:17:11,047 - sqlalchemy.engine.Engine - INFO - [cached since 346.5s ago] ('WMT',)
2026-02-05 01:17:11,049 - api_logger - INFO - rid=/api/portfolio/WMT/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=556.20ms
2026-02-05 01:17:11,049 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:11,055 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:11,056 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:11,056 - sqlalchemy.engine.Engine - INFO - [cached since 431.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:11,057 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:17:11,057 - sqlalchemy.engine.Engine - INFO - [cached since 431.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:11,060 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.17ms
2026-02-05 01:17:11,060 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:14,171 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:14,171 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:14,171 - sqlalchemy.engine.Engine - INFO - [cached since 434.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:14,173 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:17:14,173 - sqlalchemy.engine.Engine - INFO - [cached since 350.8s ago] ('SLV',)
2026-02-05 01:17:14,698 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 01:17:14,698 - sqlalchemy.engine.Engine - INFO - [cached since 350.1s ago] ('SLV',)
2026-02-05 01:17:14,703 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:14,703 - sqlalchemy.engine.Engine - INFO - [no key 0.00052s] ('79de7eeb-68c1-3a22-8dc6-29aa0d832707', 'SLV', 'Exchange-Traded Funds, Equity Futures Mixed Pre-Bell Wednesday Ahead of Alphabet Earnings', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-140310603.html', '2026-02-04 14:03:10.000000', None)
2026-02-05 01:17:14,705 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:14,705 - sqlalchemy.engine.Engine - INFO - [no key 0.00029s] ('267a5d36-ee97-304a-b868-ceb8592ad222', 'SLV', 'Top-Performing ETF Stories of January: Winning Investing Areas', 'Zacks', 'https://finance.yahoo.com/news/top-performing-etf-stories-january-130000947.html', '2026-02-04 13:00:00.000000', None)
2026-02-05 01:17:14,706 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:14,706 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('57491ac4-a2f9-3f77-9055-e641926dd6bb', 'SLV', 'Daily ETF Flows: $3.4B Flows Into SLV', 'etf.com', 'https://finance.yahoo.com/news/daily-etf-flows-3-4b-230005689.html', '2026-02-03 23:00:05.000000', None)
2026-02-05 01:17:14,708 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:14,708 - sqlalchemy.engine.Engine - INFO - [no key 0.00030s] ('c192d55e-4add-3941-8d89-ebeb9f3a249c', 'SLV', 'Zacks Investment Ideas feature highlights: Ark Invest, BlackRock, IBIT, GLD and SLV', 'Zacks', 'https://finance.yahoo.com/news/zacks-investment-ideas-feature-highlights-152000677.html', '2026-02-03 15:20:00.000000', None)
2026-02-05 01:17:14,709 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:14,709 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('11bf817f-bd41-38a9-a525-45cefc988e19', 'SLV', 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Tuesday as Earnings Deluge Continues', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-142855032.html', '2026-02-03 14:28:55.000000', None)
2026-02-05 01:17:14,710 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:14,710 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('40e86472-947b-32a5-843c-bf675ad16c5d', 'SLV', 'Best-Performing ETF Areas of Last Week', 'Zacks', 'https://finance.yahoo.com/news/best-performing-etf-areas-last-140000188.html', '2026-02-03 14:00:00.000000', None)
2026-02-05 01:17:14,711 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:14,712 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('087c55d0-7556-330b-ac6a-028c74b9a07b', 'SLV', "Silver's Crash Is Getting Pretty Uncomfortable", "Investor's Business Daily", 'https://www.investors.com/etfs-and-funds/sectors/silver-crash-is-getting-pretty-uncomfortable/?src=A00220&yptr=yahoo', '2026-02-03 13:00:45.000000', None)
2026-02-05 01:17:14,712 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:14,712 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('cdbeba32-fb58-330b-b547-3c1b94b189f5', 'SLV', '$165B Pours Into ETFs in January as Investors Look Overseas', 'etf.com', 'https://finance.yahoo.com/news/165b-pours-etfs-january-investors-230020173.html', '2026-02-02 23:00:20.000000', None)
2026-02-05 01:17:14,713 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:14,713 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('f5e4c0ca-a572-3885-84b7-7b5b64c0949d', 'SLV', "Wrong Again: 'Experts' Keep Missing the Mark on Inflation", 'Zacks', 'https://finance.yahoo.com/news/wrong-again-experts-keep-missing-162800350.html', '2026-02-02 16:28:00.000000', None)
2026-02-05 01:17:14,714 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 01:17:14,714 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('d6187e64-6c40-35f8-85b0-3860745bb211', 'SLV', 'Exchange-Traded Funds, Equity Futures Lower Pre-Bell Monday Amid Precious Metals Downturn', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-140038784.html', '2026-02-02 14:00:38.000000', None)
2026-02-05 01:17:14,716 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=? WHERE stocks.ticker = ?
2026-02-05 01:17:14,717 - sqlalchemy.engine.Engine - INFO - [generated in 0.00085s] (26766264320.0, 'SLV')
2026-02-05 01:17:14,717 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 01:17:14,717 - sqlalchemy.engine.Engine - INFO - [cached since 35.5s ago] (78.39, 1.8573846, 45.598517269710705, 84.07499923706055, 68.57519966125489, 44.56644989013672, 4.269216015325952, 6.887053562291051, -2.6178375469650987, 106.6452864579995, 84.07499923706055, 61.504712016121594, 8.99785668509347, 33.152346965257145, 49.870129157591535, -0.2832174194116419, 174069814.6, 0.48314690397791693, '2026-02-04 17:17:14.174456', 'SLV')
2026-02-05 01:17:14,718 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:17:14,719 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:14,720 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:17:14,720 - sqlalchemy.engine.Engine - INFO - [cached since 350.1s ago] ('SLV',)
2026-02-05 01:17:14,720 - api_logger - INFO - rid=/api/portfolio/SLV/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=551.19ms
2026-02-05 01:17:14,721 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:14,728 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:14,728 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:14,729 - sqlalchemy.engine.Engine - INFO - [cached since 435s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:14,729 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 01:17:14,730 - sqlalchemy.engine.Engine - INFO - [cached since 435s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:14,732 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.02ms
2026-02-05 01:17:14,734 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:15,345 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:15,350 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:15,354 - sqlalchemy.engine.Engine - INFO - [cached since 435.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:15,356 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:15,359 - sqlalchemy.engine.Engine - INFO - [cached since 435.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:17:15,360 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:15,362 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=19.11ms
2026-02-05 01:17:15,376 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:15,376 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:15,376 - sqlalchemy.engine.Engine - INFO - [cached since 435.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:15,377 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:15,377 - sqlalchemy.engine.Engine - INFO - [cached since 435.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'TSLA', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:17:15,378 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:15,378 - api_logger - INFO - rid=/api/analysis/TSLA method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.24ms
2026-02-05 01:17:15,413 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:15,413 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:15,413 - sqlalchemy.engine.Engine - INFO - [cached since 435.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:15,414 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:15,414 - sqlalchemy.engine.Engine - INFO - [cached since 435.7s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:17:15,415 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 01:17:15,415 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.83ms
2026-02-05 01:17:20,068 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:20,068 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 01:17:20,068 - sqlalchemy.engine.Engine - INFO - [cached since 440.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 01:17:20,070 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 01:17:20,071 - sqlalchemy.engine.Engine - INFO - [cached since 356.7s ago] ('SLV',)
2026-02-05 01:17:20,072 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:20,073 - sqlalchemy.engine.Engine - INFO - [cached since 355.5s ago] ('SLV', 5, 0)
2026-02-05 01:17:20,074 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-05 01:17:20,074 - sqlalchemy.engine.Engine - INFO - [cached since 355.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV')
2026-02-05 01:17:20,075 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 01:17:20,075 - sqlalchemy.engine.Engine - INFO - [cached since 440.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 01:17:26,929 - httpx - INFO - HTTP Request: POST https://api.siliconflow.cn/v1/chat/completions "HTTP/1.1 200 OK"
2026-02-05 01:17:26,937 - sqlalchemy.engine.Engine - INFO - INSERT INTO analysis_reports (id, user_id, ticker, input_context_snapshot, ai_response_markdown, sentiment_score, model_used, created_at) VALUES (?, ?, ?, ?, ?, ?, ?, ?)
2026-02-05 01:17:26,937 - sqlalchemy.engine.Engine - INFO - [cached since 316s ago] ('571fad35-f842-48e8-b1ed-b9fccc9caf96', '9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', '{"market_data": {"current_price": 78.39, "change_percent": 1.8573846, "rsi_14": 45.598517269710705, "ma_20": 84.07499923706055, "ma_50": 68.575199661 ... (190 characters truncated) ... 5, "atr_14": 8.99785668509347, "market_status": "OPEN"}, "portfolio_data": {"avg_cost": 0.0, "quantity": 0.0, "unrealized_pl": 0.0, "pl_percent": 0}}', '{\n    "technical_analysis": "SLV78.3961.50106.65RSI 45.59MACD-2.61 ... (356 characters truncated) ... e": "78.392%106.65$0.061.50"\n}', None, 'qwen-3-vl-thinking', '2026-02-04 17:17:26.936843')
2026-02-05 01:17:26,939 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 01:17:26,941 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 01:17:26,942 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.id = ?
2026-02-05 01:17:26,942 - sqlalchemy.engine.Engine - INFO - [cached since 316s ago] ('571fad35-f842-48e8-b1ed-b9fccc9caf96',)
2026-02-05 01:17:26,944 - api_logger - INFO - rid=/api/analysis/SLV method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6877.17ms
2026-02-05 01:17:26,945 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 09:36:32,356 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 09:36:32,358 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 09:36:32,358 - sqlalchemy.engine.Engine - INFO - [cached since 1513s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 09:36:32,367 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 09:36:32,367 - sqlalchemy.engine.Engine - INFO - [cached since 1430s ago] ('SLV',)
2026-02-05 09:36:33,616 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 09:36:33,617 - sqlalchemy.engine.Engine - INFO - [cached since 1430s ago] ('SLV',)
2026-02-05 09:36:33,621 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 09:36:33,621 - sqlalchemy.engine.Engine - INFO - [no key 0.00028s] ('79de7eeb-68c1-3a22-8dc6-29aa0d832707', 'SLV', 'Exchange-Traded Funds, Equity Futures Mixed Pre-Bell Wednesday Ahead of Alphabet Earnings', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-140310603.html', '2026-02-04 14:03:10.000000', None)
2026-02-05 09:36:33,622 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 09:36:33,622 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('267a5d36-ee97-304a-b868-ceb8592ad222', 'SLV', 'Top-Performing ETF Stories of January: Winning Investing Areas', 'Zacks', 'https://finance.yahoo.com/news/top-performing-etf-stories-january-130000947.html', '2026-02-04 13:00:00.000000', None)
2026-02-05 09:36:33,623 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 09:36:33,623 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('57491ac4-a2f9-3f77-9055-e641926dd6bb', 'SLV', 'Daily ETF Flows: $3.4B Flows Into SLV', 'etf.com', 'https://finance.yahoo.com/news/daily-etf-flows-3-4b-230005689.html', '2026-02-03 23:00:05.000000', None)
2026-02-05 09:36:33,624 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 09:36:33,624 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('c192d55e-4add-3941-8d89-ebeb9f3a249c', 'SLV', 'Zacks Investment Ideas feature highlights: Ark Invest, BlackRock, IBIT, GLD and SLV', 'Zacks', 'https://finance.yahoo.com/news/zacks-investment-ideas-feature-highlights-152000677.html', '2026-02-03 15:20:00.000000', None)
2026-02-05 09:36:33,624 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 09:36:33,624 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('11bf817f-bd41-38a9-a525-45cefc988e19', 'SLV', 'Exchange-Traded Funds, Equity Futures Higher Pre-Bell Tuesday as Earnings Deluge Continues', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-142855032.html', '2026-02-03 14:28:55.000000', None)
2026-02-05 09:36:33,625 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 09:36:33,625 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('40e86472-947b-32a5-843c-bf675ad16c5d', 'SLV', 'Best-Performing ETF Areas of Last Week', 'Zacks', 'https://finance.yahoo.com/news/best-performing-etf-areas-last-140000188.html', '2026-02-03 14:00:00.000000', None)
2026-02-05 09:36:33,625 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 09:36:33,625 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('087c55d0-7556-330b-ac6a-028c74b9a07b', 'SLV', "Silver's Crash Is Getting Pretty Uncomfortable", "Investor's Business Daily", 'https://www.investors.com/etfs-and-funds/sectors/silver-crash-is-getting-pretty-uncomfortable/?src=A00220&yptr=yahoo', '2026-02-03 13:00:45.000000', None)
2026-02-05 09:36:33,626 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 09:36:33,626 - sqlalchemy.engine.Engine - INFO - [no key 0.00006s] ('cdbeba32-fb58-330b-b547-3c1b94b189f5', 'SLV', '$165B Pours Into ETFs in January as Investors Look Overseas', 'etf.com', 'https://finance.yahoo.com/news/165b-pours-etfs-january-investors-230020173.html', '2026-02-02 23:00:20.000000', None)
2026-02-05 09:36:33,626 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 09:36:33,626 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('f5e4c0ca-a572-3885-84b7-7b5b64c0949d', 'SLV', "Wrong Again: 'Experts' Keep Missing the Mark on Inflation", 'Zacks', 'https://finance.yahoo.com/news/wrong-again-experts-keep-missing-162800350.html', '2026-02-02 16:28:00.000000', None)
2026-02-05 09:36:33,628 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 09:36:33,628 - sqlalchemy.engine.Engine - INFO - [no key 0.00060s] ('d6187e64-6c40-35f8-85b0-3860745bb211', 'SLV', 'Exchange-Traded Funds, Equity Futures Lower Pre-Bell Monday Amid Precious Metals Downturn', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-140038784.html', '2026-02-02 14:00:38.000000', None)
2026-02-05 09:36:33,630 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=? WHERE stocks.ticker = ?
2026-02-05 09:36:33,630 - sqlalchemy.engine.Engine - INFO - [cached since 1079s ago] (27036010496.0, 'SLV')
2026-02-05 09:36:33,631 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 09:36:33,631 - sqlalchemy.engine.Engine - INFO - [cached since 1115s ago] (79.18, 2.88462, 46.20485506356412, 84.11449928283692, 68.59099967956543, 44.570399894714356, 4.3322360313794235, 6.899657565501745, -2.567421534122322, 106.64562603801593, 84.11449928283692, 61.5833725276579, 9.019285474504743, 33.7858173536197, 50.08128595371238, 1.194880153434326, 176374705.0, 0.7309080970539398, '2026-02-05 01:36:32.369347', 'SLV')
2026-02-05 09:36:33,631 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 09:36:33,632 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 09:36:33,632 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 09:36:33,632 - sqlalchemy.engine.Engine - INFO - [cached since 1430s ago] ('SLV',)
2026-02-05 09:36:33,633 - api_logger - INFO - rid=/api/portfolio/SLV/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1300.11ms
2026-02-05 09:36:33,634 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 09:36:33,643 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 09:36:33,643 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 09:36:33,643 - sqlalchemy.engine.Engine - INFO - [cached since 1515s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 09:36:33,644 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 09:36:33,644 - sqlalchemy.engine.Engine - INFO - [cached since 1515s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 09:36:33,648 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.35ms
2026-02-05 09:36:33,649 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 09:36:36,278 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 09:36:36,279 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 09:36:36,279 - sqlalchemy.engine.Engine - INFO - [cached since 1517s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 09:36:36,280 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 09:36:36,280 - sqlalchemy.engine.Engine - INFO - [cached since 1517s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 09:36:36,280 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.76ms
2026-02-05 09:36:36,281 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 09:36:36,325 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 09:36:36,325 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 09:36:36,325 - sqlalchemy.engine.Engine - INFO - [cached since 1517s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 09:36:36,329 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 09:36:36,329 - sqlalchemy.engine.Engine - INFO - [cached since 1517s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'SLV', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 09:36:36,330 - api_logger - INFO - rid=/api/analysis/SLV method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.15ms
2026-02-05 09:36:36,330 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 09:36:36,639 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 09:36:36,642 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 09:36:36,642 - sqlalchemy.engine.Engine - INFO - [cached since 1518s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 09:36:36,649 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 09:36:36,649 - sqlalchemy.engine.Engine - INFO - [cached since 1518s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 09:36:36,658 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=67.58ms
2026-02-05 09:36:36,664 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:20,557 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:20,559 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:20,559 - sqlalchemy.engine.Engine - INFO - [cached since 1865s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:20,561 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:20,561 - sqlalchemy.engine.Engine - INFO - [cached since 1781s ago] ('TSLA',)
2026-02-05 10:04:21,582 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 10:04:21,582 - sqlalchemy.engine.Engine - INFO - [cached since 1781s ago] ('TSLA',)
2026-02-05 10:04:21,585 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:21,585 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('5525b7f5-ffe7-38e3-9b4b-17a37c05d7f2', 'TSLA', 'Tech: Why this strategist has an Underweight rating on Mag 7', 'Yahoo Finance Video', 'https://finance.yahoo.com/video/tech-why-strategist-underweight-rating-221500796.html', '2026-02-04 22:15:00.000000', None)
2026-02-05 10:04:21,586 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:21,587 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('ebd86317-5c78-37d4-bba0-3dcaebf0a863', 'TSLA', "Here's Why I'm Still Not Buying Tesla Stock, Despite It Falling 9% This Year", 'Motley Fool', 'https://finance.yahoo.com/news/heres-why-im-still-not-015100922.html', '2026-02-05 01:51:00.000000', None)
2026-02-05 10:04:21,587 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:21,587 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('e9c516ed-89c4-3298-8073-cea754b2c1d8', 'TSLA', 'Does Tesla (TSLA) Share Price Reflect Its Role In The Electric Vehicle Shift?', 'Simply Wall St.', 'https://finance.yahoo.com/news/does-tesla-tsla-share-price-011056590.html', '2026-02-05 01:10:56.000000', None)
2026-02-05 10:04:21,588 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:21,589 - sqlalchemy.engine.Engine - INFO - [no key 0.00042s] ('24e251ec-5ced-3140-8376-55bac7181f3f', 'TSLA', 'Analysts flag alarming correlation amid tech sell-off', 'TheStreet', 'https://finance.yahoo.com/news/analysts-flag-alarming-correlation-amid-235715348.html', '2026-02-04 23:57:15.000000', None)
2026-02-05 10:04:21,590 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:21,590 - sqlalchemy.engine.Engine - INFO - [no key 0.00029s] ('52ff85f4-6c29-3cbd-bff2-94b9ecb1651c', 'TSLA', "Amid SpaceX-xAI Merger, Ross Gerber Has This Important Question For Elon Musk-Led Companies: 'When They Are All Out Of'", 'Benzinga', 'https://finance.yahoo.com/news/amid-spacex-xai-merger-ross-230108731.html', '2026-02-04 23:01:08.000000', None)
2026-02-05 10:04:21,592 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:21,592 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('1fa3402f-010a-3a9e-9235-52fc83f666aa', 'TSLA', "Tesla's Daring Move", 'Motley Fool', 'https://finance.yahoo.com/news/teslas-daring-move-214600293.html', '2026-02-04 21:46:00.000000', None)
2026-02-05 10:04:21,592 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:21,592 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('534bc582-6473-3cb8-85ec-4fa8b02f7cd0', 'TSLA', 'What Wall Street Thinks Tesla Will Be Worth by End of 2026. 1 Reason It Might Be Right', 'Motley Fool', 'https://finance.yahoo.com/news/wall-street-thinks-tesla-worth-213500213.html', '2026-02-04 21:35:00.000000', None)
2026-02-05 10:04:21,593 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:21,593 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('d480c9cb-a275-3690-b641-e5f5970fb1c2', 'TSLA', 'Tesla Stock Is Falling. It Really Needs the Optimus Robot.', 'Barrons.com', 'https://www.barrons.com/articles/tesla-stock-price-optimus-robot-957af84f?siteid=yhoof2&yptr=yahoo', '2026-02-04 21:28:00.000000', None)
2026-02-05 10:04:21,594 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:21,594 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('b3a99225-cbc0-3d61-9610-c44e0f4bff3e', 'TSLA', 'Musks Ambition Knows No Bounds. A Tesla-SpaceX Tie-Up Can Help Him Get There.', 'Barrons.com', 'https://www.barrons.com/articles/musk-tesla-spacex-x-ai-merger-deal-038df3dd?siteid=yhoof2&yptr=yahoo', '2026-02-04 21:26:00.000000', None)
2026-02-05 10:04:21,594 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:21,594 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('53111936-73b5-3440-a9b5-86b12a6005b1', 'TSLA', "'Growing Chance' Of Tesla Merger To Create Musk Trinity With SpaceX And xAI", "Investor's Business Daily", 'https://www.investors.com/news/tesla-stock-growing-chance-spacex-merger-to-create-musk-trinity/?src=A00220&yptr=yahoo', '2026-02-04 21:02:44.000000', None)
2026-02-05 10:04:21,595 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 10:04:21,595 - sqlalchemy.engine.Engine - INFO - [cached since 1569s ago] (1523524960256.0, 369.1, 140.66458, 'TSLA')
2026-02-05 10:04:21,596 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 10:04:21,596 - sqlalchemy.engine.Engine - INFO - [cached since 1466s ago] (406.01, -3.77997, 36.456373525489774, 433.35350036621094, 444.56360107421875, 379.78645027160644, -8.22622566100813, -5.8128700718270085, -2.413355589181121, 457.1040266942166, 433.35350036621094, 409.6029740382053, 15.668570382254464, 22.660383184002093, 30.714042139823935, 6.553065272358417, 61123550.0, 1.2171969723617166, '2026-02-05 02:04:20.562858', 'TSLA')
2026-02-05 10:04:21,596 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 10:04:21,597 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:21,597 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:21,598 - sqlalchemy.engine.Engine - INFO - [cached since 1781s ago] ('TSLA',)
2026-02-05 10:04:21,599 - api_logger - INFO - rid=/api/portfolio/TSLA/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1048.18ms
2026-02-05 10:04:21,599 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:21,603 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:21,604 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:21,604 - sqlalchemy.engine.Engine - INFO - [cached since 1866s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:21,605 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 10:04:21,605 - sqlalchemy.engine.Engine - INFO - [cached since 1866s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:21,607 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.45ms
2026-02-05 10:04:21,607 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:23,804 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:23,805 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:23,805 - sqlalchemy.engine.Engine - INFO - [cached since 1868s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:23,808 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:23,808 - sqlalchemy.engine.Engine - INFO - [cached since 1784s ago] ('WMT',)
2026-02-05 10:04:24,479 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 10:04:24,479 - sqlalchemy.engine.Engine - INFO - [cached since 1784s ago] ('WMT',)
2026-02-05 10:04:24,481 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:24,481 - sqlalchemy.engine.Engine - INFO - [no key 0.00034s] ('e6d219fe-795f-3735-95f9-aba7c61a39ea', 'WMT', 'Chipotle earnings, Walmart market cap: A look at consumer health', 'Yahoo Finance Video', 'https://finance.yahoo.com/video/chipotle-earnings-walmart-market-cap-173000578.html', '2026-02-04 17:30:00.000000', None)
2026-02-05 10:04:24,484 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:24,484 - sqlalchemy.engine.Engine - INFO - [no key 0.00038s] ('b6e7c836-9b61-3160-9c2b-5aed8a0c5bc3', 'WMT', 'Nearly 20% of S&P 500 Stocks Hit 52-Week Highs Today', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-04-2026/card/dozens-of-stocks-hitting-52-week-highs-RVYVXvgA2CXmT9yj7x9u?siteid=yhoof2&yptr=yahoo', '2026-02-04 21:47:27.000000', None)
2026-02-05 10:04:24,487 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:24,487 - sqlalchemy.engine.Engine - INFO - [no key 0.00044s] ('8d18dbb2-d5db-331a-a979-c5071bf10a29', 'WMT', 'Elf Beauty lifts annual forecasts as affordable products drive demand', 'Reuters', 'https://finance.yahoo.com/news/elf-beauty-lifts-annual-forecasts-210750610.html', '2026-02-04 21:08:31.000000', None)
2026-02-05 10:04:24,488 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:24,488 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ('45dd41a7-2d8a-3e60-92f2-f5b2ccc97321', 'WMT', 'Staples Stocks Are Stretched. One of the Markets Hottest Sectors Looks Way Too Frothy.', 'Barrons.com', 'https://www.barrons.com/articles/staples-stocks-walmart-costco-coke-382e6ae8?siteid=yhoof2&yptr=yahoo', '2026-02-04 21:07:00.000000', None)
2026-02-05 10:04:24,490 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:24,491 - sqlalchemy.engine.Engine - INFO - [no key 0.00036s] ('c9daf54b-8a01-3ba6-bf5b-820204b90238', 'WMT', 'Jim Cramer on Amazon: It Doesnt Get the Respect It Deserves', 'Insider Monkey', 'https://finance.yahoo.com/news/jim-cramer-amazon-doesn-t-201843827.html', '2026-02-04 20:18:43.000000', None)
2026-02-05 10:04:24,492 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:24,492 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('77af8eb6-a10e-3bc1-bfe4-b865ffbfc984', 'WMT', 'Zipline Raises $600 Million as Drone Delivery Hits Inflection Point', 'Sourcing Journal', 'https://finance.yahoo.com/news/zipline-raises-600-million-drone-201439784.html', '2026-02-04 20:14:39.000000', None)
2026-02-05 10:04:24,493 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:24,493 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('ff6d3931-7c30-3b40-8ea0-74d4e5430b0b', 'WMT', 'This Blue-Chip Dividend Stock Is Now Part of the Trillion-Dollar Club. Is It Still a Buy Here?', 'Barchart', 'https://finance.yahoo.com/news/blue-chip-dividend-stock-now-191702334.html', '2026-02-04 19:17:02.000000', None)
2026-02-05 10:04:24,493 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:24,494 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('13fb79e4-ac0e-3fb2-b59a-97f8f103f040', 'WMT', 'Symbotic\xa0Inc. (SYM): A\xa0Bull\xa0Case Theory', 'Insider Monkey', 'https://finance.yahoo.com/news/symbotic-inc-sym-bull-case-190212784.html', '2026-02-04 19:02:12.000000', None)
2026-02-05 10:04:24,494 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:24,494 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('efed4776-d179-3b8c-91f4-66543e4ca703', 'WMT', 'Amazon Expands Physical Grocery Push to Rival Walmart', 'GuruFocus.com', 'https://finance.yahoo.com/news/amazon-expands-physical-grocery-push-181847284.html', '2026-02-04 18:18:47.000000', None)
2026-02-05 10:04:24,495 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:24,495 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('4c9a0e74-9670-3a46-9eca-a94c339cadfd', 'WMT', 'WMT Joins the $1 Trillion Club: Can the Rally Continue for the Stock?', 'Zacks', 'https://finance.yahoo.com/news/wmt-joins-1-trillion-club-135200134.html', '2026-02-04 13:52:00.000000', None)
2026-02-05 10:04:24,496 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, fifty_two_week_high=? WHERE stocks.ticker = ?
2026-02-05 10:04:24,497 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] (1020524953600.0, 44.755245, 43.09895, 129.41, 'WMT')
2026-02-05 10:04:24,497 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 10:04:24,498 - sqlalchemy.engine.Engine - INFO - [cached since 1469s ago] (128.0, 0.227078, 73.13952606391213, 118.93450012207032, 115.06806411743165, 103.26272659301758, 2.8463604714250437, 1.998973458518838, 0.8473870129062058, 126.87148110517057, 118.93450012207032, 110.99751913897006, 2.6949991498674666, 77.9478517298747, 62.95114776337408, 107.94125966287595, 47292605.0, 0.582008540235836, '2026-02-05 02:04:23.809656', 'WMT')
2026-02-05 10:04:24,498 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 10:04:24,499 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:24,499 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:24,499 - sqlalchemy.engine.Engine - INFO - [cached since 1784s ago] ('WMT',)
2026-02-05 10:04:24,501 - api_logger - INFO - rid=/api/portfolio/WMT/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=698.88ms
2026-02-05 10:04:24,502 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:24,509 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:24,510 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:24,510 - sqlalchemy.engine.Engine - INFO - [cached since 1869s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:24,511 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 10:04:24,511 - sqlalchemy.engine.Engine - INFO - [cached since 1869s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:24,512 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.14ms
2026-02-05 10:04:24,513 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:30,396 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:30,396 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:30,397 - sqlalchemy.engine.Engine - INFO - [cached since 1875s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:30,398 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:30,398 - sqlalchemy.engine.Engine - INFO - [cached since 1791s ago] ('RKLB',)
2026-02-05 10:04:31,186 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 10:04:31,187 - sqlalchemy.engine.Engine - INFO - [cached since 1791s ago] ('RKLB',)
2026-02-05 10:04:31,190 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:31,190 - sqlalchemy.engine.Engine - INFO - [no key 0.00053s] ('315ffab6-714f-3efe-ab9f-4ba42f6c9d3a', 'RKLB', 'Rocket Lab Corporation (RKLB) Falls More Steeply Than Broader Market: What Investors Need to Know', 'Zacks', 'https://finance.yahoo.com/news/rocket-lab-corporation-rklb-falls-231503481.html', '2026-02-04 23:15:03.000000', None)
2026-02-05 10:04:31,193 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:31,193 - sqlalchemy.engine.Engine - INFO - [no key 0.00038s] ('7df33355-0a87-3b1e-8f3b-ed6951482c7e', 'RKLB', 'Rocket Lab Stock Tanks Again. The Mini SpaceX Is Having a Wild Ride.', 'Barrons.com', 'https://www.barrons.com/articles/rocket-lab-stock-spacex-mars-384a062d?siteid=yhoof2&yptr=yahoo', '2026-02-04 21:14:00.000000', None)
2026-02-05 10:04:31,194 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:31,195 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ('76d81207-0350-369c-8f92-76fb4f9f5066', 'RKLB', 'How & Why SpaceX is Moving the AI Data Center Race to Space', 'Zacks', 'https://finance.yahoo.com/news/why-spacex-moving-ai-data-184100765.html', '2026-02-03 18:41:00.000000', None)
2026-02-05 10:04:31,195 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:31,195 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('be0b2201-588d-3b1f-b314-9d16274fb7fa', 'RKLB', 'Rocket Lab Balances Rapid Electron Launches With Neutron Program Setbacks', 'Simply Wall St.', 'https://finance.yahoo.com/news/rocket-lab-balances-rapid-electron-112301299.html', '2026-02-03 11:23:01.000000', None)
2026-02-05 10:04:31,196 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:31,196 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('5aeb5e78-794b-3aaa-b277-c15863b8198d', 'RKLB', '3 Reasons to Avoid RKLB and 1 Stock to Buy Instead', 'StockStory', 'https://finance.yahoo.com/news/3-reasons-avoid-rklb-1-040427868.html', '2026-02-03 04:04:27.000000', None)
2026-02-05 10:04:31,197 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:31,198 - sqlalchemy.engine.Engine - INFO - [no key 0.00040s] ('edfb9cfe-2eba-3234-9efa-82b99a80c85e', 'RKLB', "Space Stock Sinks After Congress Won't Fund Mars Mission In 2031", "Investor's Business Daily", 'https://www.investors.com/news/rocket-lab-stock-congress-mars-mission-rover/?src=A00220&yptr=yahoo', '2026-02-02 21:34:25.000000', None)
2026-02-05 10:04:31,199 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:31,199 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('9f6897dd-9e0b-3f74-801b-2891969c0b9c', 'RKLB', 'Rocket Lab Stock Falls. The Reason Is Odd.', 'Barrons.com', 'https://www.barrons.com/articles/rocket-lab-stock-falls-3a575366?siteid=yhoof2&yptr=yahoo', '2026-02-02 21:21:00.000000', None)
2026-02-05 10:04:31,200 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:31,200 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('e7272b06-3aaa-3375-a356-52f3b0fcacc1', 'RKLB', 'MarketBeat Week in Review  01/26 - 01/30', 'MarketBeat', 'https://finance.yahoo.com/news/marketbeat-week-review-01-26-120000487.html', '2026-01-31 12:00:00.000000', None)
2026-02-05 10:04:31,201 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:31,201 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('443f8a27-ea4f-3f4f-8a62-4b24413f6c01', 'RKLB', 'Rocket Lab Balances Defense Contract Wins With Neutron Reusability Push', 'Simply Wall St.', 'https://finance.yahoo.com/news/rocket-lab-balances-defense-contract-091427254.html', '2026-01-30 09:14:27.000000', None)
2026-02-05 10:04:31,202 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:31,202 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('8276a284-5a6f-3b2d-a4f2-d84df7b17b3f', 'RKLB', 'Rocket Lab Corporation (RKLB) Dips More Than Broader Market: What You Should Know', 'Zacks', 'https://finance.yahoo.com/news/rocket-lab-corporation-rklb-dips-231505921.html', '2026-01-29 23:15:05.000000', None)
2026-02-05 10:04:31,203 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-05 10:04:31,203 - sqlalchemy.engine.Engine - INFO - [generated in 0.00022s] (39052169216.0, -468.65384, -0.34, 'RKLB')
2026-02-05 10:04:31,204 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 10:04:31,204 - sqlalchemy.engine.Engine - INFO - [cached since 1476s ago] (73.11, -10.0406, 35.01202471067643, 85.47700119018555, 69.60510047912598, 48.96347506523132, 1.6679175950080065, 4.283482653024311, -2.615565058016305, 96.7377139472858, 85.47700119018555, 74.2162884330853, 8.055585043770927, 21.839056930703023, 25.78737651883092, 13.942417754447227, 24364271.8, 1.071090333182049, '2026-02-05 02:04:30.399373', 'RKLB')
2026-02-05 10:04:31,205 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 10:04:31,208 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:31,208 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:31,208 - sqlalchemy.engine.Engine - INFO - [cached since 1791s ago] ('RKLB',)
2026-02-05 10:04:31,209 - api_logger - INFO - rid=/api/portfolio/RKLB/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=817.14ms
2026-02-05 10:04:31,210 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:31,217 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:31,218 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:31,218 - sqlalchemy.engine.Engine - INFO - [cached since 1875s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:31,219 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 10:04:31,219 - sqlalchemy.engine.Engine - INFO - [cached since 1875s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:31,221 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.68ms
2026-02-05 10:04:31,221 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:32,094 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:32,094 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:32,094 - sqlalchemy.engine.Engine - INFO - [cached since 1876s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:32,097 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 10:04:32,097 - sqlalchemy.engine.Engine - INFO - [cached since 1876s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 10:04:32,098 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:32,099 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.94ms
2026-02-05 10:04:32,117 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:32,117 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:32,117 - sqlalchemy.engine.Engine - INFO - [cached since 1876s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:32,118 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 10:04:32,118 - sqlalchemy.engine.Engine - INFO - [cached since 1876s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'ASTS', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 10:04:32,118 - api_logger - INFO - rid=/api/analysis/ASTS method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.42ms
2026-02-05 10:04:32,119 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:32,171 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:32,171 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:32,171 - sqlalchemy.engine.Engine - INFO - [cached since 1876s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:32,172 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 10:04:32,172 - sqlalchemy.engine.Engine - INFO - [cached since 1876s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 10:04:32,173 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:32,173 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.52ms
2026-02-05 10:04:36,838 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:36,839 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:36,839 - sqlalchemy.engine.Engine - INFO - [cached since 1881s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:36,843 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:36,843 - sqlalchemy.engine.Engine - INFO - [cached since 1797s ago] ('SIDU',)
2026-02-05 10:04:37,366 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 10:04:37,366 - sqlalchemy.engine.Engine - INFO - [cached since 1797s ago] ('SIDU',)
2026-02-05 10:04:37,369 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:37,370 - sqlalchemy.engine.Engine - INFO - [no key 0.00046s] ('6e1bceaa-3937-3df3-af1b-1d7bab012805', 'SIDU', '5 Drone and Defense Stocks Catching Major Momentum in 2026', 'MarketBeat', 'https://finance.yahoo.com/news/5-drone-defense-stocks-catching-183100760.html', '2026-01-19 18:31:00.000000', None)
2026-02-05 10:04:37,371 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:37,371 - sqlalchemy.engine.Engine - INFO - [no key 0.00028s] ('d3480080-bb9b-3ffb-b2ec-033191990a3a', 'SIDU', 'Assessing Sidus Space (SIDU) Valuation After SHIELD Contract Win And US$16.2 Million Capital Raise', 'Simply Wall St.', 'https://finance.yahoo.com/news/assessing-sidus-space-sidu-valuation-171206642.html', '2026-01-10 17:12:06.000000', None)
2026-02-05 10:04:37,376 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:37,377 - sqlalchemy.engine.Engine - INFO - [no key 0.00037s] ('cdfec6b5-719d-3b80-a76d-3eb4f4cee25e', 'SIDU', 'Sidus Space (SIDU) Is Up 47.8% After SHIELD Award, Capital Raise, And Board Addition  Has The Bull Case Changed?', 'Simply Wall St.', 'https://finance.yahoo.com/news/sidus-space-sidu-47-8-231521050.html', '2026-01-07 23:15:21.000000', None)
2026-02-05 10:04:37,378 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:37,378 - sqlalchemy.engine.Engine - INFO - [no key 0.00024s] ('c8f8f406-6d34-3c41-b5fb-638513fdd548', 'SIDU', 'BC-Most Active Stocks', 'Associated Press Finance', 'https://finance.yahoo.com/news/bc-most-active-stocks-153019063.html', '2026-01-07 15:30:19.000000', None)
2026-02-05 10:04:37,379 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:37,379 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('40093cf6-6335-3411-947f-9aa2a020ebc7', 'SIDU', 'US Equity Futures Mixed Pre-Bell Monday Despite Oil Sector Surge', 'MT Newswires', 'https://finance.yahoo.com/news/us-equity-futures-mixed-pre-135133672.html', '2026-01-05 13:51:33.000000', None)
2026-02-05 10:04:37,380 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:37,380 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('58ebb04c-8489-3bae-8919-28ecd8598830', 'SIDU', 'Trump Is Promising That the U.S. Will Return to the Moon. Does That Really Make Little-Known SIDU Stock a Buy?', 'Barchart', 'https://finance.yahoo.com/news/trump-promising-u-return-moon-201859274.html', '2025-12-31 20:18:59.000000', None)
2026-02-05 10:04:37,381 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:37,381 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('e88cef6b-6d7e-3922-b58d-0bd71c37b6c8', 'SIDU', 'Exchange-Traded Funds, Equity Futures Lower Pre-Bell Monday as Investors Await Fed Minutes', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-equity-futures-140417958.html', '2025-12-29 14:04:17.000000', None)
2026-02-05 10:04:37,382 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:37,382 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('69e91213-a98a-3f84-a683-678b8eb8c013', 'SIDU', 'Small space tech companys shares skyrocket on Trump Golden Dome contract', 'Euronews', 'https://finance.yahoo.com/news/small-space-tech-company-shares-165156864.html', '2025-12-26 16:51:56.000000', None)
2026-02-05 10:04:37,382 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:37,382 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('dfa76b1a-1cbc-3a11-bd6f-0b4b1029f825', 'SIDU', 'Exchange-Traded Funds Higher, Equity Futures Mixed Pre-Bell Friday as Market Reopens Following Holiday Break', 'MT Newswires', 'https://finance.yahoo.com/news/exchange-traded-funds-higher-equity-135509039.html', '2025-12-26 13:55:09.000000', None)
2026-02-05 10:04:37,383 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:37,383 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('661b55e7-4a4d-36d4-8cf9-9c09be9c2ef2', 'SIDU', 'US Equity Futures Mixed Amid Signs of Year-End Optimism', 'MT Newswires', 'https://finance.yahoo.com/news/us-equity-futures-mixed-amid-135418353.html', '2025-12-26 13:54:18.000000', None)
2026-02-05 10:04:37,384 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 10:04:37,384 - sqlalchemy.engine.Engine - INFO - [cached since 1797s ago] (155323856.0, -9.729167, 'SIDU')
2026-02-05 10:04:37,385 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 10:04:37,385 - sqlalchemy.engine.Engine - INFO - [cached since 1482s ago] (2.335, -16.0072, 34.39911950736996, 3.465749990940094, 2.3190199947357177, 1.5967649987339974, 0.030260391112669538, 0.2639597464292656, -0.23369935531659608, 4.655563262085844, 3.465749990940094, 2.2759367197943443, 0.5421428680419922, 10.075219225680202, 17.98299395445103, -5.740330231861449, 33677775.6, 0.4388001207538184, '2026-02-05 02:04:36.844840', 'SIDU')
2026-02-05 10:04:37,386 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 10:04:37,388 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:37,388 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:37,388 - sqlalchemy.engine.Engine - INFO - [cached since 1797s ago] ('SIDU',)
2026-02-05 10:04:37,389 - api_logger - INFO - rid=/api/portfolio/SIDU/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=552.33ms
2026-02-05 10:04:37,389 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:37,399 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:37,399 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:37,399 - sqlalchemy.engine.Engine - INFO - [cached since 1882s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:37,400 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 10:04:37,400 - sqlalchemy.engine.Engine - INFO - [cached since 1882s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:37,402 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.24ms
2026-02-05 10:04:37,402 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:40,123 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:40,123 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:40,123 - sqlalchemy.engine.Engine - INFO - [cached since 1884s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:40,125 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:40,126 - sqlalchemy.engine.Engine - INFO - [cached since 1801s ago] ('PG',)
2026-02-05 10:04:40,654 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 10:04:40,654 - sqlalchemy.engine.Engine - INFO - [cached since 1800s ago] ('PG',)
2026-02-05 10:04:40,658 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:40,658 - sqlalchemy.engine.Engine - INFO - [no key 0.00104s] ('6daf5e43-54ef-32f5-b20f-5bab91620ecc', 'PG', 'A Look At Procter & Gamble (PG) Valuation After Mixed Q2 Results And High Profile Brand Campaigns', 'Simply Wall St.', 'https://finance.yahoo.com/news/look-procter-gamble-pg-valuation-231721083.html', '2026-02-04 23:17:21.000000', None)
2026-02-05 10:04:40,661 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:40,661 - sqlalchemy.engine.Engine - INFO - [no key 0.00037s] ('45dd41a7-2d8a-3e60-92f2-f5b2ccc97321', 'PG', 'Staples Stocks Are Stretched. One of the Markets Hottest Sectors Looks Way Too Frothy.', 'Barrons.com', 'https://www.barrons.com/articles/staples-stocks-walmart-costco-coke-382e6ae8?siteid=yhoof2&yptr=yahoo', '2026-02-04 21:07:00.000000', None)
2026-02-05 10:04:40,662 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:40,663 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('8ae5cab5-0cae-3a44-a08d-0319189bd5ba', 'PG', "Can Beauty & Personal Care Innovation Drive Procter & Gamble's Growth?", 'Zacks', 'https://finance.yahoo.com/news/beauty-personal-care-innovation-drive-154900275.html', '2026-02-04 15:49:00.000000', None)
2026-02-05 10:04:40,664 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:40,664 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ('969c0730-01bd-397d-8b0c-911ee12230fd', 'PG', 'Procter & Gamble Leans On Sports Marketing To Support Brand Demand', 'Simply Wall St.', 'https://finance.yahoo.com/news/procter-gamble-leans-sports-marketing-101120333.html', '2026-02-04 10:11:20.000000', None)
2026-02-05 10:04:40,665 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:40,666 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ('b5bf1eb1-ec7e-37dc-9171-59e36b533328', 'PG', 'The Procter & Gamble Company (PG): A\xa0Bull\xa0Case Theory', 'Insider Monkey', 'https://finance.yahoo.com/news/procter-gamble-company-pg-bull-023628841.html', '2026-02-04 02:36:28.000000', None)
2026-02-05 10:04:40,667 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:40,667 - sqlalchemy.engine.Engine - INFO - [no key 0.00026s] ('752d1334-6a52-3af8-ba12-d2c246fc1721', 'PG', 'Is e.l.f. Beauty Stock a Hidden Gem in the Cosmetics Aisle?\u200b', 'Motley Fool', 'https://finance.yahoo.com/news/e-l-f-beauty-stock-235500401.html', '2026-02-03 23:55:00.000000', None)
2026-02-05 10:04:40,668 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:40,669 - sqlalchemy.engine.Engine - INFO - [no key 0.00041s] ('6fb9e125-b405-4eff-a62e-5a6466490e53', 'PG', 'PepsiCo CEO reveals how he is tackling weight-loss drugs and consumer affordability challenges', 'Yahoo Finance', 'https://finance.yahoo.com/news/pepsico-ceo-reveals-how-he-is-tackling-weight-loss-drugs-and-consumer-affordability-challenges-213011648.html', '2026-02-03 21:30:11.000000', None)
2026-02-05 10:04:40,669 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:40,670 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('43217243-9048-3384-9621-fcc6f4f91224', 'PG', "PepsiCo to cut prices of Lay's, Doritos as consumers push back", 'Reuters Videos', 'https://finance.yahoo.com/video/pepsico-cut-prices-lays-doritos-180303942.html', '2026-02-03 18:03:03.000000', None)
2026-02-05 10:04:40,670 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:40,671 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('5e7cae04-7b62-37a1-9ac3-2a779e698ecb', 'PG', 'Billionaire activist investor Peltz open to more buyouts', 'Reuters', 'https://finance.yahoo.com/news/billionaire-activist-investor-peltz-open-164336394.html', '2026-02-03 16:43:36.000000', None)
2026-02-05 10:04:40,671 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:40,671 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('bfbaf2ff-acce-3e4a-8e61-4df2d8d4f647', 'PG', 'Graphic Packaging (GPK) Earnings Transcript', 'Motley Fool', 'https://finance.yahoo.com/news/graphic-packaging-gpk-earnings-transcript-163841075.html', '2026-02-03 16:38:41.000000', None)
2026-02-05 10:04:40,673 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 10:04:40,674 - sqlalchemy.engine.Engine - INFO - [cached since 1588s ago] (366563360768.0, 23.20562, 21.43516, 'PG')
2026-02-05 10:04:40,674 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 10:04:40,674 - sqlalchemy.engine.Engine - INFO - [cached since 1485s ago] (156.87, 0.997932, 75.49734672075162, 146.94085769653321, 144.77058227539064, 151.73610290527344, 2.9764045007113964, 1.864460824098719, 1.1119436766126773, 157.2221048727517, 146.94085769653321, 136.65961052031474, 2.683854541172916, 86.54899363944926, 83.54631064643091, 92.554359625486, 12273200.0, 0.9919336440374149, '2026-02-05 02:04:40.127000', 'PG')
2026-02-05 10:04:40,675 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 10:04:40,677 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:40,677 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:40,677 - sqlalchemy.engine.Engine - INFO - [cached since 1800s ago] ('PG',)
2026-02-05 10:04:40,678 - api_logger - INFO - rid=/api/portfolio/PG/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=557.63ms
2026-02-05 10:04:40,678 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:40,686 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:40,686 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:40,686 - sqlalchemy.engine.Engine - INFO - [cached since 1885s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:40,687 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 10:04:40,687 - sqlalchemy.engine.Engine - INFO - [cached since 1885s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:40,690 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.35ms
2026-02-05 10:04:40,692 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:50,290 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:50,293 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:50,293 - sqlalchemy.engine.Engine - INFO - [cached since 1894s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:50,295 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:50,295 - sqlalchemy.engine.Engine - INFO - [cached since 1811s ago] ('AAPL',)
2026-02-05 10:04:50,821 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 10:04:50,822 - sqlalchemy.engine.Engine - INFO - [cached since 1810s ago] ('AAPL',)
2026-02-05 10:04:50,825 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:50,826 - sqlalchemy.engine.Engine - INFO - [no key 0.00054s] ('9aa7b4cd-fd6f-478b-95e6-eb4cafcb8db9', 'AAPL', 'Alphabet 2026 spending forecast soars past Wall Street expectations as Google parent goes all in on AI', 'Yahoo Finance', 'https://finance.yahoo.com/news/alphabet-2026-spending-forecast-soars-past-wall-street-expectations-as-google-parent-goes-all-in-on-ai-195254701.html', '2026-02-03 19:52:54.000000', None)
2026-02-05 10:04:50,828 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:50,828 - sqlalchemy.engine.Engine - INFO - [no key 0.00030s] ('677bdc22-05ed-3320-ac7a-79b8c08a86d0', 'AAPL', 'Dow Jones Futures: Google Beats Views, Huge AI Spending Stuns', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-futures-techs-falling-eli-lilly-soars-google-earnings-capital-spending/?src=A00220&yptr=yahoo', '2026-02-05 01:39:59.000000', None)
2026-02-05 10:04:50,830 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:50,830 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('cbb50b6f-5524-35c5-b207-00ea51b9d377', 'AAPL', 'Is It Really a Good Sign When Executives Buy Their Own Stock? We Ran the Numbers', 'The Wall Street Journal', 'https://www.wsj.com/finance/stocks/is-it-really-a-good-sign-when-executives-buy-their-own-stock-we-ran-the-numbers-2655b232?siteid=yhoof2&yptr=yahoo', '2026-02-05 00:00:00.000000', None)
2026-02-05 10:04:50,831 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:50,831 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('24e251ec-5ced-3140-8376-55bac7181f3f', 'AAPL', 'Analysts flag alarming correlation amid tech sell-off', 'TheStreet', 'https://finance.yahoo.com/news/analysts-flag-alarming-correlation-amid-235715348.html', '2026-02-04 23:57:15.000000', None)
2026-02-05 10:04:50,832 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:50,832 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('850ab954-5223-3573-bfa9-5a23e1e3c569', 'AAPL', 'Alphabet wont talk about the Google-Apple AI deal, even to investors', 'TechCrunch', 'https://finance.yahoo.com/news/alphabet-won-t-talk-google-232831031.html', '2026-02-04 23:28:31.000000', None)
2026-02-05 10:04:50,833 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:50,833 - sqlalchemy.engine.Engine - INFO - [no key 0.00028s] ('cf7a4db6-0534-3a66-9ff4-03e39c93d775', 'AAPL', "Google's quarterly results paint a picture of an internet powerhouse getting stronger in AI age", 'Associated Press Finance', 'https://finance.yahoo.com/news/googles-quarterly-results-paint-picture-214749532.html', '2026-02-04 21:47:49.000000', None)
2026-02-05 10:04:50,834 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:50,834 - sqlalchemy.engine.Engine - INFO - [no key 0.00018s] ('02abf5d3-55b1-34df-aeb5-748c40f522a2', 'AAPL', 'Arm Holdings Reported Record Revenue. The Stock Is Falling.', 'Barrons.com', 'https://www.barrons.com/articles/arm-holdings-earnings-stock-price-935c1ca4?siteid=yhoof2&yptr=yahoo', '2026-02-04 21:45:00.000000', None)
2026-02-05 10:04:50,835 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:50,836 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('70980df1-f2fc-3c74-ae35-06b22c9ee5a6', 'AAPL', 'The Dealmaking 3: Super Bowl LX & Top Issues Behind Big Game', 'CorpGov.com', 'https://sports.yahoo.com/articles/dealmaking-3-super-bowl-lx-213026499.html', '2026-02-04 21:30:26.000000', None)
2026-02-05 10:04:50,837 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:50,837 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('36df8192-83f5-3cb7-8bb3-97e1c78f4975', 'AAPL', 'Prediction: Broadcom Will Be a $3 Trillion Company by the End of 2027', 'Motley Fool', 'https://finance.yahoo.com/news/prediction-broadcom-3-trillion-company-212000347.html', '2026-02-04 21:20:00.000000', None)
2026-02-05 10:04:50,837 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:50,837 - sqlalchemy.engine.Engine - INFO - [no key 0.00015s] ('02bead2d-ccd9-3a31-989d-573ce3ba6327', 'AAPL', 'Silicon Labs Stock Soars. Why Texas Instruments Is Paying a Big Premium for the Acquisition.', 'Barrons.com', 'https://www.barrons.com/articles/silicon-labs-stock-texas-instruments-deal-7d3c8f60?siteid=yhoof2&yptr=yahoo', '2026-02-04 21:16:00.000000', None)
2026-02-05 10:04:50,838 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 10:04:50,838 - sqlalchemy.engine.Engine - INFO - [cached since 1598s ago] (4063829426176.0, 34.998734, 29.799831, 'AAPL')
2026-02-05 10:04:50,839 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 10:04:50,839 - sqlalchemy.engine.Engine - INFO - [cached since 1496s ago] (276.49, 2.6013, 67.07997954142263, 258.4169982910156, 268.5697985839844, 237.50162879943846, 0.21437346290014148, -2.7200268040609075, 2.934400266961049, 273.5361184343503, 258.4169982910156, 243.29787814768085, 6.7085756574358255, 87.14317928782904, 76.65866568376669, 108.11220649595373, 56647325.0, 1.5968715204115993, '2026-02-05 02:04:50.296708', 'AAPL')
2026-02-05 10:04:50,839 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 10:04:50,841 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:50,841 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:50,842 - sqlalchemy.engine.Engine - INFO - [cached since 1810s ago] ('AAPL',)
2026-02-05 10:04:50,843 - api_logger - INFO - rid=/api/portfolio/AAPL/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=555.48ms
2026-02-05 10:04:50,843 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:50,851 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:50,851 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:50,851 - sqlalchemy.engine.Engine - INFO - [cached since 1895s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:50,852 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 10:04:50,852 - sqlalchemy.engine.Engine - INFO - [cached since 1895s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:50,855 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.52ms
2026-02-05 10:04:50,855 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:52,176 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:52,177 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:52,177 - sqlalchemy.engine.Engine - INFO - [cached since 1896s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:52,178 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 10:04:52,179 - sqlalchemy.engine.Engine - INFO - [cached since 1896s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 10:04:52,179 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.31ms
2026-02-05 10:04:52,180 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:52,198 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:52,198 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:52,198 - sqlalchemy.engine.Engine - INFO - [cached since 1896s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:52,199 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 10:04:52,199 - sqlalchemy.engine.Engine - INFO - [cached since 1896s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'RKLB', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 10:04:52,199 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:52,199 - api_logger - INFO - rid=/api/analysis/RKLB method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.18ms
2026-02-05 10:04:52,234 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:52,234 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:52,234 - sqlalchemy.engine.Engine - INFO - [cached since 1896s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:52,235 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 10:04:52,235 - sqlalchemy.engine.Engine - INFO - [cached since 1896s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 10:04:52,236 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.18ms
2026-02-05 10:04:52,236 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:55,036 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:55,036 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:55,036 - sqlalchemy.engine.Engine - INFO - [cached since 1899s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:55,038 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:55,038 - sqlalchemy.engine.Engine - INFO - [cached since 1816s ago] ('AMD',)
2026-02-05 10:04:55,697 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 10:04:55,697 - sqlalchemy.engine.Engine - INFO - [cached since 1815s ago] ('AMD',)
2026-02-05 10:04:55,700 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:55,700 - sqlalchemy.engine.Engine - INFO - [no key 0.00032s] ('19cd1080-a43d-4393-8ed1-77d2b30d3322', 'AMD', 'Earnings live: Qualcomm stock dives as memory chip shortage weighs on outlook, Alphabet boosts AI spending', 'Yahoo Finance', 'https://finance.yahoo.com/news/live/earnings-live-qualcomm-stock-dives-as-memory-chip-shortage-weighs-on-outlook-alphabet-boosts-ai-spending-213250088.html', '2026-02-04 21:32:50.000000', None)
2026-02-05 10:04:55,701 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:55,702 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('5fc86e2d-619d-4254-83cd-ae93e86b0bf2', 'AMD', 'Memory company stocks are seeing 1,000% gains from the AI boom', 'Yahoo Finance', 'https://finance.yahoo.com/news/memory-company-stocks-are-seeing-1000-gains-from-the-ai-boom-192550307.html', '2026-02-04 19:25:50.000000', None)
2026-02-05 10:04:55,702 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:55,703 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('a65d7578-a084-3058-9ea8-9a30784830df', 'AMD', 'Software sell-off, AMD earnings, bitcoin drops: 3 Things', 'Yahoo Finance Video', 'https://finance.yahoo.com/video/software-sell-off-amd-earnings-140322858.html', '2026-02-04 14:03:22.000000', None)
2026-02-05 10:04:55,704 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:55,704 - sqlalchemy.engine.Engine - INFO - [no key 0.00020s] ('677bdc22-05ed-3320-ac7a-79b8c08a86d0', 'AMD', 'Dow Jones Futures: Google Beats Views, Huge AI Spending Stuns', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-futures-techs-falling-eli-lilly-soars-google-earnings-capital-spending/?src=A00220&yptr=yahoo', '2026-02-05 01:57:35.000000', None)
2026-02-05 10:04:55,705 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:55,705 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ('7df3ef9a-8dd6-3c8d-8213-dd550ee44299', 'AMD', 'Arvind Ltd (BOM:500101) Q3 2026 Earnings Call Highlights: Record Revenue and Strategic Growth ...', 'GuruFocus.com', 'https://finance.yahoo.com/news/arvind-ltd-bom-500101-q3-010213493.html', '2026-02-05 01:02:13.000000', None)
2026-02-05 10:04:55,707 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:55,707 - sqlalchemy.engine.Engine - INFO - [no key 0.00023s] ('7697b9cd-a146-3cd5-943d-3242b7c7da5e', 'AMD', 'Review & Preview: The Tech Slump Continues', 'Barrons.com', 'https://www.barrons.com/articles/stocks-today-tech-selloff-jobs-report-5966cc4e?siteid=yhoof2&yptr=yahoo', '2026-02-05 00:55:00.000000', None)
2026-02-05 10:04:55,708 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:55,708 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('e18b886b-9a19-3b14-bd3e-db5fcfbd22b6', 'AMD', 'Why AMD Stock Crashed Today', 'Motley Fool', 'https://finance.yahoo.com/news/why-amd-stock-crashed-today-233811096.html', '2026-02-04 23:38:11.000000', None)
2026-02-05 10:04:55,708 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:55,708 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('968e2406-bd76-37d3-8697-cd4486834707', 'AMD', 'Stock Market Today, Feb. 4: Advanced Micro Devices Slides as Wall Street Adjusts AI Revenue Expectations', 'Motley Fool', 'https://finance.yahoo.com/news/stock-market-today-feb-4-232100076.html', '2026-02-04 23:21:00.000000', None)
2026-02-05 10:04:55,709 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:55,709 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('7eb45a39-68b1-33a0-9c6b-0dd4a51ced6d', 'AMD', 'AMDs Record AI Results Meet Softer Outlook And Share Pullback', 'Simply Wall St.', 'https://finance.yahoo.com/news/amd-record-ai-results-meet-231644919.html', '2026-02-04 23:16:44.000000', None)
2026-02-05 10:04:55,710 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:04:55,710 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('c0b7ebbf-2c87-3e1e-bb69-9bde050b6b67', 'AMD', 'Intensifying Tech Slide Sends Nasdaq to Worst Two-Day Drop Since April', 'The Wall Street Journal', 'https://www.wsj.com/finance/stocks/global-stocks-markets-dow-news-02-04-2026-3fd7a30b?siteid=yhoof2&yptr=yahoo', '2026-02-04 23:15:00.000000', None)
2026-02-05 10:04:55,711 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 10:04:55,711 - sqlalchemy.engine.Engine - INFO - [cached since 1603s ago] (325917638656.0, 76.70116, 18.983759, 'AMD')
2026-02-05 10:04:55,711 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 10:04:55,711 - sqlalchemy.engine.Engine - INFO - [cached since 1500s ago] (200.19, -17.3144, 40.03914487421076, 232.9284996032715, 221.82899963378907, 177.88994976043702, 3.9425602576135645, 6.990313083599391, -3.0477528259858264, 272.26530117294726, 232.9284996032715, 193.59169803359572, 15.28713880266462, 27.660962159600814, 45.76717794525645, -8.551469411710457, 42376245.0, 2.5223329721640035, '2026-02-05 02:04:55.039183', 'AMD')
2026-02-05 10:04:55,712 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 10:04:55,713 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:55,714 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:04:55,714 - sqlalchemy.engine.Engine - INFO - [cached since 1815s ago] ('AMD',)
2026-02-05 10:04:55,715 - api_logger - INFO - rid=/api/portfolio/AMD/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=680.00ms
2026-02-05 10:04:55,715 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:55,723 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:55,723 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:55,723 - sqlalchemy.engine.Engine - INFO - [cached since 1900s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:55,724 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 10:04:55,725 - sqlalchemy.engine.Engine - INFO - [cached since 1900s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:55,727 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.54ms
2026-02-05 10:04:55,727 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:56,992 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:56,993 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:56,993 - sqlalchemy.engine.Engine - INFO - [cached since 1901s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:56,995 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 10:04:56,995 - sqlalchemy.engine.Engine - INFO - [cached since 1901s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 10:04:56,996 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.98ms
2026-02-05 10:04:56,997 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:57,017 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:57,017 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:57,018 - sqlalchemy.engine.Engine - INFO - [cached since 1901s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:57,018 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 10:04:57,018 - sqlalchemy.engine.Engine - INFO - [cached since 1901s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 10:04:57,019 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.51ms
2026-02-05 10:04:57,019 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:04:57,071 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:04:57,071 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:04:57,071 - sqlalchemy.engine.Engine - INFO - [cached since 1901s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:04:57,072 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 10:04:57,072 - sqlalchemy.engine.Engine - INFO - [cached since 1901s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 10:04:57,072 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.10ms
2026-02-05 10:04:57,072 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:05:22,638 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:05:22,639 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:05:22,639 - sqlalchemy.engine.Engine - INFO - [cached since 1927s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:05:22,641 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:05:22,641 - sqlalchemy.engine.Engine - INFO - [cached since 1843s ago] ('AMZN',)
2026-02-05 10:05:23,186 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 10:05:23,187 - sqlalchemy.engine.Engine - INFO - [cached since 1843s ago] ('AMZN',)
2026-02-05 10:05:23,190 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:23,190 - sqlalchemy.engine.Engine - INFO - [no key 0.00064s] ('6c52d518-186f-3679-b4b3-950c7dd2109e', 'AMZN', 'Amazon earnings, Fed commentary, mortgage rates: What to Watch', 'Yahoo Finance Video', 'https://finance.yahoo.com/video/amazon-earnings-fed-commentary-mortgage-000000507.html', '2026-02-05 00:00:00.000000', None)
2026-02-05 10:05:23,194 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:23,194 - sqlalchemy.engine.Engine - INFO - [no key 0.00043s] ('1b32239c-ce93-4d7f-84c9-abda55472e3a', 'AMZN', 'Stock market today: S&P 500, Nasdaq fall for 2nd day as tech slides on AI worries with Google earnings ahead', 'Yahoo Finance', 'https://finance.yahoo.com/news/live/stock-market-today-sp-500-nasdaq-fall-for-2nd-day-as-tech-slides-on-ai-worries-with-google-earnings-ahead-210024017.html', '2026-02-04 21:00:24.000000', None)
2026-02-05 10:05:23,195 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:23,196 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('f9af2084-3302-4faa-8e26-cbeb75d1d310', 'AMZN', 'Amazon to report Q4 earnings with capex, AI growth in focus', 'Yahoo Finance', 'https://finance.yahoo.com/news/amazon-to-report-q4-earnings-with-capex-ai-growth-in-focus-173054193.html', '2026-02-04 17:30:54.000000', None)
2026-02-05 10:05:23,197 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:23,197 - sqlalchemy.engine.Engine - INFO - [no key 0.00025s] ('59f8f07e-e241-3ec6-ae9e-abf2ddb1cc39', 'AMZN', 'Texas Instruments makes a $7.5B deal no one saw coming', 'TheStreet', 'https://finance.yahoo.com/news/texas-instruments-makes-7-5b-013700660.html', '2026-02-05 01:37:00.000000', None)
2026-02-05 10:05:23,198 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:23,198 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('91cf775a-115c-36f8-88c7-4715116c2dc4', 'AMZN', "Palantir Isn't Adding Many New Customers  Existing Clients Are Spending Much More, CEO Alex Karp Says: 'AI Has Just Put Gasoline On All'", 'Benzinga', 'https://finance.yahoo.com/news/palantir-isnt-adding-many-customers-013107617.html', '2026-02-05 01:31:07.000000', None)
2026-02-05 10:05:23,199 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:23,199 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('e1133228-a79b-3cb1-b505-6cbd86a2bfbd', 'AMZN', '3 Intriguing Stocks to Watch After Q4 Earnings: AMD, SPG, TER', 'Zacks', 'https://finance.yahoo.com/news/3-intriguing-stocks-watch-q4-005300347.html', '2026-02-05 00:53:00.000000', None)
2026-02-05 10:05:23,200 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:23,200 - sqlalchemy.engine.Engine - INFO - [no key 0.00031s] ('f9e64bee-7f09-3d48-9de7-2a71f46d584c', 'AMZN', 'How the AI Trade Went From Market Savior to Saboteur', 'Barrons.com', 'https://www.barrons.com/articles/stock-market-ai-trade-software-selloff-8fa2c639?siteid=yhoof2&yptr=yahoo', '2026-02-05 00:09:00.000000', None)
2026-02-05 10:05:23,201 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:23,201 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('24e251ec-5ced-3140-8376-55bac7181f3f', 'AMZN', 'Analysts flag alarming correlation amid tech sell-off', 'TheStreet', 'https://finance.yahoo.com/news/analysts-flag-alarming-correlation-amid-235715348.html', '2026-02-04 23:57:15.000000', None)
2026-02-05 10:05:23,202 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:23,202 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('86e24558-f45f-40a0-a7a2-b3c926a0c079', 'AMZN', "Stock market today: Dow, S&P 500, Nasdaq futures rise after Wall Street's tech sell-off deepens", 'Yahoo Finance', 'https://finance.yahoo.com/news/live/stock-market-today-dow-sp-500-nasdaq-futures-rise-after-wall-streets-tech-sell-off-deepens-234925012.html', '2026-02-04 23:49:25.000000', None)
2026-02-05 10:05:23,203 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:23,203 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('68e62464-4091-3f37-8545-2ae88aebe4d1', 'AMZN', "'Melania' Surprises With $7 Million In US, Film Made Only $44,960 In UK, $7,696 In Italy: Why Amazon Is Far From Profits", 'Benzinga', 'https://finance.yahoo.com/news/melania-surprises-7-million-us-233104883.html', '2026-02-04 23:31:04.000000', None)
2026-02-05 10:05:23,204 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-05 10:05:23,204 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (2490713505792.0, 32.86178, 29.70792, 7.09, 'AMZN')
2026-02-05 10:05:23,205 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 10:05:23,205 - sqlalchemy.engine.Engine - INFO - [cached since 1528s ago] (232.99, -2.3594, 45.9115406026677, 239.78849868774415, 233.58059967041015, 222.7248501586914, 1.2502575894944812, 1.8732388731122875, -0.6229812836178064, 249.47302662638887, 239.78849868774415, 230.10397074909943, 6.2228578839983255, 43.52572750962652, 57.03523917146645, 16.506704185946674, 41481560.0, 1.2330201660689715, '2026-02-05 02:05:22.642741', 'AMZN')
2026-02-05 10:05:23,206 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 10:05:23,207 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:05:23,208 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:05:23,208 - sqlalchemy.engine.Engine - INFO - [cached since 1843s ago] ('AMZN',)
2026-02-05 10:05:23,209 - api_logger - INFO - rid=/api/portfolio/AMZN/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=572.18ms
2026-02-05 10:05:23,209 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:05:23,217 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:05:23,218 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:05:23,218 - sqlalchemy.engine.Engine - INFO - [cached since 1927s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:05:23,219 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 10:05:23,219 - sqlalchemy.engine.Engine - INFO - [cached since 1927s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:05:23,221 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.63ms
2026-02-05 10:05:23,222 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:05:24,605 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:05:24,606 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:05:24,607 - sqlalchemy.engine.Engine - INFO - [cached since 1929s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:05:24,609 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:05:24,609 - sqlalchemy.engine.Engine - INFO - [cached since 1845s ago] ('ASTS',)
2026-02-05 10:05:25,141 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 10:05:25,142 - sqlalchemy.engine.Engine - INFO - [cached since 1844s ago] ('ASTS',)
2026-02-05 10:05:25,144 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:25,145 - sqlalchemy.engine.Engine - INFO - [no key 0.00032s] ('4f34aa62-3fe7-3f96-85e8-7d55c6f5393d', 'ASTS', 'AT&T, Amazon Forge Cloud, Satellite Partnership. AST SpaceMobile Not Impacted, Says AT&T.', "Investor's Business Daily", 'https://www.investors.com/news/technology/att-amazon-forge-cloud-satellite-partnership-asts-gsat/?src=A00220&yptr=yahoo', '2026-02-04 22:36:48.000000', None)
2026-02-05 10:05:25,146 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:25,146 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('05654542-b483-3ae2-a498-16bc9d5e65fc', 'ASTS', 'AST SpaceMobile Enters Defense Work As BlueBird 7 Launch Nears', 'Simply Wall St.', 'https://finance.yahoo.com/news/ast-spacemobile-enters-defense-bluebird-201842829.html', '2026-02-04 20:18:42.000000', None)
2026-02-05 10:05:25,147 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:25,147 - sqlalchemy.engine.Engine - INFO - [no key 0.00031s] ('7aadef03-1b12-3f07-b81e-892b093ca74b', 'ASTS', 'AST SpaceMobile (ASTS) Climbs 10.7% as Elon Musk Bets on Space Sector to Boost AI', 'Insider Monkey', 'https://finance.yahoo.com/news/ast-spacemobile-asts-climbs-10-145233542.html', '2026-02-04 14:52:33.000000', None)
2026-02-05 10:05:25,149 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:25,149 - sqlalchemy.engine.Engine - INFO - [no key 0.00027s] ('02c66b20-e713-32f3-b7fa-219efb715de4', 'ASTS', "US space stocks rise after Musk's SpaceX merges with xAI at $1.25 trillion valuation", 'Reuters', 'https://finance.yahoo.com/news/us-space-stocks-rise-musks-111421530.html', '2026-02-03 11:14:21.000000', None)
2026-02-05 10:05:25,150 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:25,150 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('75e0f95b-dc3a-37ed-a263-afaae959670f', 'ASTS', 'AST SpaceMobile, Inc. (ASTS) Stock Slides as Market Rises: Facts to Know Before You Trade', 'Zacks', 'https://finance.yahoo.com/news/ast-spacemobile-inc-asts-stock-230003256.html', '2026-02-02 23:00:03.000000', None)
2026-02-05 10:05:25,151 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:25,151 - sqlalchemy.engine.Engine - INFO - [no key 0.00022s] ('cf099c2a-87c1-3c8f-896f-6db7e53feea5', 'ASTS', 'Why AST SpaceMobile Stock Jumped 53% in January', 'Motley Fool', 'https://finance.yahoo.com/news/why-ast-spacemobile-stock-jumped-225216538.html', '2026-02-02 22:52:16.000000', None)
2026-02-05 10:05:25,152 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:25,152 - sqlalchemy.engine.Engine - INFO - [no key 0.00014s] ('0d0fd9d9-9d63-3731-9685-22581d85f60e', 'ASTS', 'Assessing AST SpaceMobile (ASTS) Valuation After BlueBird 7 Launch Confirmation And SHIELD Contract Win', 'Simply Wall St.', 'https://finance.yahoo.com/news/assessing-ast-spacemobile-asts-valuation-231603546.html', '2026-01-28 23:16:03.000000', None)
2026-02-05 10:05:25,153 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:25,153 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('ca37c207-01b9-37c5-9815-65e3ec316ec9', 'ASTS', 'BlueBird 7 Launch on New Glenn and SHIELD Role Could Be A Game Changer For AST SpaceMobile (ASTS)', 'Simply Wall St.', 'https://finance.yahoo.com/news/bluebird-7-launch-glenn-shield-221137355.html', '2026-01-28 22:11:37.000000', None)
2026-02-05 10:05:25,154 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:25,154 - sqlalchemy.engine.Engine - INFO - [no key 0.00016s] ('c006b281-ad32-3c5c-9e51-996a285628db', 'ASTS', 'Space Stock Boom: Why Retail and Wall Street Are Aligning', 'MarketBeat', 'https://finance.yahoo.com/news/space-stock-boom-why-retail-183600974.html', '2026-01-27 18:36:00.000000', None)
2026-02-05 10:05:25,154 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 10:05:25,154 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('6f95060c-594a-31f4-ad43-1f5122c49a80', 'ASTS', 'AST SpaceMobile, Inc. (ASTS) Stock Sinks As Market Gains: What You Should Know', 'Zacks', 'https://finance.yahoo.com/news/ast-spacemobile-inc-asts-stock-230004280.html', '2026-01-26 23:00:04.000000', None)
2026-02-05 10:05:25,156 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, forward_pe=? WHERE stocks.ticker = ?
2026-02-05 10:05:25,156 - sqlalchemy.engine.Engine - INFO - [cached since 1844s ago] (38026035200.0, -101.87008, 'ASTS')
2026-02-05 10:05:25,158 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 10:05:25,158 - sqlalchemy.engine.Engine - INFO - [cached since 1530s ago] (103.5, -10.5909, 53.58131463453943, 105.88250007629395, 84.97439979553222, 57.7319997882843, 7.5675833878391785, 8.948611890927712, -1.3810285030885332, 126.66223760308172, 105.88250007629395, 85.10276254950618, 13.582972390311104, 40.22547499580418, 54.39213636856865, 11.892152250275231, 17463606.45, 1.1380483783176414, '2026-02-05 02:05:24.610943', 'ASTS')
2026-02-05 10:05:25,159 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 10:05:25,161 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:05:25,161 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 10:05:25,161 - sqlalchemy.engine.Engine - INFO - [cached since 1844s ago] ('ASTS',)
2026-02-05 10:05:25,162 - api_logger - INFO - rid=/api/portfolio/ASTS/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=559.30ms
2026-02-05 10:05:25,163 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 10:05:25,171 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 10:05:25,171 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 10:05:25,171 - sqlalchemy.engine.Engine - INFO - [cached since 1929s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:05:25,173 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 10:05:25,174 - sqlalchemy.engine.Engine - INFO - [cached since 1929s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 10:05:25,176 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.18ms
2026-02-05 10:05:25,177 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:29:57,678 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:29:57,680 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:29:57,680 - sqlalchemy.engine.Engine - INFO - [cached since 3288s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:29:57,684 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:29:57,684 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:29:57,684 - sqlalchemy.engine.Engine - INFO - [cached since 3288s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:29:57,690 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 11:29:57,690 - sqlalchemy.engine.Engine - INFO - [cached since 3288s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 11:29:57,692 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 11:29:57,692 - sqlalchemy.engine.Engine - INFO - [cached since 3288s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:29:57,697 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=37.06ms
2026-02-05 11:29:57,698 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=16.49ms
2026-02-05 11:29:57,698 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:29:57,698 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:31:38,624 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:31:38,625 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:31:38,625 - sqlalchemy.engine.Engine - INFO - [cached since 3389s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:31:38,626 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:31:38,626 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:31:38,626 - sqlalchemy.engine.Engine - INFO - [cached since 3389s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:31:38,629 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 11:31:38,630 - sqlalchemy.engine.Engine - INFO - [cached since 3389s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 11:31:38,632 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 11:31:38,632 - sqlalchemy.engine.Engine - INFO - [cached since 3389s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:31:38,635 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=9.78ms
2026-02-05 11:31:38,636 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=15.23ms
2026-02-05 11:31:38,637 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:31:38,637 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:31:39,548 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:31:39,550 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:31:39,550 - sqlalchemy.engine.Engine - INFO - [cached since 3390s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:31:39,554 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 11:31:39,555 - sqlalchemy.engine.Engine - INFO - [cached since 3390s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 11:31:39,556 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:31:39,557 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=11.75ms
2026-02-05 11:31:39,575 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:31:39,576 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:31:39,576 - sqlalchemy.engine.Engine - INFO - [cached since 3390s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:31:39,579 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 11:31:39,579 - sqlalchemy.engine.Engine - INFO - [cached since 3390s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 11:31:39,581 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.95ms
2026-02-05 11:31:39,582 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:31:39,676 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:31:39,677 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:31:39,677 - sqlalchemy.engine.Engine - INFO - [cached since 3390s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:31:39,679 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 11:31:39,680 - sqlalchemy.engine.Engine - INFO - [cached since 3390s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 11:31:39,680 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:31:39,681 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.23ms
2026-02-05 11:31:40,902 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:31:40,903 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:31:40,903 - sqlalchemy.engine.Engine - INFO - [cached since 3391s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:31:40,904 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 11:31:40,905 - sqlalchemy.engine.Engine - INFO - [cached since 3391s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 11:31:40,906 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.70ms
2026-02-05 11:31:40,906 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:31:40,930 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:31:40,930 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:31:40,930 - sqlalchemy.engine.Engine - INFO - [cached since 3391s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:31:40,931 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 11:31:40,931 - sqlalchemy.engine.Engine - INFO - [cached since 3391s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 11:31:40,932 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:31:40,932 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.87ms
2026-02-05 11:31:40,972 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:31:40,973 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:31:40,973 - sqlalchemy.engine.Engine - INFO - [cached since 3391s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:31:40,974 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 11:31:40,974 - sqlalchemy.engine.Engine - INFO - [cached since 3391s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 11:31:40,975 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.02ms
2026-02-05 11:31:40,975 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:34:34,839 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:34:34,855 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:34:34,855 - sqlalchemy.engine.Engine - INFO - [generated in 0.00027s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:34:34,855 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 11:34:34,856 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 11:34:34,856 - sqlalchemy.engine.Engine - INFO - [cached since 0.0009042s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:34:34,858 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 11:34:34,858 - sqlalchemy.engine.Engine - INFO - [generated in 0.00018s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 11:34:34,863 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 11:34:34,863 - sqlalchemy.engine.Engine - INFO - [generated in 0.00065s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 11:34:34,865 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=41.19ms
2026-02-05 11:34:34,866 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 11:34:34,870 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=38.39ms
2026-02-05 11:34:34,871 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 18:39:51,818 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 18:39:51,821 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 18:39:51,822 - sqlalchemy.engine.Engine - INFO - [cached since 7787s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 18:39:51,831 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 18:39:51,831 - sqlalchemy.engine.Engine - INFO - [cached since 7787s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 18:39:51,833 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 18:39:51,833 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 18:39:51,834 - sqlalchemy.engine.Engine - INFO - [cached since 7787s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 18:39:51,835 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 18:39:51,837 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 18:39:51,839 - sqlalchemy.engine.Engine - INFO - [cached since 7787s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 18:39:51,842 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=66.64ms
2026-02-05 18:39:51,850 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=17.93ms
2026-02-05 18:39:51,850 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 18:39:51,857 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 18:39:51,858 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 18:39:51,858 - sqlalchemy.engine.Engine - INFO - [cached since 7787s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 18:39:51,860 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 18:39:51,861 - sqlalchemy.engine.Engine - INFO - [cached since 7787s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 18:39:51,861 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 18:39:51,862 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.42ms
2026-02-05 18:39:52,630 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 18:39:52,631 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 18:39:52,631 - sqlalchemy.engine.Engine - INFO - [cached since 7788s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 18:39:52,633 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 18:39:52,634 - sqlalchemy.engine.Engine - INFO - [cached since 7788s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 18:39:52,635 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.62ms
2026-02-05 18:39:52,636 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 18:39:52,644 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 18:39:52,644 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 18:39:52,644 - sqlalchemy.engine.Engine - INFO - [cached since 7788s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 18:39:52,645 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 18:39:52,645 - sqlalchemy.engine.Engine - INFO - [cached since 7788s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMZN', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 18:39:52,646 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 18:39:52,646 - api_logger - INFO - rid=/api/analysis/AMZN method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.57ms
2026-02-05 18:39:52,670 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 18:39:52,670 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 18:39:52,670 - sqlalchemy.engine.Engine - INFO - [cached since 7788s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 18:39:52,672 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-05 18:39:52,672 - sqlalchemy.engine.Engine - INFO - [cached since 7788s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AMD', 'qwen-3-vl-thinking', 1, 0)
2026-02-05 18:39:52,673 - api_logger - INFO - rid=/api/analysis/AMD method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.53ms
2026-02-05 18:39:52,673 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 18:39:55,367 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 18:39:55,367 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 18:39:55,368 - sqlalchemy.engine.Engine - INFO - [cached since 7791s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 18:39:55,372 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 18:39:55,372 - sqlalchemy.engine.Engine - INFO - [generated in 0.00058s] ('AMD',)
2026-02-05 18:39:56,541 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-05 18:39:56,541 - sqlalchemy.engine.Engine - INFO - [generated in 0.00042s] ('AMD',)
2026-02-05 18:39:56,544 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 18:39:56,544 - sqlalchemy.engine.Engine - INFO - [no key 0.00019s] ('19cd1080-a43d-4393-8ed1-77d2b30d3322', 'AMD', 'Earnings live: Qualcomm stock dives as memory chip shortage weighs on outlook, Alphabet boosts AI spending', 'Yahoo Finance', 'https://finance.yahoo.com/news/live/earnings-live-qualcomm-stock-dives-as-memory-chip-shortage-weighs-on-outlook-alphabet-boosts-ai-spending-213250088.html', '2026-02-04 21:32:50.000000', None)
2026-02-05 18:39:56,546 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 18:39:56,546 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('5fc86e2d-619d-4254-83cd-ae93e86b0bf2', 'AMD', 'Memory company stocks are seeing 1,000% gains from the AI boom', 'Yahoo Finance', 'https://finance.yahoo.com/news/memory-company-stocks-are-seeing-1000-gains-from-the-ai-boom-192550307.html', '2026-02-04 19:25:50.000000', None)
2026-02-05 18:39:56,546 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 18:39:56,547 - sqlalchemy.engine.Engine - INFO - [no key 0.00013s] ('a65d7578-a084-3058-9ea8-9a30784830df', 'AMD', 'Software sell-off, AMD earnings, bitcoin drops: 3 Things', 'Yahoo Finance Video', 'https://finance.yahoo.com/video/software-sell-off-amd-earnings-140322858.html', '2026-02-04 14:03:22.000000', None)
2026-02-05 18:39:56,548 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 18:39:56,548 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('841a6643-95af-30c7-81f2-8e4298da3beb', 'AMD', 'US Stock Market Today S&P 500 Futures Nudge Higher As Rate Jitters Linger', 'Simply Wall St.', 'https://finance.yahoo.com/news/us-stock-market-today-p-101507736.html', '2026-02-05 10:15:07.000000', None)
2026-02-05 18:39:56,549 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 18:39:56,549 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('1b3a8a1d-9199-35e4-9ddb-19b8074958a4', 'AMD', 'Stock Futures Rise as Market Digests Google AI Spending Surge', 'Barrons.com', 'https://www.barrons.com/livecoverage/stock-market-news-today-020526/card/stock-futures-rise-as-market-digests-google-ai-spending-surge-QSUrxiRDlRzr1j3UJ5sl?siteid=yhoof2&yptr=yahoo', '2026-02-05 08:56:05.000000', None)
2026-02-05 18:39:56,549 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 18:39:56,550 - sqlalchemy.engine.Engine - INFO - [no key 0.00010s] ('8125b7e3-2723-3344-af8d-52aff352f1b1', 'AMD', 'Heard on the Street Wednesday Recap: Tech Tantrum', 'The Wall Street Journal', 'https://www.wsj.com/livecoverage/stock-market-today-dow-sp-500-nasdaq-02-05-2026/card/heard-on-the-street-wednesday-recap-tech-tantrum-ljtzcfNMCFjoPCjUvHHA?siteid=yhoof2&yptr=yahoo', '2026-02-05 08:45:12.000000', None)
2026-02-05 18:39:56,550 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 18:39:56,550 - sqlalchemy.engine.Engine - INFO - [no key 0.00009s] ('3a21db1b-1fa4-3aba-ac31-4fc39c4500a1', 'AMD', 'TSMC Needs to Make More Advanced Chips. Why Its Turning to Japan.', 'Barrons.com', 'https://www.barrons.com/articles/tsmc-stock-price-chip-nvidia-apple-supplier-0238529b?siteid=yhoof2&yptr=yahoo', '2026-02-05 08:40:00.000000', None)
2026-02-05 18:39:56,552 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 18:39:56,552 - sqlalchemy.engine.Engine - INFO - [no key 0.00030s] ('fbd611eb-a40c-3116-8d2e-c6fbf3761c53', 'AMD', 'Stock Market News for Feb 5, 2026', 'Zacks', 'https://finance.yahoo.com/news/stock-market-news-feb-5-084000765.html', '2026-02-05 08:40:00.000000', None)
2026-02-05 18:39:56,553 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 18:39:56,553 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('677bdc22-05ed-3320-ac7a-79b8c08a86d0', 'AMD', 'Dow Jones Futures Fall; Google Beats Views, Huge AI Spending Stuns', "Investor's Business Daily", 'https://www.investors.com/market-trend/stock-market-today/dow-jones-futures-techs-falling-eli-lilly-soars-google-earnings-capital-spending/?src=A00220&yptr=yahoo', '2026-02-05 04:05:55.000000', None)
2026-02-05 18:39:56,554 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-05 18:39:56,554 - sqlalchemy.engine.Engine - INFO - [no key 0.00017s] ('54bcf021-49cd-3e5f-bc61-af39fbf335a0', 'AMD', 'Super Micro Computer, Inc. (SMCI): A\xa0Bull\xa0Case Theory', 'Insider Monkey', 'https://finance.yahoo.com/news/super-micro-computer-inc-smci-031847771.html', '2026-02-05 03:18:47.000000', None)
2026-02-05 18:39:56,556 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET pe_ratio=?, forward_pe=?, eps=? WHERE stocks.ticker = ?
2026-02-05 18:39:56,556 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] (92.68055, 19.015133, 2.16, 'AMD')
2026-02-05 18:39:56,557 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET last_updated=? WHERE market_data_cache.ticker = ?
2026-02-05 18:39:56,557 - sqlalchemy.engine.Engine - INFO - [generated in 0.00012s] ('2026-02-05 10:39:55.376874', 'AMD')
2026-02-05 18:39:56,557 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-05 18:39:56,559 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 18:39:56,561 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-05 18:39:56,561 - sqlalchemy.engine.Engine - INFO - [generated in 0.00014s] ('AMD',)
2026-02-05 18:39:56,562 - api_logger - INFO - rid=/api/portfolio/AMD/refresh method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1198.51ms
2026-02-05 18:39:56,563 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-05 18:39:56,574 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-05 18:39:56,574 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-05 18:39:56,575 - sqlalchemy.engine.Engine - INFO - [cached since 7792s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 18:39:56,576 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-05 18:39:56,576 - sqlalchemy.engine.Engine - INFO - [cached since 7792s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-05 18:39:56,578 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.74ms
2026-02-05 18:39:56,579 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:18:11,942 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:18:11,952 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.email = ?
2026-02-06 23:18:11,952 - sqlalchemy.engine.Engine - INFO - [generated in 0.00017s] ('test@qq.com',)
2026-02-06 23:18:12,169 - api_logger - INFO - rid=/api/auth/login method=POST status_code=200 user_id=anonymous time=236.81ms
2026-02-06 23:18:12,169 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:18:12,280 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:18:12,281 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:18:12,281 - sqlalchemy.engine.Engine - INFO - [generated in 0.00011s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:18:12,316 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-06 23:18:12,316 - sqlalchemy.engine.Engine - INFO - [generated in 0.00023s] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:18:12,318 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=40.08ms
2026-02-06 23:18:12,322 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:18:12,324 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:18:12,325 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:18:12,325 - sqlalchemy.engine.Engine - INFO - [cached since 0.04432s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:18:12,326 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-06 23:18:12,326 - sqlalchemy.engine.Engine - INFO - [cached since 0.01031s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:18:12,328 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.27ms
2026-02-06 23:18:12,329 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:18:12,347 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:18:12,347 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:18:12,347 - sqlalchemy.engine.Engine - INFO - [cached since 0.06638s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:18:12,348 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:18:12,348 - sqlalchemy.engine.Engine - INFO - [generated in 0.00009s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:18:12,350 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.77ms
2026-02-06 23:18:12,351 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:30:02,764 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:30:02,769 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:30:02,770 - sqlalchemy.engine.Engine - INFO - [cached since 710.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:30:02,771 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:30:02,772 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:30:02,772 - sqlalchemy.engine.Engine - INFO - [cached since 710.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:30:02,774 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:30:02,774 - sqlalchemy.engine.Engine - INFO - [cached since 710.4s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:30:02,775 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-06 23:30:02,775 - sqlalchemy.engine.Engine - INFO - [cached since 710.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:30:02,777 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=48.49ms
2026-02-06 23:30:02,778 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:30:02,779 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=53.36ms
2026-02-06 23:30:02,779 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:30:03,159 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:30:03,160 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:30:03,160 - sqlalchemy.engine.Engine - INFO - [cached since 710.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:30:03,160 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:30:03,161 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:30:03,161 - sqlalchemy.engine.Engine - INFO - [cached since 710.9s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:30:03,162 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:30:03,162 - sqlalchemy.engine.Engine - INFO - [cached since 710.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:30:03,165 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-06 23:30:03,165 - sqlalchemy.engine.Engine - INFO - [cached since 710.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:30:03,172 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=14.38ms
2026-02-06 23:30:03,173 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=15.40ms
2026-02-06 23:30:03,174 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:30:03,174 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:33:06,876 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:33:06,876 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:33:06,876 - sqlalchemy.engine.Engine - INFO - [cached since 894.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:33:06,876 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:33:06,876 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:33:06,876 - sqlalchemy.engine.Engine - INFO - [cached since 894.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:33:06,877 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:33:06,877 - sqlalchemy.engine.Engine - INFO - [cached since 894.5s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:33:06,877 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-06 23:33:06,877 - sqlalchemy.engine.Engine - INFO - [cached since 894.6s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:33:06,878 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=3.66ms
2026-02-06 23:33:06,878 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:33:06,880 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=4.90ms
2026-02-06 23:33:06,880 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:33:29,336 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:33:29,338 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:33:29,338 - sqlalchemy.engine.Engine - INFO - [cached since 917.1s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:33:29,343 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-06 23:33:29,343 - sqlalchemy.engine.Engine - INFO - [generated in 0.00038s] ('AAPL',)
2026-02-06 23:33:31,113 - sqlalchemy.engine.Engine - INFO - SELECT stocks.ticker, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM stocks 
WHERE stocks.ticker = ?
2026-02-06 23:33:31,114 - sqlalchemy.engine.Engine - INFO - [generated in 0.00052s] ('AAPL',)
2026-02-06 23:33:31,120 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:33:31,120 - sqlalchemy.engine.Engine - INFO - [no key 0.00058s] ('5ec0fd74-7ce3-3034-88f7-8f03cfc8c237', 'AAPL', "What Alphabet's earnings reveal about the decline in software stocks", 'Yahoo Finance Video', 'https://finance.yahoo.com/video/alphabets-earnings-reveal-decline-software-183000814.html', '2026-02-05 18:30:00.000000', None)
2026-02-06 23:33:31,125 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:33:31,125 - sqlalchemy.engine.Engine - INFO - [no key 0.00012s] ('9aa7b4cd-fd6f-478b-95e6-eb4cafcb8db9', 'AAPL', 'Alphabet stock sinks after Google parent announces $180 billion spending plan for 2026 in massive AI bet', 'Yahoo Finance', 'https://finance.yahoo.com/news/alphabet-stock-sinks-after-google-parent-announces-180-billion-spending-plan-for-2026-in-massive-ai-bet-155410864.html', '2026-02-05 15:54:10.000000', None)
2026-02-06 23:33:31,126 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:33:31,126 - sqlalchemy.engine.Engine - INFO - [no key 0.00021s] ('42f565e8-04f4-3a0a-b0d5-b463e7a32a07', 'AAPL', 'AI trade splinters as investors get more selective', 'Reuters', 'https://finance.yahoo.com/news/ai-trade-splinters-investors-more-150101291.html', '2026-02-06 15:01:01.000000', None)
2026-02-06 23:33:31,127 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:33:31,127 - sqlalchemy.engine.Engine - INFO - [no key 0.00011s] ('d08818e0-ccf3-3fae-b2f2-fe6849158e1a', 'AAPL', 'Is crypto still cypherpunk? With Miden co-founder Azeem Khan', 'The Block', 'https://finance.yahoo.com/news/crypto-still-cypherpunk-miden-co-130151835.html', '2026-02-06 13:01:51.000000', None)
2026-02-06 23:33:31,127 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:33:31,127 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('befd5246-56aa-3075-a630-78f0bb1bab69', 'AAPL', 'Despite The Ho-Hum Dividend, SCHG Beat the S&P 500 by An Impressive 15%', '24/7 Wall St.', 'https://finance.yahoo.com/news/despite-ho-hum-dividend-schg-123037857.html', '2026-02-06 12:30:37.000000', None)
2026-02-06 23:33:31,128 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:33:31,128 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('1c5ef38e-272c-316a-ae6f-88c650c9141e', 'AAPL', 'Apple Just Had The Biggest Quarter In iPhone History', 'Benzinga', 'https://finance.yahoo.com/news/apple-just-had-biggest-quarter-120109544.html', '2026-02-06 12:01:09.000000', None)
2026-02-06 23:33:31,128 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:33:31,128 - sqlalchemy.engine.Engine - INFO - [no key 0.00004s] ('a6479cfc-5e40-352b-acdc-14616c9f119a', 'AAPL', 'Zacks Investment Ideas feature highlights: Alphabet, Nvidia and Apple', 'Zacks', 'https://finance.yahoo.com/news/zacks-investment-ideas-feature-highlights-114600888.html', '2026-02-06 11:46:00.000000', None)
2026-02-06 23:33:31,128 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:33:31,128 - sqlalchemy.engine.Engine - INFO - [no key 0.00007s] ('52c220f4-0742-3f6b-b999-24925f3d771c', 'AAPL', 'Magnificent Seven Sink -- Nearly $3 Trillion in Market Value Vanishes', 'GuruFocus.com', 'https://finance.yahoo.com/news/magnificent-seven-sink-nearly-3-114037275.html', '2026-02-06 11:40:37.000000', None)
2026-02-06 23:33:31,129 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:33:31,129 - sqlalchemy.engine.Engine - INFO - [no key 0.00008s] ('8af2f72a-e998-324d-8410-89a503677f2a', 'AAPL', 'Apple Scales Back AI Health Coach Plans', 'GuruFocus.com', 'https://finance.yahoo.com/news/apple-scales-back-ai-health-113406335.html', '2026-02-06 11:34:06.000000', None)
2026-02-06 23:33:31,129 - sqlalchemy.engine.Engine - INFO - INSERT INTO stock_news (id, ticker, title, publisher, link, publish_time, summary) VALUES (?, ?, ?, ?, ?, ?, ?) ON CONFLICT DO NOTHING
2026-02-06 23:33:31,129 - sqlalchemy.engine.Engine - INFO - [no key 0.00005s] ('7a418b82-e9d3-3ce0-b6f8-af2b38f5e4d0', 'AAPL', 'Pricier iPhones? Global memory chip crunch puts spotlight on Apple', 'Reuters', 'https://finance.yahoo.com/news/pricier-iphones-global-memory-chip-112922022.html', '2026-02-06 11:29:22.000000', None)
2026-02-06 23:33:31,130 - sqlalchemy.engine.Engine - INFO - UPDATE stocks SET market_cap=?, pe_ratio=?, forward_pe=?, eps=?, dividend_yield=? WHERE stocks.ticker = ?
2026-02-06 23:33:31,130 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] (4109319536640.0, 35.43536, 30.13263, 7.89, 0.38, 'AAPL')
2026-02-06 23:33:31,131 - sqlalchemy.engine.Engine - INFO - UPDATE market_data_cache SET current_price=?, change_percent=?, rsi_14=?, ma_20=?, ma_50=?, ma_200=?, macd_val=?, macd_signal=?, macd_hist=?, bb_upper=?, bb_middle=?, bb_lower=?, atr_14=?, k_line=?, d_line=?, j_line=?, volume_ma_20=?, volume_ratio=?, last_updated=? WHERE market_data_cache.ticker = ?
2026-02-06 23:33:31,131 - sqlalchemy.engine.Engine - INFO - [generated in 0.00016s] (279.57, 1.3319516, 74.91706867632419, 260.2205093383789, 268.73040283203125, 238.3210247039795, 2.3214936513231805, -1.0778249763493553, 3.399318627672536, 279.5158011567397, 260.2205093383789, 240.9252175200181, 6.944644383021763, 90.00439732642619, 83.49411923318083, 103.02495351291688, 55104392.3, 0.27341642600784116, '2026-02-06 15:33:29.344388', 'AAPL')
2026-02-06 23:33:31,132 - sqlalchemy.engine.Engine - INFO - COMMIT
2026-02-06 23:33:31,133 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:33:31,133 - sqlalchemy.engine.Engine - INFO - SELECT market_data_cache.ticker, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated 
FROM market_data_cache 
WHERE market_data_cache.ticker = ?
2026-02-06 23:33:31,133 - sqlalchemy.engine.Engine - INFO - [generated in 0.00007s] ('AAPL',)
2026-02-06 23:33:31,134 - sqlalchemy.engine.Engine - INFO - SELECT stock_news.id, stock_news.ticker, stock_news.title, stock_news.publisher, stock_news.link, stock_news.publish_time, stock_news.summary, stock_news.sentiment 
FROM stock_news 
WHERE stock_news.ticker = ? ORDER BY stock_news.publish_time DESC
 LIMIT ? OFFSET ?
2026-02-06 23:33:31,134 - sqlalchemy.engine.Engine - INFO - [generated in 0.00005s] ('AAPL', 5, 0)
2026-02-06 23:33:31,135 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at 
FROM portfolios 
WHERE portfolios.user_id = ? AND portfolios.ticker = ?
2026-02-06 23:33:31,135 - sqlalchemy.engine.Engine - INFO - [generated in 0.00005s] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL')
2026-02-06 23:33:31,135 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:33:31,136 - sqlalchemy.engine.Engine - INFO - [cached since 918.8s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:33:31,136 - app.api.v1.endpoints.analysis - INFO - Returning latest report for AAPL (model: qwen-3-vl-thinking)
2026-02-06 23:33:31,136 - api_logger - INFO - rid=/api/analysis/AAPL method=POST status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=1803.40ms
2026-02-06 23:33:31,136 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:41:26,670 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:41:26,671 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:41:26,671 - sqlalchemy.engine.Engine - INFO - [cached since 1394s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:41:26,672 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:41:26,672 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:41:26,672 - sqlalchemy.engine.Engine - INFO - [cached since 1394s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:41:26,674 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.11ms
2026-02-06 23:41:26,676 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:41:26,676 - sqlalchemy.engine.Engine - INFO - [cached since 1394s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:41:26,677 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-06 23:41:26,677 - sqlalchemy.engine.Engine - INFO - [cached since 1394s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:41:26,677 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.96ms
2026-02-06 23:41:26,678 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:41:26,681 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=20.52ms
2026-02-06 23:41:26,682 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:43:25,571 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:43:25,571 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:43:25,571 - sqlalchemy.engine.Engine - INFO - [cached since 1513s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:43:25,571 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:43:25,572 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:43:25,572 - sqlalchemy.engine.Engine - INFO - [cached since 1513s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:43:25,572 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=2.42ms
2026-02-06 23:43:25,574 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:43:25,574 - sqlalchemy.engine.Engine - INFO - [cached since 1513s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:43:25,575 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-06 23:43:25,575 - sqlalchemy.engine.Engine - INFO - [cached since 1513s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:43:25,576 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=7.86ms
2026-02-06 23:43:25,580 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:43:25,582 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=12.52ms
2026-02-06 23:43:25,585 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:43:26,001 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:43:26,001 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:43:26,001 - sqlalchemy.engine.Engine - INFO - [cached since 1514s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:43:26,001 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2026-02-06 23:43:26,002 - sqlalchemy.engine.Engine - INFO - SELECT users.id, users.email, users.hashed_password, users.is_active, users.membership_tier, users.api_key_gemini, users.api_key_deepseek, users.api_key_siliconflow, users.preferred_data_source, users.preferred_ai_model, users.created_at, users.last_login 
FROM users 
WHERE users.id = ?
2026-02-06 23:43:26,002 - sqlalchemy.engine.Engine - INFO - [cached since 1514s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:43:26,002 - api_logger - INFO - rid=/api/portfolio/AAPL/news method=GET status_code=404 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=0.20ms
2026-02-06 23:43:26,003 - sqlalchemy.engine.Engine - INFO - SELECT analysis_reports.id, analysis_reports.user_id, analysis_reports.ticker, analysis_reports.input_context_snapshot, analysis_reports.ai_response_markdown, analysis_reports.sentiment_score, analysis_reports.model_used, analysis_reports.created_at 
FROM analysis_reports 
WHERE analysis_reports.user_id = ? AND analysis_reports.ticker = ? AND analysis_reports.model_used = ? ORDER BY analysis_reports.created_at DESC
 LIMIT ? OFFSET ?
2026-02-06 23:43:26,003 - sqlalchemy.engine.Engine - INFO - [cached since 1514s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a', 'AAPL', 'qwen-3-vl-thinking', 1, 0)
2026-02-06 23:43:26,004 - sqlalchemy.engine.Engine - INFO - SELECT portfolios.id, portfolios.user_id, portfolios.ticker, portfolios.quantity, portfolios.avg_cost, portfolios.target_price, portfolios.stop_loss_price, portfolios.created_at, portfolios.updated_at, market_data_cache.ticker AS ticker_1, market_data_cache.current_price, market_data_cache.change_percent, market_data_cache.rsi_14, market_data_cache.ma_20, market_data_cache.ma_50, market_data_cache.ma_200, market_data_cache.macd_val, market_data_cache.macd_signal, market_data_cache.macd_hist, market_data_cache.bb_upper, market_data_cache.bb_middle, market_data_cache.bb_lower, market_data_cache.atr_14, market_data_cache.k_line, market_data_cache.d_line, market_data_cache.j_line, market_data_cache.volume_ma_20, market_data_cache.volume_ratio, market_data_cache.market_status, market_data_cache.last_updated, stocks.ticker AS ticker_2, stocks.name, stocks.sector, stocks.industry, stocks.market_cap, stocks.pe_ratio, stocks.forward_pe, stocks.eps, stocks.dividend_yield, stocks.beta, stocks.fifty_two_week_high, stocks.fifty_two_week_low, stocks.exchange, stocks.currency 
FROM portfolios LEFT OUTER JOIN market_data_cache ON portfolios.ticker = market_data_cache.ticker LEFT OUTER JOIN stocks ON portfolios.ticker = stocks.ticker 
WHERE portfolios.user_id = ?
2026-02-06 23:43:26,004 - sqlalchemy.engine.Engine - INFO - [cached since 1514s ago] ('9fe069c3-5985-4d2a-8814-91898152fc4a',)
2026-02-06 23:43:26,005 - api_logger - INFO - rid=/api/analysis/AAPL method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=5.02ms
2026-02-06 23:43:26,006 - api_logger - INFO - rid=/api/portfolio/ method=GET status_code=200 user_id=9fe069c3-5985-4d2a-8814-91898152fc4a time=6.09ms
2026-02-06 23:43:26,006 - sqlalchemy.engine.Engine - INFO - ROLLBACK
2026-02-06 23:43:26,007 - sqlalchemy.engine.Engine - INFO - ROLLBACK
